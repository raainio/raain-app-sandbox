"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9946],{9946:(I,p,c)=>{c.r(p),c.d(p,{EventsPageModule:()=>w});var l=c(6895),h=c(433),r=c(4556),g=c(1407),d=c(5861),e=c(8256),Z=c(6568);let m=(()=>{const n=class{transform(o){return o.filter(a=>a.red)}};let i=n;return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"haveBeenRed",type:n,pure:!1}),i})(),v=(()=>{const n=class{transform(o){return o.filter(a=>!a.red)}};let i=n;return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"haveNotBeenRed",type:n,pure:!1}),i})();function A(i,n){if(1&i){const s=e.EpF();e.TgZ(0,"ion-card",5)(1,"ion-card-header")(2,"ion-card-title"),e._uU(3,"You are in a demo mode."),e.qZA()(),e.TgZ(4,"ion-card-content"),e._uU(5," Please contact our "),e.TgZ(6,"a",6),e._uU(7,"sales team @radartorain"),e.qZA(),e._uU(8," to go further. "),e.qZA(),e.TgZ(9,"ion-button",7),e.NdJ("click",function(){e.CHM(s);const t=e.oxw();return e.KtG(t.closeInfo("welcome-card"))}),e._uU(10,"Got it"),e.qZA()()}}function y(i,n){if(1&i){const s=e.EpF();e.TgZ(0,"ion-card",10),e.NdJ("click",function(){const a=e.CHM(s).$implicit,f=e.oxw(2);return e.KtG(f.clickOnEvent(a))}),e.TgZ(1,"ion-item"),e._UZ(2,"ion-icon",11),e.qZA(),e.TgZ(3,"ion-card-header")(4,"ion-card-title"),e._uU(5),e.qZA(),e.TgZ(6,"ion-card-subtitle"),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.TgZ(9,"ion-card-content"),e._uU(10),e.qZA()()}if(2&i){const s=n.$implicit;e.xp6(5),e.Oqu(s.title),e.xp6(2),e.Oqu(e.lcZ(8,3,s.created)),e.xp6(3),e.Oqu(s.description)}}function T(i,n){if(1&i&&(e.TgZ(0,"ion-card",12)(1,"ion-item"),e._UZ(2,"ion-icon",13),e.qZA(),e.TgZ(3,"ion-card-header")(4,"ion-card-title"),e._uU(5),e.qZA(),e.TgZ(6,"ion-card-subtitle"),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.TgZ(9,"ion-card-content"),e._uU(10),e.qZA(),e.TgZ(11,"ion-item",14)(12,"ion-button",15),e._uU(13,"Submit your feedback."),e.qZA()()()),2&i){const s=n.$implicit;e.xp6(5),e.Oqu(s.title),e.xp6(2),e.Oqu(e.lcZ(8,3,s.created)),e.xp6(3),e.Oqu(s.description)}}function _(i,n){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,y,11,5,"ion-card",8),e.ALo(2,"haveNotBeenRed"),e.YNc(3,T,14,5,"ion-card",9),e.ALo(4,"haveBeenRed"),e.qZA()),2&i){const s=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,2,s.notifications)),e.xp6(2),e.Q6J("ngForOf",e.lcZ(4,4,s.notifications))}}let x=(()=>{const n=class{constructor(o){this.profile=o,this.eventInfoAlreadyViewed={}}ngOnInit(){var o=this;return(0,d.Z)(function*(){yield o.refresh()})()}clickOnEvent(o){var t=this;return(0,d.Z)(function*(){o.red=!0,yield t.profile.storeAll()})()}closeInfo(o){var t=this;return(0,d.Z)(function*(){t.eventInfoAlreadyViewed[o]=!0,t.sessionData&&t.sessionData.infos&&(t.sessionData.infos.eventInfoAlreadyViewed=t.eventInfoAlreadyViewed,yield t.profile.storeAll())})()}refresh(o){var t=this;return(0,d.Z)(function*(){try{t.sessionData=yield t.profile.refreshProfile(),t.sessionData.infos.eventInfoAlreadyViewed&&(t.eventInfoAlreadyViewed=t.sessionData.infos.eventInfoAlreadyViewed);const a=yield t.profile.getRains(t.profile.asTeamId);t.notifications=[];for(const f of a){const u=yield t.profile.getNotifications(f.getId());t.notifications=t.notifications.concat(u)}}catch(a){console.error("refresh pb:",a)}o&&o.target.complete()})()}};let i=n;return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.H))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-events"]],decls:12,vars:2,consts:[["slot","start"],["src","assets/icon/favicon.ico",2,"height","30px","padding-left","20px"],["slot","fixed",3,"ionRefresh"],["class","welcome-card",4,"ngIf"],[4,"ngIf"],[1,"welcome-card"],["href","mailto:sales@r2r"],["fill","outline",3,"click"],[3,"click",4,"ngFor","ngForOf"],["color","gray",4,"ngFor","ngForOf"],[3,"click"],["name","radio-button-off","slot","end"],["color","gray"],["color","success","name","checkmark-circle-outline","slot","end"],["disabled","true"],["disabled","true","slot","end"]],template:function(t,a){1&t&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),e._UZ(3,"ion-menu-button")(4,"ion-img",1),e.qZA(),e.TgZ(5,"ion-title"),e._uU(6," Events "),e.qZA()()(),e.TgZ(7,"ion-content")(8,"ion-refresher",2),e.NdJ("ionRefresh",function(u){return a.refresh(u)}),e._UZ(9,"ion-refresher-content"),e.qZA(),e.YNc(10,A,11,0,"ion-card",3),e.YNc(11,_,5,6,"div",4),e.qZA()),2&t&&(e.xp6(10),e.Q6J("ngIf",!a.eventInfoAlreadyViewed.hasOwnProperty("welcome-card")),e.xp6(1),e.Q6J("ngIf",a.notifications))},dependencies:[l.sg,l.O5,r.YG,r.Sm,r.PM,r.FN,r.Zi,r.tO,r.Dq,r.W2,r.Gu,r.gu,r.Xz,r.Ie,r.fG,r.nJ,r.Wo,r.wd,r.sr,l.uU,m,v],styles:[".truncate[_ngcontent-%COMP%]{width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),i})(),w=(()=>{const n=class{};let i=n;return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,h.u5,r.Pc,g.Bz.forChild([{path:"",component:x}])]}),i})()}}]);