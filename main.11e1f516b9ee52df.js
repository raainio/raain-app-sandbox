(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{7423:(Ct,H,A)=>{"use strict";A.d(H,{Uw:()=>se,fo:()=>de});var r=A(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var G=(()=>{return(ze=G||(G={})).Unimplemented="UNIMPLEMENTED",ze.Unavailable="UNAVAILABLE",G;var ze})();class J extends Error{constructor(Ke,ge,pe){super(Ke),this.message=Ke,this.code=ge,this.data=pe}}const oe=ze=>{var Ke,ge,pe,Se,Te;const Re=ze.CapacitorCustomPlatform||null,De=ze.Capacitor||{},Ve=De.Plugins=De.Plugins||{},Ce=ze.CapacitorPlatforms,Me=(null===(Ke=Ce?.currentPlatform)||void 0===Ke?void 0:Ke.getPlatform)||(()=>null!==Re?Re.name:(ze=>{var Ke,ge;return ze?.androidBridge?"android":null!==(ge=null===(Ke=ze?.webkit)||void 0===Ke?void 0:Ke.messageHandlers)&&void 0!==ge&&ge.bridge?"ios":"web"})(ze)),mt=(null===(ge=Ce?.currentPlatform)||void 0===ge?void 0:ge.isNativePlatform)||(()=>"web"!==Me()),Mt=(null===(pe=Ce?.currentPlatform)||void 0===pe?void 0:pe.isPluginAvailable)||(mn=>!(!at.get(mn)?.platforms.has(Me())&&!En(mn))),En=(null===(Se=Ce?.currentPlatform)||void 0===Se?void 0:Se.getPluginHeader)||(mn=>{var Cn;return null===(Cn=De.PluginHeaders)||void 0===Cn?void 0:Cn.find(_n=>_n.name===mn)}),at=new Map,Wt=(null===(Te=Ce?.currentPlatform)||void 0===Te?void 0:Te.registerPlugin)||((mn,Cn={})=>{const _n=at.get(mn);if(_n)return console.warn(`Capacitor plugin "${mn}" already registered. Cannot register plugins twice.`),_n.proxy;const ui=Me(),wi=En(mn);let Oi;const er=function(){var Tt=(0,r.Z)(function*(){return!Oi&&ui in Cn?Oi=Oi="function"==typeof Cn[ui]?yield Cn[ui]():Cn[ui]:null!==Re&&!Oi&&"web"in Cn&&(Oi=Oi="function"==typeof Cn.web?yield Cn.web():Cn.web),Oi});return function(){return Tt.apply(this,arguments)}}(),cr=Tt=>{let xt;const nt=(...ln)=>{const sn=er().then(At=>{const lt=((Tt,xt)=>{var nt,ln;if(!wi){if(Tt)return null===(ln=Tt[xt])||void 0===ln?void 0:ln.bind(Tt);throw new J(`"${mn}" plugin is not implemented on ${ui}`,G.Unimplemented)}{const sn=wi?.methods.find(At=>xt===At.name);if(sn)return"promise"===sn.rtype?At=>De.nativePromise(mn,xt.toString(),At):(At,lt)=>De.nativeCallback(mn,xt.toString(),At,lt);if(Tt)return null===(nt=Tt[xt])||void 0===nt?void 0:nt.bind(Tt)}})(At,Tt);if(lt){const Xn=lt(...ln);return xt=Xn?.remove,Xn}throw new J(`"${mn}.${Tt}()" is not implemented on ${ui}`,G.Unimplemented)});return"addListener"===Tt&&(sn.remove=(0,r.Z)(function*(){return xt()})),sn};return nt.toString=()=>`${Tt.toString()}() { [capacitor code] }`,Object.defineProperty(nt,"name",{value:Tt,writable:!1,configurable:!1}),nt},Mr=cr("addListener"),ir=cr("removeListener"),Sn=(Tt,xt)=>{const nt=Mr({eventName:Tt},xt),ln=function(){var At=(0,r.Z)(function*(){const lt=yield nt;ir({eventName:Tt,callbackId:lt},xt)});return function(){return At.apply(this,arguments)}}(),sn=new Promise(At=>nt.then(()=>At({remove:ln})));return sn.remove=(0,r.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield ln()}),sn},Bn=new Proxy({},{get(Tt,xt){switch(xt){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return wi?Sn:Mr;case"removeListener":return ir;default:return cr(xt)}}});return Ve[mn]=Bn,at.set(mn,{name:mn,proxy:Bn,platforms:new Set([...Object.keys(Cn),...wi?[ui]:[]])}),Bn});return De.convertFileSrc||(De.convertFileSrc=mn=>mn),De.getPlatform=Me,De.handleError=mn=>ze.console.error(mn),De.isNativePlatform=mt,De.isPluginAvailable=Mt,De.pluginMethodNoop=(mn,Cn,_n)=>Promise.reject(`${_n} does not have an implementation of "${Cn}".`),De.registerPlugin=Wt,De.Exception=J,De.DEBUG=!!De.DEBUG,De.isLoggingEnabled=!!De.isLoggingEnabled,De.platform=De.getPlatform(),De.isNative=De.isNativePlatform(),De},le=(ze=>ze.Capacitor=oe(ze))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),de=le.registerPlugin;class se{constructor(Ke){this.listeners={},this.windowListeners={},Ke&&(console.warn(`Capacitor WebPlugin "${Ke.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Ke)}addListener(Ke,ge){var pe=this;this.listeners[Ke]||(this.listeners[Ke]=[]),this.listeners[Ke].push(ge);const Te=this.windowListeners[Ke];Te&&!Te.registered&&this.addWindowListener(Te);const Re=function(){var Ve=(0,r.Z)(function*(){return pe.removeListener(Ke,ge)});return function(){return Ve.apply(this,arguments)}}(),De=Promise.resolve({remove:Re});return Object.defineProperty(De,"remove",{value:(Ve=(0,r.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield Re()}),function(){return Ve.apply(this,arguments)})}),De;var Ve}removeAllListeners(){var Ke=this;return(0,r.Z)(function*(){Ke.listeners={};for(const ge in Ke.windowListeners)Ke.removeWindowListener(Ke.windowListeners[ge]);Ke.windowListeners={}})()}notifyListeners(Ke,ge){const pe=this.listeners[Ke];pe&&pe.forEach(Se=>Se(ge))}hasListeners(Ke){return!!this.listeners[Ke].length}registerWindowListener(Ke,ge){this.windowListeners[ge]={registered:!1,windowEventName:Ke,pluginEventName:ge,handler:pe=>{this.notifyListeners(ge,pe)}}}unimplemented(Ke="not implemented"){return new le.Exception(Ke,G.Unimplemented)}unavailable(Ke="not available"){return new le.Exception(Ke,G.Unavailable)}removeListener(Ke,ge){var pe=this;return(0,r.Z)(function*(){const Se=pe.listeners[Ke];if(!Se)return;const Te=Se.indexOf(ge);pe.listeners[Ke].splice(Te,1),pe.listeners[Ke].length||pe.removeWindowListener(pe.windowListeners[Ke])})()}addWindowListener(Ke){window.addEventListener(Ke.windowEventName,Ke.handler),Ke.registered=!0}removeWindowListener(Ke){Ke&&(window.removeEventListener(Ke.windowEventName,Ke.handler),Ke.registered=!1)}}const Ie=ze=>encodeURIComponent(ze).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Be=ze=>ze.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class tt extends se{getCookies(){return(0,r.Z)(function*(){const Ke=document.cookie,ge={};return Ke.split(";").forEach(pe=>{if(pe.length<=0)return;let[Se,Te]=pe.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");Se=Be(Se).trim(),Te=Be(Te).trim(),ge[Se]=Te}),ge})()}setCookie(Ke){return(0,r.Z)(function*(){try{const ge=Ie(Ke.key),pe=Ie(Ke.value),Se=`; expires=${(Ke.expires||"").replace("expires=","")}`,Te=(Ke.path||"/").replace("path=",""),Re=null!=Ke.url&&Ke.url.length>0?`domain=${Ke.url}`:"";document.cookie=`${ge}=${pe||""}${Se}; path=${Te}; ${Re};`}catch(ge){return Promise.reject(ge)}})()}deleteCookie(Ke){return(0,r.Z)(function*(){try{document.cookie=`${Ke.key}=; Max-Age=0`}catch(ge){return Promise.reject(ge)}})()}clearCookies(){return(0,r.Z)(function*(){try{const Ke=document.cookie.split(";")||[];for(const ge of Ke)document.cookie=ge.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Ke){return Promise.reject(Ke)}})()}clearAllCookies(){var Ke=this;return(0,r.Z)(function*(){try{yield Ke.clearCookies()}catch(ge){return Promise.reject(ge)}})()}}de("CapacitorCookies",{web:()=>new tt});const vt=function(){var ze=(0,r.Z)(function*(Ke){return new Promise((ge,pe)=>{const Se=new FileReader;Se.onload=()=>{const Te=Se.result;ge(Te.indexOf(",")>=0?Te.split(",")[1]:Te)},Se.onerror=Te=>pe(Te),Se.readAsDataURL(Ke)})});return function(ge){return ze.apply(this,arguments)}}();class rt extends se{request(Ke){return(0,r.Z)(function*(){const ge=((ze,Ke={})=>{const ge=Object.assign({method:ze.method||"GET",headers:ze.headers},Ke),Se=((ze={})=>{const Ke=Object.keys(ze);return Object.keys(ze).map(Se=>Se.toLocaleLowerCase()).reduce((Se,Te,Re)=>(Se[Te]=ze[Ke[Re]],Se),{})})(ze.headers)["content-type"]||"";if("string"==typeof ze.data)ge.body=ze.data;else if(Se.includes("application/x-www-form-urlencoded")){const Te=new URLSearchParams;for(const[Re,De]of Object.entries(ze.data||{}))Te.set(Re,De);ge.body=Te.toString()}else if(Se.includes("multipart/form-data")){const Te=new FormData;if(ze.data instanceof FormData)ze.data.forEach((De,Ve)=>{Te.append(Ve,De)});else for(const De of Object.keys(ze.data))Te.append(De,ze.data[De]);ge.body=Te;const Re=new Headers(ge.headers);Re.delete("content-type"),ge.headers=Re}else(Se.includes("application/json")||"object"==typeof ze.data)&&(ge.body=JSON.stringify(ze.data));return ge})(Ke,Ke.webFetchExtra),pe=((ze,Ke=!0)=>ze?Object.entries(ze).reduce((pe,Se)=>{const[Te,Re]=Se;let De,Ve;return Array.isArray(Re)?(Ve="",Re.forEach(Ce=>{De=Ke?encodeURIComponent(Ce):Ce,Ve+=`${Te}=${De}&`}),Ve.slice(0,-1)):(De=Ke?encodeURIComponent(Re):Re,Ve=`${Te}=${De}`),`${pe}&${Ve}`},"").substr(1):null)(Ke.params,Ke.shouldEncodeUrlParams),Se=pe?`${Ke.url}?${pe}`:Ke.url,Te=yield fetch(Se,ge),Re=Te.headers.get("content-type")||"";let Ve,Ce,{responseType:De="text"}=Te.ok?Ke:{};switch(Re.includes("application/json")&&(De="json"),De){case"arraybuffer":case"blob":Ce=yield Te.blob(),Ve=yield vt(Ce);break;case"json":Ve=yield Te.json();break;default:Ve=yield Te.text()}const Ue={};return Te.headers.forEach((Me,Fe)=>{Ue[Fe]=Me}),{data:Ve,headers:Ue,status:Te.status,url:Te.url}})()}get(Ke){var ge=this;return(0,r.Z)(function*(){return ge.request(Object.assign(Object.assign({},Ke),{method:"GET"}))})()}post(Ke){var ge=this;return(0,r.Z)(function*(){return ge.request(Object.assign(Object.assign({},Ke),{method:"POST"}))})()}put(Ke){var ge=this;return(0,r.Z)(function*(){return ge.request(Object.assign(Object.assign({},Ke),{method:"PUT"}))})()}patch(Ke){var ge=this;return(0,r.Z)(function*(){return ge.request(Object.assign(Object.assign({},Ke),{method:"PATCH"}))})()}delete(Ke){var ge=this;return(0,r.Z)(function*(){return ge.request(Object.assign(Object.assign({},Ke),{method:"DELETE"}))})()}}de("CapacitorHttp",{web:()=>new rt})},4556:(Ct,H,A)=>{"use strict";A.d(H,{w:()=>ir,dr:()=>Di,yp:()=>Zt,YG:()=>vn,Sm:()=>yn,PM:()=>Vt,FN:()=>ai,Zi:()=>si,tO:()=>Jn,Dq:()=>Xi,wI:()=>Ut,W2:()=>ft,IJ:()=>kn,W4:()=>Yn,jY:()=>rr,Gu:()=>Hi,gu:()=>Zi,Xz:()=>Rr,pK:()=>Do,Ie:()=>hr,u8:()=>wr,IK:()=>lo,td:()=>no,Q$:()=>Gr,q_:()=>uo,z0:()=>Bi,fG:()=>_i,zc:()=>di,ki:()=>Ko,X7:()=>Ye,I_:()=>Lt,nJ:()=>Qt,Wo:()=>ot,jP:()=>Yr,Nd:()=>an,t9:()=>$i,n0:()=>Ir,jI:()=>Kr,wd:()=>He,ho:()=>st,sr:()=>wt,Pc:()=>N,r4:()=>Zn,IN:()=>Ft,X1:()=>$t,t4:()=>yo,YI:()=>Bo,QI:()=>Tt,j9:()=>xt});var r=A(8256),F=A(433),q=A(7582),$=A(8421),Q=A(9751),Y=A(5577),Z=A(1144),G=A(576),J=A(3268);const ue=["addListener","removeListener"],oe=["addEventListener","removeEventListener"],ce=["on","off"];function le(h,T,_,V){if((0,G.m)(_)&&(V=_,_=void 0),V)return le(h,T,_).pipe((0,J.Z)(V));const[ee,Xe]=function se(h){return(0,G.m)(h.addEventListener)&&(0,G.m)(h.removeEventListener)}(h)?oe.map(Rt=>Bt=>h[Rt](T,Bt,_)):function ke(h){return(0,G.m)(h.addListener)&&(0,G.m)(h.removeListener)}(h)?ue.map(de(h,T)):function xe(h){return(0,G.m)(h.on)&&(0,G.m)(h.off)}(h)?ce.map(de(h,T)):[];if(!ee&&(0,Z.z)(h))return(0,Y.z)(Rt=>le(Rt,T,_))((0,$.Xf)(h));if(!ee)throw new TypeError("Invalid event target");return new Q.y(Rt=>{const Bt=(...Jt)=>Rt.next(1<Jt.length?Jt:Jt[0]);return ee(Bt),()=>Xe(Bt)})}function de(h,T){return _=>V=>h[_](T,V)}var _e=A(7579),Ie=A(1135),Be=A(1407),Ge=(A(181),A(6439),A(7838),A(1898),A(5179)),Ze=A(5730),rt=A(5820),ct=A(1843),Ke=(A(6369),A(3539)),Se=(A(2621),A(4349),A(1308)),Ve=A(9300),Ce=A(3900),Ue=A(4671),Me=A(4482),Fe=A(5403);function _t(h,T){return h===T}var Mt=A(6895);const En=Ge.i,at=["*"];function Cn(h,T){if(1&h&&(r.TgZ(0,"div",1),r.GkF(1,2),r.qZA()),2&h){const _=r.oxw();r.xp6(1),r.Q6J("ngTemplateOutlet",_.template)}}const ui=h=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(h):"function"==typeof requestAnimationFrame?requestAnimationFrame(h):setTimeout(h),wi=h=>!!h.resolveComponentFactory;let Oi=(()=>{class h{constructor(_,V){this.injector=_,this.el=V,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(_){this.el.nativeElement.value=this.lastValue=_??"",er(this.el)}handleChangeEvent(_,V){_===this.el.nativeElement&&(V!==this.lastValue&&(this.lastValue=V,this.onChange(V)),er(this.el))}_handleBlurEvent(_){_===this.el.nativeElement&&(this.onTouched(),er(this.el))}registerOnChange(_){this.onChange=_}registerOnTouched(_){this.onTouched=_}setDisabledState(_){this.el.nativeElement.disabled=_}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let _;try{_=this.injector.get(F.a5)}catch{}if(!_)return;_.statusChanges&&(this.statusChanges=_.statusChanges.subscribe(()=>er(this.el)));const V=_.control;V&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Xe=>{if(typeof V[Xe]<"u"){const Rt=V[Xe].bind(V);V[Xe]=(...Bt)=>{Rt(...Bt),er(this.el)}}})}}return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.zs3),r.Y36(r.SBq))},h.\u0275dir=r.lG2({type:h,hostBindings:function(_,V){1&_&&r.NdJ("ionBlur",function(Xe){return V._handleBlurEvent(Xe.target)})}}),h})();const er=h=>{ui(()=>{const T=h.nativeElement,_=null!=T.value&&T.value.toString().length>0,V=br(T);cr(T,V);const ee=T.closest("ion-item");ee&&cr(ee,_?[...V,"item-has-value"]:V)})},br=h=>{const T=h.classList,_=[];for(let V=0;V<T.length;V++){const ee=T.item(V);null!==ee&&Mr(ee,"ng-")&&_.push(`ion-${ee.substring(3)}`)}return _},cr=(h,T)=>{const _=h.classList;_.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),_.add(...T)},Mr=(h,T)=>h.substring(0,T.length)===T;let ir=(()=>{class h extends Oi{constructor(_,V){super(_,V)}writeValue(_){this.el.nativeElement.checked=this.lastValue=_??!1,er(this.el)}_handleIonChange(_){this.handleChangeEvent(_,_.checked)}}return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.zs3),r.Y36(r.SBq))},h.\u0275dir=r.lG2({type:h,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(_,V){1&_&&r.NdJ("ionChange",function(Xe){return V._handleIonChange(Xe.target)})},features:[r._Bn([{provide:F.JU,useExisting:h,multi:!0}]),r.qOj]}),h})(),Tt=(()=>{class h extends Oi{constructor(_,V){super(_,V)}_handleChangeEvent(_){this.handleChangeEvent(_,_.value)}}return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.zs3),r.Y36(r.SBq))},h.\u0275dir=r.lG2({type:h,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(_,V){1&_&&r.NdJ("ionChange",function(Xe){return V._handleChangeEvent(Xe.target)})},features:[r._Bn([{provide:F.JU,useExisting:h,multi:!0}]),r.qOj]}),h})(),xt=(()=>{class h extends Oi{constructor(_,V){super(_,V)}_handleInputEvent(_){this.handleChangeEvent(_,_.value)}}return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.zs3),r.Y36(r.SBq))},h.\u0275dir=r.lG2({type:h,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(_,V){1&_&&r.NdJ("ionChange",function(Xe){return V._handleInputEvent(Xe.target)})},features:[r._Bn([{provide:F.JU,useExisting:h,multi:!0}]),r.qOj]}),h})();const nt=(h,T)=>{const _=h.prototype;T.forEach(V=>{Object.defineProperty(_,V,{get(){return this.el[V]},set(ee){this.z.runOutsideAngular(()=>this.el[V]=ee)}})})},ln=(h,T)=>{const _=h.prototype;T.forEach(V=>{_[V]=function(){const ee=arguments;return this.z.runOutsideAngular(()=>this.el[V].apply(this.el,ee))}})},sn=(h,T,_)=>{_.forEach(V=>h[V]=le(T,V))};function lt(h){return function(_){const{defineCustomElementFn:V,inputs:ee,methods:Xe}=h;return void 0!==V&&V(),ee&&nt(_,ee),Xe&&ln(_,Xe),_}}let Di=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-app"]],ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0})],h),h})(),Zt=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["color","mode"]})],h),h})(),vn=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement,sn(this,this.el,["ionFocus","ionBlur"])}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],h),h})(),yn=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["collapse"]})],h),h})(),Vt=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],h),h})(),ai=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["mode"]})],h),h})(),si=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],h),h})(),Jn=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-card-subtitle"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["color","mode"]})],h),h})(),Xi=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["color","mode"]})],h),h})(),Ut=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],h),h})(),ft=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement,sn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],h),h})(),kn=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],h),h})(),Yn=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement,sn(this,this.el,["ionFocus","ionBlur"])}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],h),h})(),rr=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["fixed"]})],h),h})(),Hi=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],h),h})(),Zi=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],h),h})(),Rr=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement,sn(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["alt","src"]})],h),h})(),Do=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement,sn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],h),h})(),hr=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],h),h})(),wr=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],h),h})(),lo=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement,sn(this,this.el,["ionSwipe"])}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["side"]})],h),h})(),no=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement,sn(this,this.el,["ionDrag"])}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],h),h})(),Gr=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],h),h})(),uo=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],h),h})(),Bi=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement,sn(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],h),h})(),_i=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],h),h})(),di=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],h),h})(),Ye=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-progress-bar"]],inputs:{buffer:"buffer",color:"color",mode:"mode",reversed:"reversed",type:"type",value:"value"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["buffer","color","mode","reversed","type","value"]})],h),h})(),Lt=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement,sn(this,this.el,["ionChange","ionFocus","ionBlur","ionKnobMoveStart","ionKnobMoveEnd"])}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-range"]],inputs:{activeBarStart:"activeBarStart",color:"color",debounce:"debounce",disabled:"disabled",dualKnobs:"dualKnobs",max:"max",min:"min",mode:"mode",name:"name",pin:"pin",pinFormatter:"pinFormatter",snaps:"snaps",step:"step",ticks:"ticks",value:"value"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["activeBarStart","color","debounce","disabled","dualKnobs","max","min","mode","name","pin","pinFormatter","snaps","step","ticks","value"]})],h),h})(),Qt=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement,sn(this,this.el,["ionRefresh","ionPull","ionStart"])}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-refresher"]],inputs:{closeDuration:"closeDuration",disabled:"disabled",pullFactor:"pullFactor",pullMax:"pullMax",pullMin:"pullMin",snapbackDuration:"snapbackDuration"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["closeDuration","disabled","pullFactor","pullMax","pullMin","snapbackDuration"],methods:["complete","cancel","getProgress"]})],h),h})(),ot=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-refresher-content"]],inputs:{pullingIcon:"pullingIcon",pullingText:"pullingText",refreshingSpinner:"refreshingSpinner",refreshingText:"refreshingText"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["pullingIcon","pullingText","refreshingSpinner","refreshingText"]})],h),h})(),an=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-row"]],ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0})],h),h})(),$i=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement,sn(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],h),h})(),Ir=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],h),h})(),Kr=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement,sn(this,this.el,["ionSplitPaneVisible"])}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["contentId","disabled","when"]})],h),h})(),He=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["color","size"]})],h),h})(),st=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement,sn(this,this.el,["ionChange","ionFocus","ionBlur"])}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",enableOnOffLabels:"enableOnOffLabels",mode:"mode",name:"name",value:"value"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","enableOnOffLabels","mode","name","value"]})],h),h})(),wt=(()=>{let h=class{constructor(_,V,ee){this.z=ee,_.detach(),this.el=V.nativeElement}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:at,decls:1,vars:0,template:function(_,V){1&_&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({defineCustomElementFn:void 0,inputs:["color","mode"]})],h),h})();class $t{constructor(T={}){this.data=T}get(T){return this.data[T]}}let Gt=(()=>{class h{constructor(_,V){this.zone=_,this.appRef=V}create(_,V,ee,Xe){return new un(_,V,ee,this.appRef,this.zone,Xe)}}return h.\u0275fac=function(_){return new(_||h)(r.LFG(r.R0b),r.LFG(r.z2F))},h.\u0275prov=r.Yz7({token:h,factory:h.\u0275fac}),h})();class un{constructor(T,_,V,ee,Xe,Rt){this.resolverOrInjector=T,this.injector=_,this.location=V,this.appRef=ee,this.zone=Xe,this.elementReferenceKey=Rt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(T,_,V,ee){return this.zone.run(()=>new Promise(Xe=>{const Rt=Object.assign({},V);void 0!==this.elementReferenceKey&&(Rt[this.elementReferenceKey]=T),Xe(Ln(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,T,_,Rt,ee))}))}removeViewFromDom(T,_){return this.zone.run(()=>new Promise(V=>{const ee=this.elRefMap.get(_);if(ee){ee.destroy(),this.elRefMap.delete(_);const Xe=this.elEventsMap.get(_);Xe&&(Xe(),this.elEventsMap.delete(_))}V()}))}}const Ln=(h,T,_,V,ee,Xe,Rt,Bt,Jt,zn,fi)=>{let Ei;const mi=r.zs3.create({providers:oi(zn),parent:_});if(T&&wi(T)){const io=T.resolveComponentFactory(Jt);Ei=V?V.createComponent(io,V.length,mi):io.create(mi)}else{if(!V)return null;Ei=V.createComponent(Jt,{index:V.indexOf,injector:mi,environmentInjector:T})}const nr=Ei.instance,li=Ei.location.nativeElement;if(zn&&Object.assign(nr,zn),fi)for(const io of fi)li.classList.add(io);const vo=Vn(h,nr,li);return Bt.appendChild(li),V||ee.attachView(Ei.hostView),Ei.changeDetectorRef.reattach(),Xe.set(li,Ei),Rt.set(li,vo),li},Tn=[ct.L,ct.a,ct.b,ct.c,ct.d],Vn=(h,T,_)=>h.run(()=>{const V=Tn.filter(ee=>"function"==typeof T[ee]).map(ee=>{const Xe=Rt=>T[ee](Rt.detail);return _.addEventListener(ee,Xe),()=>_.removeEventListener(ee,Xe)});return()=>V.forEach(ee=>ee())}),wn=new r.OlP("NavParamsToken"),oi=h=>[{provide:wn,useValue:h},{provide:$t,useFactory:Gi,deps:[wn]}],Gi=h=>new $t(h),gi=(h,T)=>((h=h.filter(_=>_.stackId!==T.stackId)).push(T),h),or=(h,T)=>{const _=h.createUrlTree(["."],{relativeTo:T});return h.serializeUrl(_)},yi=(h,T)=>{if(!h)return;const _=yr(T);for(let V=0;V<_.length;V++){if(V>=h.length)return _[V];if(_[V]!==h[V])return}},yr=h=>h.split("/").map(T=>T.trim()).filter(T=>""!==T),jn=h=>{h&&(h.ref.destroy(),h.unlistenEvents())};class Li{constructor(T,_,V,ee,Xe,Rt){this.containerEl=_,this.router=V,this.navCtrl=ee,this.zone=Xe,this.location=Rt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==T?yr(T):void 0}createView(T,_){var V;const ee=or(this.router,_),Xe=null===(V=T?.location)||void 0===V?void 0:V.nativeElement,Rt=Vn(this.zone,T.instance,Xe);return{id:this.nextId++,stackId:yi(this.tabsPrefix,ee),unlistenEvents:Rt,element:Xe,ref:T,url:ee}}getExistingView(T){const _=or(this.router,T),V=this.views.find(ee=>ee.url===_);return V&&V.ref.changeDetectorRef.reattach(),V}setActive(T){var _,V;const ee=this.navCtrl.consumeTransition();let{direction:Xe,animation:Rt,animationBuilder:Bt}=ee;const Jt=this.activeView,zn=((h,T)=>!T||h.stackId!==T.stackId)(T,Jt);zn&&(Xe="back",Rt=void 0);const fi=this.views.slice();let Ei;const mi=this.router;mi.getCurrentNavigation?Ei=mi.getCurrentNavigation():!(null===(_=mi.navigations)||void 0===_)&&_.value&&(Ei=mi.navigations.value),null!==(V=Ei?.extras)&&void 0!==V&&V.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const nr=this.views.includes(T),li=this.insertView(T,Xe);nr||T.ref.changeDetectorRef.detectChanges();const vo=T.animationBuilder;return void 0===Bt&&"back"===Xe&&!zn&&void 0!==vo&&(Bt=vo),Jt&&(Jt.animationBuilder=Bt),this.zone.runOutsideAngular(()=>this.wait(()=>(Jt&&Jt.ref.changeDetectorRef.detach(),T.ref.changeDetectorRef.reattach(),this.transition(T,Jt,Rt,this.canGoBack(1),!1,Bt).then(()=>Ar(T,li,fi,this.location,this.zone)).then(()=>({enteringView:T,direction:Xe,animation:Rt,tabSwitch:zn})))))}canGoBack(T,_=this.getActiveStackId()){return this.getStack(_).length>T}pop(T,_=this.getActiveStackId()){return this.zone.run(()=>{var V,ee;const Xe=this.getStack(_);if(Xe.length<=T)return Promise.resolve(!1);const Rt=Xe[Xe.length-T-1];let Bt=Rt.url;const Jt=Rt.savedData;if(Jt){const fi=Jt.get("primary");null!==(ee=null===(V=fi?.route)||void 0===V?void 0:V._routerState)&&void 0!==ee&&ee.snapshot.url&&(Bt=fi.route._routerState.snapshot.url)}const{animationBuilder:zn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Bt,Object.assign(Object.assign({},Rt.savedExtras),{animation:zn})).then(()=>!0)})}startBackTransition(){const T=this.activeView;if(T){const _=this.getStack(T.stackId),V=_[_.length-2],ee=V.animationBuilder;return this.wait(()=>this.transition(V,T,"back",this.canGoBack(2),!0,ee))}return Promise.resolve()}endBackTransition(T){T?(this.skipTransition=!0,this.pop(1)):this.activeView&&Wr(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(T){const _=this.getStack(T);return _.length>0?_[_.length-1]:void 0}getRootUrl(T){const _=this.getStack(T);return _.length>0?_[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(jn),this.activeView=void 0,this.views=[]}getStack(T){return this.views.filter(_=>_.stackId===T)}insertView(T,_){return this.activeView=T,this.views=((h,T,_)=>"root"===_?gi(h,T):"forward"===_?((h,T)=>(h.indexOf(T)>=0?h=h.filter(V=>V.stackId!==T.stackId||V.id<=T.id):h.push(T),h))(h,T):((h,T)=>h.indexOf(T)>=0?h.filter(V=>V.stackId!==T.stackId||V.id<=T.id):gi(h,T))(h,T))(this.views,T,_),this.views.slice()}transition(T,_,V,ee,Xe,Rt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(_===T)return Promise.resolve(!1);const Bt=T?T.element:void 0,Jt=_?_.element:void 0,zn=this.containerEl;return Bt&&Bt!==Jt&&(Bt.classList.add("ion-page"),Bt.classList.add("ion-page-invisible"),Bt.parentElement!==zn&&zn.appendChild(Bt),zn.commit)?zn.commit(Bt,Jt,{deepWait:!0,duration:void 0===V?0:void 0,direction:V,showGoBack:ee,progressAnimation:Xe,animationBuilder:Rt}):Promise.resolve(!1)}wait(T){return(0,q.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const _=this.runningTask=T();return _.finally(()=>this.runningTask=void 0),_})}}const Ar=(h,T,_,V,ee)=>"function"==typeof requestAnimationFrame?new Promise(Xe=>{requestAnimationFrame(()=>{Wr(h,T,_,V,ee),Xe()})}):Promise.resolve(),Wr=(h,T,_,V,ee)=>{ee.run(()=>_.filter(Xe=>!T.includes(Xe)).forEach(jn)),T.forEach(Xe=>{const Bt=V.path().split("?")[0].split("#")[0];if(Xe!==h&&Xe.url!==Bt){const Jt=Xe.element;Jt.setAttribute("aria-hidden","true"),Jt.classList.add("ion-page-hidden"),Xe.ref.changeDetectorRef.detach()}})};let pr=(()=>{class h{get(_,V){const ee=mo();return ee?ee.get(_,V):null}getBoolean(_,V){const ee=mo();return!!ee&&ee.getBoolean(_,V)}getNumber(_,V){const ee=mo();return ee?ee.getNumber(_,V):0}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275prov=r.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const so=new r.OlP("USERCONFIG"),mo=()=>{if(typeof window<"u"){const h=window.Ionic;if(h?.config)return h.config}return null};let yo=(()=>{class h{constructor(_,V){this.doc=_,this.backButton=new _e.x,this.keyboardDidShow=new _e.x,this.keyboardDidHide=new _e.x,this.pause=new _e.x,this.resume=new _e.x,this.resize=new _e.x,V.run(()=>{var ee;let Xe;this.win=_.defaultView,this.backButton.subscribeWithPriority=function(Rt,Bt){return this.subscribe(Jt=>Jt.register(Rt,zn=>V.run(()=>Bt(zn))))},Jr(this.pause,_,"pause"),Jr(this.resume,_,"resume"),Jr(this.backButton,_,"ionBackButton"),Jr(this.resize,this.win,"resize"),Jr(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Jr(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(Rt=>{Xe=Rt}),null!==(ee=this.win)&&void 0!==ee&&ee.cordova?_.addEventListener("deviceready",()=>{Xe("cordova")},{once:!0}):Xe("dom")})}is(_){return(0,Ge.a)(this.win,_)}platforms(){return(0,Ge.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(_){return _o(this.win.location.href,_)}isLandscape(){return!this.isPortrait()}isPortrait(){var _,V;return null===(V=(_=this.win).matchMedia)||void 0===V?void 0:V.call(_,"(orientation: portrait)").matches}testUserAgent(_){const V=this.win.navigator;return!!(V?.userAgent&&V.userAgent.indexOf(_)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return h.\u0275fac=function(_){return new(_||h)(r.LFG(Mt.K0),r.LFG(r.R0b))},h.\u0275prov=r.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const _o=(h,T)=>{T=T.replace(/[[\]\\]/g,"\\$&");const V=new RegExp("[\\?&]"+T+"=([^&#]*)").exec(h);return V?decodeURIComponent(V[1].replace(/\+/g," ")):null},Jr=(h,T,_)=>{T&&T.addEventListener(_,V=>{h.next(V?.detail)})};let Ti=(()=>{class h{constructor(_,V,ee,Xe){this.location=V,this.serializer=ee,this.router=Xe,this.direction=Dr,this.animated=co,this.guessDirection="forward",this.lastNavId=-1,Xe&&Xe.events.subscribe(Rt=>{if(Rt instanceof Be.OD){const Bt=Rt.restoredState?Rt.restoredState.navigationId:Rt.id;this.guessDirection=Bt<this.lastNavId?"back":"forward",this.guessAnimation=Rt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Rt.id:Bt}}),_.backButton.subscribeWithPriority(0,Rt=>{this.pop(),Rt()})}navigateForward(_,V={}){return this.setDirection("forward",V.animated,V.animationDirection,V.animation),this.navigate(_,V)}navigateBack(_,V={}){return this.setDirection("back",V.animated,V.animationDirection,V.animation),this.navigate(_,V)}navigateRoot(_,V={}){return this.setDirection("root",V.animated,V.animationDirection,V.animation),this.navigate(_,V)}back(_={animated:!0,animationDirection:"back"}){return this.setDirection("back",_.animated,_.animationDirection,_.animation),this.location.back()}pop(){return(0,q.mG)(this,void 0,void 0,function*(){let _=this.topOutlet;for(;_&&!(yield _.pop());)_=_.parentOutlet})}setDirection(_,V,ee,Xe){this.direction=_,this.animated=bo(_,V,ee),this.animationBuilder=Xe}setTopOutlet(_){this.topOutlet=_}consumeTransition(){let V,_="root";const ee=this.animationBuilder;return"auto"===this.direction?(_=this.guessDirection,V=this.guessAnimation):(V=this.animated,_=this.direction),this.direction=Dr,this.animated=co,this.animationBuilder=void 0,{direction:_,animation:V,animationBuilder:ee}}navigate(_,V){if(Array.isArray(_))return this.router.navigate(_,V);{const ee=this.serializer.parse(_.toString());return void 0!==V.queryParams&&(ee.queryParams=Object.assign({},V.queryParams)),void 0!==V.fragment&&(ee.fragment=V.fragment),this.router.navigateByUrl(ee,V)}}}return h.\u0275fac=function(_){return new(_||h)(r.LFG(yo),r.LFG(Mt.Ye),r.LFG(Be.Hx),r.LFG(Be.F0,8))},h.\u0275prov=r.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})();const bo=(h,T,_)=>{if(!1!==T){if(void 0!==_)return _;if("forward"===h||"back"===h)return h;if("root"===h&&!0===T)return"forward"}},Dr="auto",co=void 0;let Yr=(()=>{class h{constructor(_,V,ee,Xe,Rt,Bt,Jt,zn,fi,Ei,mi,nr,li){this.parentContexts=_,this.location=V,this.config=Rt,this.navCtrl=Bt,this.componentFactoryResolver=Jt,this.parentOutlet=li,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Ie.X(null),this.stackEvents=new r.vpe,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.nativeEl=fi.nativeElement,this.name=ee||Be.eC,this.tabsPrefix="true"===Xe?or(Ei,nr):void 0,this.stackCtrl=new Li(this.tabsPrefix,this.nativeEl,Ei,Bt,mi,zn),_.onChildOutletCreated(this.name,this)}set animation(_){this.nativeEl.animation=_}set animated(_){this.nativeEl.animated=_}set swipeGesture(_){this._swipeGesture=_,this.nativeEl.swipeHandler=_?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:V=>this.stackCtrl.endBackTransition(V)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const _=this.getContext();_?.route&&this.activateWith(_.route,_.resolver||null)}new Promise(_=>(0,Ze.c)(this.nativeEl,_)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(_,V){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const V=this.getContext();this.activatedView.savedData=new Map(V.children.contexts);const ee=this.activatedView.savedData.get("primary");if(ee&&V.route&&(ee.route=Object.assign({},V.route)),this.activatedView.savedExtras={},V.route){const Xe=V.route.snapshot;this.activatedView.savedExtras.queryParams=Xe.queryParams,this.activatedView.savedExtras.fragment=Xe.fragment}}const _=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,V){var ee;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;let Xe,Rt=this.stackCtrl.getExistingView(_);if(Rt){Xe=this.activated=Rt.ref;const Bt=Rt.savedData;Bt&&(this.getContext().children.contexts=Bt),this.updateActivatedRouteProxy(Xe.instance,_)}else{const Bt=_._futureSnapshot;if(null==Bt.routeConfig.component&&null==this.environmentInjector)return void console.warn('[Ionic Warning]: You must supply an environmentInjector to use standalone components with routing:\n\nIn your component class, add:\n\n   import { EnvironmentInjector } from \'@angular/core\';\n   constructor(public environmentInjector: EnvironmentInjector) {}\n\nIn your router outlet template, add:\n\n   <ion-router-outlet [environmentInjector]="environmentInjector"></ion-router-outlet>\n\nAlternatively, if you are routing within ion-tabs:\n\n   <ion-tabs [environmentInjector]="environmentInjector"></ion-tabs>');const Jt=this.parentContexts.getOrCreateContext(this.name).children,zn=new Ie.X(null),fi=this.createActivatedRouteProxy(zn,_),Ei=new Ao(fi,Jt,this.location.injector),mi=null!==(ee=Bt.routeConfig.component)&&void 0!==ee?ee:Bt.component;if((V=V||this.componentFactoryResolver)&&wi(V)){const nr=V.resolveComponentFactory(mi);Xe=this.activated=this.location.createComponent(nr,this.location.length,Ei)}else Xe=this.activated=this.location.createComponent(mi,{index:this.location.length,injector:Ei,environmentInjector:V??this.environmentInjector});zn.next(Xe.instance),Rt=this.stackCtrl.createView(this.activated,_),this.proxyMap.set(Xe.instance,fi),this.currentActivatedRoute$.next({component:Xe.instance,activatedRoute:_})}this.activatedView=Rt,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(Rt).then(Bt=>{this.activateEvents.emit(Xe.instance),this.stackEvents.emit(Bt)})}canGoBack(_=1,V){return this.stackCtrl.canGoBack(_,V)}pop(_=1,V){return this.stackCtrl.pop(_,V)}getLastUrl(_){const V=this.stackCtrl.getLastUrl(_);return V?V.url:void 0}getLastRouteView(_){return this.stackCtrl.getLastUrl(_)}getRootView(_){return this.stackCtrl.getRootUrl(_)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(_,V){const ee=new Be.gz;return ee._futureSnapshot=V._futureSnapshot,ee._routerState=V._routerState,ee.snapshot=V.snapshot,ee.outlet=V.outlet,ee.component=V.component,ee._paramMap=this.proxyObservable(_,"paramMap"),ee._queryParamMap=this.proxyObservable(_,"queryParamMap"),ee.url=this.proxyObservable(_,"url"),ee.params=this.proxyObservable(_,"params"),ee.queryParams=this.proxyObservable(_,"queryParams"),ee.fragment=this.proxyObservable(_,"fragment"),ee.data=this.proxyObservable(_,"data"),ee}proxyObservable(_,V){return _.pipe((0,Ve.h)(ee=>!!ee),(0,Ce.w)(ee=>this.currentActivatedRoute$.pipe((0,Ve.h)(Xe=>null!==Xe&&Xe.component===ee),(0,Ce.w)(Xe=>Xe&&Xe.activatedRoute[V]),function mt(h,T=Ue.y){return h=h??_t,(0,Me.e)((_,V)=>{let ee,Xe=!0;_.subscribe((0,Fe.x)(V,Rt=>{const Bt=T(Rt);(Xe||!h(ee,Bt))&&(Xe=!1,ee=Bt,V.next(Rt))}))})}())))}updateActivatedRouteProxy(_,V){const ee=this.proxyMap.get(_);if(!ee)throw new Error("Could not find activated route proxy for view");ee._futureSnapshot=V._futureSnapshot,ee._routerState=V._routerState,ee.snapshot=V.snapshot,ee.outlet=V.outlet,ee.component=V.component,this.currentActivatedRoute$.next({component:_,activatedRoute:V})}}return h.\u0275fac=function(_){return new(_||h)(r.Y36(Be.y6),r.Y36(r.s_b),r.$8M("name"),r.$8M("tabs"),r.Y36(pr),r.Y36(Ti),r.Y36(r._Vd,8),r.Y36(Mt.Ye),r.Y36(r.SBq),r.Y36(Be.F0),r.Y36(r.R0b),r.Y36(Be.gz),r.Y36(h,12))},h.\u0275dir=r.lG2({type:h,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",environmentInjector:"environmentInjector"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),h})();class Ao{constructor(T,_,V){this.route=T,this.childContexts=_,this.parent=V}get(T,_){return T===Be.gz?this.route:T===Be.y6?this.childContexts:this.parent.get(T,_)}}let Bo=(()=>{class h{constructor(_,V,ee,Xe,Rt){this.locationStrategy=_,this.navCtrl=V,this.elementRef=ee,this.router=Xe,this.routerLink=Rt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var _;if(null!==(_=this.routerLink)&&void 0!==_&&_.urlTree){const V=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=V}}onClick(_){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),_.preventDefault()}}return h.\u0275fac=function(_){return new(_||h)(r.Y36(Mt.S$),r.Y36(Ti),r.Y36(r.SBq),r.Y36(Be.F0),r.Y36(Be.rH,8))},h.\u0275dir=r.lG2({type:h,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_,V){1&_&&r.NdJ("click",function(Xe){return V.onClick(Xe)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[r.TTD]}),h})(),Ko=(()=>{let h=class{constructor(_,V,ee){this.z=ee,this.isCmpOpen=!1,this.el=V.nativeElement,this.el.addEventListener("willPresent",()=>{this.isCmpOpen=!0,_.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,_.detectChanges()}),sn(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return h.\u0275fac=function(_){return new(_||h)(r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(r.R0b))},h.\u0275cmp=r.Xpm({type:h,selectors:[["ion-modal"]],contentQueries:function(_,V,ee){if(1&_&&r.Suo(ee,r.Rgc,5),2&_){let Xe;r.iGM(Xe=r.CRH())&&(V.template=Xe.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",swipeToClose:"swipeToClose",translucent:"translucent",trigger:"trigger"},decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(_,V){1&_&&r.YNc(0,Cn,2,1,"div",0),2&_&&r.Q6J("ngIf",V.isCmpOpen||V.keepContentsMounted)},dependencies:[Mt.O5,Mt.tP],encapsulation:2,changeDetection:0}),h=(0,q.gn)([lt({inputs:["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","swipeToClose","translucent","trigger"],methods:["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"]})],h),h})();class qi{constructor(T){this.ctrl=T}create(T){return this.ctrl.create(T||{})}dismiss(T,_,V){return this.ctrl.dismiss(T,_,V)}getTop(){return this.ctrl.getTop()}}class Dt{}let Ft=(()=>{class h extends qi{constructor(_,V,ee,Xe){super(Ke.m),this.angularDelegate=_,this.resolver=V,this.injector=ee,this.environmentInjector=Xe}create(_){var V;return super.create(Object.assign(Object.assign({},_),{delegate:this.angularDelegate.create(null!==(V=this.resolver)&&void 0!==V?V:this.environmentInjector,this.injector,void 0,"modal")}))}}return h.\u0275fac=function(_){return new(_||h)(r.LFG(Gt),r.LFG(r._Vd),r.LFG(r.zs3),r.LFG(Dt,8))},h.\u0275prov=r.Yz7({token:h,factory:h.\u0275fac}),h})(),jt=(()=>{class h extends qi{constructor(_,V,ee,Xe){super(Ke.c),this.angularDelegate=_,this.resolver=V,this.injector=ee,this.environmentInjector=Xe}create(_){var V;return super.create(Object.assign(Object.assign({},_),{delegate:this.angularDelegate.create(null!==(V=this.resolver)&&void 0!==V?V:this.environmentInjector,this.injector,void 0,"popover")}))}}return h.\u0275fac=function(_){return new(_||h)(r.LFG(Gt),r.LFG(r._Vd),r.LFG(r.zs3),r.LFG(Dt,8))},h.\u0275prov=r.Yz7({token:h,factory:h.\u0275fac}),h})();class Zn{shouldDetach(T){return!1}shouldAttach(T){return!1}store(T,_){}retrieve(T){return null}shouldReuseRoute(T,_){if(T.routeConfig!==_.routeConfig)return!1;const V=T.params,ee=_.params,Xe=Object.keys(V),Rt=Object.keys(ee);if(Xe.length!==Rt.length)return!1;for(const Bt of Xe)if(ee[Bt]!==V[Bt])return!1;return!0}}const ve=(h,T,_)=>()=>{if(T.defaultView&&typeof window<"u"){(0,rt.s)(Object.assign(Object.assign({},h),{_zoneGate:Xe=>_.run(Xe)}));const ee="__zone_symbol__addEventListener"in T.body?"__zone_symbol__addEventListener":"addEventListener";return function cn(){var h=[];if(typeof window<"u"){var T=window;(!T.customElements||T.Element&&(!T.Element.prototype.closest||!T.Element.prototype.matches||!T.Element.prototype.remove||!T.Element.prototype.getRootNode))&&h.push(A.e(6748).then(A.t.bind(A,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||T.NodeList&&!T.NodeList.prototype.forEach||!T.fetch||!function(){try{var V=new URL("b","http://a");return V.pathname="c%20d","http://a/c%20d"===V.href&&V.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&h.push(A.e(2214).then(A.t.bind(A,4144,23)))}return Promise.all(h)}().then(()=>((h,T)=>typeof window>"u"?Promise.resolve():(0,Se.p)().then(()=>(En(),(0,Se.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),T))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:ui,jmp:Xe=>_.runOutsideAngular(Xe),ael(Xe,Rt,Bt,Jt){Xe[ee](Rt,Bt,Jt)},rel(Xe,Rt,Bt,Jt){Xe.removeEventListener(Rt,Bt,Jt)}}))}};let N=(()=>{class h{static forRoot(_){return{ngModule:h,providers:[{provide:so,useValue:_},{provide:r.ip1,useFactory:ve,multi:!0,deps:[so,Mt.K0,r.R0b]}]}}}return h.\u0275fac=function(_){return new(_||h)},h.\u0275mod=r.oAB({type:h}),h.\u0275inj=r.cJS({providers:[Gt,Ft,jt],imports:[[Mt.ez]]}),h})()},181:(Ct,H,A)=>{"use strict";A.d(H,{c:()=>xe});var r=A(5730),F=A(2621);let q;const Q=se=>se.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y=se=>(void 0===q&&(q=void 0===se.style.animationName&&void 0!==se.style.webkitAnimationName?"-webkit-":""),q),Z=(se,_e,Ie)=>{const Be=_e.startsWith("animation")?Y(se):"";se.style.setProperty(Be+_e,Ie)},G=(se,_e)=>{const Ie=_e.startsWith("animation")?Y(se):"";se.style.removeProperty(Ie+_e)},oe=[],ke=(se=[],_e)=>{if(void 0!==_e){const Ie=Array.isArray(_e)?_e:[_e];return[...se,...Ie]}return se},xe=se=>{let _e,Ie,Be,tt,Ae,vt,ct,De,Ve,Ce,Ue,_t,Mt,Le=[],Ge=[],Ze=[],rt=!1,ze={},Ke=[],ge=[],pe={},Se=0,Te=!1,Re=!1,Me=!0,Fe=!1,mt=!0,cn=!1;const En=se,on=[],Et=[],at=[],tn=[],Wt=[],mn=[],Cn=[],_n=[],ui=[],wi=[],Oi="function"==typeof AnimationEffect||void 0!==F.w&&"function"==typeof F.w.AnimationEffect,er="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Oi,cr=()=>wi,Tt=(ot,Ht)=>((Ht?.oneTimeCallback?Et:on).push({c:ot,o:Ht}),Mt),nt=()=>{if(er)wi.forEach(ot=>{ot.cancel()}),wi.length=0;else{const ot=at.slice();(0,r.r)(()=>{ot.forEach(Ht=>{G(Ht,"animation-name"),G(Ht,"animation-duration"),G(Ht,"animation-timing-function"),G(Ht,"animation-iteration-count"),G(Ht,"animation-delay"),G(Ht,"animation-play-state"),G(Ht,"animation-fill-mode"),G(Ht,"animation-direction")})})}},ln=()=>{Wt.forEach(ot=>{ot?.parentNode&&ot.parentNode.removeChild(ot)}),Wt.length=0},vn=()=>void 0!==Ae?Ae:ct?ct.getFill():"both",yn=()=>void 0!==Ve?Ve:void 0!==vt?vt:ct?ct.getDirection():"normal",Vt=()=>Te?"linear":void 0!==Be?Be:ct?ct.getEasing():"linear",ai=()=>Re?0:void 0!==Ce?Ce:void 0!==Ie?Ie:ct?ct.getDuration():0,si=()=>void 0!==tt?tt:ct?ct.getIterations():1,Jn=()=>void 0!==Ue?Ue:void 0!==_e?_e:ct?ct.getDelay():0,Rr=()=>{0!==Se&&(Se--,0===Se&&((()=>{_i(),_n.forEach(an=>an()),ui.forEach(an=>an());const ot=Me?1:0,Ht=Ke,zt=ge,gn=pe;at.forEach(an=>{const Hn=an.classList;Ht.forEach(ii=>Hn.add(ii)),zt.forEach(ii=>Hn.remove(ii));for(const ii in gn)gn.hasOwnProperty(ii)&&Z(an,ii,gn[ii])}),on.forEach(an=>an.c(ot,Mt)),Et.forEach(an=>an.c(ot,Mt)),Et.length=0,mt=!0,Me&&(Fe=!0),Me=!0})(),ct&&ct.animationFinish()))},Fr=(ot=!0)=>{ln();const Ht=(se=>(se.forEach(_e=>{for(const Ie in _e)if(_e.hasOwnProperty(Ie)){const Be=_e[Ie];if("easing"===Ie)_e["animation-timing-function"]=Be,delete _e[Ie];else{const tt=Q(Ie);tt!==Ie&&(_e[tt]=Be,delete _e[Ie])}}}),se))(Le);at.forEach(zt=>{if(Ht.length>0){const gn=((se=[])=>se.map(_e=>{const Ie=_e.offset,Be=[];for(const tt in _e)_e.hasOwnProperty(tt)&&"offset"!==tt&&Be.push(`${tt}: ${_e[tt]};`);return`${100*Ie}% { ${Be.join(" ")} }`}).join(" "))(Ht);_t=void 0!==se?se:(se=>{let _e=oe.indexOf(se);return _e<0&&(_e=oe.push(se)-1),`ion-animation-${_e}`})(gn);const an=((se,_e,Ie)=>{var Be;const tt=(se=>{const _e=void 0!==se.getRootNode?se.getRootNode():se;return _e.head||_e})(Ie),Ae=Y(Ie),vt=tt.querySelector("#"+se);if(vt)return vt;const Le=(null!==(Be=Ie.ownerDocument)&&void 0!==Be?Be:document).createElement("style");return Le.id=se,Le.textContent=`@${Ae}keyframes ${se} { ${_e} } @${Ae}keyframes ${se}-alt { ${_e} }`,tt.appendChild(Le),Le})(_t,gn,zt);Wt.push(an),Z(zt,"animation-duration",`${ai()}ms`),Z(zt,"animation-timing-function",Vt()),Z(zt,"animation-delay",`${Jn()}ms`),Z(zt,"animation-fill-mode",vn()),Z(zt,"animation-direction",yn());const Hn=si()===1/0?"infinite":si().toString();Z(zt,"animation-iteration-count",Hn),Z(zt,"animation-play-state","paused"),ot&&Z(zt,"animation-name",`${an.id}-alt`),(0,r.r)(()=>{Z(zt,"animation-name",an.id||null)})}})},Do=(ot=!0)=>{(()=>{mn.forEach(gn=>gn()),Cn.forEach(gn=>gn());const ot=Ge,Ht=Ze,zt=ze;at.forEach(gn=>{const an=gn.classList;ot.forEach(Hn=>an.add(Hn)),Ht.forEach(Hn=>an.remove(Hn));for(const Hn in zt)zt.hasOwnProperty(Hn)&&Z(gn,Hn,zt[Hn])})})(),Le.length>0&&(er?(at.forEach(ot=>{const Ht=ot.animate(Le,{id:En,delay:Jn(),duration:ai(),easing:Vt(),iterations:si(),fill:vn(),direction:yn()});Ht.pause(),wi.push(Ht)}),wi.length>0&&(wi[0].onfinish=()=>{Rr()})):Fr(ot)),rt=!0},hr=ot=>{if(ot=Math.min(Math.max(ot,0),.9999),er)wi.forEach(Ht=>{Ht.currentTime=Ht.effect.getComputedTiming().delay+ai()*ot,Ht.pause()});else{const Ht=`-${ai()*ot}ms`;at.forEach(zt=>{Le.length>0&&(Z(zt,"animation-delay",Ht),Z(zt,"animation-play-state","paused"))})}},Nr=ot=>{wi.forEach(Ht=>{Ht.effect.updateTiming({delay:Jn(),duration:ai(),easing:Vt(),iterations:si(),fill:vn(),direction:yn()})}),void 0!==ot&&hr(ot)},Ki=(ot=!0,Ht)=>{(0,r.r)(()=>{at.forEach(zt=>{Z(zt,"animation-name",_t||null),Z(zt,"animation-duration",`${ai()}ms`),Z(zt,"animation-timing-function",Vt()),Z(zt,"animation-delay",void 0!==Ht?`-${Ht*ai()}ms`:`${Jn()}ms`),Z(zt,"animation-fill-mode",vn()||null),Z(zt,"animation-direction",yn()||null);const gn=si()===1/0?"infinite":si().toString();Z(zt,"animation-iteration-count",gn),ot&&Z(zt,"animation-name",`${_t}-alt`),(0,r.r)(()=>{Z(zt,"animation-name",_t||null)})})})},wr=(ot=!1,Ht=!0,zt)=>(ot&&tn.forEach(gn=>{gn.update(ot,Ht,zt)}),er?Nr(zt):Ki(Ht,zt),Mt),uo=()=>{rt&&(er?wi.forEach(ot=>{ot.pause()}):at.forEach(ot=>{Z(ot,"animation-play-state","paused")}),cn=!0)},Bi=()=>{De=void 0,Rr()},_i=()=>{De&&clearTimeout(De)},Ye=ot=>new Promise(Ht=>{ot?.sync&&(Re=!0,Tt(()=>Re=!1,{oneTimeCallback:!0})),rt||Do(),Fe&&(er?(hr(0),Nr()):Ki(),Fe=!1),mt&&(Se=tn.length+1,mt=!1),Tt(()=>Ht(),{oneTimeCallback:!0}),tn.forEach(zt=>{zt.play()}),er?(wi.forEach(ot=>{ot.play()}),(0===Le.length||0===at.length)&&Rr()):(()=>{if(_i(),(0,r.r)(()=>{at.forEach(ot=>{Le.length>0&&Z(ot,"animation-play-state","running")})}),0===Le.length||0===at.length)Rr();else{const ot=Jn()||0,Ht=ai()||0,zt=si()||1;isFinite(zt)&&(De=setTimeout(Bi,ot+Ht*zt+100)),((se,_e)=>{let Ie;const Be={passive:!0},Ae=vt=>{se===vt.target&&(Ie&&Ie(),_i(),(0,r.r)(()=>{at.forEach(ot=>{G(ot,"animation-duration"),G(ot,"animation-delay"),G(ot,"animation-play-state")}),(0,r.r)(Rr)}))};se&&(se.addEventListener("webkitAnimationEnd",Ae,Be),se.addEventListener("animationend",Ae,Be),Ie=()=>{se.removeEventListener("webkitAnimationEnd",Ae,Be),se.removeEventListener("animationend",Ae,Be)})})(at[0])}})(),cn=!1}),dt=(ot,Ht)=>{const zt=Le[0];return void 0===zt||void 0!==zt.offset&&0!==zt.offset?Le=[{offset:0,[ot]:Ht},...Le]:zt[ot]=Ht,Mt};return Mt={parentAnimation:ct,elements:at,childAnimations:tn,id:En,animationFinish:Rr,from:dt,to:(ot,Ht)=>{const zt=Le[Le.length-1];return void 0===zt||void 0!==zt.offset&&1!==zt.offset?Le=[...Le,{offset:1,[ot]:Ht}]:zt[ot]=Ht,Mt},fromTo:(ot,Ht,zt)=>dt(ot,Ht).to(ot,zt),parent:ot=>(ct=ot,Mt),play:Ye,pause:()=>(tn.forEach(ot=>{ot.pause()}),uo(),Mt),stop:()=>{tn.forEach(ot=>{ot.stop()}),rt&&(nt(),rt=!1),Te=!1,Re=!1,mt=!0,Ve=void 0,Ce=void 0,Ue=void 0,Se=0,Fe=!1,Me=!0,cn=!1},destroy:ot=>(tn.forEach(Ht=>{Ht.destroy(ot)}),(ot=>{nt(),ot&&ln()})(ot),at.length=0,tn.length=0,Le.length=0,on.length=0,Et.length=0,rt=!1,mt=!0,Mt),keyframes:ot=>{const Ht=Le!==ot;return Le=ot,Ht&&(ot=>{er?cr().forEach(Ht=>{if(Ht.effect.setKeyframes)Ht.effect.setKeyframes(ot);else{const zt=new KeyframeEffect(Ht.effect.target,ot,Ht.effect.getTiming());Ht.effect=zt}}):Fr()})(Le),Mt},addAnimation:ot=>{if(null!=ot)if(Array.isArray(ot))for(const Ht of ot)Ht.parent(Mt),tn.push(Ht);else ot.parent(Mt),tn.push(ot);return Mt},addElement:ot=>{if(null!=ot)if(1===ot.nodeType)at.push(ot);else if(ot.length>=0)for(let Ht=0;Ht<ot.length;Ht++)at.push(ot[Ht]);else console.error("Invalid addElement value");return Mt},update:wr,fill:ot=>(Ae=ot,wr(!0),Mt),direction:ot=>(vt=ot,wr(!0),Mt),iterations:ot=>(tt=ot,wr(!0),Mt),duration:ot=>(!er&&0===ot&&(ot=1),Ie=ot,wr(!0),Mt),easing:ot=>(Be=ot,wr(!0),Mt),delay:ot=>(_e=ot,wr(!0),Mt),getWebAnimations:cr,getKeyframes:()=>Le,getFill:vn,getDirection:yn,getDelay:Jn,getIterations:si,getEasing:Vt,getDuration:ai,afterAddRead:ot=>(_n.push(ot),Mt),afterAddWrite:ot=>(ui.push(ot),Mt),afterClearStyles:(ot=[])=>{for(const Ht of ot)pe[Ht]="";return Mt},afterStyles:(ot={})=>(pe=ot,Mt),afterRemoveClass:ot=>(ge=ke(ge,ot),Mt),afterAddClass:ot=>(Ke=ke(Ke,ot),Mt),beforeAddRead:ot=>(mn.push(ot),Mt),beforeAddWrite:ot=>(Cn.push(ot),Mt),beforeClearStyles:(ot=[])=>{for(const Ht of ot)ze[Ht]="";return Mt},beforeStyles:(ot={})=>(ze=ot,Mt),beforeRemoveClass:ot=>(Ze=ke(Ze,ot),Mt),beforeAddClass:ot=>(Ge=ke(Ge,ot),Mt),onFinish:Tt,isRunning:()=>0!==Se&&!cn,progressStart:(ot=!1,Ht)=>(tn.forEach(zt=>{zt.progressStart(ot,Ht)}),uo(),Te=ot,rt||Do(),wr(!1,!0,Ht),Mt),progressStep:ot=>(tn.forEach(Ht=>{Ht.progressStep(ot)}),hr(ot),Mt),progressEnd:(ot,Ht,zt)=>(Te=!1,tn.forEach(gn=>{gn.progressEnd(ot,Ht,zt)}),void 0!==zt&&(Ce=zt),Fe=!1,Me=!0,0===ot?(Ve="reverse"===yn()?"normal":"reverse","reverse"===Ve&&(Me=!1),er?(wr(),hr(1-Ht)):(Ue=(1-Ht)*ai()*-1,wr(!1,!1))):1===ot&&(er?(wr(),hr(Ht)):(Ue=Ht*ai()*-1,wr(!1,!1))),void 0!==ot&&(Tt(()=>{Ce=void 0,Ve=void 0,Ue=void 0},{oneTimeCallback:!0}),ct||Ye()),Mt)}}},5820:(Ct,H,A)=>{"use strict";A.d(H,{E:()=>ue,a:()=>r,s:()=>G});const r=oe=>{try{if(oe instanceof Z)return oe.value;if(!$()||"string"!=typeof oe||""===oe)return oe;if(oe.includes("onload="))return"";const ce=document.createDocumentFragment(),le=document.createElement("div");ce.appendChild(le),le.innerHTML=oe,Y.forEach(se=>{const _e=ce.querySelectorAll(se);for(let Ie=_e.length-1;Ie>=0;Ie--){const Be=_e[Ie];Be.parentNode?Be.parentNode.removeChild(Be):ce.removeChild(Be);const tt=q(Be);for(let Ae=0;Ae<tt.length;Ae++)F(tt[Ae])}});const de=q(ce);for(let se=0;se<de.length;se++)F(de[se]);const ke=document.createElement("div");ke.appendChild(ce);const xe=ke.querySelector("div");return null!==xe?xe.innerHTML:ke.innerHTML}catch(ce){return console.error(ce),""}},F=oe=>{if(oe.nodeType&&1!==oe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(oe.attributes instanceof NamedNodeMap))return void oe.remove();for(let le=oe.attributes.length-1;le>=0;le--){const de=oe.attributes.item(le),ke=de.name;if(!Q.includes(ke.toLowerCase())){oe.removeAttribute(ke);continue}const xe=de.value,se=oe[ke];(null!=xe&&xe.toLowerCase().includes("javascript:")||null!=se&&se.toLowerCase().includes("javascript:"))&&oe.removeAttribute(ke)}const ce=q(oe);for(let le=0;le<ce.length;le++)F(ce[le])},q=oe=>null!=oe.children?oe.children:oe.childNodes,$=()=>{var oe;const le=null===(oe=window?.Ionic)||void 0===oe?void 0:oe.config;return!le||(le.get?le.get("sanitizerEnabled",!0):!0===le.sanitizerEnabled||void 0===le.sanitizerEnabled)},Q=["class","id","href","src","name","slot"],Y=["script","style","iframe","meta","link","object","embed"];class Z{constructor(ce){this.value=ce}}const G=oe=>{const ce=window,le=ce.Ionic;if(!le||!le.config||"Object"===le.config.constructor.name)return ce.Ionic=ce.Ionic||{},ce.Ionic.config=Object.assign(Object.assign({},ce.Ionic.config),oe),ce.Ionic.config},ue=!0},4349:(Ct,H,A)=>{"use strict";A.d(H,{G:()=>Q});class F{constructor(Z,G,J,ue,oe){this.id=G,this.name=J,this.disableScroll=oe,this.priority=1e6*ue+G,this.ctrl=Z}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Z=this.ctrl.capture(this.name,this.id,this.priority);return Z&&this.disableScroll&&this.ctrl.disableScroll(this.id),Z}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class q{constructor(Z,G,J,ue){this.id=G,this.disable=J,this.disableScroll=ue,this.ctrl=Z}block(){if(this.ctrl){if(this.disable)for(const Z of this.disable)this.ctrl.disableGesture(Z,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Z of this.disable)this.ctrl.enableGesture(Z,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const $="backdrop-no-scroll",Q=new class r{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Z){var G;return new F(this,this.newID(),Z.name,null!==(G=Z.priority)&&void 0!==G?G:0,!!Z.disableScroll)}createBlocker(Z={}){return new q(this,this.newID(),Z.disable,!!Z.disableScroll)}start(Z,G,J){return this.canStart(Z)?(this.requestedStart.set(G,J),!0):(this.requestedStart.delete(G),!1)}capture(Z,G,J){if(!this.start(Z,G,J))return!1;const ue=this.requestedStart;let oe=-1e4;if(ue.forEach(ce=>{oe=Math.max(oe,ce)}),oe===J){this.capturedId=G,ue.clear();const ce=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Z}});return document.dispatchEvent(ce),!0}return ue.delete(G),!1}release(Z){this.requestedStart.delete(Z),this.capturedId===Z&&(this.capturedId=void 0)}disableGesture(Z,G){let J=this.disabledGestures.get(Z);void 0===J&&(J=new Set,this.disabledGestures.set(Z,J)),J.add(G)}enableGesture(Z,G){const J=this.disabledGestures.get(Z);void 0!==J&&J.delete(G)}disableScroll(Z){this.disabledScroll.add(Z),1===this.disabledScroll.size&&document.body.classList.add($)}enableScroll(Z){this.disabledScroll.delete(Z),0===this.disabledScroll.size&&document.body.classList.remove($)}canStart(Z){return!(void 0!==this.capturedId||this.isDisabled(Z))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Z){const G=this.disabledGestures.get(Z);return!!(G&&G.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Ct,H,A)=>{"use strict";A.r(H),A.d(H,{MENU_BACK_BUTTON_PRIORITY:()=>Q,OVERLAY_BACK_BUTTON_PRIORITY:()=>$,blockHardwareBackButton:()=>F,startHardwareBackButton:()=>q});var r=A(5861);const F=()=>{document.addEventListener("backbutton",()=>{})},q=()=>{const Y=document;let Z=!1;Y.addEventListener("backbutton",()=>{if(Z)return;let G=0,J=[];const ue=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(le,de){J.push({priority:le,handler:de,id:G++})}}});Y.dispatchEvent(ue);const oe=function(){var le=(0,r.Z)(function*(de){try{if(de?.handler){const ke=de.handler(ce);null!=ke&&(yield ke)}}catch(ke){console.error(ke)}});return function(ke){return le.apply(this,arguments)}}(),ce=()=>{if(J.length>0){let le={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};J.forEach(de=>{de.priority>=le.priority&&(le=de)}),Z=!0,J=J.filter(de=>de.id!==le.id),oe(le).then(()=>Z=!1)}};ce()})},$=100,Q=99},5730:(Ct,H,A)=>{"use strict";A.d(H,{a:()=>Z,b:()=>G,c:()=>q,d:()=>de,e:()=>ke,f:()=>le,g:()=>J,h:()=>tt,i:()=>Y,j:()=>$,k:()=>ce,l:()=>xe,m:()=>oe,n:()=>se,o:()=>Be,p:()=>Ie,q:()=>Ae,r:()=>ue,s:()=>vt,t:()=>r,u:()=>_e});const r=(Le,Ge=0)=>new Promise(Ze=>{F(Le,Ge,Ze)}),F=(Le,Ge=0,Ze)=>{let rt,ct;const ze={passive:!0},ge=()=>{rt&&rt()},pe=Se=>{(void 0===Se||Le===Se.target)&&(ge(),Ze(Se))};return Le&&(Le.addEventListener("webkitTransitionEnd",pe,ze),Le.addEventListener("transitionend",pe,ze),ct=setTimeout(pe,Ge+500),rt=()=>{ct&&(clearTimeout(ct),ct=void 0),Le.removeEventListener("webkitTransitionEnd",pe,ze),Le.removeEventListener("transitionend",pe,ze)}),ge},q=(Le,Ge)=>{Le.componentOnReady?Le.componentOnReady().then(Ze=>Ge(Ze)):ue(()=>Ge(Le))},$=(Le,Ge=[])=>{const Ze={};return Ge.forEach(rt=>{Le.hasAttribute(rt)&&(null!==Le.getAttribute(rt)&&(Ze[rt]=Le.getAttribute(rt)),Le.removeAttribute(rt))}),Ze},Q=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Y=(Le,Ge)=>{let Ze=Q;return Ge&&Ge.length>0&&(Ze=Ze.filter(rt=>!Ge.includes(rt))),$(Le,Ze)},Z=(Le,Ge,Ze,rt)=>{var ct;if(typeof window<"u"){const Ke=null===(ct=window?.Ionic)||void 0===ct?void 0:ct.config;if(Ke){const ge=Ke.get("_ael");if(ge)return ge(Le,Ge,Ze,rt);if(Ke._ael)return Ke._ael(Le,Ge,Ze,rt)}}return Le.addEventListener(Ge,Ze,rt)},G=(Le,Ge,Ze,rt)=>{var ct;if(typeof window<"u"){const Ke=null===(ct=window?.Ionic)||void 0===ct?void 0:ct.config;if(Ke){const ge=Ke.get("_rel");if(ge)return ge(Le,Ge,Ze,rt);if(Ke._rel)return Ke._rel(Le,Ge,Ze,rt)}}return Le.removeEventListener(Ge,Ze,rt)},J=(Le,Ge=Le)=>Le.shadowRoot||Ge,ue=Le=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Le):"function"==typeof requestAnimationFrame?requestAnimationFrame(Le):setTimeout(Le),oe=Le=>!!Le.shadowRoot&&!!Le.attachShadow,ce=Le=>{const Ge=Le.closest("ion-item");return Ge?Ge.querySelector("ion-label"):null},le=Le=>{if(Le.focus(),Le.classList.contains("ion-focusable")){const Ge=Le.closest("ion-app");Ge&&Ge.setFocus([Le])}},de=(Le,Ge)=>{let Ze;const rt=Le.getAttribute("aria-labelledby"),ct=Le.id;let ze=null!==rt&&""!==rt.trim()?rt:Ge+"-lbl",Ke=null!==rt&&""!==rt.trim()?document.getElementById(rt):ce(Le);return Ke?(null===rt&&(Ke.id=ze),Ze=Ke.textContent,Ke.setAttribute("aria-hidden","true")):""!==ct.trim()&&(Ke=document.querySelector(`label[for="${ct}"]`),Ke&&(""!==Ke.id?ze=Ke.id:Ke.id=ze=`${ct}-lbl`,Ze=Ke.textContent)),{label:Ke,labelId:ze,labelText:Ze}},ke=(Le,Ge,Ze,rt,ct)=>{if(Le||oe(Ge)){let ze=Ge.querySelector("input.aux-input");ze||(ze=Ge.ownerDocument.createElement("input"),ze.type="hidden",ze.classList.add("aux-input"),Ge.appendChild(ze)),ze.disabled=ct,ze.name=Ze,ze.value=rt||""}},xe=(Le,Ge,Ze)=>Math.max(Le,Math.min(Ge,Ze)),se=(Le,Ge)=>{if(!Le){const Ze="ASSERT: "+Ge;throw console.error(Ze),new Error(Ze)}},_e=Le=>Le.timeStamp||Date.now(),Ie=Le=>{if(Le){const Ge=Le.changedTouches;if(Ge&&Ge.length>0){const Ze=Ge[0];return{x:Ze.clientX,y:Ze.clientY}}if(void 0!==Le.pageX)return{x:Le.pageX,y:Le.pageY}}return{x:0,y:0}},Be=Le=>{const Ge="rtl"===document.dir;switch(Le){case"start":return Ge;case"end":return!Ge;default:throw new Error(`"${Le}" is not a valid value for [side]. Use "start" or "end" instead.`)}},tt=(Le,Ge)=>{const Ze=Le._original||Le;return{_original:Le,emit:Ae(Ze.emit.bind(Ze),Ge)}},Ae=(Le,Ge=0)=>{let Ze;return(...rt)=>{clearTimeout(Ze),Ze=setTimeout(Le,Ge,...rt)}},vt=(Le,Ge)=>{if(Le??(Le={}),Ge??(Ge={}),Le===Ge)return!0;const Ze=Object.keys(Le);if(Ze.length!==Object.keys(Ge).length)return!1;for(const rt of Ze)if(!(rt in Ge)||Le[rt]!==Ge[rt])return!1;return!0}},1843:(Ct,H,A)=>{"use strict";A.d(H,{L:()=>$,a:()=>Q,b:()=>Y,c:()=>Z,d:()=>G,e:()=>Ge,g:()=>ct,l:()=>vt,s:()=>Ze,t:()=>oe});var r=A(5861),F=A(1308),q=A(5730);const $="ionViewWillEnter",Q="ionViewDidEnter",Y="ionViewWillLeave",Z="ionViewDidLeave",G="ionViewWillUnload",oe=ze=>new Promise((Ke,ge)=>{(0,F.c)(()=>{ce(ze),le(ze).then(pe=>{pe.animation&&pe.animation.destroy(),de(ze),Ke(pe)},pe=>{de(ze),ge(pe)})})}),ce=ze=>{const Ke=ze.enteringEl,ge=ze.leavingEl;rt(Ke,ge,ze.direction),ze.showGoBack?Ke.classList.add("can-go-back"):Ke.classList.remove("can-go-back"),Ze(Ke,!1),Ke.style.setProperty("pointer-events","none"),ge&&(Ze(ge,!1),ge.style.setProperty("pointer-events","none"))},le=function(){var ze=(0,r.Z)(function*(Ke){const ge=yield ke(Ke);return ge&&F.B.isBrowser?xe(ge,Ke):se(Ke)});return function(ge){return ze.apply(this,arguments)}}(),de=ze=>{const Ke=ze.enteringEl,ge=ze.leavingEl;Ke.classList.remove("ion-page-invisible"),Ke.style.removeProperty("pointer-events"),void 0!==ge&&(ge.classList.remove("ion-page-invisible"),ge.style.removeProperty("pointer-events"))},ke=function(){var ze=(0,r.Z)(function*(Ke){return Ke.leavingEl&&Ke.animated&&0!==Ke.duration?Ke.animationBuilder?Ke.animationBuilder:"ios"===Ke.mode?(yield Promise.resolve().then(A.bind(A,6439))).iosTransitionAnimation:(yield Promise.resolve().then(A.bind(A,7838))).mdTransitionAnimation:void 0});return function(ge){return ze.apply(this,arguments)}}(),xe=function(){var ze=(0,r.Z)(function*(Ke,ge){yield _e(ge,!0);const pe=Ke(ge.baseEl,ge);tt(ge.enteringEl,ge.leavingEl);const Se=yield Be(pe,ge);return ge.progressCallback&&ge.progressCallback(void 0),Se&&Ae(ge.enteringEl,ge.leavingEl),{hasCompleted:Se,animation:pe}});return function(ge,pe){return ze.apply(this,arguments)}}(),se=function(){var ze=(0,r.Z)(function*(Ke){const ge=Ke.enteringEl,pe=Ke.leavingEl;return yield _e(Ke,!1),tt(ge,pe),Ae(ge,pe),{hasCompleted:!0}});return function(ge){return ze.apply(this,arguments)}}(),_e=function(){var ze=(0,r.Z)(function*(Ke,ge){const Se=(void 0!==Ke.deepWait?Ke.deepWait:ge)?[Ge(Ke.enteringEl),Ge(Ke.leavingEl)]:[Le(Ke.enteringEl),Le(Ke.leavingEl)];yield Promise.all(Se),yield Ie(Ke.viewIsReady,Ke.enteringEl)});return function(ge,pe){return ze.apply(this,arguments)}}(),Ie=function(){var ze=(0,r.Z)(function*(Ke,ge){Ke&&(yield Ke(ge))});return function(ge,pe){return ze.apply(this,arguments)}}(),Be=(ze,Ke)=>{const ge=Ke.progressCallback,pe=new Promise(Se=>{ze.onFinish(Te=>Se(1===Te))});return ge?(ze.progressStart(!0),ge(ze)):ze.play(),pe},tt=(ze,Ke)=>{vt(Ke,Y),vt(ze,$)},Ae=(ze,Ke)=>{vt(ze,Q),vt(Ke,Z)},vt=(ze,Ke)=>{if(ze){const ge=new CustomEvent(Ke,{bubbles:!1,cancelable:!1});ze.dispatchEvent(ge)}},Le=ze=>ze?new Promise(Ke=>(0,q.c)(ze,Ke)):Promise.resolve(),Ge=function(){var ze=(0,r.Z)(function*(Ke){const ge=Ke;if(ge){if(null!=ge.componentOnReady){if(null!=(yield ge.componentOnReady()))return}else if(null!=ge.__registerHost)return void(yield new Promise(Se=>(0,q.r)(Se)));yield Promise.all(Array.from(ge.children).map(Ge))}});return function(ge){return ze.apply(this,arguments)}}(),Ze=(ze,Ke)=>{Ke?(ze.setAttribute("aria-hidden","true"),ze.classList.add("ion-page-hidden")):(ze.hidden=!1,ze.removeAttribute("aria-hidden"),ze.classList.remove("ion-page-hidden"))},rt=(ze,Ke,ge)=>{void 0!==ze&&(ze.style.zIndex="back"===ge?"99":"101"),void 0!==Ke&&(Ke.style.zIndex="100")},ct=ze=>ze.classList.contains("ion-page")?ze:ze.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ze},6369:(Ct,H,A)=>{"use strict";A.d(H,{m:()=>oe});var r=A(5861),F=A(7593),q=A(5730),$=A(5179),Q=A(181);const Y=ce=>(0,Q.c)().duration(ce?400:300),Z=ce=>{let le,de;const ke=ce.width+8,xe=(0,Q.c)(),se=(0,Q.c)();ce.isEndSide?(le=ke+"px",de="0px"):(le=-ke+"px",de="0px"),xe.addElement(ce.menuInnerEl).fromTo("transform",`translateX(${le})`,`translateX(${de})`);const Ie="ios"===(0,$.b)(ce),Be=Ie?.2:.25;return se.addElement(ce.backdropEl).fromTo("opacity",.01,Be),Y(Ie).addAnimation([xe,se])},G=ce=>{let le,de;const ke=(0,$.b)(ce),xe=ce.width;ce.isEndSide?(le=-xe+"px",de=xe+"px"):(le=xe+"px",de=-xe+"px");const se=(0,Q.c)().addElement(ce.menuInnerEl).fromTo("transform",`translateX(${de})`,"translateX(0px)"),_e=(0,Q.c)().addElement(ce.contentEl).fromTo("transform","translateX(0px)",`translateX(${le})`),Ie=(0,Q.c)().addElement(ce.backdropEl).fromTo("opacity",.01,.32);return Y("ios"===ke).addAnimation([se,_e,Ie])},J=ce=>{const le=(0,$.b)(ce),de=ce.width*(ce.isEndSide?-1:1)+"px",ke=(0,Q.c)().addElement(ce.contentEl).fromTo("transform","translateX(0px)",`translateX(${de})`);return Y("ios"===le).addAnimation(ke)},oe=(()=>{const ce=new Map,le=[],de=function(){var De=(0,r.Z)(function*(Ve){const Ce=yield tt(Ve);return!!Ce&&Ce.open()});return function(Ce){return De.apply(this,arguments)}}(),ke=function(){var De=(0,r.Z)(function*(Ve){const Ce=yield void 0!==Ve?tt(Ve):Ae();return void 0!==Ce&&Ce.close()});return function(Ce){return De.apply(this,arguments)}}(),xe=function(){var De=(0,r.Z)(function*(Ve){const Ce=yield tt(Ve);return!!Ce&&Ce.toggle()});return function(Ce){return De.apply(this,arguments)}}(),se=function(){var De=(0,r.Z)(function*(Ve,Ce){const Ue=yield tt(Ce);return Ue&&(Ue.disabled=!Ve),Ue});return function(Ce,Ue){return De.apply(this,arguments)}}(),_e=function(){var De=(0,r.Z)(function*(Ve,Ce){const Ue=yield tt(Ce);return Ue&&(Ue.swipeGesture=Ve),Ue});return function(Ce,Ue){return De.apply(this,arguments)}}(),Ie=function(){var De=(0,r.Z)(function*(Ve){if(null!=Ve){const Ce=yield tt(Ve);return void 0!==Ce&&Ce.isOpen()}return void 0!==(yield Ae())});return function(Ce){return De.apply(this,arguments)}}(),Be=function(){var De=(0,r.Z)(function*(Ve){const Ce=yield tt(Ve);return!!Ce&&!Ce.disabled});return function(Ce){return De.apply(this,arguments)}}(),tt=function(){var De=(0,r.Z)(function*(Ve){return yield Re(),"start"===Ve||"end"===Ve?Te(Me=>Me.side===Ve&&!Me.disabled)||Te(Me=>Me.side===Ve):null!=Ve?Te(Ue=>Ue.menuId===Ve):Te(Ue=>!Ue.disabled)||(le.length>0?le[0].el:void 0)});return function(Ce){return De.apply(this,arguments)}}(),Ae=function(){var De=(0,r.Z)(function*(){return yield Re(),ge()});return function(){return De.apply(this,arguments)}}(),vt=function(){var De=(0,r.Z)(function*(){return yield Re(),pe()});return function(){return De.apply(this,arguments)}}(),Le=function(){var De=(0,r.Z)(function*(){return yield Re(),Se()});return function(){return De.apply(this,arguments)}}(),Ge=(De,Ve)=>{ce.set(De,Ve)},ct=De=>{const Ve=De.side;le.filter(Ce=>Ce.side===Ve&&Ce!==De).forEach(Ce=>Ce.disabled=!0)},ze=function(){var De=(0,r.Z)(function*(Ve,Ce,Ue){if(Se())return!1;if(Ce){const Me=yield Ae();Me&&Ve.el!==Me&&(yield Me.setOpen(!1,!1))}return Ve._setOpen(Ce,Ue)});return function(Ce,Ue,Me){return De.apply(this,arguments)}}(),ge=()=>Te(De=>De._isOpen),pe=()=>le.map(De=>De.el),Se=()=>le.some(De=>De.isAnimating),Te=De=>{const Ve=le.find(De);if(void 0!==Ve)return Ve.el},Re=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(De=>new Promise(Ve=>(0,q.c)(De,Ve))));return Ge("reveal",J),Ge("push",G),Ge("overlay",Z),typeof document<"u"&&document.addEventListener("ionBackButton",De=>{const Ve=ge();Ve&&De.detail.register(F.MENU_BACK_BUTTON_PRIORITY,()=>Ve.close())}),{registerAnimation:Ge,get:tt,getMenus:vt,getOpen:Ae,isEnabled:Be,swipeGesture:_e,isAnimating:Le,isOpen:Ie,enable:se,toggle:xe,close:ke,open:de,_getOpenSync:ge,_createAnimation:(De,Ve)=>{const Ce=ce.get(De);if(!Ce)throw new Error("animation not registered");return Ce(Ve)},_register:De=>{le.indexOf(De)<0&&(De.disabled||ct(De),le.push(De))},_unregister:De=>{const Ve=le.indexOf(De);Ve>-1&&le.splice(Ve,1)},_setOpen:ze,_setActiveMenu:ct}})()},2621:(Ct,H,A)=>{"use strict";A.d(H,{w:()=>r});const r=typeof window<"u"?window:void 0},1898:(Ct,H,A)=>{"use strict";A.r(H),A.d(H,{GESTURE_CONTROLLER:()=>r.G,createGesture:()=>J});var r=A(4349);const F=(le,de,ke,xe)=>{const se=q(le)?{capture:!!xe.capture,passive:!!xe.passive}:!!xe.capture;let _e,Ie;return le.__zone_symbol__addEventListener?(_e="__zone_symbol__addEventListener",Ie="__zone_symbol__removeEventListener"):(_e="addEventListener",Ie="removeEventListener"),le[_e](de,ke,se),()=>{le[Ie](de,ke,se)}},q=le=>{if(void 0===$)try{const de=Object.defineProperty({},"passive",{get:()=>{$=!0}});le.addEventListener("optsTest",()=>{},de)}catch{$=!1}return!!$};let $;const Z=le=>le instanceof Document?le:le.ownerDocument,J=le=>{let de=!1,ke=!1,xe=!0,se=!1;const _e=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},le),Ie=_e.canStart,Be=_e.onWillStart,tt=_e.onStart,Ae=_e.onEnd,vt=_e.notCaptured,Le=_e.onMove,Ge=_e.threshold,Ze=_e.passive,rt=_e.blurOnStart,ct={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ze=((le,de,ke)=>{const xe=ke*(Math.PI/180),se="x"===le,_e=Math.cos(xe),Ie=de*de;let Be=0,tt=0,Ae=!1,vt=0;return{start(Le,Ge){Be=Le,tt=Ge,vt=0,Ae=!0},detect(Le,Ge){if(!Ae)return!1;const Ze=Le-Be,rt=Ge-tt,ct=Ze*Ze+rt*rt;if(ct<Ie)return!1;const ze=Math.sqrt(ct),Ke=(se?Ze:rt)/ze;return vt=Ke>_e?1:Ke<-_e?-1:0,Ae=!1,!0},isGesture:()=>0!==vt,getDirection:()=>vt}})(_e.direction,_e.threshold,_e.maxAngle),Ke=r.G.createGesture({name:le.gestureName,priority:le.gesturePriority,disableScroll:le.disableScroll}),Se=()=>{de&&(se=!1,Le&&Le(ct))},Te=()=>!!Ke.capture()&&(de=!0,xe=!1,ct.startX=ct.currentX,ct.startY=ct.currentY,ct.startTime=ct.currentTime,Be?Be(ct).then(De):De(),!0),De=()=>{rt&&(()=>{if(typeof document<"u"){const Fe=document.activeElement;Fe?.blur&&Fe.blur()}})(),tt&&tt(ct),xe=!0},Ve=()=>{de=!1,ke=!1,se=!1,xe=!0,Ke.release()},Ce=Fe=>{const mt=de,_t=xe;if(Ve(),_t){if(ue(ct,Fe),mt)return void(Ae&&Ae(ct));vt&&vt(ct)}},Ue=((le,de,ke,xe,se)=>{let _e,Ie,Be,tt,Ae,vt,Le,Ge=0;const Ze=Re=>{Ge=Date.now()+2e3,de(Re)&&(!Ie&&ke&&(Ie=F(le,"touchmove",ke,se)),Be||(Be=F(Re.target,"touchend",ct,se)),tt||(tt=F(Re.target,"touchcancel",ct,se)))},rt=Re=>{Ge>Date.now()||de(Re)&&(!vt&&ke&&(vt=F(Z(le),"mousemove",ke,se)),Le||(Le=F(Z(le),"mouseup",ze,se)))},ct=Re=>{Ke(),xe&&xe(Re)},ze=Re=>{ge(),xe&&xe(Re)},Ke=()=>{Ie&&Ie(),Be&&Be(),tt&&tt(),Ie=Be=tt=void 0},ge=()=>{vt&&vt(),Le&&Le(),vt=Le=void 0},pe=()=>{Ke(),ge()},Se=(Re=!0)=>{Re?(_e||(_e=F(le,"touchstart",Ze,se)),Ae||(Ae=F(le,"mousedown",rt,se))):(_e&&_e(),Ae&&Ae(),_e=Ae=void 0,pe())};return{enable:Se,stop:pe,destroy:()=>{Se(!1),xe=ke=de=void 0}}})(_e.el,Fe=>{const mt=ce(Fe);return!(ke||!xe||(oe(Fe,ct),ct.startX=ct.currentX,ct.startY=ct.currentY,ct.startTime=ct.currentTime=mt,ct.velocityX=ct.velocityY=ct.deltaX=ct.deltaY=0,ct.event=Fe,Ie&&!1===Ie(ct))||(Ke.release(),!Ke.start()))&&(ke=!0,0===Ge?Te():(ze.start(ct.startX,ct.startY),!0))},Fe=>{de?!se&&xe&&(se=!0,ue(ct,Fe),requestAnimationFrame(Se)):(ue(ct,Fe),ze.detect(ct.currentX,ct.currentY)&&(!ze.isGesture()||!Te())&&Me())},Ce,{capture:!1,passive:Ze}),Me=()=>{Ve(),Ue.stop(),vt&&vt(ct)};return{enable(Fe=!0){Fe||(de&&Ce(void 0),Ve()),Ue.enable(Fe)},destroy(){Ke.destroy(),Ue.destroy()}}},ue=(le,de)=>{if(!de)return;const ke=le.currentX,xe=le.currentY,se=le.currentTime;oe(de,le);const _e=le.currentX,Ie=le.currentY,tt=(le.currentTime=ce(de))-se;if(tt>0&&tt<100){const vt=(Ie-xe)/tt;le.velocityX=(_e-ke)/tt*.7+.3*le.velocityX,le.velocityY=.7*vt+.3*le.velocityY}le.deltaX=_e-le.startX,le.deltaY=Ie-le.startY,le.event=de},oe=(le,de)=>{let ke=0,xe=0;if(le){const se=le.changedTouches;if(se&&se.length>0){const _e=se[0];ke=_e.clientX,xe=_e.clientY}else void 0!==le.pageX&&(ke=le.pageX,xe=le.pageY)}de.currentX=ke,de.currentY=xe},ce=le=>le.timeStamp||Date.now()},1308:(Ct,H,A)=>{"use strict";A.d(H,{B:()=>oo,H:()=>at,a:()=>Me,b:()=>Hi,c:()=>Er,e:()=>Di,f:()=>kr,g:()=>Fe,h:()=>on,i:()=>Nn,j:()=>yn,k:()=>Zi,p:()=>xe,r:()=>go,s:()=>de});var r=A(5861);let q,$,Q,Y=!1,Z=!1,G=!1,J=!1,ue=!1;const oe=typeof window<"u"?window:{},ce=oe.document||{head:{}},le={$flags$:0,$resourcesUrl$:"",jmp:Ye=>Ye(),raf:Ye=>requestAnimationFrame(Ye),ael:(Ye,Je,dt,Lt)=>Ye.addEventListener(Je,dt,Lt),rel:(Ye,Je,dt,Lt)=>Ye.removeEventListener(Je,dt,Lt),ce:(Ye,Je)=>new CustomEvent(Ye,Je)},de=Ye=>{Object.assign(le,Ye)},xe=Ye=>Promise.resolve(Ye),se=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),_e=(Ye,Je,dt,Lt)=>{dt&&dt.map(([Qt,ot,Ht])=>{const zt=Be(Ye,Qt),gn=Ie(Je,Ht),an=tt(Qt);le.ael(zt,ot,gn,an),(Je.$rmListeners$=Je.$rmListeners$||[]).push(()=>le.rel(zt,ot,gn,an))})},Ie=(Ye,Je)=>dt=>{try{256&Ye.$flags$?Ye.$lazyInstance$[Je](dt):(Ye.$queuedListeners$=Ye.$queuedListeners$||[]).push([Je,dt])}catch(Lt){Nr(Lt)}},Be=(Ye,Je)=>4&Je?ce:8&Je?oe:16&Je?ce.body:Ye,tt=Ye=>0!=(2&Ye),Ze="s-id",rt="sty-id",Ke="http://www.w3.org/1999/xlink",Se=new WeakMap,Te=(Ye,Je,dt)=>{let Lt=lo.get(Ye);se&&dt?(Lt=Lt||new CSSStyleSheet,"string"==typeof Lt?Lt=Je:Lt.replaceSync(Je)):Lt=Je,lo.set(Ye,Lt)},Re=(Ye,Je,dt,Lt)=>{let Qt=Ve(Je,dt);const ot=lo.get(Qt);if(Ye=11===Ye.nodeType?Ye:ce,ot)if("string"==typeof ot){let zt,Ht=Se.get(Ye=Ye.head||Ye);Ht||Se.set(Ye,Ht=new Set),Ht.has(Qt)||(Ye.host&&(zt=Ye.querySelector(`[${rt}="${Qt}"]`))?zt.innerHTML=ot:(zt=ce.createElement("style"),zt.innerHTML=ot,Ye.insertBefore(zt,Ye.querySelector("link"))),Ht&&Ht.add(Qt))}else Ye.adoptedStyleSheets.includes(ot)||(Ye.adoptedStyleSheets=[...Ye.adoptedStyleSheets,ot]);return Qt},Ve=(Ye,Je)=>"sc-"+(Je&&32&Ye.$flags$?Ye.$tagName$+"-"+Je:Ye.$tagName$),Ce=Ye=>Ye.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),Me=Ye=>no.push(Ye),Fe=Ye=>Fr(Ye).$modeName$,mt={},En=Ye=>"object"==(Ye=typeof Ye)||"function"===Ye,on=(Ye,Je,...dt)=>{let Lt=null,Qt=null,ot=null,Ht=!1,zt=!1;const gn=[],an=ii=>{for(let In=0;In<ii.length;In++)Lt=ii[In],Array.isArray(Lt)?an(Lt):null!=Lt&&"boolean"!=typeof Lt&&((Ht="function"!=typeof Ye&&!En(Lt))&&(Lt=String(Lt)),Ht&&zt?gn[gn.length-1].$text$+=Lt:gn.push(Ht?Et(null,Lt):Lt),zt=Ht)};if(an(dt),Je){Je.key&&(Qt=Je.key),Je.name&&(ot=Je.name);{const ii=Je.className||Je.class;ii&&(Je.class="object"!=typeof ii?ii:Object.keys(ii).filter(In=>ii[In]).join(" "))}}if("function"==typeof Ye)return Ye(null===Je?{}:Je,gn,Wt);const Hn=Et(Ye,null);return Hn.$attrs$=Je,gn.length>0&&(Hn.$children$=gn),Hn.$key$=Qt,Hn.$name$=ot,Hn},Et=(Ye,Je)=>({$flags$:0,$tag$:Ye,$text$:Je,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),at={},Wt={forEach:(Ye,Je)=>Ye.map(mn).forEach(Je),map:(Ye,Je)=>Ye.map(mn).map(Je).map(Cn)},mn=Ye=>({vattrs:Ye.$attrs$,vchildren:Ye.$children$,vkey:Ye.$key$,vname:Ye.$name$,vtag:Ye.$tag$,vtext:Ye.$text$}),Cn=Ye=>{if("function"==typeof Ye.vtag){const dt=Object.assign({},Ye.vattrs);return Ye.vkey&&(dt.key=Ye.vkey),Ye.vname&&(dt.name=Ye.vname),on(Ye.vtag,dt,...Ye.vchildren||[])}const Je=Et(Ye.vtag,Ye.vtext);return Je.$attrs$=Ye.vattrs,Je.$children$=Ye.vchildren,Je.$key$=Ye.vkey,Je.$name$=Ye.vname,Je},_n=(Ye,Je,dt,Lt,Qt,ot)=>{if(dt!==Lt){let Ht=hr(Ye,Je),zt=Je.toLowerCase();if("class"===Je){const gn=Ye.classList,an=wi(dt),Hn=wi(Lt);gn.remove(...an.filter(ii=>ii&&!Hn.includes(ii))),gn.add(...Hn.filter(ii=>ii&&!an.includes(ii)))}else if("style"===Je){for(const gn in dt)(!Lt||null==Lt[gn])&&(gn.includes("-")?Ye.style.removeProperty(gn):Ye.style[gn]="");for(const gn in Lt)(!dt||Lt[gn]!==dt[gn])&&(gn.includes("-")?Ye.style.setProperty(gn,Lt[gn]):Ye.style[gn]=Lt[gn])}else if("key"!==Je)if("ref"===Je)Lt&&Lt(Ye);else if(Ht||"o"!==Je[0]||"n"!==Je[1]){const gn=En(Lt);if((Ht||gn&&null!==Lt)&&!Qt)try{if(Ye.tagName.includes("-"))Ye[Je]=Lt;else{const Hn=Lt??"";"list"===Je?Ht=!1:(null==dt||Ye[Je]!=Hn)&&(Ye[Je]=Hn)}}catch{}let an=!1;zt!==(zt=zt.replace(/^xlink\:?/,""))&&(Je=zt,an=!0),null==Lt||!1===Lt?(!1!==Lt||""===Ye.getAttribute(Je))&&(an?Ye.removeAttributeNS(Ke,Je):Ye.removeAttribute(Je)):(!Ht||4&ot||Qt)&&!gn&&(Lt=!0===Lt?"":Lt,an?Ye.setAttributeNS(Ke,Je,Lt):Ye.setAttribute(Je,Lt))}else Je="-"===Je[2]?Je.slice(3):hr(oe,zt)?zt.slice(2):zt[2]+Je.slice(3),dt&&le.rel(Ye,Je,dt,!1),Lt&&le.ael(Ye,Je,Lt,!1)}},ui=/\s/,wi=Ye=>Ye?Ye.split(ui):[],Oi=(Ye,Je,dt,Lt)=>{const Qt=11===Je.$elm$.nodeType&&Je.$elm$.host?Je.$elm$.host:Je.$elm$,ot=Ye&&Ye.$attrs$||mt,Ht=Je.$attrs$||mt;for(Lt in ot)Lt in Ht||_n(Qt,Lt,ot[Lt],void 0,dt,Je.$flags$);for(Lt in Ht)_n(Qt,Lt,ot[Lt],Ht[Lt],dt,Je.$flags$)},er=(Ye,Je,dt,Lt)=>{const Qt=Je.$children$[dt];let Ht,zt,gn,ot=0;if(Y||(G=!0,"slot"===Qt.$tag$&&(q&&Lt.classList.add(q+"-s"),Qt.$flags$|=Qt.$children$?2:1)),null!==Qt.$text$)Ht=Qt.$elm$=ce.createTextNode(Qt.$text$);else if(1&Qt.$flags$)Ht=Qt.$elm$=ce.createTextNode("");else{if(J||(J="svg"===Qt.$tag$),Ht=Qt.$elm$=ce.createElementNS(J?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&Qt.$flags$?"slot-fb":Qt.$tag$),J&&"foreignObject"===Qt.$tag$&&(J=!1),Oi(null,Qt,J),(Ye=>null!=Ye)(q)&&Ht["s-si"]!==q&&Ht.classList.add(Ht["s-si"]=q),Qt.$children$)for(ot=0;ot<Qt.$children$.length;++ot)zt=er(Ye,Qt,ot,Ht),zt&&Ht.appendChild(zt);"svg"===Qt.$tag$?J=!1:"foreignObject"===Ht.tagName&&(J=!0)}return Ht["s-hn"]=Q,3&Qt.$flags$&&(Ht["s-sr"]=!0,Ht["s-cr"]=$,Ht["s-sn"]=Qt.$name$||"",gn=Ye&&Ye.$children$&&Ye.$children$[dt],gn&&gn.$tag$===Qt.$tag$&&Ye.$elm$&&br(Ye.$elm$,!1)),Ht},br=(Ye,Je)=>{le.$flags$|=1;const dt=Ye.childNodes;for(let Lt=dt.length-1;Lt>=0;Lt--){const Qt=dt[Lt];Qt["s-hn"]!==Q&&Qt["s-ol"]&&(Tt(Qt).insertBefore(Qt,Bn(Qt)),Qt["s-ol"].remove(),Qt["s-ol"]=void 0,G=!0),Je&&br(Qt,Je)}le.$flags$&=-2},cr=(Ye,Je,dt,Lt,Qt,ot)=>{let zt,Ht=Ye["s-cr"]&&Ye["s-cr"].parentNode||Ye;for(Ht.shadowRoot&&Ht.tagName===Q&&(Ht=Ht.shadowRoot);Qt<=ot;++Qt)Lt[Qt]&&(zt=er(null,dt,Qt,Ye),zt&&(Lt[Qt].$elm$=zt,Ht.insertBefore(zt,Bn(Je))))},Mr=(Ye,Je,dt,Lt,Qt)=>{for(;Je<=dt;++Je)(Lt=Ye[Je])&&(Qt=Lt.$elm$,lt(Lt),Z=!0,Qt["s-ol"]?Qt["s-ol"].remove():br(Qt,!0),Qt.remove())},Sn=(Ye,Je)=>Ye.$tag$===Je.$tag$&&("slot"===Ye.$tag$?Ye.$name$===Je.$name$:Ye.$key$===Je.$key$),Bn=Ye=>Ye&&Ye["s-ol"]||Ye,Tt=Ye=>(Ye["s-ol"]?Ye["s-ol"]:Ye).parentNode,xt=(Ye,Je)=>{const dt=Je.$elm$=Ye.$elm$,Lt=Ye.$children$,Qt=Je.$children$,ot=Je.$tag$,Ht=Je.$text$;let zt;null===Ht?(J="svg"===ot||"foreignObject"!==ot&&J,"slot"===ot||Oi(Ye,Je,J),null!==Lt&&null!==Qt?((Ye,Je,dt,Lt)=>{let Ir,ho,Qt=0,ot=0,Ht=0,zt=0,gn=Je.length-1,an=Je[0],Hn=Je[gn],ii=Lt.length-1,In=Lt[0],$i=Lt[ii];for(;Qt<=gn&&ot<=ii;)if(null==an)an=Je[++Qt];else if(null==Hn)Hn=Je[--gn];else if(null==In)In=Lt[++ot];else if(null==$i)$i=Lt[--ii];else if(Sn(an,In))xt(an,In),an=Je[++Qt],In=Lt[++ot];else if(Sn(Hn,$i))xt(Hn,$i),Hn=Je[--gn],$i=Lt[--ii];else if(Sn(an,$i))("slot"===an.$tag$||"slot"===$i.$tag$)&&br(an.$elm$.parentNode,!1),xt(an,$i),Ye.insertBefore(an.$elm$,Hn.$elm$.nextSibling),an=Je[++Qt],$i=Lt[--ii];else if(Sn(Hn,In))("slot"===an.$tag$||"slot"===$i.$tag$)&&br(Hn.$elm$.parentNode,!1),xt(Hn,In),Ye.insertBefore(Hn.$elm$,an.$elm$),Hn=Je[--gn],In=Lt[++ot];else{for(Ht=-1,zt=Qt;zt<=gn;++zt)if(Je[zt]&&null!==Je[zt].$key$&&Je[zt].$key$===In.$key$){Ht=zt;break}Ht>=0?(ho=Je[Ht],ho.$tag$!==In.$tag$?Ir=er(Je&&Je[ot],dt,Ht,Ye):(xt(ho,In),Je[Ht]=void 0,Ir=ho.$elm$),In=Lt[++ot]):(Ir=er(Je&&Je[ot],dt,ot,Ye),In=Lt[++ot]),Ir&&Tt(an.$elm$).insertBefore(Ir,Bn(an.$elm$))}Qt>gn?cr(Ye,null==Lt[ii+1]?null:Lt[ii+1].$elm$,dt,Lt,ot,ii):ot>ii&&Mr(Je,Qt,gn)})(dt,Lt,Je,Qt):null!==Qt?(null!==Ye.$text$&&(dt.textContent=""),cr(dt,null,Je,Qt,0,Qt.length-1)):null!==Lt&&Mr(Lt,0,Lt.length-1),J&&"svg"===ot&&(J=!1)):(zt=dt["s-cr"])?zt.parentNode.textContent=Ht:Ye.$text$!==Ht&&(dt.data=Ht)},nt=Ye=>{const Je=Ye.childNodes;let dt,Lt,Qt,ot,Ht,zt;for(Lt=0,Qt=Je.length;Lt<Qt;Lt++)if(dt=Je[Lt],1===dt.nodeType){if(dt["s-sr"])for(Ht=dt["s-sn"],dt.hidden=!1,ot=0;ot<Qt;ot++)if(zt=Je[ot].nodeType,Je[ot]["s-hn"]!==dt["s-hn"]||""!==Ht){if(1===zt&&Ht===Je[ot].getAttribute("slot")){dt.hidden=!0;break}}else if(1===zt||3===zt&&""!==Je[ot].textContent.trim()){dt.hidden=!0;break}nt(dt)}},ln=[],sn=Ye=>{let Je,dt,Lt,Qt,ot,Ht,zt=0;const gn=Ye.childNodes,an=gn.length;for(;zt<an;zt++){if(Je=gn[zt],Je["s-sr"]&&(dt=Je["s-cr"])&&dt.parentNode)for(Lt=dt.parentNode.childNodes,Qt=Je["s-sn"],Ht=Lt.length-1;Ht>=0;Ht--)dt=Lt[Ht],!dt["s-cn"]&&!dt["s-nr"]&&dt["s-hn"]!==Je["s-hn"]&&(At(dt,Qt)?(ot=ln.find(Hn=>Hn.$nodeToRelocate$===dt),Z=!0,dt["s-sn"]=dt["s-sn"]||Qt,ot?ot.$slotRefNode$=Je:ln.push({$slotRefNode$:Je,$nodeToRelocate$:dt}),dt["s-sr"]&&ln.map(Hn=>{At(Hn.$nodeToRelocate$,dt["s-sn"])&&(ot=ln.find(ii=>ii.$nodeToRelocate$===dt),ot&&!Hn.$slotRefNode$&&(Hn.$slotRefNode$=ot.$slotRefNode$))})):ln.some(Hn=>Hn.$nodeToRelocate$===dt)||ln.push({$nodeToRelocate$:dt}));1===Je.nodeType&&sn(Je)}},At=(Ye,Je)=>1===Ye.nodeType?null===Ye.getAttribute("slot")&&""===Je||Ye.getAttribute("slot")===Je:Ye["s-sn"]===Je||""===Je,lt=Ye=>{Ye.$attrs$&&Ye.$attrs$.ref&&Ye.$attrs$.ref(null),Ye.$children$&&Ye.$children$.map(lt)},Nn=Ye=>Fr(Ye).$hostElement$,Di=(Ye,Je,dt)=>{const Lt=Nn(Ye);return{emit:Qt=>Kn(Lt,Je,{bubbles:!!(4&dt),composed:!!(2&dt),cancelable:!!(1&dt),detail:Qt})}},Kn=(Ye,Je,dt)=>{const Lt=le.ce(Je,dt);return Ye.dispatchEvent(Lt),Lt},lr=(Ye,Je)=>{Je&&!Ye.$onRenderResolve$&&Je["s-p"]&&Je["s-p"].push(new Promise(dt=>Ye.$onRenderResolve$=dt))},Qi=(Ye,Je)=>{if(Ye.$flags$|=16,!(4&Ye.$flags$))return lr(Ye,Ye.$ancestorComponent$),Er(()=>Zt(Ye,Je));Ye.$flags$|=512},Zt=(Ye,Je)=>{const Lt=Ye.$lazyInstance$;let Qt;return Je&&(Ye.$flags$|=256,Ye.$queuedListeners$&&(Ye.$queuedListeners$.map(([ot,Ht])=>ai(Lt,ot,Ht)),Ye.$queuedListeners$=null),Qt=ai(Lt,"componentWillLoad")),Qt=si(Qt,()=>ai(Lt,"componentWillRender")),si(Qt,()=>bt(Ye,Lt,Je))},bt=function(){var Ye=(0,r.Z)(function*(Je,dt,Lt){const Qt=Je.$hostElement$,Ht=Qt["s-rc"];Lt&&(Ye=>{const Je=Ye.$cmpMeta$,dt=Ye.$hostElement$,Lt=Je.$flags$,ot=Re(dt.shadowRoot?dt.shadowRoot:dt.getRootNode(),Je,Ye.$modeName$);10&Lt&&(dt["s-sc"]=ot,dt.classList.add(ot+"-h"),2&Lt&&dt.classList.add(ot+"-s"))})(Je);kt(Je,dt),Ht&&(Ht.map(gn=>gn()),Qt["s-rc"]=void 0);{const gn=Qt["s-p"],an=()=>vn(Je);0===gn.length?an():(Promise.all(gn).then(an),Je.$flags$|=4,gn.length=0)}});return function(dt,Lt,Qt){return Ye.apply(this,arguments)}}(),kt=(Ye,Je,dt)=>{try{Je=Je.render&&Je.render(),Ye.$flags$&=-17,Ye.$flags$|=2,((Ye,Je)=>{const dt=Ye.$hostElement$,Lt=Ye.$cmpMeta$,Qt=Ye.$vnode$||Et(null,null),ot=(Ye=>Ye&&Ye.$tag$===at)(Je)?Je:on(null,null,Je);if(Q=dt.tagName,Lt.$attrsToReflect$&&(ot.$attrs$=ot.$attrs$||{},Lt.$attrsToReflect$.map(([Ht,zt])=>ot.$attrs$[zt]=dt[Ht])),ot.$tag$=null,ot.$flags$|=4,Ye.$vnode$=ot,ot.$elm$=Qt.$elm$=dt.shadowRoot||dt,q=dt["s-sc"],$=dt["s-cr"],Y=0!=(1&Lt.$flags$),Z=!1,xt(Qt,ot),le.$flags$|=1,G){sn(ot.$elm$);let Ht,zt,gn,an,Hn,ii,In=0;for(;In<ln.length;In++)Ht=ln[In],zt=Ht.$nodeToRelocate$,zt["s-ol"]||(gn=ce.createTextNode(""),gn["s-nr"]=zt,zt.parentNode.insertBefore(zt["s-ol"]=gn,zt));for(In=0;In<ln.length;In++)if(Ht=ln[In],zt=Ht.$nodeToRelocate$,Ht.$slotRefNode$){for(an=Ht.$slotRefNode$.parentNode,Hn=Ht.$slotRefNode$.nextSibling,gn=zt["s-ol"];gn=gn.previousSibling;)if(ii=gn["s-nr"],ii&&ii["s-sn"]===zt["s-sn"]&&an===ii.parentNode&&(ii=ii.nextSibling,!ii||!ii["s-nr"])){Hn=ii;break}(!Hn&&an!==zt.parentNode||zt.nextSibling!==Hn)&&zt!==Hn&&(!zt["s-hn"]&&zt["s-ol"]&&(zt["s-hn"]=zt["s-ol"].parentNode.nodeName),an.insertBefore(zt,Hn))}else 1===zt.nodeType&&(zt.hidden=!0)}Z&&nt(ot.$elm$),le.$flags$&=-2,ln.length=0})(Ye,Je)}catch(Lt){Nr(Lt,Ye.$hostElement$)}return null},vn=Ye=>{const dt=Ye.$hostElement$,Qt=Ye.$lazyInstance$,ot=Ye.$ancestorComponent$;ai(Qt,"componentDidRender"),64&Ye.$flags$?ai(Qt,"componentDidUpdate"):(Ye.$flags$|=64,Jn(dt),ai(Qt,"componentDidLoad"),Ye.$onReadyResolve$(dt),ot||Vt()),Ye.$onInstanceResolve$(dt),Ye.$onRenderResolve$&&(Ye.$onRenderResolve$(),Ye.$onRenderResolve$=void 0),512&Ye.$flags$&&di(()=>Qi(Ye,!1)),Ye.$flags$&=-517},yn=Ye=>{{const Je=Fr(Ye),dt=Je.$hostElement$.isConnected;return dt&&2==(18&Je.$flags$)&&Qi(Je,!1),dt}},Vt=Ye=>{Jn(ce.documentElement),di(()=>Kn(oe,"appload",{detail:{namespace:"ionic"}}))},ai=(Ye,Je,dt)=>{if(Ye&&Ye[Je])try{return Ye[Je](dt)}catch(Lt){Nr(Lt)}},si=(Ye,Je)=>Ye&&Ye.then?Ye.then(Je):Je(),Jn=Ye=>Ye.classList.add("hydrated"),tr=(Ye,Je,dt,Lt,Qt,ot,Ht)=>{let zt,gn,an,Hn;if(1===ot.nodeType){for(zt=ot.getAttribute("c-id"),zt&&(gn=zt.split("."),(gn[0]===Ht||"0"===gn[0])&&(an={$flags$:0,$hostId$:gn[0],$nodeId$:gn[1],$depth$:gn[2],$index$:gn[3],$tag$:ot.tagName.toLowerCase(),$elm$:ot,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},Je.push(an),ot.removeAttribute("c-id"),Ye.$children$||(Ye.$children$=[]),Ye.$children$[an.$index$]=an,Ye=an,Lt&&"0"===an.$depth$&&(Lt[an.$index$]=an.$elm$))),Hn=ot.childNodes.length-1;Hn>=0;Hn--)tr(Ye,Je,dt,Lt,Qt,ot.childNodes[Hn],Ht);if(ot.shadowRoot)for(Hn=ot.shadowRoot.childNodes.length-1;Hn>=0;Hn--)tr(Ye,Je,dt,Lt,Qt,ot.shadowRoot.childNodes[Hn],Ht)}else if(8===ot.nodeType)gn=ot.nodeValue.split("."),(gn[1]===Ht||"0"===gn[1])&&(zt=gn[0],an={$flags$:0,$hostId$:gn[1],$nodeId$:gn[2],$depth$:gn[3],$index$:gn[4],$elm$:ot,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===zt?(an.$elm$=ot.nextSibling,an.$elm$&&3===an.$elm$.nodeType&&(an.$text$=an.$elm$.textContent,Je.push(an),ot.remove(),Ye.$children$||(Ye.$children$=[]),Ye.$children$[an.$index$]=an,Lt&&"0"===an.$depth$&&(Lt[an.$index$]=an.$elm$))):an.$hostId$===Ht&&("s"===zt?(an.$tag$="slot",ot["s-sn"]=gn[5]?an.$name$=gn[5]:"",ot["s-sr"]=!0,Lt&&(an.$elm$=ce.createElement(an.$tag$),an.$name$&&an.$elm$.setAttribute("name",an.$name$),ot.parentNode.insertBefore(an.$elm$,ot),ot.remove(),"0"===an.$depth$&&(Lt[an.$index$]=an.$elm$)),dt.push(an),Ye.$children$||(Ye.$children$=[]),Ye.$children$[an.$index$]=an):"r"===zt&&(Lt?ot.remove():(Qt["s-cr"]=ot,ot["s-cn"]=!0))));else if(Ye&&"style"===Ye.$tag$){const ii=Et(null,ot.textContent);ii.$elm$=ot,ii.$index$="0",Ye.$children$=[ii]}},Ot=(Ye,Je)=>{if(1===Ye.nodeType){let dt=0;for(;dt<Ye.childNodes.length;dt++)Ot(Ye.childNodes[dt],Je);if(Ye.shadowRoot)for(dt=0;dt<Ye.shadowRoot.childNodes.length;dt++)Ot(Ye.shadowRoot.childNodes[dt],Je)}else if(8===Ye.nodeType){const dt=Ye.nodeValue.split(".");"o"===dt[0]&&(Je.set(dt[1]+"."+dt[2],Ye),Ye.nodeValue="",Ye["s-en"]=dt[3])}},hn=(Ye,Je,dt)=>{if(Je.$members$){Ye.watchers&&(Je.$watchers$=Ye.watchers);const Lt=Object.entries(Je.$members$),Qt=Ye.prototype;if(Lt.map(([ot,[Ht]])=>{31&Ht||2&dt&&32&Ht?Object.defineProperty(Qt,ot,{get(){return((Ye,Je)=>Fr(this).$instanceValues$.get(Je))(0,ot)},set(zt){((Ye,Je,dt,Lt)=>{const Qt=Fr(Ye),ot=Qt.$hostElement$,Ht=Qt.$instanceValues$.get(Je),zt=Qt.$flags$,gn=Qt.$lazyInstance$;dt=((Ye,Je)=>null==Ye||En(Ye)?Ye:4&Je?"false"!==Ye&&(""===Ye||!!Ye):2&Je?parseFloat(Ye):1&Je?String(Ye):Ye)(dt,Lt.$members$[Je][0]);const an=Number.isNaN(Ht)&&Number.isNaN(dt);if((!(8&zt)||void 0===Ht)&&dt!==Ht&&!an&&(Qt.$instanceValues$.set(Je,dt),gn)){if(Lt.$watchers$&&128&zt){const ii=Lt.$watchers$[Je];ii&&ii.map(In=>{try{gn[In](dt,Ht,Je)}catch($i){Nr($i,ot)}})}2==(18&zt)&&Qi(Qt,!1)}})(this,ot,zt,Je)},configurable:!0,enumerable:!0}):1&dt&&64&Ht&&Object.defineProperty(Qt,ot,{value(...zt){const gn=Fr(this);return gn.$onInstancePromise$.then(()=>gn.$lazyInstance$[ot](...zt))}})}),1&dt){const ot=new Map;Qt.attributeChangedCallback=function(Ht,zt,gn){le.jmp(()=>{const an=ot.get(Ht);if(this.hasOwnProperty(an))gn=this[an],delete this[an];else if(Qt.hasOwnProperty(an)&&"number"==typeof this[an]&&this[an]==gn)return;this[an]=(null!==gn||"boolean"!=typeof this[an])&&gn})},Ye.observedAttributes=Lt.filter(([Ht,zt])=>15&zt[0]).map(([Ht,zt])=>{const gn=zt[1]||Ht;return ot.set(gn,Ht),512&zt[0]&&Je.$attrsToReflect$.push([Ht,gn]),gn})}}return Ye},kn=function(){var Ye=(0,r.Z)(function*(Je,dt,Lt,Qt,ot){if(!(32&dt.$flags$)){{if(dt.$flags$|=32,(ot=wr(Lt)).then){const an=()=>{};ot=yield ot,an()}ot.isProxied||(Lt.$watchers$=ot.watchers,hn(ot,Lt,2),ot.isProxied=!0);const gn=()=>{};dt.$flags$|=8;try{new ot(dt)}catch(an){Nr(an)}dt.$flags$&=-9,dt.$flags$|=128,gn(),Yn(dt.$lazyInstance$)}if(ot.style){let gn=ot.style;"string"!=typeof gn&&(gn=gn[dt.$modeName$=(Ye=>no.map(Je=>Je(Ye)).find(Je=>!!Je))(Je)]);const an=Ve(Lt,dt.$modeName$);if(!lo.has(an)){const Hn=()=>{};Te(an,gn,!!(1&Lt.$flags$)),Hn()}}}const Ht=dt.$ancestorComponent$,zt=()=>Qi(dt,!0);Ht&&Ht["s-rc"]?Ht["s-rc"].push(zt):zt()});return function(dt,Lt,Qt,ot,Ht){return Ye.apply(this,arguments)}}(),Yn=Ye=>{ai(Ye,"connectedCallback")},mr=Ye=>{const Je=Ye["s-cr"]=ce.createComment("");Je["s-cn"]=!0,Ye.insertBefore(Je,Ye.firstChild)},Hi=(Ye,Je={})=>{const Lt=[],Qt=Je.exclude||[],ot=oe.customElements,Ht=ce.head,zt=Ht.querySelector("meta[charset]"),gn=ce.createElement("style"),an=[],Hn=ce.querySelectorAll(`[${rt}]`);let ii,In=!0,$i=0;for(Object.assign(le,Je),le.$resourcesUrl$=new URL(Je.resourcesUrl||"./",ce.baseURI).href,le.$flags$|=2;$i<Hn.length;$i++)Te(Hn[$i].getAttribute(rt),Ce(Hn[$i].innerHTML),!0);Ye.map(Ir=>{Ir[1].map(ho=>{const Ii={$flags$:ho[0],$tagName$:ho[1],$members$:ho[2],$listeners$:ho[3]};Ii.$members$=ho[2],Ii.$listeners$=ho[3],Ii.$attrsToReflect$=[],Ii.$watchers$={};const xr=Ii.$tagName$,fr=class extends HTMLElement{constructor(Kr){super(Kr),Do(Kr=this,Ii),1&Ii.$flags$&&Kr.attachShadow({mode:"open",delegatesFocus:!!(16&Ii.$flags$)})}connectedCallback(){ii&&(clearTimeout(ii),ii=null),In?an.push(this):le.jmp(()=>(Ye=>{if(!(1&le.$flags$)){const Je=Fr(Ye),dt=Je.$cmpMeta$,Lt=()=>{};if(1&Je.$flags$)_e(Ye,Je,dt.$listeners$),Yn(Je.$lazyInstance$);else{let Qt;if(Je.$flags$|=1,Qt=Ye.getAttribute(Ze),Qt){if(1&dt.$flags$){const ot=Re(Ye.shadowRoot,dt,Ye.getAttribute("s-mode"));Ye.classList.remove(ot+"-h",ot+"-s")}((Ye,Je,dt,Lt)=>{const ot=Ye.shadowRoot,Ht=[],gn=ot?[]:null,an=Lt.$vnode$=Et(Je,null);le.$orgLocNodes$||Ot(ce.body,le.$orgLocNodes$=new Map),Ye[Ze]=dt,Ye.removeAttribute(Ze),tr(an,Ht,[],gn,Ye,Ye,dt),Ht.map(Hn=>{const ii=Hn.$hostId$+"."+Hn.$nodeId$,In=le.$orgLocNodes$.get(ii),$i=Hn.$elm$;In&&""===In["s-en"]&&In.parentNode.insertBefore($i,In.nextSibling),ot||($i["s-hn"]=Je,In&&($i["s-ol"]=In,$i["s-ol"]["s-nr"]=$i)),le.$orgLocNodes$.delete(ii)}),ot&&gn.map(Hn=>{Hn&&ot.appendChild(Hn)})})(Ye,dt.$tagName$,Qt,Je)}Qt||12&dt.$flags$&&mr(Ye);{let ot=Ye;for(;ot=ot.parentNode||ot.host;)if(1===ot.nodeType&&ot.hasAttribute("s-id")&&ot["s-p"]||ot["s-p"]){lr(Je,Je.$ancestorComponent$=ot);break}}dt.$members$&&Object.entries(dt.$members$).map(([ot,[Ht]])=>{if(31&Ht&&Ye.hasOwnProperty(ot)){const zt=Ye[ot];delete Ye[ot],Ye[ot]=zt}}),di(()=>kn(Ye,Je,dt))}Lt()}})(this))}disconnectedCallback(){le.jmp(()=>(Ye=>{if(!(1&le.$flags$)){const Je=Fr(this),dt=Je.$lazyInstance$;Je.$rmListeners$&&(Je.$rmListeners$.map(Lt=>Lt()),Je.$rmListeners$=void 0),ai(dt,"disconnectedCallback")}})())}componentOnReady(){return Fr(this).$onReadyPromise$}};Ii.$lazyBundleId$=Ir[0],!Qt.includes(xr)&&!ot.get(xr)&&(Lt.push(xr),ot.define(xr,hn(fr,Ii,1)))})}),gn.innerHTML=Lt+"{visibility:hidden}.hydrated{visibility:inherit}",gn.setAttribute("data-styles",""),Ht.insertBefore(gn,zt?zt.nextSibling:Ht.firstChild),In=!1,an.length?an.map(Ir=>Ir.connectedCallback()):le.jmp(()=>ii=setTimeout(Vt,30))},Zi=Ye=>{const Je=new URL(Ye,le.$resourcesUrl$);return Je.origin!==oe.location.origin?Je.href:Je.pathname},Rr=new WeakMap,Fr=Ye=>Rr.get(Ye),go=(Ye,Je)=>Rr.set(Je.$lazyInstance$=Ye,Je),Do=(Ye,Je)=>{const dt={$flags$:0,$hostElement$:Ye,$cmpMeta$:Je,$instanceValues$:new Map};return dt.$onInstancePromise$=new Promise(Lt=>dt.$onInstanceResolve$=Lt),dt.$onReadyPromise$=new Promise(Lt=>dt.$onReadyResolve$=Lt),Ye["s-p"]=[],Ye["s-rc"]=[],_e(Ye,dt,Je.$listeners$),Rr.set(Ye,dt)},hr=(Ye,Je)=>Je in Ye,Nr=(Ye,Je)=>(0,console.error)(Ye,Je),Ki=new Map,wr=(Ye,Je,dt)=>{const Lt=Ye.$tagName$.replace(/-/g,"_"),Qt=Ye.$lazyBundleId$,ot=Ki.get(Qt);return ot?ot[Lt]:A(863)(`./${Qt}.entry.js`).then(Ht=>(Ki.set(Qt,Ht),Ht[Lt]),Nr)},lo=new Map,no=[],Gr=[],uo=[],zi=(Ye,Je)=>dt=>{Ye.push(dt),ue||(ue=!0,Je&&4&le.$flags$?di(_i):le.raf(_i))},Bi=Ye=>{for(let Je=0;Je<Ye.length;Je++)try{Ye[Je](performance.now())}catch(dt){Nr(dt)}Ye.length=0},_i=()=>{Bi(Gr),Bi(uo),(ue=Gr.length>0)&&le.raf(_i)},di=Ye=>xe().then(Ye),kr=zi(Gr,!1),Er=zi(uo,!0),oo={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},5179:(Ct,H,A)=>{"use strict";A.d(H,{a:()=>oe,b:()=>Se,c:()=>q,g:()=>ue,i:()=>Te});var r=A(1308);class F{constructor(){this.m=new Map}reset(De){this.m=new Map(Object.entries(De))}get(De,Ve){const Ce=this.m.get(De);return void 0!==Ce?Ce:Ve}getBoolean(De,Ve=!1){const Ce=this.m.get(De);return void 0===Ce?Ve:"string"==typeof Ce?"true"===Ce:!!Ce}getNumber(De,Ve){const Ce=parseFloat(this.m.get(De));return isNaN(Ce)?void 0!==Ve?Ve:NaN:Ce}set(De,Ve){this.m.set(De,Ve)}}const q=new F,G="ionic:",J="ionic-persist-config",ue=Re=>ce(Re),oe=(Re,De)=>("string"==typeof Re&&(De=Re,Re=void 0),ue(Re).includes(De)),ce=(Re=window)=>{if(typeof Re>"u")return[];Re.Ionic=Re.Ionic||{};let De=Re.Ionic.platforms;return null==De&&(De=Re.Ionic.platforms=le(Re),De.forEach(Ve=>Re.document.documentElement.classList.add(`plt-${Ve}`))),De},le=Re=>{const De=q.get("platform");return Object.keys(ge).filter(Ve=>{const Ce=De?.[Ve];return"function"==typeof Ce?Ce(Re):ge[Ve](Re)})},ke=Re=>!!(ze(Re,/iPad/i)||ze(Re,/Macintosh/i)&&Ae(Re)),_e=Re=>ze(Re,/android|sink/i),Ae=Re=>Ke(Re,"(any-pointer:coarse)"),Le=Re=>Ge(Re)||Ze(Re),Ge=Re=>!!(Re.cordova||Re.phonegap||Re.PhoneGap),Ze=Re=>!!Re.Capacitor?.isNative,ze=(Re,De)=>De.test(Re.navigator.userAgent),Ke=(Re,De)=>{var Ve;return null===(Ve=Re.matchMedia)||void 0===Ve?void 0:Ve.call(Re,De).matches},ge={ipad:ke,iphone:Re=>ze(Re,/iPhone/i),ios:Re=>ze(Re,/iPhone|iPod/i)||ke(Re),android:_e,phablet:Re=>{const De=Re.innerWidth,Ve=Re.innerHeight,Ce=Math.min(De,Ve),Ue=Math.max(De,Ve);return Ce>390&&Ce<520&&Ue>620&&Ue<800},tablet:Re=>{const De=Re.innerWidth,Ve=Re.innerHeight,Ce=Math.min(De,Ve),Ue=Math.max(De,Ve);return ke(Re)||(Re=>_e(Re)&&!ze(Re,/mobile/i))(Re)||Ce>460&&Ce<820&&Ue>780&&Ue<1400},cordova:Ge,capacitor:Ze,electron:Re=>ze(Re,/electron/i),pwa:Re=>{var De;return!!(null!==(De=Re.matchMedia)&&void 0!==De&&De.call(Re,"(display-mode: standalone)").matches||Re.navigator.standalone)},mobile:Ae,mobileweb:Re=>Ae(Re)&&!Le(Re),desktop:Re=>!Ae(Re),hybrid:Le};let pe;const Se=Re=>Re&&(0,r.g)(Re)||pe,Te=(Re={})=>{if(typeof window>"u")return;const De=window.document,Ve=window,Ce=Ve.Ionic=Ve.Ionic||{},Ue={};Re._ael&&(Ue.ael=Re._ael),Re._rel&&(Ue.rel=Re._rel),Re._ce&&(Ue.ce=Re._ce),(0,r.s)(Ue);const Me=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Re=>{try{const De=Re.sessionStorage.getItem(J);return null!==De?JSON.parse(De):{}}catch{return{}}})(Ve)),{persistConfig:!1}),Ce.config),(Re=>{const De={};return Re.location.search.slice(1).split("&").map(Ve=>Ve.split("=")).map(([Ve,Ce])=>[decodeURIComponent(Ve),decodeURIComponent(Ce)]).filter(([Ve])=>((Re,De)=>Re.substr(0,De.length)===De)(Ve,G)).map(([Ve,Ce])=>[Ve.slice(G.length),Ce]).forEach(([Ve,Ce])=>{De[Ve]=Ce}),De})(Ve)),Re);q.reset(Me),q.getBoolean("persistConfig")&&((Re,De)=>{try{Re.sessionStorage.setItem(J,JSON.stringify(De))}catch{return}})(Ve,Me),ce(Ve),Ce.config=q,Ce.mode=pe=q.get("mode",De.documentElement.getAttribute("mode")||(oe(Ve,"ios")?"ios":"md")),q.set("mode",pe),De.documentElement.setAttribute("mode",pe),De.documentElement.classList.add(pe),q.getBoolean("_testing")&&q.set("animated",!1);const Fe=_t=>{var Mt;return null===(Mt=_t.tagName)||void 0===Mt?void 0:Mt.startsWith("ION-")},mt=_t=>["ios","md"].includes(_t);(0,r.a)(_t=>{for(;_t;){const Mt=_t.mode||_t.getAttribute("mode");if(Mt){if(mt(Mt))return Mt;Fe(_t)&&console.warn('Invalid ionic mode: "'+Mt+'", expected: "ios" or "md"')}_t=_t.parentElement}return pe})}},6439:(Ct,H,A)=>{"use strict";A.r(H),A.d(H,{iosTransitionAnimation:()=>le,shadow:()=>Z});var r=A(181),F=A(1843);A(2621),A(1308);const Y=de=>document.querySelector(`${de}.ion-cloned-element`),Z=de=>de.shadowRoot||de,G=de=>{const ke="ION-TABS"===de.tagName?de:de.querySelector("ion-tabs"),xe="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=ke){const se=ke.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=se?se.querySelector(xe):null}return de.querySelector(xe)},J=(de,ke)=>{const xe="ION-TABS"===de.tagName?de:de.querySelector("ion-tabs");let se=[];if(null!=xe){const _e=xe.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=_e&&(se=_e.querySelectorAll("ion-buttons"))}else se=de.querySelectorAll("ion-buttons");for(const _e of se){const Ie=_e.closest("ion-header"),Be=Ie&&!Ie.classList.contains("header-collapse-condense-inactive"),tt=_e.querySelector("ion-back-button"),Ae=_e.classList.contains("buttons-collapse");if(null!==tt&&("start"===_e.slot||""===_e.slot)&&(Ae&&Be&&ke||!Ae))return tt}return null},oe=(de,ke,xe,se,_e,Ie)=>{const Be=ke?`calc(100% - ${Ie.right+4}px)`:Ie.left-4+"px",tt=ke?"7px":"-7px",Ae=ke?"-4px":"4px",vt=ke?"-4px":"4px",Le=ke?"right":"left",Ge=ke?"left":"right",ct=xe?[{offset:0,opacity:1,transform:`translate3d(${Ae}, ${Ie.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${tt}, ${_e.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${tt}, ${_e.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Ae}, ${Ie.top-46}px, 0) scale(1)`}],ge=xe?[{offset:0,opacity:1,transform:`translate3d(${vt}, ${Ie.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${vt}, ${Ie.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${vt}, ${Ie.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${vt}, ${Ie.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${vt}, ${Ie.top-46}px, 0) scale(1)`}],pe=(0,r.c)(),Se=(0,r.c)(),Te=Y("ion-back-button"),Re=Z(Te).querySelector(".button-text"),De=Z(Te).querySelector("ion-icon");Te.text=se.text,Te.mode=se.mode,Te.icon=se.icon,Te.color=se.color,Te.disabled=se.disabled,Te.style.setProperty("display","block"),Te.style.setProperty("position","fixed"),Se.addElement(De),pe.addElement(Re),pe.beforeStyles({"transform-origin":`${Le} center`}).beforeAddWrite(()=>{se.style.setProperty("display","none"),Te.style.setProperty(Le,Be)}).afterAddWrite(()=>{se.style.setProperty("display",""),Te.style.setProperty("display","none"),Te.style.removeProperty(Le)}).keyframes(ct),Se.beforeStyles({"transform-origin":`${Ge} center`}).keyframes(ge),de.addAnimation([pe,Se])},ce=(de,ke,xe,se,_e,Ie)=>{const Be=ke?`calc(100% - ${_e.right}px)`:`${_e.left}px`,tt=ke?"-18px":"18px",Ae=ke?"right":"left",Ge=xe?[{offset:0,opacity:0,transform:`translate3d(${tt}, ${Ie.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${_e.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${_e.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${tt}, ${Ie.top-4}px, 0) scale(0.5)`}],Ze=Y("ion-title"),rt=(0,r.c)();Ze.innerText=se.innerText,Ze.size=se.size,Ze.color=se.color,rt.addElement(Ze),rt.beforeStyles({"transform-origin":`${Ae} center`,height:"46px",display:"",position:"relative",[Ae]:Be}).beforeAddWrite(()=>{se.style.setProperty("display","none")}).afterAddWrite(()=>{se.style.setProperty("display",""),Ze.style.setProperty("display","none")}).keyframes(Ge),de.addAnimation(rt)},le=(de,ke)=>{var xe;try{const se="cubic-bezier(0.32,0.72,0,1)",_e="opacity",Ie="transform",Be="0%",Ae="rtl"===de.ownerDocument.dir,vt=Ae?"-99.5%":"99.5%",Le=Ae?"33%":"-33%",Ge=ke.enteringEl,Ze=ke.leavingEl,rt="back"===ke.direction,ct=Ge.querySelector(":scope > ion-content"),ze=Ge.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),Ke=Ge.querySelectorAll(":scope > ion-header > ion-toolbar"),ge=(0,r.c)(),pe=(0,r.c)();if(ge.addElement(Ge).duration((null!==(xe=ke.duration)&&void 0!==xe?xe:0)||540).easing(ke.easing||se).fill("both").beforeRemoveClass("ion-page-invisible"),Ze&&null!=de){const De=(0,r.c)();De.addElement(de),ge.addAnimation(De)}if(ct||0!==Ke.length||0!==ze.length?(pe.addElement(ct),pe.addElement(ze)):pe.addElement(Ge.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ge.addAnimation(pe),rt?pe.beforeClearStyles([_e]).fromTo("transform",`translateX(${Le})`,`translateX(${Be})`).fromTo(_e,.8,1):pe.beforeClearStyles([_e]).fromTo("transform",`translateX(${vt})`,`translateX(${Be})`),ct){const De=Z(ct).querySelector(".transition-effect");if(De){const Ve=De.querySelector(".transition-cover"),Ce=De.querySelector(".transition-shadow"),Ue=(0,r.c)(),Me=(0,r.c)(),Fe=(0,r.c)();Ue.addElement(De).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Me.addElement(Ve).beforeClearStyles([_e]).fromTo(_e,0,.1),Fe.addElement(Ce).beforeClearStyles([_e]).fromTo(_e,.03,.7),Ue.addAnimation([Me,Fe]),pe.addAnimation([Ue])}}const Se=Ge.querySelector("ion-header.header-collapse-condense"),{forward:Te,backward:Re}=((de,ke,xe,se,_e)=>{const Ie=J(se,xe),Be=G(_e),tt=G(se),Ae=J(_e,xe),vt=null!==Ie&&null!==Be&&!xe,Le=null!==tt&&null!==Ae&&xe;if(vt){const Ge=Be.getBoundingClientRect(),Ze=Ie.getBoundingClientRect();ce(de,ke,xe,Be,Ge,Ze),oe(de,ke,xe,Ie,Ge,Ze)}else if(Le){const Ge=tt.getBoundingClientRect(),Ze=Ae.getBoundingClientRect();ce(de,ke,xe,tt,Ge,Ze),oe(de,ke,xe,Ae,Ge,Ze)}return{forward:vt,backward:Le}})(ge,Ae,rt,Ge,Ze);if(Ke.forEach(De=>{const Ve=(0,r.c)();Ve.addElement(De),ge.addAnimation(Ve);const Ce=(0,r.c)();Ce.addElement(De.querySelector("ion-title"));const Ue=(0,r.c)(),Me=Array.from(De.querySelectorAll("ion-buttons,[menuToggle]")),Fe=De.closest("ion-header"),mt=Fe?.classList.contains("header-collapse-condense-inactive");let _t;_t=Me.filter(rt?Et=>{const at=Et.classList.contains("buttons-collapse");return at&&!mt||!at}:Et=>!Et.classList.contains("buttons-collapse")),Ue.addElement(_t);const Mt=(0,r.c)();Mt.addElement(De.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const cn=(0,r.c)();cn.addElement(Z(De).querySelector(".toolbar-background"));const En=(0,r.c)(),on=De.querySelector("ion-back-button");if(on&&En.addElement(on),Ve.addAnimation([Ce,Ue,Mt,cn,En]),Ue.fromTo(_e,.01,1),Mt.fromTo(_e,.01,1),rt)mt||Ce.fromTo("transform",`translateX(${Le})`,`translateX(${Be})`).fromTo(_e,.01,1),Mt.fromTo("transform",`translateX(${Le})`,`translateX(${Be})`),En.fromTo(_e,.01,1);else if(Se||Ce.fromTo("transform",`translateX(${vt})`,`translateX(${Be})`).fromTo(_e,.01,1),Mt.fromTo("transform",`translateX(${vt})`,`translateX(${Be})`),cn.beforeClearStyles([_e,"transform"]),Fe?.translucent?cn.fromTo("transform",Ae?"translateX(-100%)":"translateX(100%)","translateX(0px)"):cn.fromTo(_e,.01,"var(--opacity)"),Te||En.fromTo(_e,.01,1),on&&!Te){const at=(0,r.c)();at.addElement(Z(on).querySelector(".button-text")).fromTo("transform",Ae?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ve.addAnimation(at)}}),Ze){const De=(0,r.c)(),Ve=Ze.querySelector(":scope > ion-content"),Ce=Ze.querySelectorAll(":scope > ion-header > ion-toolbar"),Ue=Ze.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ve||0!==Ce.length||0!==Ue.length?(De.addElement(Ve),De.addElement(Ue)):De.addElement(Ze.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ge.addAnimation(De),rt){De.beforeClearStyles([_e]).fromTo("transform",`translateX(${Be})`,Ae?"translateX(-100%)":"translateX(100%)");const Me=(0,F.g)(Ze);ge.afterAddWrite(()=>{"normal"===ge.getDirection()&&Me.style.setProperty("display","none")})}else De.fromTo("transform",`translateX(${Be})`,`translateX(${Le})`).fromTo(_e,1,.8);if(Ve){const Me=Z(Ve).querySelector(".transition-effect");if(Me){const Fe=Me.querySelector(".transition-cover"),mt=Me.querySelector(".transition-shadow"),_t=(0,r.c)(),Mt=(0,r.c)(),cn=(0,r.c)();_t.addElement(Me).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Mt.addElement(Fe).beforeClearStyles([_e]).fromTo(_e,.1,0),cn.addElement(mt).beforeClearStyles([_e]).fromTo(_e,.7,.03),_t.addAnimation([Mt,cn]),De.addAnimation([_t])}}Ce.forEach(Me=>{const Fe=(0,r.c)();Fe.addElement(Me);const mt=(0,r.c)();mt.addElement(Me.querySelector("ion-title"));const _t=(0,r.c)(),Mt=Me.querySelectorAll("ion-buttons,[menuToggle]"),cn=Me.closest("ion-header"),En=cn?.classList.contains("header-collapse-condense-inactive"),on=Array.from(Mt).filter(Cn=>{const _n=Cn.classList.contains("buttons-collapse");return _n&&!En||!_n});_t.addElement(on);const Et=(0,r.c)(),at=Me.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");at.length>0&&Et.addElement(at);const tn=(0,r.c)();tn.addElement(Z(Me).querySelector(".toolbar-background"));const Wt=(0,r.c)(),mn=Me.querySelector("ion-back-button");if(mn&&Wt.addElement(mn),Fe.addAnimation([mt,_t,Et,Wt,tn]),ge.addAnimation(Fe),Wt.fromTo(_e,.99,0),_t.fromTo(_e,.99,0),Et.fromTo(_e,.99,0),rt){if(En||mt.fromTo("transform",`translateX(${Be})`,Ae?"translateX(-100%)":"translateX(100%)").fromTo(_e,.99,0),Et.fromTo("transform",`translateX(${Be})`,Ae?"translateX(-100%)":"translateX(100%)"),tn.beforeClearStyles([_e,"transform"]),cn?.translucent?tn.fromTo("transform","translateX(0px)",Ae?"translateX(-100%)":"translateX(100%)"):tn.fromTo(_e,"var(--opacity)",0),mn&&!Re){const _n=(0,r.c)();_n.addElement(Z(mn).querySelector(".button-text")).fromTo("transform",`translateX(${Be})`,`translateX(${(Ae?-124:124)+"px"})`),Fe.addAnimation(_n)}}else En||mt.fromTo("transform",`translateX(${Be})`,`translateX(${Le})`).fromTo(_e,.99,0).afterClearStyles([Ie,_e]),Et.fromTo("transform",`translateX(${Be})`,`translateX(${Le})`).afterClearStyles([Ie,_e]),Wt.afterClearStyles([_e]),mt.afterClearStyles([_e]),_t.afterClearStyles([_e])})}return ge}catch(se){throw se}}},7838:(Ct,H,A)=>{"use strict";A.r(H),A.d(H,{mdTransitionAnimation:()=>Q});var r=A(181),F=A(1843);A(2621),A(1308);const Q=(Y,Z)=>{var G,J,ue;const le="back"===Z.direction,ke=Z.leavingEl,xe=(0,F.g)(Z.enteringEl),se=xe.querySelector("ion-toolbar"),_e=(0,r.c)();if(_e.addElement(xe).fill("both").beforeRemoveClass("ion-page-invisible"),le?_e.duration((null!==(G=Z.duration)&&void 0!==G?G:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):_e.duration((null!==(J=Z.duration)&&void 0!==J?J:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),se){const Ie=(0,r.c)();Ie.addElement(se),_e.addAnimation(Ie)}if(ke&&le){_e.duration((null!==(ue=Z.duration)&&void 0!==ue?ue:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ie=(0,r.c)();Ie.addElement((0,F.g)(ke)).onFinish(Be=>{1===Be&&Ie.elements.length>0&&Ie.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),_e.addAnimation(Ie)}return _e}},3539:(Ct,H,A)=>{"use strict";A.d(H,{B:()=>Ve,G:()=>Ce,a:()=>G,b:()=>J,c:()=>le,d:()=>rt,e:()=>ke,f:()=>ze,g:()=>pe,h:()=>Y,i:()=>Te,j:()=>_e,k:()=>Ge,m:()=>oe,s:()=>De});var r=A(5861),F=A(5179),q=A(7593),$=A(5730);let Q=0;const Y=new WeakMap,Z=Ue=>({create:Me=>xe(Ue,Me),dismiss:(Me,Fe,mt)=>vt(document,Me,Fe,Ue,mt),getTop:()=>(0,r.Z)(function*(){return Ge(document,Ue)})()}),G=Z("ion-alert"),J=Z("ion-action-sheet"),oe=Z("ion-modal"),le=Z("ion-popover"),ke=Ue=>{typeof document<"u"&&Ae(document);const Me=Q++;Ue.overlayIndex=Me,Ue.hasAttribute("id")||(Ue.id=`ion-overlay-${Me}`)},xe=(Ue,Me)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Ue).then(()=>{const Fe=document.createElement(Ue);return Fe.classList.add("overlay-hidden"),Object.assign(Fe,Object.assign(Object.assign({},Me),{hasController:!0})),Ke(document).appendChild(Fe),new Promise(mt=>(0,$.c)(Fe,mt))}):Promise.resolve(),se='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',_e=(Ue,Me)=>{let Fe=Ue.querySelector(se);const mt=Fe?.shadowRoot;mt&&(Fe=mt.querySelector(se)||Fe),Fe?(0,$.f)(Fe):Me.focus()},Be=(Ue,Me)=>{const Fe=Array.from(Ue.querySelectorAll(se));let mt=Fe.length>0?Fe[Fe.length-1]:null;const _t=mt?.shadowRoot;_t&&(mt=_t.querySelector(se)||mt),mt?mt.focus():Me.focus()},Ae=Ue=>{0===Q&&(Q=1,Ue.addEventListener("focus",Me=>{((Ue,Me)=>{const Fe=Ge(Me,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),mt=Ue.target;Fe&&mt&&!Fe.classList.contains("ion-disable-focus-trap")&&(Fe.shadowRoot?(()=>{if(Fe.contains(mt))Fe.lastFocus=mt;else{const cn=Fe.lastFocus;_e(Fe,Fe),cn===Me.activeElement&&Be(Fe,Fe),Fe.lastFocus=Me.activeElement}})():(()=>{if(Fe===mt)Fe.lastFocus=void 0;else{const cn=(0,$.g)(Fe);if(!cn.contains(mt))return;const En=cn.querySelector(".ion-overlay-wrapper");if(!En)return;if(En.contains(mt))Fe.lastFocus=mt;else{const on=Fe.lastFocus;_e(En,Fe),on===Me.activeElement&&Be(En,Fe),Fe.lastFocus=Me.activeElement}}})())})(Me,Ue)},!0),Ue.addEventListener("ionBackButton",Me=>{const Fe=Ge(Ue);Fe?.backdropDismiss&&Me.detail.register(q.OVERLAY_BACK_BUTTON_PRIORITY,()=>Fe.dismiss(void 0,Ve))}),Ue.addEventListener("keyup",Me=>{if("Escape"===Me.key){const Fe=Ge(Ue);Fe?.backdropDismiss&&Fe.dismiss(void 0,Ve)}}))},vt=(Ue,Me,Fe,mt,_t)=>{const Mt=Ge(Ue,mt,_t);return Mt?Mt.dismiss(Me,Fe):Promise.reject("overlay does not exist")},Ge=(Ue,Me,Fe)=>{const mt=((Ue,Me)=>(void 0===Me&&(Me="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Ue.querySelectorAll(Me)).filter(Fe=>Fe.overlayIndex>0)))(Ue,Me).filter(_t=>!(Ue=>Ue.classList.contains("overlay-hidden"))(_t));return void 0===Fe?mt[mt.length-1]:mt.find(_t=>_t.id===Fe)},Ze=(Ue=!1)=>{const Fe=Ke(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Fe&&(Ue?Fe.setAttribute("aria-hidden","true"):Fe.removeAttribute("aria-hidden"))},rt=function(){var Ue=(0,r.Z)(function*(Me,Fe,mt,_t,Mt){var cn,En;if(Me.presented)return;Ze(!0),Me.presented=!0,Me.willPresent.emit(),null===(cn=Me.willPresentShorthand)||void 0===cn||cn.emit();const on=(0,F.b)(Me),Et=Me.enterAnimation?Me.enterAnimation:F.c.get(Fe,"ios"===on?mt:_t);(yield ge(Me,Et,Me.el,Mt))&&(Me.didPresent.emit(),null===(En=Me.didPresentShorthand)||void 0===En||En.emit()),"ION-TOAST"!==Me.el.tagName&&ct(Me.el),Me.keyboardClose&&(null===document.activeElement||!Me.el.contains(document.activeElement))&&Me.el.focus()});return function(Fe,mt,_t,Mt,cn){return Ue.apply(this,arguments)}}(),ct=function(){var Ue=(0,r.Z)(function*(Me){let Fe=document.activeElement;if(!Fe)return;const mt=Fe?.shadowRoot;mt&&(Fe=mt.querySelector(se)||Fe),yield Me.onDidDismiss(),Fe.focus()});return function(Fe){return Ue.apply(this,arguments)}}(),ze=function(){var Ue=(0,r.Z)(function*(Me,Fe,mt,_t,Mt,cn,En){var on,Et;if(!Me.presented)return!1;Ze(!1),Me.presented=!1;try{Me.el.style.setProperty("pointer-events","none"),Me.willDismiss.emit({data:Fe,role:mt}),null===(on=Me.willDismissShorthand)||void 0===on||on.emit({data:Fe,role:mt});const at=(0,F.b)(Me),tn=Me.leaveAnimation?Me.leaveAnimation:F.c.get(_t,"ios"===at?Mt:cn);mt!==Ce&&(yield ge(Me,tn,Me.el,En)),Me.didDismiss.emit({data:Fe,role:mt}),null===(Et=Me.didDismissShorthand)||void 0===Et||Et.emit({data:Fe,role:mt}),Y.delete(Me),Me.el.classList.add("overlay-hidden"),Me.el.style.removeProperty("pointer-events"),void 0!==Me.el.lastFocus&&(Me.el.lastFocus=void 0)}catch(at){console.error(at)}return Me.el.remove(),!0});return function(Fe,mt,_t,Mt,cn,En,on){return Ue.apply(this,arguments)}}(),Ke=Ue=>Ue.querySelector("ion-app")||Ue.body,ge=function(){var Ue=(0,r.Z)(function*(Me,Fe,mt,_t){mt.classList.remove("overlay-hidden");const cn=Fe(Me.el,_t);(!Me.animated||!F.c.getBoolean("animated",!0))&&cn.duration(0),Me.keyboardClose&&cn.beforeAddWrite(()=>{const on=mt.ownerDocument.activeElement;on?.matches("input,ion-input, ion-textarea")&&on.blur()});const En=Y.get(Me)||[];return Y.set(Me,[...En,cn]),yield cn.play(),!0});return function(Fe,mt,_t,Mt){return Ue.apply(this,arguments)}}(),pe=(Ue,Me)=>{let Fe;const mt=new Promise(_t=>Fe=_t);return Se(Ue,Me,_t=>{Fe(_t.detail)}),mt},Se=(Ue,Me,Fe)=>{const mt=_t=>{(0,$.b)(Ue,Me,mt),Fe(_t)};(0,$.a)(Ue,Me,mt)},Te=Ue=>"cancel"===Ue||Ue===Ve,Re=Ue=>Ue(),De=(Ue,Me)=>{if("function"==typeof Ue)return F.c.get("_zoneGate",Re)(()=>{try{return Ue(Me)}catch(mt){throw mt}})},Ve="backdrop",Ce="gesture"},2324:(Ct,H,A)=>{"use strict";A.d(H,{x:()=>Y});var r=A(5861),F=A(4718);class ${constructor(){this.radars=[],this.rains=[],this.gauges=[],this.events=[],this.infos={}}static getEmptyNode(){return new $}static getDemoNode(){const G=new $;return new F.Link("rain","https://demo/api/rains/2"),G}}class Y{constructor(G){this.storage=G,this.node=$.getEmptyNode(),this.fidjMetaResult={data:new $}}storeData(G,J){var ue=this;return(0,r.Z)(function*(){ue.node=JSON.parse(JSON.stringify(J)),ue.fidjMetaResult.data=ue.node,ue.isDemoMode?ue.storage.set("fidjMetaResult",JSON.stringify(ue.fidjMetaResult)):yield G.put(ue.fidjMetaResult)})()}getRefreshedNodeCopy(G){var J=this;return(0,r.Z)(function*(){if(J.isDemoMode){const ce=J.storage.get("fidjMetaResult");return ce&&(J.fidjMetaResult=JSON.parse(ce),J.node=J.fidjMetaResult.data),JSON.parse(JSON.stringify(J.node))}yield G.sync(()=>{J.node=$.getDemoNode(),J.storeData(G,J.node)});const oe=yield G.findAll();return oe&&oe.length>0&&oe[0].data&&(J.fidjMetaResult=oe[0],J.node=J.fidjMetaResult.data),JSON.parse(JSON.stringify(J.node))})()}setDemoMode(G){this.isDemoMode=G}}},8525:(Ct,H,A)=>{"use strict";A.d(H,{jC:()=>ue.jC,H3:()=>ce.H,zL:()=>ke,mO:()=>ue.mO,Ec:()=>ue.Ec,m8:()=>vt,Ke:()=>Be.K}),A(3432),A(2529);var q=A(3471);A(6324),A(3060);var ue=A(585),ce=(A(2324),A(6568)),le=A(5861),de=A(8256);let ke=(()=>{const Ge=class{constructor(rt){this.profileService=rt}static getGeoValuesFromRainMeasures(rt,ct){return this.computeValues(rt.getPolars(),ct)}static getGeoValuesFromRadarMeasures(rt,ct){return this.computeValues(rt.getPolars(),ct)}static computeValues(rt,ct){const ze=[];return rt.forEach(Ke=>{const ge=Ke.azimuth;let pe=0;Ke.polarEdges.forEach(Te=>{const Re=new q.PolarMapValue(Te,ge,pe);ze.push(Re),pe+=Ke.distance})}),ze}getTimeline(rt){var ct=this;return(0,le.Z)(function*(){const ze=[],Ke=rt.getLinks(),ge=rt.getId();for(const pe of Ke){const Se=pe.href.indexOf("measures/");if(Se>=0){const Re=pe.href.substring(Se+9);if(Re){const De=Re.indexOf("/"),Ve=Re.substring(0,De),Ce=Re.substring(De+1),Ue=new Date(Ve),Me=ze.filter(Fe=>Fe.date.getTime()===Ue.getTime());Me.length?Me[0].radarMeasureIds.push(Ce):ze.push(new ue._Z(Ue,[Ce]))}}}for(const pe of Ke){const Se=pe.href.indexOf("computations/");if(Se>=0){const Re=pe.href.substring(Se+13);if(Re){const De=Re.split("/"),Ve=new Date(De[0]),Ce=De[1],Ue=De[2],Me=ze.filter(Fe=>Fe.date.getTime()===Ve.getTime());for(const Fe of Me)Fe.rainComputationId=Ue,Fe.rainComputationVersion=Ce,Fe.rainComputationQualities=yield ct.getBuilds(ge,Ue)}}}return ze})()}getBuilds(rt,ct){var ze=this;return(0,le.Z)(function*(){return yield ze.profileService.getRainCompares(rt,ct)})()}};let Le=Ge;return Ge.\u0275fac=function(ct){return new(ct||Ge)(de.LFG(ce.H))},Ge.\u0275prov=de.Yz7({token:Ge,factory:Ge.\u0275fac}),Le})();A(3363);var se=A(7227),_e=A(6895),Ie=A(433),Be=A(6945);let tt=(()=>{const Ge=class{constructor(){this._cache={}}getValue(rt,ct){var ze=this;return(0,le.Z)(function*(){return ze._cache.hasOwnProperty(rt)?console.log("cache done: ",rt):(console.log("cache not done: ",rt),ze.putValue(rt,yield ct())),ze._cache[rt]})()}putValue(rt,ct){this._cache[rt]=ct;const ze=Object.getOwnPropertyNames(this._cache).length;ze>30&&console.warn("cache size exceed ? do a restart ?",ze)}};let Le=Ge;return Ge.\u0275fac=function(ct){return new(ct||Ge)},Ge.\u0275prov=de.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Le})();var Ae=A(4556);let vt=(()=>{const Ge=class{constructor(rt){rt&&console.log("SharedModule is already loaded. Import it in the AppModule only")}};let Le=Ge;return Ge.\u0275fac=function(ct){return new(ct||Ge)(de.LFG(Ge,12))},Ge.\u0275mod=de.oAB({type:Ge}),Ge.\u0275inj=de.cJS({providers:[Be.K,ke,ce.H,tt,Ae.I_,se.Qb,se.N9],imports:[_e.ez,Ie.u5,Ae.Pc,_e.ez]}),Le})()},6568:(Ct,H,A)=>{"use strict";A.d(H,{H:()=>ce});var r=A(5861),F=A(1135),q=A(4718),Q=A(2324),Y=A(6275),Z=A(585),G=A(8256),J=A(6945),ue=A(5860),oe=A(529);let ce=(()=>{const de=class{constructor(xe,se,_e){this.storage=xe,this.fidjAngularService=se,this.http=_e,console.log("ProfileService: New####"),this.email=this.storage.get("email")||null,this.asTeamId=this.storage.get("asTeamId")||null,this.readyForSync=new F.X(!1),this.roles=[],this.fidjStorage=new Q.x(xe),this.isDemoMode=!1}get isDemoMode(){return this.isDemo}set isDemoMode(xe){this.isDemo=xe||!0,this.fidjStorage.setDemoMode(this.isDemo)}get defaultUrlForAPI(){return this.storage.get("UrlForAPI")}set defaultUrlForAPI(xe){this.storage.set("UrlForAPI",xe)}refreshProfile(){var xe=this;return(0,r.Z)(function*(){return xe.nodeData=yield xe.fidjStorage.getRefreshedNodeCopy(xe.fidjAngularService),xe.setRoles(yield xe.fidjAngularService.getRoles()),xe.nodeData})()}getEmail(){return this.email}setEmail(xe){this.email=xe,this.storage.set("email",this.email)}logout(){this.storage.remove("email")}isLoggedIn(){return this.fidjAngularService.isLoggedIn()}storeAll(){var xe=this;return(0,r.Z)(function*(){return xe.fidjStorage.storeData(xe.fidjAngularService,xe.nodeData)})()}createNotification(xe,se){var _e=this;return(0,r.Z)(function*(){try{const Ie=yield _e.fidjAngularService.sendOnEndpoint({key:"notifications",verb:"POST",defaultKeyUrl:_e.defaultUrlForAPI+"/notifications",data:{rain:xe,message:se}});return new q.EventNode(Ie)}catch(Ie){console.error("createNotification error:",Ie)}return null})()}getNotifications(xe){var se=this;return(0,r.Z)(function*(){try{const _e="?rain="+xe;return(yield se.fidjAngularService.sendOnEndpoint({key:"notifications",verb:"GET",relativePath:_e,defaultKeyUrl:se.defaultUrlForAPI+"/notifications"})).notifications.map(Be=>new q.EventNode(Be))}catch(_e){console.error("createNotification error:",_e)}return null})()}getAllNotifications(){var xe=this;return(0,r.Z)(function*(){try{return(yield xe.fidjAngularService.sendOnEndpoint({key:"notifications",verb:"GET",defaultKeyUrl:xe.defaultUrlForAPI+"/notifications"})).notifications.map(_e=>new q.EventNode(_e))}catch(se){console.error("createNotification error:",se)}return[]})()}getTeams(){var xe=this;return(0,r.Z)(function*(){const se=[];try{const _e=yield xe.fidjAngularService.sendOnEndpoint({key:"teams_all",verb:"GET",defaultKeyUrl:xe.defaultUrlForAPI+"/teams_all"});for(const Ie of _e.teams)se.push(new q.TeamNode(Ie))}catch(_e){console.error("getTeams error:",_e)}return se})()}getTeam(xe){var se=this;return(0,r.Z)(function*(){try{const _e=yield se.fidjAngularService.sendOnEndpoint({key:"teams",verb:"GET",relativePath:xe,defaultKeyUrl:se.defaultUrlForAPI+"/teams"});return new q.TeamNode(_e)}catch(_e){console.error("getRadars error:",_e)}return null})()}getRadars(xe){var se=this;return(0,r.Z)(function*(){const _e=[],Ie=se.defaultUrlForAPI+"/radars?teamId="+xe;try{const Be=yield se.fidjAngularService.sendOnEndpoint({key:"radars",verb:"GET",defaultKeyUrl:Ie});for(const tt of Be.radars){const Ae=new q.RadarNode(tt);_e.push(Ae)}}catch(Be){console.error("getRadars error:",Be)}return _e})()}getRadar(xe){var se=this;return(0,r.Z)(function*(){try{const _e=yield se.fidjAngularService.sendOnEndpoint({key:"radars",verb:"GET",relativePath:xe,defaultKeyUrl:se.defaultUrlForAPI+"/radars"});return new q.RadarNode(_e)}catch(_e){console.error("getRadars error:",_e)}return null})()}putRadar(xe,se){var _e=this;return(0,r.Z)(function*(){const Ie={name:xe.name};se&&(Ie.configurationAsJSON=se);try{const Be=yield _e.fidjAngularService.sendOnEndpoint({key:"radars",relativePath:xe.id,verb:"PUT",data:Ie,defaultKeyUrl:_e.defaultUrlForAPI+"/radars/"});return new q.RadarNode(Be)}catch(Be){console.error("removeRadar error:",Be)}})()}getLonelyRadars(xe){var se=this;return(0,r.Z)(function*(){try{const _e=yield se.fidjAngularService.sendOnEndpoint({key:"radars",verb:"GET",defaultKeyUrl:se.defaultUrlForAPI+"/radars"}),Ie=[];return _e.radars.forEach(tt=>{let Ae=!1;xe.forEach(vt=>{vt.getLinkId("radar",0)===tt.id&&(Ae=!0)}),Ae||Ie.push(tt)}),Ie}catch(_e){console.error("getLonelyRadars error:",_e)}return[]})()}getRainTimeframe(xe,se,_e){var Ie=this;return(0,r.Z)(function*(){try{let Be=xe+"?format=timeframe";se&&(Be+="&begin="+se.toISOString()),_e&&(Be+="&end="+_e.toISOString());const tt=yield Ie.fidjAngularService.sendOnEndpoint({key:"rains",verb:"GET",relativePath:Be,defaultKeyUrl:Ie.defaultUrlForAPI+"/rains"}),Ae=new q.RainNode(tt.timeframe);return Ae.name+=".radar.timeframe",Ae}catch(Be){console.error("getRadarTimeframe error:",Be)}return null})()}getRains(xe){var se=this;return(0,r.Z)(function*(){const _e=[],Ie=se.defaultUrlForAPI+"/rains?teamId="+xe;try{const Be=yield se.fidjAngularService.sendOnEndpoint({key:"rains",verb:"GET",defaultKeyUrl:Ie});for(const tt of Be.rains)_e.push(new q.RainNode(tt))}catch(Be){console.error("getRains error:",Be)}return _e})()}getRain(xe){var se=this;return(0,r.Z)(function*(){try{const _e=yield se.fidjAngularService.sendOnEndpoint({key:"rains",relativePath:xe,verb:"GET",defaultKeyUrl:se.defaultUrlForAPI+"/rains/"});return new q.RainNode(_e)}catch(_e){console.error("getRains error:",_e)}return null})()}getCounts(xe,se,_e,Ie){var Be=this;return(0,r.Z)(function*(){try{let tt="";se&&_e&&(tt="?periodBegin="+se.toISOString()+"&periodEnd="+_e.toISOString()),Ie&&(tt+="&withQualities="+Ie);const vt=(yield Be.fidjAngularService.sendOnEndpoint({key:"rains",relativePath:xe+"/counts"+tt,verb:"GET",defaultKeyUrl:Be.defaultUrlForAPI+"/rains/"})).counts,Le=[],Ge=[],Ze=[];return vt.forEach(rt=>{Le.push(new Y.B(1,NaN,NaN,rt._id)),Ge.push(new Y.B(rt.gaugeMeasures,NaN,NaN,rt._id)),Ze.push(new Y.B(rt.computationsByTeam,NaN,NaN,rt._id))}),{radarMeasures:Le,gaugeMeasures:Ge,computationsByTeam:Ze}}catch(tt){console.error("getRains error:",tt)}return null})()}launchRainComputation(xe,se){var _e=this;return(0,r.Z)(function*(){return(yield _e.fidjAngularService.sendOnEndpoint({verb:"POST",key:"rains",relativePath:xe+"/computations",data:{date:se.toISOString()},defaultKeyUrl:_e.defaultUrlForAPI+"/rains"})).computations?.map(Be=>new q.RainComputation(Be))})()}getRainComputationCartesianMapById(xe,se){var _e=this;return(0,r.Z)(function*(){const Ie=xe+"/computations/"+se+"?format=cartesian-map",Be=yield _e.fidjAngularService.sendOnEndpoint({key:"rains",verb:"GET",relativePath:Ie,defaultKeyUrl:_e.defaultUrlForAPI+"/rains"});if(!Be["cartesian-map"])return null;const tt=new q.RainComputationMap(Be["cartesian-map"]);return tt.name=xe+".rain.cartesian-map",tt})()}getRainCompares(xe,se){var _e=this;return(0,r.Z)(function*(){const Ie=xe+"/computations/"+se,Be=yield _e.fidjAngularService.sendOnEndpoint({key:"rains",verb:"GET",relativePath:Ie,defaultKeyUrl:_e.defaultUrlForAPI+"/rains"}),Ae=new q.RainComputation(Be).getLinks(),vt=[];for(const Le of Ae)if("rain-computation-quality"===Le.rel){const Ge=Le.getId(),Ze=Le.href.substring(Le.href.indexOf("version/")+8,Le.href.indexOf("/"+Ge));vt.push({id:Ge,version:Ze})}return vt})()}getRainCompareById(xe,se,_e){var Ie=this;return(0,r.Z)(function*(){const Be=xe+"/computations/"+se+"/compares/"+_e,tt=yield Ie.fidjAngularService.sendOnEndpoint({key:"rains",verb:"GET",relativePath:Be,defaultKeyUrl:Ie.defaultUrlForAPI+"/rains"}),Ae=new q.RainComputationQuality(tt);return Ae.qualitySpeedMatrixContainer=q.SpeedMatrixContainer.CreateFromJson(Ae.qualitySpeedMatrixContainer),Ae})()}getGauge(xe){var se=this;return(0,r.Z)(function*(){const _e=yield se.fidjAngularService.sendOnEndpoint({key:"gauges",verb:"GET",relativePath:xe,defaultKeyUrl:se.defaultUrlForAPI+"/gauges"});return new q.GaugeNode(_e)})()}getGauges(xe){var se=this;return(0,r.Z)(function*(){let _e="";se.asTeamId&&(_e+="?teamId="+se.asTeamId),xe&&(_e+=_e?"&":"?",_e+="rainId="+xe);const Ie=[];try{const Be=yield se.fidjAngularService.sendOnEndpoint({key:"gauges",verb:"GET",relativePath:_e,defaultKeyUrl:se.defaultUrlForAPI+"/gauges"});for(const tt of Be.gauges)Ie.push(new Z.F$(tt))}catch(Be){console.error("getGauges error:",Be)}return Ie})()}getGaugeMeasures(xe,se,_e){var Ie=this;return(0,r.Z)(function*(){const Be=xe+"/measures?begin="+se.toISOString()+"&end="+_e.toISOString(),tt=yield Ie.fidjAngularService.sendOnEndpoint({key:"gauges",verb:"GET",relativePath:Be,defaultKeyUrl:Ie.defaultUrlForAPI+"/gauges"}),Ae=[];for(const vt of tt.gaugeMeasures)Ae.push(new q.GaugeMeasure(vt));return Ae})()}setRoles(xe){this.roles=xe}};let le=de;return de.\u0275fac=function(se){return new(se||de)(G.LFG(J.K),G.LFG(ue.DR),G.LFG(oe.eN))},de.\u0275prov=G.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),le})()},3060:(Ct,H,A)=>{"use strict";A.d(H,{A:()=>J});var r=A(8256),F=A(6895),q=A(4556),$=A(2529);function Q(ue,oe){if(1&ue){const ce=r.EpF();r.TgZ(0,"ion-row")(1,"ion-col",1)(2,"ion-card",2)(3,"ion-card-header"),r._uU(4,"Cumulative"),r.qZA(),r.TgZ(5,"ion-card-content")(6,"raain-compare",3),r.NdJ("selectedPoint",function(de){r.CHM(ce);const ke=r.oxw();return r.KtG(ke.onClick(de))}),r.qZA()()()()()}if(2&ue){const ce=r.oxw();r.xp6(6),r.Q6J("compareIndex",0)("currentHeight",500)("pointMax",ce.compareManager.globalComparePointsMax)("points",ce.compareManager.globalComparePoints)}}function Y(ue,oe){if(1&ue){const ce=r.EpF();r.TgZ(0,"ion-card-content")(1,"raain-compare",3),r.NdJ("selectedPoint",function(de){r.CHM(ce);const ke=r.oxw(3);return r.KtG(ke.onClick(de))}),r.qZA()()}if(2&ue){const ce=r.oxw(),le=ce.index,de=ce.$implicit;r.xp6(1),r.Q6J("compareIndex",le)("currentHeight",500)("pointMax",de.comparePointsMax)("points",de.comparePoints)}}function Z(ue,oe){if(1&ue&&(r.TgZ(0,"ion-col",5)(1,"ion-card",2)(2,"ion-card-header"),r._uU(3),r.qZA(),r.YNc(4,Y,2,4,"ion-card-content",0),r.qZA()()),2&ue){const ce=oe.$implicit;r.xp6(3),r.AsE("",ce.name," ",ce.remarks," "),r.xp6(1),r.Q6J("ngIf",null==ce.comparePoints?null:ce.comparePoints.length)}}function G(ue,oe){if(1&ue&&(r.TgZ(0,"ion-row"),r.YNc(1,Z,5,3,"ion-col",4),r.qZA()),2&ue){const ce=r.oxw();r.xp6(1),r.Q6J("ngForOf",null==ce.compareManager?null:ce.compareManager.uiCompares)}}let J=(()=>{const oe=class{constructor(le){this.ngZone=le,this.selectedPoint=new r.vpe}onClick(le){this.selectedPoint.emit({point:le.point,compareIndex:le.compareIndex})}};let ue=oe;return oe.\u0275fac=function(de){return new(de||oe)(r.Y36(r.R0b))},oe.\u0275cmp=r.Xpm({type:oe,selectors:[["raain-compare-stack"]],inputs:{compareManager:"compareManager",currentHeight:"currentHeight",cumulative:"cumulative"},outputs:{selectedPoint:"selectedPoint"},decls:3,vars:2,consts:[[4,"ngIf"],["size","12"],[1,"card-compare"],[3,"compareIndex","currentHeight","pointMax","points","selectedPoint"],["size","12","size-md","6",4,"ngFor","ngForOf"],["size","12","size-md","6"]],template:function(de,ke){1&de&&(r.TgZ(0,"ion-grid"),r.YNc(1,Q,7,4,"ion-row",0),r.YNc(2,G,2,1,"ion-row",0),r.qZA()),2&de&&(r.xp6(1),r.Q6J("ngIf",ke.cumulative),r.xp6(1),r.Q6J("ngIf",!ke.cumulative))},dependencies:[F.sg,F.O5,q.PM,q.FN,q.Zi,q.wI,q.jY,q.Nd,$.s],styles:["#card-matrix[_ngcontent-%COMP%]{width:170px}.card-compare[_ngcontent-%COMP%]{min-width:300px}ion-card-header[_ngcontent-%COMP%]{padding:0}"]}),ue})()},2529:(Ct,H,A)=>{"use strict";A.d(H,{s:()=>G});var r=A(8256),F=A(3471),$=A(6895),Q=A(4556);const Y=["canvasElement"];function Z(J,ue){if(1&J&&(r.TgZ(0,"h1"),r._uU(1),r.qZA()),2&J){const oe=r.oxw();r.xp6(1),r.Oqu(oe.remarks)}}let G=(()=>{const ue=class{constructor(ce){this.ngZone=ce,this.selectedPoint=new r.vpe,this.onSizeChanged=()=>{}}ngAfterViewChecked(){this.create()}ngOnChanges(ce){this.change(ce)}ngOnDestroy(){this.delete()}onClick(ce){this.selectedPoint.emit({point:ce,compareIndex:this.compareIndex})}changeData(ce,le){let de=!1;const ke=this.compareElement?.chart?.data?.datasets[0];ke&&(ke.data=ce,de=!0);const xe=this.compareElement?.chart?.data?.datasets[1];xe&&(xe.data=le,de=!0),de&&this.compareElement?.chart?.update()}onResize(ce){this.updateMapSize()}create(){if(this.created)return;this.created=!0;const ce=new F.ElementsFactory;this.compareElement=ce.createCompare(this.canvasElement.nativeElement,new F.CompareElementInput(this.points.map(le=>({x:le.x,y:le.y,r:le.r,name:le.name,id:le.id})),this.pointMax,this.onClick.bind(this)))}delete(){this.compareElement&&this.compareElement?.chart?.destroy(),this.created=!1}change(ce){ce.points&&this.changeData(this.points,[{x:0,y:0},this.pointMax])}updateMapSize(){const ce=this.canvasElement.nativeElement.parentNode?.parentNode.clientWidth;let de=ce||window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;const ke=this.currentHeight||window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;de-=20,this.currentWidth=de,this.currentHeight=ke,this.ngZone.run(()=>{this.onSizeChanged()})}};let J=ue;return ue.\u0275fac=function(le){return new(le||ue)(r.Y36(r.R0b))},ue.\u0275cmp=r.Xpm({type:ue,selectors:[["raain-compare"]],viewQuery:function(le,de){if(1&le&&r.Gf(Y,5),2&le){let ke;r.iGM(ke=r.CRH())&&(de.canvasElement=ke.first)}},hostBindings:function(le,de){1&le&&r.NdJ("resize",function(xe){return de.onResize(xe)},!1,r.Jf7)},inputs:{points:"points",pointMax:"pointMax",remarks:"remarks",compareIndex:"compareIndex",currentHeight:"currentHeight",currentWidth:"currentWidth"},outputs:{selectedPoint:"selectedPoint"},features:[r.TTD],decls:7,vars:1,consts:[["id","col-container"],["id","canvas-container"],[4,"ngIf"],["canvasElement",""]],template:function(le,de){1&le&&(r.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col",0)(3,"div",1),r.YNc(4,Z,2,1,"h1",2),r._UZ(5,"canvas",null,3),r.qZA()()()()),2&le&&(r.xp6(4),r.Q6J("ngIf",de.remarks))},dependencies:[$.O5,Q.wI,Q.jY,Q.Nd],styles:["#canvas-container[_ngcontent-%COMP%]{position:relative;height:30vh;width:40vw}"]}),J})()},6324:(Ct,H,A)=>{"use strict";A.d(H,{j:()=>Z});var r=A(5861),F=A(3471),$=A(8256),Q=A(4556);const Y=["canvasElement"];let Z=(()=>{const J=class{constructor(oe){this.ngZone=oe,this.focusDate=new Date,this.focusRange=F.DateRange.CENTURY,this.onSizeChanged=()=>{}}ngAfterViewChecked(){this.create()}ngOnChanges(oe){this.change(oe)}ngOnDestroy(){this.delete()}focusPrevious(){this.dateStatusElement.focusPrevious()}focusReset(){this.dateStatusElement.focusReset()}focusNext(){this.dateStatusElement.focusNext()}onResize(oe){this.updateMapSize()}create(){if(this.created)return;this.created=!0;const oe=new F.ElementsFactory;try{this.dateStatusElement=oe.createDateStatus(this.canvasElement.nativeElement,new F.DateStatusElementInput(this.points,this.focusDate,this.focusRange))}catch(ce){console.warn("focus creation issue",ce)}}delete(){var oe=this;return(0,r.Z)(function*(){yield oe.dateStatusElement?.chart?.destroy(),oe.created=!1})()}change(oe){var ce=this;return(0,r.Z)(function*(){yield ce.delete(),ce.create()})()}updateMapSize(){const oe=this.canvasElement.nativeElement.parentNode?.parentNode.clientWidth;let le=oe||window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;const de=this.currentHeight||window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;le-=20,this.currentWidth=le,this.currentHeight=de,this.ngZone.run(()=>{this.onSizeChanged()})}};let G=J;return J.\u0275fac=function(ce){return new(ce||J)($.Y36($.R0b))},J.\u0275cmp=$.Xpm({type:J,selectors:[["raain-date-focus"]],viewQuery:function(ce,le){if(1&ce&&$.Gf(Y,5),2&ce){let de;$.iGM(de=$.CRH())&&(le.canvasElement=de.first)}},hostBindings:function(ce,le){1&ce&&$.NdJ("resize",function(ke){return le.onResize(ke)},!1,$.Jf7)},inputs:{points:"points",focusDate:"focusDate",focusRange:"focusRange",currentHeight:"currentHeight"},features:[$.TTD],decls:16,vars:4,consts:[["size-sm","1",1,"ion-text-left"],[3,"click"],[1,"ion-align-items-end"],["name","chevron-back-outline"],["id","col-container"],["id","canvas-container"],["canvasElement",""],[1,"ion-text-left"],["name","chevron-forward-outline"]],template:function(ce,le){1&ce&&($.TgZ(0,"ion-grid")(1,"ion-row")(2,"ion-col",0)(3,"ion-button",1),$.NdJ("click",function(){return le.focusReset()}),$._uU(4," View all dates "),$.qZA()()(),$.TgZ(5,"ion-row",2)(6,"ion-col",0)(7,"ion-button",1),$.NdJ("click",function(){return le.focusPrevious()}),$._UZ(8,"ion-icon",3),$.qZA()(),$.TgZ(9,"ion-col",4)(10,"div",5),$._UZ(11,"canvas",null,6),$.qZA()(),$.TgZ(13,"ion-col",7)(14,"ion-button",1),$.NdJ("click",function(){return le.focusNext()}),$._UZ(15,"ion-icon",8),$.qZA()()()()),2&ce&&($.xp6(10),$.Udp("height",le.currentHeight,"px")("width",le.currentWidth,"px"))},dependencies:[Q.YG,Q.wI,Q.jY,Q.gu,Q.Nd],styles:["#col-container[_ngcontent-%COMP%]{height:100%}#canvas-container[_ngcontent-%COMP%]{position:relative;min-width:600px;height:100%}"]}),G})()},3432:(Ct,H,A)=>{"use strict";A.d(H,{g:()=>J});var r=A(8256),F=A(3471),$=A(6895),Q=A(433),Y=A(4556);const Z=["primaryMap"];function G(ue,oe){if(1&ue&&(r.TgZ(0,"ion-select-option",21),r._uU(1),r.ALo(2,"date"),r.qZA()),2&ue){const ce=oe.$implicit;r.s9C("value",ce.toISOString()),r.xp6(1),r.hij(" ",r.xi3(2,2,ce,"yyyy-MM-dd HH:mm")," ")}}let J=(()=>{const oe=class{constructor(le){this.ngZone=le,this.autoplay=!1,this.showMarkers=!0,this.timeframeDates=[],this.selectedMarker=new r.vpe,this.changedDate=new r.vpe,this.delete();const de=[40,40],ke=[20,20],_e=[0,-20];this.iconOptions={gauges:{iconUrl:"./assets/maps/marker-pluvio.png",iconSize:de,iconAnchor:ke,popupAnchor:_e},gaugesInCompare:{iconUrl:"./assets/maps/marker-pluvio-diag.png",iconSize:de,iconAnchor:ke,popupAnchor:_e},selectedGauges:{iconUrl:"./assets/maps/marker-pluvio-diag-select.png",iconSize:de,iconAnchor:ke,popupAnchor:_e},pixels:{iconUrl:"./assets/maps/marker-rain.png",iconSize:de,iconAnchor:ke,popupAnchor:_e},pixelsSolution:{iconUrl:"./assets/maps/marker-rain2.png",iconSize:[41,41],iconAnchor:[20,20],popupAnchor:_e},borders:{iconUrl:"./assets/maps/marker-shadow.png",iconSize:de,iconAnchor:ke,popupAnchor:_e}}}ngAfterViewChecked(){this.create()}ngOnChanges(le){this.change(le)}ngOnDestroy(){this.delete()}showTimeframe(le=!1){!this.dateToShowAsString||!le&&new Date(this.dateToShowAsString).getTime()===this.dateToShow?.getTime()||(this.dateToShow=new Date(this.dateToShowAsString),this.changedDate.emit(this.dateToShow))}next(){if(!this.possibleDates||0===this.possibleDates.length)return;const le=this.getDateToShowIndex();this.dateToShow=le+1<this.possibleDates.length?this.possibleDates[le+1]:this.possibleDates[0],this.dateToShowAsString=this.dateToShow.toISOString(),this.showTimeframe(!0),this.autoplay&&window.setTimeout(()=>this.next(),2e3)}previous(){if(this.stop(),!this.possibleDates||0===this.possibleDates.length)return;const le=this.getDateToShowIndex();this.dateToShow=le>0?this.possibleDates[le-1]:this.possibleDates[0],this.dateToShowAsString=this.dateToShow.toISOString(),this.showTimeframe(!0)}play(){this.autoplay=!0,this.next()}stop(){this.autoplay=!1}changeShowMarkers(){!this.mapElement?.markersLayer||!this.mapElement?.mapLeaflet||(this.showMarkers?this.mapElement.markersLayer.addToMap(this.mapElement.mapLeaflet):this.mapElement.markersLayer.removeFromMap(this.mapElement.mapLeaflet))}create(){if(this.created)return;this.created=!0;const de=[{iconsLatLng:this.markers.gauges,iconsOptions:this.iconOptions.gauges},{iconsLatLng:this.markers.selectedGauges,iconsOptions:this.iconOptions.selectedGauges},{iconsLatLng:this.markers.gaugesInCompare,iconsOptions:this.iconOptions.gaugesInCompare},{iconsLatLng:this.markers.pixels,iconsOptions:this.iconOptions.pixels},{iconsLatLng:this.markers.pixelsSolution,iconsOptions:this.iconOptions.pixelsSolution}],ke=new F.ElementsFactory(this.coordinates,!0);this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.created&&(this.mapElement=ke.createMap(this.mapDivRef.nativeElement,{timeframeContainers:this.timeframeContainers,markers:de}),this.mapElement.mapLeaflet?.on("mousemove",se=>this.onMapMouseMove(se)),this.mapElement.markersProduced?.forEach(se=>se.on("click",_e=>this.onMapClick(_e))),this.onSizeChanged=()=>{this.mapElement.markersLayer?.setCurrentWidth(this.currentWidth),this.mapElement.markersLayer?.setCurrentHeight(this.currentHeight),this.mapElement.compositeLayer?.setCurrentWidth(this.currentWidth),this.mapElement.compositeLayer?.setCurrentHeight(this.currentHeight),this.mapElement.mapLeaflet?.invalidateSize({animate:!0})},this.updateMapSize(),this.changeNavigation(this.defaultDate))},100)})}delete(){this.mapElement?.mapLeaflet?.remove(),this.mapElement=void 0,this.mcText="",this.nextDate=void 0,this.possibleNames=[],this.possibleDates=[],this.timeframeNameToShow=void 0,this.dateToShow=void 0,this.dateToShowAsString=void 0,this.onSizeChanged=()=>{},this.currentFrameContainer=null,this.created=!1}change(le){let de;if(le.defaultDate){if(new Date(le.defaultDate.currentValue).getTime()===new Date(le.defaultDate.previousValue).getTime())return;de=this.defaultDate}if(le.markers&&this.mapElement?.markersLayer){const xe=this.mapElement.markersLayer.render([{iconsLatLng:this.markers.gauges,iconOptions:this.iconOptions.gauges},{iconsLatLng:this.markers.selectedGauges,iconOptions:this.iconOptions.selectedGauges},{iconsLatLng:this.markers.gaugesInCompare,iconOptions:this.iconOptions.gaugesInCompare},{iconsLatLng:this.markers.pixels,iconOptions:this.iconOptions.pixels},{iconsLatLng:this.markers.pixelsSolution,iconOptions:this.iconOptions.pixelsSolution}]).markers;xe&&(xe.forEach(se=>se.on("click",_e=>this.onMapClick(_e))),this.showMarkers&&(this.mapElement.markersLayer.removeFromMap(this.mapElement.mapLeaflet),this.mapElement.markersLayer.addToMap(this.mapElement.mapLeaflet)))}if(le.markers&&1===this.markers.selectedGauges.length&&this.mapElement.mapLeaflet.setView(this.markers.selectedGauges[0],10),this.mapElement&&le.timeframeContainers&&(this.mapElement.updateMapTimeframe(this.timeframeContainers),this.currentFrameContainer=this.timeframeContainers?.containers[0]?.timeframe[0]),this.mapElement?.compositeLayer&&le.sumValues){const ke=this.mapElement.compositeLayer.getFirstDrawer();this.sumResult=ke?.getExecOfVisiblePoints(this.sumValues,this.sumFn)}this.changeNavigation(de)}changeNavigation(le){this.timeframeContainers&&this.timeframeContainers.containers.length&&(this.possibleNames=[],this.timeframeContainers?.containers.forEach(de=>{this.possibleNames.indexOf(de.name)<0&&this.possibleNames.push(de.name)}),this.timeframeNameToShow=this.possibleNames.length>0?this.possibleNames[0]:null),this.possibleDates=this.timeframeDates,this.possibleDates&&0!==this.possibleDates.length&&(le&&1===this.possibleDates.filter(de=>de.getTime()===le.getTime()).length&&(this.dateToShow=le),!this.dateToShow&&this.possibleDates.length>0&&1!==this.possibleDates.filter(de=>de.getTime()===this.dateToShow?.getTime()).length&&(this.dateToShow=this.possibleDates[0]),this.dateToShowAsString=this.dateToShow.toISOString())}getDateToShowIndex(){let le=0;for(const de of this.possibleDates){if(de.toISOString().substring(0,19)===this.dateToShowAsString.substring(0,19))break;le++}return le}onMapMouseMove(le){const de=le.latlng.lat.toFixed(3),ke=le.latlng.lng.toFixed(3);let xe=NaN,se=NaN,_e=NaN,Ie=NaN,Be=NaN;if(this.currentFrameContainer){const tt=this.currentFrameContainer.values.filter(Ae=>Ae.lat<=le.latlng.lat&&le.latlng.lat<Ae.lat2&&Ae.lng<=le.latlng.lng&&le.latlng.lng<Ae.lng2);1===tt.length&&(xe=Math.round(1e3*tt[0].value)/1e3,se=Math.round(1e3*tt[0].lat)/1e3,_e=Math.round(1e3*tt[0].lng)/1e3,Ie=Math.round(1e3*tt[0].lat2)/1e3,Be=Math.round(1e3*tt[0].lng2)/1e3)}this.ngZone.run(()=>{this.mcText=`Latitude: ${de} &nbsp; &nbsp; Longitude: ${ke} &nbsp; &nbsp; Value: [${se} ${_e} | ${Ie} ${Be}] ${xe}`})}onMapClick(le){this.selectedMarker.emit(new F.MapLatLng(le.latlng?.lat,le.latlng?.lng,void 0,le.id,le.name))}onResize(le){this.updateMapSize()}updateMapSize(){const le=this.mapDivRef.nativeElement.parentNode?.parentNode.clientWidth;let ke=le||window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;const xe=this.currentHeight||window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;ke-=21,this.currentWidth=ke,this.currentHeight=xe,this.ngZone.run(()=>{this.onSizeChanged()})}};let ue=oe;return oe.\u0275fac=function(de){return new(de||oe)(r.Y36(r.R0b))},oe.\u0275cmp=r.Xpm({type:oe,selectors:[["raain-map"]],viewQuery:function(de,ke){if(1&de&&r.Gf(Z,5),2&de){let xe;r.iGM(xe=r.CRH())&&(ke.mapDivRef=xe.first)}},hostBindings:function(de,ke){1&de&&r.NdJ("resize",function(se){return ke.onResize(se)},!1,r.Jf7)},inputs:{coordinates:"coordinates",markers:"markers",timeframeContainers:"timeframeContainers",autoplay:"autoplay",showMarkers:"showMarkers",currentHeight:"currentHeight",timeframeDates:"timeframeDates",defaultDate:"defaultDate",sumValues:"sumValues",sumFn:"sumFn"},outputs:{selectedMarker:"selectedMarker",changedDate:"changedDate"},features:[r.TTD],decls:30,vars:9,consts:[[1,"ion-align-items-end"],["id","map-buttons","size-sm","3"],["color","medium","fill","outline","shape","round",3,"click"],["name","play-back","slot","icon-only"],["color","medium","fill","outline","shape","round",3,"hidden","click"],["name","stop","slot","icon-only"],["name","play-forward","slot","icon-only"],["id","map-date",1,"ion-text-start"],["interface","popover","placeholder","Period",3,"ngModel","value","ionDismiss","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","checked","ionChange","ngModelChange"],["id","map-container"],["id","map-div"],["primaryMap",""],[1,"ion-hide-xl-down"],["id","map-range","src","assets/r2r_range.svg"],["size-sm","8"],[3,"innerHTML"],["size-sm","1"],["disabled","true","fill","clear"],["size-sm","3"],[3,"value"]],template:function(de,ke){1&de&&(r.TgZ(0,"ion-grid")(1,"ion-row",0)(2,"ion-col",1)(3,"ion-button",2),r.NdJ("click",function(){return ke.previous()}),r._UZ(4,"ion-icon",3),r.qZA(),r.TgZ(5,"ion-button",4),r.NdJ("click",function(){return ke.stop()}),r._UZ(6,"ion-icon",5),r.qZA(),r.TgZ(7,"ion-button",2),r.NdJ("click",function(){return ke.next()}),r._UZ(8,"ion-icon",6),r.qZA()(),r.TgZ(9,"ion-col",7)(10,"ion-select",8),r.NdJ("ionDismiss",function(){return ke.showTimeframe()})("ngModelChange",function(se){return ke.dateToShowAsString=se}),r.YNc(11,G,3,5,"ion-select-option",9),r.qZA()(),r.TgZ(12,"ion-col")(13,"ion-toggle",10),r.NdJ("ionChange",function(){return ke.changeShowMarkers()})("ngModelChange",function(se){return ke.showMarkers=se}),r.qZA()()(),r.TgZ(14,"ion-row")(15,"ion-col")(16,"div",11),r._UZ(17,"div",12,13),r.qZA()(),r.TgZ(19,"ion-col",14),r._UZ(20,"ion-img",15),r.qZA()(),r.TgZ(21,"ion-row")(22,"ion-col",16),r._UZ(23,"span",17),r.qZA(),r.TgZ(24,"ion-col",18)(25,"ion-button",19),r._uU(26),r.qZA()(),r.TgZ(27,"ion-col",20)(28,"ion-button",19),r._uU(29),r.qZA()()()()),2&de&&(r.xp6(5),r.Q6J("hidden",!ke.autoplay),r.xp6(5),r.s9C("value",ke.dateToShowAsString),r.Q6J("ngModel",ke.dateToShowAsString),r.xp6(1),r.Q6J("ngForOf",ke.possibleDates),r.xp6(2),r.Q6J("ngModel",ke.showMarkers)("checked",ke.showMarkers),r.xp6(10),r.Q6J("innerHTML",ke.mcText,r.oJD),r.xp6(3),r.Oqu(ke.sumResult),r.xp6(3),r.Oqu(null==ke.dateToShow?null:ke.dateToShow.toISOString()))},dependencies:[$.sg,Q.JJ,Q.On,Y.YG,Y.wI,Y.jY,Y.gu,Y.Xz,Y.Nd,Y.t9,Y.n0,Y.ho,Y.w,Y.QI,$.uU],styles:["#map-container[_ngcontent-%COMP%]{position:relative;width:800px;height:400px}#map-div[_ngcontent-%COMP%]{position:absolute;inset:0}#map-range[_ngcontent-%COMP%]{height:400px}#map-buttons[_ngcontent-%COMP%]{min-width:180px}ion-select[_ngcontent-%COMP%]{width:100%;max-width:-moz-fit-content;max-width:fit-content;font-size:16px;color:var(--ion-color-dark)}"]}),ue})()},3363:(Ct,H,A)=>{"use strict";A.d(H,{t:()=>r});const r={_RAIN_STATUS_0_NOT_STARTED:0,_RAIN_STATUS_0_WAIT_FOR_ECHOES:.1,_RAIN_STATUS_0_WAIT_FOR_INPUT:.2,_RAIN_STATUS_0_WAIT_FOR_INTERNAL_VALIDATION:.3,_RAIN_STATUS_0_READY_TO_BUILD:.4,_RAIN_STATUS_1_BUILDING:.5,_RAIN_STATUS_1_READY_TO_COMPUTE:.6,_RAIN_COMPUTATION_IS_READY:0,_RAIN_COMPUTATION_IN_PROGRESS:.5,_RAIN_COMPUTATION_DONE:1,_INPUT_VALIDITY_NOT_CHECKED_YET:-1,_INPUT_VALIDITY_CHECK_IN_PROGRESS:-.5,_INPUT_VALIDITY_NOT_VALID:0,_INPUT_VALIDITY_NOT_CONFIDENT:.5,_INPUT_VALIDITY_VALID:1,_VERIFY_STATUS_FIND_RADARS:.3,_VERIFY_STATUS_FIND_SIMILAR:.6,_VERIFY_STATUS_FIND_GAUGES:.7,_COMPUTATION_STATUS_UNKNOWN:0,_COMPUTATION_STATUS_IN_PROGRESS:.4,_COMPUTATION_STATUS_FINISHED:1}},7227:(Ct,H,A)=>{"use strict";A.d(H,{$j:()=>oe,N9:()=>de,Qb:()=>le,UA:()=>J,UD:()=>q,XW:()=>ce,lB:()=>$,pt:()=>ke,vc:()=>Q});var r=A(3363),F=A(8256);let q=(()=>{const se=class{transform(Ie){return Ie.filter(Be=>Be.status<=r.t._RAIN_STATUS_0_NOT_STARTED)}};let xe=se;return se.\u0275fac=function(Be){return new(Be||se)},se.\u0275pipe=F.Yjl({name:"areStopped",type:se,pure:!0}),xe})(),$=(()=>{const se=class{transform(Ie){return Ie.filter(Be=>r.t._RAIN_STATUS_0_NOT_STARTED<Be.status&&Be.status<r.t._RAIN_STATUS_1_READY_TO_COMPUTE)}};let xe=se;return se.\u0275fac=function(Be){return new(Be||se)},se.\u0275pipe=F.Yjl({name:"areInProgress",type:se,pure:!0}),xe})(),Q=(()=>{const se=class{transform(Ie){return Ie.filter(Be=>Be.status>=r.t._RAIN_STATUS_1_READY_TO_COMPUTE&&Be.quality>r.t._INPUT_VALIDITY_NOT_CONFIDENT)}};let xe=se;return se.\u0275fac=function(Be){return new(Be||se)},se.\u0275pipe=F.Yjl({name:"areReady",type:se,pure:!0}),xe})(),J=(()=>{const se=class{transform(Ie){return Ie.quality>r.t._INPUT_VALIDITY_NOT_CONFIDENT?Ie:null}};let xe=se;return se.\u0275fac=function(Be){return new(Be||se)},se.\u0275pipe=F.Yjl({name:"hasGoodQuality",type:se,pure:!0}),xe})(),oe=(()=>{const se=class{transform(Ie){return Ie.status<0?0:Ie.status/2}};let xe=se;return se.\u0275fac=function(Be){return new(Be||se)},se.\u0275pipe=F.Yjl({name:"progressValue",type:se,pure:!0}),xe})(),ce=(()=>{const se=class{transform(Ie){return Ie.quality<0?0:Ie.quality/2}};let xe=se;return se.\u0275fac=function(Be){return new(Be||se)},se.\u0275pipe=F.Yjl({name:"progressBuffer",type:se,pure:!0}),xe})(),le=(()=>{const se=class{transform(Ie){let Be=0;if(!Ie||0===Ie.length)return 1;for(const tt of Ie)tt.radarMeasureIds.length&&tt.rainComputationId&&Be++;return Be/Ie.length}};let xe=se;return se.\u0275fac=function(Be){return new(Be||se)},se.\u0275pipe=F.Yjl({name:"timeframeComputationProgress",type:se,pure:!0}),xe})(),de=(()=>{const se=class{transform(Ie){let Be=0;if(!Ie||0===Ie.length)return 1;for(const tt of Ie){const vt=(tt.rainComputationQualities?tt.rainComputationQualities:[]).filter(Le=>Le.version.indexOf("outdated")<0);tt.radarMeasureIds.length&&tt.rainComputationId&&vt.length&&Be++}return Be/Ie.length}};let xe=se;return se.\u0275fac=function(Be){return new(Be||se)},se.\u0275pipe=F.Yjl({name:"timeframeQualityProgress",type:se,pure:!0}),xe})(),ke=(()=>{const se=class{transform(Ie){return Ie.filter(tt=>!tt.red)}};let xe=se;return se.\u0275fac=function(Be){return new(Be||se)},se.\u0275pipe=F.Yjl({name:"haveNotBeenRed",type:se,pure:!1}),xe})()},6945:(Ct,H,A)=>{"use strict";A.d(H,{K:()=>q});var r=A(5860),F=A(8256);let q=(()=>{const Q=class extends r.mM{constructor(){super(window.localStorage,"raain-app.")}};let $=Q;return Q.\u0275fac=function(G){return new(G||Q)},Q.\u0275prov=F.Yz7({token:Q,factory:Q.\u0275fac}),$})()},585:(Ct,H,A)=>{"use strict";A.d(H,{jC:()=>Q,_Z:()=>Y,F$:()=>Z,mO:()=>ze,Ec:()=>Ke});var r=A(5861),F=A(3471),q=A(4718),$=A(6275);class Q{constructor(pe,Se,Te=(()=>{})){this.rainNode=pe,this.profileService=Se,this.onChanges=Te,this.cleanAll()}static CompareDate(pe,Se,Te){const Re=new Date(pe.getTime()),De=new Date(Se.getTime());return De.setMinutes(De.getMinutes()+Te),0===Math.round((Re.getTime()-De.getTime())/6e4)}cleanAll(){this.gaugesInCompare=[],this.selectedGauges=[],this.selectedPixels=[],this.pixelsSolutions=[],this.buildCompares={comparesPerDate:[],compareCumulative:null},this.globalComparePoints=[],this.globalComparePointsMax=new $.B(0,0),this.rainComputationQualitiesPerDate={},this.selectedGauge=null,this.selectedGaugeInPoints=null,this.cleanCompareQuality("no compare yet")}refreshCompareQuality(pe){var Se=this;return(0,r.Z)(function*(){const Te=Se.getComparePerDate(pe.date);if(!Te||!Te.rainComputationQuality?.qualitySpeedMatrixContainer)return Se.cleanCompareQuality("no current quality "+Object.keys(Se.rainComputationQualitiesPerDate)),void Se.onChanges();const Re=Te.compareTimeline.map(De=>({name:De.name,comparePoints:De.qualityPoints.map(Ve=>new $.B(Ve.getGaugeValue(),Ve.getRainValue(),2,Ve.gaugeLabel,Ve.gaugeId)),comparePointsMax:new $.B(De.maxValue+20,De.maxValue+20),comparePointsHistory:De.qualityPointsLegacy,remarks:De.remarks}));Se.currentQualityDoneDate=Te.rainComputationQuality.isDoneDate,Se.currentQualityTimeSpentInMs=Te.rainComputationQuality.timeSpentInMs,Se.currentQualityLaunchedBy=Te.rainComputationQuality.launchedBy,Se.compareVersion=Te.rainComputationQuality.getVersion(),Se.compareSpeedMatrix=Te.rainComputationQuality.qualitySpeedMatrixContainer.renderMergedMatrix({normalize:!0}),Se.compareTrustedIndicator=Te.rainComputationQuality.qualitySpeedMatrixContainer.getTrustedIndicators()[0],Se.compareNames=Re.map(De=>De.name),Se.uiCompares=Re,Se.onChanges()})()}refreshGlobalCompareQuality(pe,Se){var Te=this;return(0,r.Z)(function*(){try{if(yield Te.fetchRainComputationQualities(pe),yield Te.buildComparesTimeline(pe,Se),!Te.buildCompares.compareCumulative)return;Te.globalComparePoints=Te.buildCompares.compareCumulative.qualityPoints.map(Re=>new $.B(Re.getGaugeValue(),Re.getRainValue(),2,Re.gaugeLabel,Re.gaugeId)),Te.globalComparePointsMax=new $.B(Te.buildCompares.compareCumulative.maxValue+20,Te.buildCompares.compareCumulative.maxValue+20)}catch(Re){console.warn(Re)}})()}setGauges(){var pe=this;return(0,r.Z)(function*(){const Se=[];for(const Te of pe.uiCompares)for(const Re of Te.comparePointsHistory)0===Se.filter(Ve=>Ve?.gaugeId===Re.gaugeId).length&&Se.push(Re);pe.gaugesInCompare=Se.map(Te=>new F.MapLatLng(Te.gaugeCartesianValue.lat,Te.gaugeCartesianValue.lng,0,Te.gaugeId,Te.gaugeLabel+">"+Te.getGaugeValue(),Te.getGaugeValue())),pe.resetSelectedGauges()})()}selectGauge(pe,Se){var Te=this;return(0,r.Z)(function*(){if(pe){const Ce=Te.getCurrentQualityPoints(Se).filter(Ue=>Ue.gaugeId===pe);Te.selectedGauge=1===Ce.length?Ce[0]:null}else Te.selectedGauge=null;if(!Te.selectedGauge)return Te.resetSelectedGauges();const Re=Te.getCurrentQualityPoints(Se).filter(Ce=>Ce.gaugeId===Te.selectedGauge.gaugeId);let De=[];if(1!==Re.length)return Te.selectedGaugeInPoints=null,Te.selectedGauges=[],Te.selectedPixels=[],void(Te.pixelsSolutions=[]);{const Ce=JSON.parse(Re[0].remark).sort((Me,Fe)=>Me.criteriaAttemptedToBeMinimum-Fe.criteriaAttemptedToBeMinimum);console.log(Ce),De=Ce.map(Me=>Me.solutionForGauge.pixels.map(Fe=>new F.MapLatLng(Fe.y+.005,Fe.x+.01,0,""+!Me.notPossible,""+!Me.notPossible,1)));const Ue=Re[0].getTimeDeltaInMinutes();Te.selectedGaugeInPointsDetail=Re[0].gaugeLabel+" > "+Math.round(100*Re[0].getGaugeValue())/100+" / "+Math.round(100*Re[0].getRainValue())/100+" dT="+Ue,Te.selectedGaugeInPoints=Re[0]}Te.selectedGauges=[new F.MapLatLng(Te.selectedGaugeInPoints.gaugeCartesianValue.lat,Te.selectedGaugeInPoints.gaugeCartesianValue.lng,void 0,Te.selectedGaugeInPoints.gaugeId,Te.selectedGaugeInPoints.gaugeLabel+">"+Te.selectedGaugeInPoints.gaugeCartesianValue.value,Te.selectedGaugeInPoints.gaugeCartesianValue.value)],Te.selectGaugeInCompare();const Ve=[];for(const Ce of Te.selectedGaugeInPoints.rainCartesianValues)Ve.push(new F.MapLatLng(Ce.lat+.005,Ce.lng+.01));Te.selectedPixels=Ve,Te.pixelsSolutions=De})()}buildComparesTimeline(pe,Se){var Te=this;return(0,r.Z)(function*(){const De=pe.map(Ve=>Ve.date).map(Ve=>Te.getRainComputationQuality(Ve));return Te.buildCompares=q.SpeedMatrixContainer.BuildCompares(De,!Se),Te.buildCompares})()}getComparePerDate(pe){const Se=this.buildCompares.comparesPerDate.filter(Te=>Te.date.getTime()===pe.getTime());return 1===Se.length?Se[0]:null}getCurrentQualityPoints(pe){return pe<0||this.compareNames.length<pe?[]:this.uiCompares[pe].comparePointsHistory}cleanCompareQuality(pe){this.compareVersion=pe,this.compareNames=[],this.uiCompares=[],this.compareSpeedMatrix=[],this.compareTrustedIndicator=void 0,this.currentQualityDoneDate=new Date(-1),this.currentQualityLaunchedBy="",this.currentQualityTimeSpentInMs=-1}fetchRainComputationQualities(pe){var Se=this;return(0,r.Z)(function*(){for(const Te of pe)if(!Se.rainComputationQualitiesPerDate[Te.date.toISOString()]&&Te.rainComputationQualityId)try{Se.rainComputationQualitiesPerDate[Te.date.toISOString()]=yield Se.profileService.getRainCompareById(Se.rainNode.getId(),Te.rainComputationId,Te.rainComputationQualityId)}catch(Re){console.log(Re)}})()}getRainComputationQuality(pe){return this.rainComputationQualitiesPerDate[pe.toISOString()]}selectGaugeInCompare(){for(const pe of this.uiCompares){const Se=JSON.parse(JSON.stringify(pe.comparePoints));Se.forEach(Te=>{Te.r=Te.id===this.selectedGaugeInPoints?.gaugeId?10:3}),pe.comparePoints=Se}}resetSelectedGauges(){this.selectedGauge=null,this.selectedGaugeInPoints=null,this.selectedGauges=[],this.selectedPixels=[],this.pixelsSolutions=[],this.selectGaugeInCompare()}}class Y{constructor(pe,Se=[],Te=null,Re=null,De=[]){this.date=pe,this.radarMeasureIds=Se,this.rainComputationId=Te,this.rainComputationVersion=Re,this.rainComputationQualities=De}}class Z extends q.GaugeNode{constructor(pe){super(pe),this.isIn=!0,this.distance=0}approxDistanceFrom(pe){return this.distance=Math.round(100*(Math.pow(this.latitude-pe.lat,2)+Math.pow(this.longitude-pe.lng,2))*100)/100,this.distance}add(){this.isIn=!0}remove(){this.isIn=!1}}var G=A(7579),J=A(9751),ue=A(727);class oe extends ue.w0{constructor(pe,Se){super()}schedule(pe,Se=0){return this}}const ce={setInterval(ge,pe,...Se){const{delegate:Te}=ce;return Te?.setInterval?Te.setInterval(ge,pe,...Se):setInterval(ge,pe,...Se)},clearInterval(ge){const{delegate:pe}=ce;return(pe?.clearInterval||clearInterval)(ge)},delegate:void 0};var le=A(8737);const ke={now:()=>(ke.delegate||Date).now(),delegate:void 0};class xe{constructor(pe,Se=xe.now){this.schedulerActionCtor=pe,this.now=Se}schedule(pe,Se=0,Te){return new this.schedulerActionCtor(this,pe).schedule(Te,Se)}}xe.now=ke.now;const Ie=new class se extends xe{constructor(pe,Se=xe.now){super(pe,Se),this.actions=[],this._active=!1}flush(pe){const{actions:Se}=this;if(this._active)return void Se.push(pe);let Te;this._active=!0;do{if(Te=pe.execute(pe.state,pe.delay))break}while(pe=Se.shift());if(this._active=!1,Te){for(;pe=Se.shift();)pe.unsubscribe();throw Te}}}(class de extends oe{constructor(pe,Se){super(pe,Se),this.scheduler=pe,this.work=Se,this.pending=!1}schedule(pe,Se=0){var Te;if(this.closed)return this;this.state=pe;const Re=this.id,De=this.scheduler;return null!=Re&&(this.id=this.recycleAsyncId(De,Re,Se)),this.pending=!0,this.delay=Se,this.id=null!==(Te=this.id)&&void 0!==Te?Te:this.requestAsyncId(De,this.id,Se),this}requestAsyncId(pe,Se,Te=0){return ce.setInterval(pe.flush.bind(pe,this),Te)}recycleAsyncId(pe,Se,Te=0){if(null!=Te&&this.delay===Te&&!1===this.pending)return Se;null!=Se&&ce.clearInterval(Se)}execute(pe,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(pe,Se);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,Se){let Re,Te=!1;try{this.work(pe)}catch(De){Te=!0,Re=De||new Error("Scheduled action threw falsy error")}if(Te)return this.unsubscribe(),Re}unsubscribe(){if(!this.closed){const{id:pe,scheduler:Se}=this,{actions:Te}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(Te,this),null!=pe&&(this.id=this.recycleAsyncId(Se,pe,null)),this.delay=null,super.unsubscribe()}}});var Be=A(3532);var vt=A(4482),Le=A(5403),Ge=A(8421),Ze=A(5032),ct=A(3900);class ze{constructor(pe,Se,Te,Re,De,Ve,Ce){this.rainNode=pe,this.radarService=Se,this.profileService=Te,this.compareManager=Re,this.onRefreshInProgress=De,this.onRefreshDone=Ve,this.onFetchDone=Ce,this.closeRefreshTimer=new G.x,this.cleanAll()}static Delay(pe){return new Promise(Se=>setTimeout(Se,pe))}cleanAll(){this.countsPeriod={},this.timeframesFromRadars=[],this.timeframesFromRadarsExtended=[],this.timeframeDates=[],this.closeRefreshTimer?.next(null)}fetch(pe,Se){var Te=this;return(0,r.Z)(function*(){const Re=Te.timeframesFromRadarsExtended.filter(_t=>_t.date.getTime()===pe.getTime());if(1!==Re.length)return void console.log("no correct dateShown",pe,Te.timeframesFromRadarsExtended);const De=Re[0],Ve=Te.timeframesFromRadarsExtended.indexOf(De);let Ce=null,Ue=null;const Me=[""+De.date.getTime()],Fe={};Fe[""+De.date.getTime()]=De,Ve>0&&(Ce=Te.timeframesFromRadarsExtended[Ve-1],Me.push(""+Ce.date.getTime()),Fe[""+Ce.date.getTime()]=Ce),Ve<Te.timeframesFromRadarsExtended.length&&(Ue=Te.timeframesFromRadarsExtended[Ve+1],Ue?.date&&(Me.push(""+Ue.date.getTime()),Fe[""+Ue.date.getTime()]=Ue));const mt=[];for(const _t of Me)if(Fe[_t]){const Mt=Fe[_t];Mt.rainComputationQualityId=Te.getRainComputationQualityTarget(Mt),Mt.withGauge=Se,mt.push(Mt);const cn=yield Te.refreshMapTimeframeContainers(Mt);_t===""+De.date.getTime()&&Te.onFetchDone(cn).then(En=>{})}return Te.refreshCompareQuality(De).then(_t=>{}),De})()}setPeriod(pe,Se){var Te=this;return(0,r.Z)(function*(){return Te.begin=pe,Te.end=Se,Te.refreshCounts()})()}refresh(pe){var Se=this;return(0,r.Z)(function*(){if(!Se.begin||!Se.end)throw new Error("need a period");Se.compareManager.cleanAll();let Te=!1,Re=!1;var De;(function Ae(ge=0,pe,Se=Ie){let Te=-1;return null!=pe&&((0,Be.K)(pe)?Se=pe:Te=pe),new J.y(Re=>{let De=function tt(ge){return ge instanceof Date&&!isNaN(ge)}(ge)?+ge-Se.now():ge;De<0&&(De=0);let Ve=0;return Se.schedule(function(){Re.closed||(Re.next(Ve++),0<=Te?this.schedule(void 0,Te):Re.complete())},De)})})(1e3,15e3).pipe((0,ct.w)((0,r.Z)(function*(){return Te||(Te=!0,Se.onRefreshInProgress(yield Se.refreshCounts(),Se.timeframeDates).then(De=>{}),Re=yield Se.refreshPeriodInsidePolling(),Re||(Te=!1)),Re})),function rt(ge){return(0,vt.e)((pe,Se)=>{(0,Ge.Xf)(ge).subscribe((0,Le.x)(Se,()=>Se.complete(),Ze.Z)),!Se.closed&&pe.subscribe(Se)})}(Se.closeRefreshTimer)).subscribe({next:(De=(0,r.Z)(function*(Ve){console.log("refreshFinished",Ve,pe),Ve&&(Se.closeRefreshTimer.next(null),yield Se.onRefreshDone(Se.timeframeDates))}),function(Ce){return De.apply(this,arguments)}),error:De=>{console.error("error in refresh",De)}})})()}selectGauge(pe,Se){var Te=this;return(0,r.Z)(function*(){return Te.compareManager.selectGauge(pe,Se)})()}setRemoveDuplicate(pe){this.removeDuplicate=pe}refreshCounts(){var pe=this;return(0,r.Z)(function*(){const Se=yield pe.profileService.getCounts(pe.rainNode.id,pe.begin,pe.end,!0);return pe.countsPeriod={radarMeasures:Se.radarMeasures.reduce((Te,Re)=>Te+Re.x,0),gaugeMeasures:Se.gaugeMeasures.reduce((Te,Re)=>Te+Re.x,0),computationsByTeam:Se.computationsByTeam.reduce((Te,Re)=>Te+Re.x,0)},pe.countsPeriod})()}getRainComputationQualityTarget(pe){if(!(pe.rainComputationQualities.length<=0))return pe.rainComputationQualities[0].id}refreshPeriodInsidePolling(){var pe=this;return(0,r.Z)(function*(){let Se=!1;try{return Se=pe.refreshCheckIfDone(),yield pe.refreshTimeframesFromRadars(Se),pe.refreshGlobalCompareReport(Se).then(Te=>{}),Se}catch(Te){console.warn(Te)}return Se})()}refreshCheckIfDone(){return this.countsPeriod.computationsByTeam===this.countsPeriod.radarMeasures}refreshTimeframesFromRadars(pe){var Se=this;return(0,r.Z)(function*(){if(!pe)return[];const Te=new Date(Se.begin),Re=new Date(Se.end);return Te.setMinutes(Te.getMinutes()-7),Re.setMinutes(Re.getMinutes()+7),Se.rainNode=yield Se.profileService.getRainTimeframe(Se.rainNode.getId(),Te,Re),Se.timeframesFromRadarsExtended=yield Se.radarService.getTimeline(Se.rainNode),Se.timeframesFromRadars=Se.timeframesFromRadarsExtended.filter(De=>Se.begin.getTime()<=De.date.getTime()&&De.date.getTime()<=Se.end.getTime()).sort((De,Ve)=>De.date.getTime()-Ve.date.getTime()),Se.timeframeDates=Se.timeframesFromRadars.map(De=>De.date),Se.timeframesFromRadars})()}refreshGlobalCompareReport(pe){var Se=this;return(0,r.Z)(function*(){if(!pe)return;const Te=[];for(const Re of Se.timeframesFromRadarsExtended){const De=JSON.parse(JSON.stringify(Re));De.date=new Date(De.date),De.rainComputationQualityId=Se.getRainComputationQualityTarget(Re),Te.push(De)}yield Se.compareManager.refreshGlobalCompareQuality(Te,!Se.removeDuplicate)})()}refreshMapTimeframeContainers(pe){var Se=this;return(0,r.Z)(function*(){if(!pe||!pe.rainComputationId)return void console.warn("Pb with refreshMapTimeframeContainers insights");const Te=Se.rainNode,De=new F.TimeframeContainers([]);try{const Ve=yield Se.profileService.getRainComputationCartesianMapById(Te.getId(),pe.rainComputationId);Ve&&(De.addFromRainComputationMap(Ve,!1),Se.rainComputationMapDate=Ve.date,Se.rainComputationMapDoneDate=Ve.isDoneDate,Se.rainComputationMapLaunchedBy=Ve.launchedBy,Se.rainComputationMapTimeSpentInMs=Ve.timeSpentInMs)}catch(Ve){console.warn("Pb with computations for id:",pe.rainComputationId,Ve)}return De})()}refreshCompareQuality(pe){var Se=this;return(0,r.Z)(function*(){yield Se.compareManager.refreshCompareQuality(pe),yield Se.compareManager.setGauges()})()}}class Ke{constructor(pe,Se,Te){this.rainNode=pe,this.radarService=Se,this.profileService=Te}setDate(pe){var Se=this;return(0,r.Z)(function*(){const{values:Te}=yield Se.refreshTimeframesFromRadars(pe,pe);Se.sumFn=De=>{const Ve=De.reduce((Ce,Ue)=>Ce+5*Ue.value/60,0);return"w:"+Math.round(10*Ve)/10},Se.sumValues=Te})()}setPeriod(pe,Se){var Te=this;return(0,r.Z)(function*(){const{values:Re,timeframesFromRadars:De}=yield Te.refreshTimeframesFromRadars(pe,Se);Te.sumFn=Ve=>{const Ce=Ve.reduce((Ue,Me)=>Ue+5*Me.value/60/De.length,0);return"wt:"+Math.round(10*Ce)/10},Te.sumValues=Re})()}refreshTimeframesFromRadars(pe,Se){var Te=this;return(0,r.Z)(function*(){Te.rainNode=yield Te.profileService.getRainTimeframe(Te.rainNode.getId(),pe,Se);const De=(yield Te.radarService.getTimeline(Te.rainNode)).filter(Ce=>pe.getTime()<=Ce.date.getTime()&&Ce.date.getTime()<=Se.getTime()).sort((Ce,Ue)=>Ce.date.getTime()-Ue.date.getTime());let Ve=[];for(const Ce of De)Ve=Ve.concat(yield Te.getValues(Ce));return{values:Ve,timeframesFromRadars:De}})()}getValues(pe){var Se=this;return(0,r.Z)(function*(){if(!pe||!pe.rainComputationId)return console.warn("Pb with target insights"),[];let Te=[];const Re=Se.rainNode;new F.TimeframeContainers([]);try{const Ce=yield Se.profileService.getRainComputationCartesianMapById(Re.getId(),pe.rainComputationId);Ce&&Ce.getMapData().forEach(Ue=>{Ue.values&&Ue.values.forEach(Me=>{const Fe=q.CartesianMeasureValue.From(Me);Te=Te.concat(F.CartesianMapValue.From(Fe.getCartesianValues(),Fe.getCartesianPixelWidth()))})})}catch(Ce){console.warn("Pb with computations for id:",pe.rainComputationId,Ce)}return Te})()}}},6275:(Ct,H,A)=>{"use strict";A.d(H,{B:()=>r});class r{constructor(q,$,Q,Y,Z){this.x=q,this.y=$,this.r=Q,this.name=Y,this.id=Z}}},24:(Ct,H,A)=>{"use strict";var r=A(1481),F=A(8256),q=A(1407),$=A(4556),Q=A(5861);const Z=(0,A(7423).fo)("SplashScreen",{web:()=>A.e(2680).then(A.bind(A,2680)).then(U=>new U.SplashScreenWeb)});var G=A(5860);var ue=A(8525),oe=A(6895);function ce(U,m){if(1&U&&(F.TgZ(0,"ion-badge",9),F._uU(1),F.qZA()),2&U){const P=F.oxw().$implicit,W=F.oxw();F.xp6(1),F.Oqu(W.getBadges(P))}}const le=function(U){return[U]};function de(U,m){if(1&U&&(F.TgZ(0,"ion-menu-toggle",5)(1,"ion-item",6),F._UZ(2,"ion-icon",7),F.TgZ(3,"ion-label"),F._uU(4),F.qZA(),F.YNc(5,ce,2,1,"ion-badge",8),F.qZA()()),2&U){const P=m.$implicit,W=F.oxw();F.xp6(1),F.Q6J("routerDirection","root")("routerLink",F.VKq(5,le,P.url)),F.xp6(1),F.Q6J("name",P.icon),F.xp6(2),F.hij(" ",P.title," "),F.xp6(1),F.Q6J("ngIf",W.getBadges(P))}}let ke=(()=>{const m=class{constructor(W,me,Ne,pt){this.platform=W,this.fidjAngularService=me,this.router=Ne,this.profile=pt,this.appPages=[{title:"Dashboard",url:"/home",icon:"home"},{title:"Radars",url:"/radars",icon:"wifi"},{title:"Rains",url:"/rains",icon:"rainy"},{title:"Events",url:"/events",icon:"notifications-outline"},{title:"Settings",url:"/profile",icon:"settings"},{title:"Sign out",url:"/login",icon:"log-out"}],this.notifications=[],this.initializeApp()}initializeApp(){var W=this;this.profile.defaultUrlForAPI="serverUrlToReplace",this.platform.ready().then((0,Q.Z)(function*(){yield W.initFidj(),yield W.getNotifications(),Z.hide()}))}initFidj(){var W=this;return(0,Q.Z)(function*(){try{yield W.fidjAngularService.init("fidj-xxx",{logLevel:G.WG.INFO,crypto:!1,prod:true,useDB:!1}),console.log("initFidj done."),W.profile.readyForSync.next(!0),W.fidjAngularService.isLoggedIn()||W.router.navigate(["/login"])}catch(me){404!==me.code?console.error("initFidj catch pb: ",me):(console.warn("initFidj - fidj is not online => demo only ",me),W.fidjAngularService.isLoggedIn()||W.router.navigate(["/login"]))}})()}getNotifications(){var W=this;return(0,Q.Z)(function*(){W.notifications=yield W.profile.getAllNotifications()})()}getBadges(W){return"Events"!==W.title?0:this.notifications?.length}};let U=m;return m.\u0275fac=function(me){return new(me||m)(F.Y36($.t4),F.Y36(G.DR),F.Y36(q.F0),F.Y36(ue.H3))},m.\u0275cmp=F.Xpm({type:m,selectors:[["app-root"]],decls:11,vars:1,consts:[["contentId","main-content","when","(min-width: 5000px)"],["contentId","main-content","type","overlay"],["id","my-content"],["auto-hide","false",4,"ngFor","ngForOf"],["id","main-content"],["auto-hide","false"],[3,"routerDirection","routerLink"],["slot","start",3,"name"],["slot","end",4,"ngIf"],["slot","end"]],template:function(me,Ne){1&me&&(F.TgZ(0,"ion-app")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"ion-header")(4,"ion-toolbar")(5,"ion-title"),F._uU(6,"Menu"),F.qZA()()(),F.TgZ(7,"ion-content",2)(8,"ion-list"),F.YNc(9,de,6,7,"ion-menu-toggle",3),F.qZA()()(),F._UZ(10,"ion-router-outlet",4),F.qZA()()),2&me&&(F.xp6(9),F.Q6J("ngForOf",Ne.appPages))},dependencies:[oe.sg,oe.O5,$.dr,$.yp,$.W2,$.Gu,$.gu,$.Ie,$.Q$,$.q_,$.z0,$.zc,$.jI,$.wd,$.sr,$.jP,$.YI,q.rH],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu[_ngcontent-%COMP%]::part(backdrop){background-color:#0077ff80}ion-menu[_ngcontent-%COMP%]::part(container){border-radius:0 2px 2px 0;box-shadow:4px 0 16px #00ffc42e}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),U})(),xe=(()=>{const m=class{constructor(){}ngOnInit(){}};let U=m;return m.\u0275fac=function(me){return new(me||m)},m.\u0275cmp=F.Xpm({type:m,selectors:[["app-page-not-found"]],decls:9,vars:0,consts:[[1,"welcome-card"],["src","/assets/login.png"],["href","/"]],template:function(me,Ne){1&me&&(F.TgZ(0,"ion-content")(1,"ion-card",0),F._UZ(2,"ion-img",1),F.TgZ(3,"ion-card-header")(4,"ion-card-title"),F._uU(5,"Wrong url :("),F.qZA(),F.TgZ(6,"ion-card-subtitle")(7,"a",2),F._uU(8,"...back"),F.qZA()()()()())},dependencies:[$.PM,$.Zi,$.tO,$.Dq,$.W2,$.Xz],styles:["ion-img[_ngcontent-%COMP%]{max-width:100px}"]}),U})(),se=(()=>{const m=class{constructor(W,me){this.fidjAngularService=W,this.profile=me}canActivate(W,me){var Ne=this;return(0,Q.Z)(function*(){if(Ne.profile.isDemoMode)return!0;const pt=Ne.fidjAngularService.isLoggedIn(),Pt=(yield Ne.fidjAngularService.getRoles()).indexOf("admin")>=0;return pt&&Pt})()}};let U=m;return m.\u0275fac=function(me){return new(me||m)(F.LFG(G.DR),F.LFG(ue.H3))},m.\u0275prov=F.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),U})();const _e=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>Promise.all([A.e(8592),A.e(8602)]).then(A.bind(A,8602)).then(U=>U.HomePageModule),canActivate:[se]},{path:"radars",loadChildren:()=>A.e(1052).then(A.bind(A,1052)).then(U=>U.RadarsPageModule),canActivate:[se]},{path:"rains",loadChildren:()=>Promise.all([A.e(8592),A.e(3421)]).then(A.bind(A,3421)).then(U=>U.RainsPageModule),canActivate:[se]},{path:"events",loadChildren:()=>A.e(9946).then(A.bind(A,9946)).then(U=>U.EventsPageModule),canActivate:[se]},{path:"profile",loadChildren:()=>Promise.all([A.e(8592),A.e(9703)]).then(A.bind(A,9703)).then(U=>U.ProfilePageModule),canActivate:[se]},{path:"login",loadChildren:()=>Promise.all([A.e(8592),A.e(7110)]).then(A.bind(A,7110)).then(U=>U.LoginPageModule)},{path:"**",component:xe}];let Ie=(()=>{const m=class{};let U=m;return m.\u0275fac=function(me){return new(me||m)},m.\u0275mod=F.oAB({type:m}),m.\u0275inj=F.cJS({imports:[q.Bz.forRoot(_e,{useHash:!0,preloadingStrategy:q.GZ}),q.Bz]}),U})();class Be{}class tt{}const Ae="*";function Ze(U,m=null){return{type:2,steps:U,options:m}}function rt(U){return{type:6,styles:U,offset:null}}function De(U){Promise.resolve().then(U)}class Ve{constructor(m=0,P=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=m+P}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){De(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(m=>m()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(m){this._position=this.totalTime?m*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(m){const P="start"==m?this._onStartFns:this._onDoneFns;P.forEach(W=>W()),P.length=0}}class Ce{constructor(m){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=m;let P=0,W=0,me=0;const Ne=this.players.length;0==Ne?De(()=>this._onFinish()):this.players.forEach(pt=>{pt.onDone(()=>{++P==Ne&&this._onFinish()}),pt.onDestroy(()=>{++W==Ne&&this._onDestroy()}),pt.onStart(()=>{++me==Ne&&this._onStart()})}),this.totalTime=this.players.reduce((pt,Pt)=>Math.max(pt,Pt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this.players.forEach(m=>m.init())}onStart(m){this._onStartFns.push(m)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(m=>m()),this._onStartFns=[])}onDone(m){this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(m=>m.play())}pause(){this.players.forEach(m=>m.pause())}restart(){this.players.forEach(m=>m.restart())}finish(){this._onFinish(),this.players.forEach(m=>m.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(m=>m.destroy()),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}reset(){this.players.forEach(m=>m.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(m){const P=m*this.totalTime;this.players.forEach(W=>{const me=W.totalTime?Math.min(1,P/W.totalTime):1;W.setPosition(me)})}getPosition(){const m=this.players.reduce((P,W)=>null===P||W.totalTime>P.totalTime?W:P,null);return null!=m?m.getPosition():0}beforeDestroy(){this.players.forEach(m=>{m.beforeDestroy&&m.beforeDestroy()})}triggerCallback(m){const P="start"==m?this._onStartFns:this._onDoneFns;P.forEach(W=>W()),P.length=0}}const Ue="!";function Fe(U){return new F.vHH(3e3,!1)}function Zt(){return typeof window<"u"&&typeof window.document<"u"}function bt(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function kt(U){switch(U.length){case 0:return new Ve;case 1:return U[0];default:return new Ce(U)}}function vn(U,m,P,W,me=new Map,Ne=new Map){const pt=[],Pt=[];let nn=-1,pn=null;if(W.forEach(Pn=>{const Wn=Pn.get("offset"),Ri=Wn==nn,Fi=Ri&&pn||new Map;Pn.forEach((Si,ki)=>{let Vr=ki,Lr=Si;if("offset"!==ki)switch(Vr=m.normalizePropertyName(Vr,pt),Lr){case Ue:Lr=me.get(ki);break;case Ae:Lr=Ne.get(ki);break;default:Lr=m.normalizeStyleValue(ki,Vr,Lr,pt)}Fi.set(Vr,Lr)}),Ri||Pt.push(Fi),pn=Fi,nn=Wn}),pt.length)throw function Tt(U){return new F.vHH(3502,!1)}();return Pt}function yn(U,m,P,W){switch(m){case"start":U.onStart(()=>W(P&&Vt(P,"start",U)));break;case"done":U.onDone(()=>W(P&&Vt(P,"done",U)));break;case"destroy":U.onDestroy(()=>W(P&&Vt(P,"destroy",U)))}}function Vt(U,m,P){const Ne=ai(U.element,U.triggerName,U.fromState,U.toState,m||U.phaseName,P.totalTime??U.totalTime,!!P.disabled),pt=U._data;return null!=pt&&(Ne._data=pt),Ne}function ai(U,m,P,W,me="",Ne=0,pt){return{element:U,triggerName:m,fromState:P,toState:W,phaseName:me,totalTime:Ne,disabled:!!pt}}function si(U,m,P){let W=U.get(m);return W||U.set(m,W=P),W}function Jn(U){const m=U.indexOf(":");return[U.substring(1,m),U.slice(m+1)]}let Xi=(U,m)=>!1,tr=(U,m,P)=>[],Ot=null;function Ut(U){const m=U.parentNode||U.host;return m===Ot?null:m}(bt()||typeof Element<"u")&&(Zt()?(Ot=(()=>document.documentElement)(),Xi=(U,m)=>{for(;m;){if(m===U)return!0;m=Ut(m)}return!1}):Xi=(U,m)=>U.contains(m),tr=(U,m,P)=>{if(P)return Array.from(U.querySelectorAll(m));const W=U.querySelector(m);return W?[W]:[]});let hn=null,kn=!1;const rr=Xi,Hi=tr;let Rr=(()=>{class U{validateStyleProperty(P){return function Yn(U){hn||(hn=function mr(){return typeof document<"u"?document.body:null}()||{},kn=!!hn.style&&"WebkitAppearance"in hn.style);let m=!0;return hn.style&&!function Yt(U){return"ebkit"==U.substring(1,6)}(U)&&(m=U in hn.style,!m&&kn&&(m="Webkit"+U.charAt(0).toUpperCase()+U.slice(1)in hn.style)),m}(P)}matchesElement(P,W){return!1}containsElement(P,W){return rr(P,W)}getParentElement(P){return Ut(P)}query(P,W,me){return Hi(P,W,me)}computeStyle(P,W,me){return me||""}animate(P,W,me,Ne,pt,Pt=[],nn){return new Ve(me,Ne)}}return U.\u0275fac=function(P){return new(P||U)},U.\u0275prov=F.Yz7({token:U,factory:U.\u0275fac}),U})(),Fr=(()=>{class U{}return U.NOOP=new Rr,U})();const go=1e3,Nr="ng-enter",Ki="ng-leave",wr="ng-trigger",lo=".ng-trigger",no="ng-animating",Gr=".ng-animating";function uo(U){if("number"==typeof U)return U;const m=U.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:zi(parseFloat(m[1]),m[2])}function zi(U,m){return"s"===m?U*go:U}function Bi(U,m,P){return U.hasOwnProperty("duration")?U:function _i(U,m,P){let me,Ne=0,pt="";if("string"==typeof U){const Pt=U.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Pt)return m.push(Fe()),{duration:0,delay:0,easing:""};me=zi(parseFloat(Pt[1]),Pt[2]);const nn=Pt[3];null!=nn&&(Ne=zi(parseFloat(nn),Pt[4]));const pn=Pt[5];pn&&(pt=pn)}else me=U;if(!P){let Pt=!1,nn=m.length;me<0&&(m.push(function mt(){return new F.vHH(3100,!1)}()),Pt=!0),Ne<0&&(m.push(function _t(){return new F.vHH(3101,!1)}()),Pt=!0),Pt&&m.splice(nn,0,Fe())}return{duration:me,delay:Ne,easing:pt}}(U,m,P)}function di(U,m={}){return Object.keys(U).forEach(P=>{m[P]=U[P]}),m}function kr(U){const m=new Map;return Object.keys(U).forEach(P=>{m.set(P,U[P])}),m}function Ye(U,m=new Map,P){if(P)for(let[W,me]of P)m.set(W,me);for(let[W,me]of U)m.set(W,me);return m}function Je(U,m,P){return P?m+":"+P+";":""}function dt(U){let m="";for(let P=0;P<U.style.length;P++){const W=U.style.item(P);m+=Je(0,W,U.style.getPropertyValue(W))}for(const P in U.style)U.style.hasOwnProperty(P)&&!P.startsWith("_")&&(m+=Je(0,$i(P),U.style[P]));U.setAttribute("style",m)}function Lt(U,m,P){U.style&&(m.forEach((W,me)=>{const Ne=In(me);P&&!P.has(me)&&P.set(me,U.style[Ne]),U.style[Ne]=W}),bt()&&dt(U))}function Qt(U,m){U.style&&(m.forEach((P,W)=>{const me=In(W);U.style[me]=""}),bt()&&dt(U))}function ot(U){return Array.isArray(U)?1==U.length?U[0]:Ze(U):U}const zt=new RegExp("{{\\s*(.+?)\\s*}}","g");function gn(U){let m=[];if("string"==typeof U){let P;for(;P=zt.exec(U);)m.push(P[1]);zt.lastIndex=0}return m}function an(U,m,P){const W=U.toString(),me=W.replace(zt,(Ne,pt)=>{let Pt=m[pt];return null==Pt&&(P.push(function cn(U){return new F.vHH(3003,!1)}()),Pt=""),Pt.toString()});return me==W?U:me}function Hn(U){const m=[];let P=U.next();for(;!P.done;)m.push(P.value),P=U.next();return m}const ii=/-+([a-z0-9])/g;function In(U){return U.replace(ii,(...m)=>m[1].toUpperCase())}function $i(U){return U.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ii(U,m,P){switch(m.type){case 7:return U.visitTrigger(m,P);case 0:return U.visitState(m,P);case 1:return U.visitTransition(m,P);case 2:return U.visitSequence(m,P);case 3:return U.visitGroup(m,P);case 4:return U.visitAnimate(m,P);case 5:return U.visitKeyframes(m,P);case 6:return U.visitStyle(m,P);case 8:return U.visitReference(m,P);case 9:return U.visitAnimateChild(m,P);case 10:return U.visitAnimateRef(m,P);case 11:return U.visitQuery(m,P);case 12:return U.visitStagger(m,P);default:throw function En(U){return new F.vHH(3004,!1)}()}}function xr(U,m){return window.getComputedStyle(U)[m]}const He="*";function st(U,m){const P=[];return"string"==typeof U?U.split(/\s*,\s*/).forEach(W=>function wt(U,m,P){if(":"==U[0]){const nn=function $t(U,m){switch(U){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(P,W)=>parseFloat(W)>parseFloat(P);case":decrement":return(P,W)=>parseFloat(W)<parseFloat(P);default:return m.push(function Mr(U){return new F.vHH(3016,!1)}()),"* => *"}}(U,P);if("function"==typeof nn)return void m.push(nn);U=nn}const W=U.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==W||W.length<4)return P.push(function cr(U){return new F.vHH(3015,!1)}()),m;const me=W[1],Ne=W[2],pt=W[3];m.push(Ln(me,pt));"<"==Ne[0]&&!(me==He&&pt==He)&&m.push(Ln(pt,me))}(W,P,m)):P.push(U),P}const Gt=new Set(["true","1"]),un=new Set(["false","0"]);function Ln(U,m){const P=Gt.has(U)||un.has(U),W=Gt.has(m)||un.has(m);return(me,Ne)=>{let pt=U==He||U==me,Pt=m==He||m==Ne;return!pt&&P&&"boolean"==typeof me&&(pt=me?Gt.has(U):un.has(U)),!Pt&&W&&"boolean"==typeof Ne&&(Pt=Ne?Gt.has(m):un.has(m)),pt&&Pt}}const Vn=new RegExp("s*:selfs*,?","g");function wn(U,m,P,W){return new Gi(U).build(m,P,W)}class Gi{constructor(m){this._driver=m}build(m,P,W){const me=new Sr(P);return this._resetContextStyleTimingState(me),Ii(this,ot(m),me)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,P){let W=P.queryCount=0,me=P.depCount=0;const Ne=[],pt=[];return"@"==m.name.charAt(0)&&P.errors.push(function Et(){return new F.vHH(3006,!1)}()),m.definitions.forEach(Pt=>{if(this._resetContextStyleTimingState(P),0==Pt.type){const nn=Pt,pn=nn.name;pn.toString().split(/\s*,\s*/).forEach(Pn=>{nn.name=Pn,Ne.push(this.visitState(nn,P))}),nn.name=pn}else if(1==Pt.type){const nn=this.visitTransition(Pt,P);W+=nn.queryCount,me+=nn.depCount,pt.push(nn)}else P.errors.push(function at(){return new F.vHH(3007,!1)}())}),{type:7,name:m.name,states:Ne,transitions:pt,queryCount:W,depCount:me,options:null}}visitState(m,P){const W=this.visitStyle(m.styles,P),me=m.options&&m.options.params||null;if(W.containsDynamicStyles){const Ne=new Set,pt=me||{};W.styles.forEach(Pt=>{Pt instanceof Map&&Pt.forEach(nn=>{gn(nn).forEach(pn=>{pt.hasOwnProperty(pn)||Ne.add(pn)})})}),Ne.size&&(Hn(Ne.values()),P.errors.push(function tn(U,m){return new F.vHH(3008,!1)}()))}return{type:0,name:m.name,style:W,options:me?{params:me}:null}}visitTransition(m,P){P.queryCount=0,P.depCount=0;const W=Ii(this,ot(m.animation),P);return{type:1,matchers:st(m.expr,P.errors),animation:W,queryCount:P.queryCount,depCount:P.depCount,options:Cr(m.options)}}visitSequence(m,P){return{type:2,steps:m.steps.map(W=>Ii(this,W,P)),options:Cr(m.options)}}visitGroup(m,P){const W=P.currentTime;let me=0;const Ne=m.steps.map(pt=>{P.currentTime=W;const Pt=Ii(this,pt,P);return me=Math.max(me,P.currentTime),Pt});return P.currentTime=me,{type:3,steps:Ne,options:Cr(m.options)}}visitAnimate(m,P){const W=function or(U,m){if(U.hasOwnProperty("duration"))return U;if("number"==typeof U)return yi(Bi(U,m).duration,0,"");const P=U;if(P.split(/\s+/).some(Ne=>"{"==Ne.charAt(0)&&"{"==Ne.charAt(1))){const Ne=yi(0,0,"");return Ne.dynamic=!0,Ne.strValue=P,Ne}const me=Bi(P,m);return yi(me.duration,me.delay,me.easing)}(m.timings,P.errors);P.currentAnimateTimings=W;let me,Ne=m.styles?m.styles:rt({});if(5==Ne.type)me=this.visitKeyframes(Ne,P);else{let pt=m.styles,Pt=!1;if(!pt){Pt=!0;const pn={};W.easing&&(pn.easing=W.easing),pt=rt(pn)}P.currentTime+=W.duration+W.delay;const nn=this.visitStyle(pt,P);nn.isEmptyStep=Pt,me=nn}return P.currentAnimateTimings=null,{type:4,timings:W,style:me,options:null}}visitStyle(m,P){const W=this._makeStyleAst(m,P);return this._validateStyleAst(W,P),W}_makeStyleAst(m,P){const W=[],me=Array.isArray(m.styles)?m.styles:[m.styles];for(let Pt of me)"string"==typeof Pt?Pt===Ae?W.push(Pt):P.errors.push(new F.vHH(3002,!1)):W.push(kr(Pt));let Ne=!1,pt=null;return W.forEach(Pt=>{if(Pt instanceof Map&&(Pt.has("easing")&&(pt=Pt.get("easing"),Pt.delete("easing")),!Ne))for(let nn of Pt.values())if(nn.toString().indexOf("{{")>=0){Ne=!0;break}}),{type:6,styles:W,easing:pt,offset:m.offset,containsDynamicStyles:Ne,options:null}}_validateStyleAst(m,P){const W=P.currentAnimateTimings;let me=P.currentTime,Ne=P.currentTime;W&&Ne>0&&(Ne-=W.duration+W.delay),m.styles.forEach(pt=>{"string"!=typeof pt&&pt.forEach((Pt,nn)=>{const pn=P.collectedStyles.get(P.currentQuerySelector),Pn=pn.get(nn);let Wn=!0;Pn&&(Ne!=me&&Ne>=Pn.startTime&&me<=Pn.endTime&&(P.errors.push(function Cn(U,m,P,W,me){return new F.vHH(3010,!1)}()),Wn=!1),Ne=Pn.startTime),Wn&&pn.set(nn,{startTime:Ne,endTime:me}),P.options&&function Ht(U,m,P){const W=m.params||{},me=gn(U);me.length&&me.forEach(Ne=>{W.hasOwnProperty(Ne)||P.push(function Mt(U){return new F.vHH(3001,!1)}())})}(Pt,P.options,P.errors)})})}visitKeyframes(m,P){const W={type:5,styles:[],options:null};if(!P.currentAnimateTimings)return P.errors.push(function _n(){return new F.vHH(3011,!1)}()),W;let Ne=0;const pt=[];let Pt=!1,nn=!1,pn=0;const Pn=m.steps.map(Lr=>{const Oo=this._makeStyleAst(Lr,P);let a=null!=Oo.offset?Oo.offset:function Br(U){if("string"==typeof U)return null;let m=null;if(Array.isArray(U))U.forEach(P=>{if(P instanceof Map&&P.has("offset")){const W=P;m=parseFloat(W.get("offset")),W.delete("offset")}});else if(U instanceof Map&&U.has("offset")){const P=U;m=parseFloat(P.get("offset")),P.delete("offset")}return m}(Oo.styles),v=0;return null!=a&&(Ne++,v=Oo.offset=a),nn=nn||v<0||v>1,Pt=Pt||v<pn,pn=v,pt.push(v),Oo});nn&&P.errors.push(function ui(){return new F.vHH(3012,!1)}()),Pt&&P.errors.push(function wi(){return new F.vHH(3200,!1)}());const Wn=m.steps.length;let Ri=0;Ne>0&&Ne<Wn?P.errors.push(function Oi(){return new F.vHH(3202,!1)}()):0==Ne&&(Ri=1/(Wn-1));const Fi=Wn-1,Si=P.currentTime,ki=P.currentAnimateTimings,Vr=ki.duration;return Pn.forEach((Lr,Oo)=>{const a=Ri>0?Oo==Fi?1:Ri*Oo:pt[Oo],v=a*Vr;P.currentTime=Si+ki.delay+v,ki.duration=v,this._validateStyleAst(Lr,P),Lr.offset=a,W.styles.push(Lr)}),W}visitReference(m,P){return{type:8,animation:Ii(this,ot(m.animation),P),options:Cr(m.options)}}visitAnimateChild(m,P){return P.depCount++,{type:9,options:Cr(m.options)}}visitAnimateRef(m,P){return{type:10,animation:this.visitReference(m.animation,P),options:Cr(m.options)}}visitQuery(m,P){const W=P.currentQuerySelector,me=m.options||{};P.queryCount++,P.currentQuery=m;const[Ne,pt]=function vi(U){const m=!!U.split(/\s*,\s*/).find(P=>":self"==P);return m&&(U=U.replace(Vn,"")),U=U.replace(/@\*/g,lo).replace(/@\w+/g,P=>lo+"-"+P.slice(1)).replace(/:animating/g,Gr),[U,m]}(m.selector);P.currentQuerySelector=W.length?W+" "+Ne:Ne,si(P.collectedStyles,P.currentQuerySelector,new Map);const Pt=Ii(this,ot(m.animation),P);return P.currentQuery=null,P.currentQuerySelector=W,{type:11,selector:Ne,limit:me.limit||0,optional:!!me.optional,includeSelf:pt,animation:Pt,originalSelector:m.selector,options:Cr(m.options)}}visitStagger(m,P){P.currentQuery||P.errors.push(function er(){return new F.vHH(3013,!1)}());const W="full"===m.timings?{duration:0,delay:0,easing:"full"}:Bi(m.timings,P.errors,!0);return{type:12,animation:Ii(this,ot(m.animation),P),timings:W,options:null}}}class Sr{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Cr(U){return U?(U=di(U)).params&&(U.params=function gi(U){return U?di(U):null}(U.params)):U={},U}function yi(U,m,P){return{duration:U,delay:m,easing:P}}function yr(U,m,P,W,me,Ne,pt=null,Pt=!1){return{type:1,element:U,keyframes:m,preStyleProps:P,postStyleProps:W,duration:me,delay:Ne,totalTime:me+Ne,easing:pt,subTimeline:Pt}}class jn{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,P){let W=this._map.get(m);W||this._map.set(m,W=[]),W.push(...P)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const Wr=new RegExp(":enter","g"),so=new RegExp(":leave","g");function mo(U,m,P,W,me,Ne=new Map,pt=new Map,Pt,nn,pn=[]){return(new yo).buildKeyframes(U,m,P,W,me,Ne,pt,Pt,nn,pn)}class yo{buildKeyframes(m,P,W,me,Ne,pt,Pt,nn,pn,Pn=[]){pn=pn||new jn;const Wn=new Jr(m,P,pn,me,Ne,Pn,[]);Wn.options=nn;const Ri=nn.delay?uo(nn.delay):0;Wn.currentTimeline.delayNextStep(Ri),Wn.currentTimeline.setStyles([pt],null,Wn.errors,nn),Ii(this,W,Wn);const Fi=Wn.timelines.filter(Si=>Si.containsAnimation());if(Fi.length&&Pt.size){let Si;for(let ki=Fi.length-1;ki>=0;ki--){const Vr=Fi[ki];if(Vr.element===P){Si=Vr;break}}Si&&!Si.allowOnlyTimelineStyles()&&Si.setStyles([Pt],null,Wn.errors,nn)}return Fi.length?Fi.map(Si=>Si.buildKeyframes()):[yr(P,[],[],[],0,Ri,"",!1)]}visitTrigger(m,P){}visitState(m,P){}visitTransition(m,P){}visitAnimateChild(m,P){const W=P.subInstructions.get(P.element);if(W){const me=P.createSubContext(m.options),Ne=P.currentTimeline.currentTime,pt=this._visitSubInstructions(W,me,me.options);Ne!=pt&&P.transformIntoNewTimeline(pt)}P.previousNode=m}visitAnimateRef(m,P){const W=P.createSubContext(m.options);W.transformIntoNewTimeline(),this._applyAnimationRefDelays([m.options,m.animation.options],P,W),this.visitReference(m.animation,W),P.transformIntoNewTimeline(W.currentTimeline.currentTime),P.previousNode=m}_applyAnimationRefDelays(m,P,W){for(const me of m){const Ne=me?.delay;if(Ne){const pt="number"==typeof Ne?Ne:uo(an(Ne,me?.params??{},P.errors));W.delayNextStep(pt)}}}_visitSubInstructions(m,P,W){let Ne=P.currentTimeline.currentTime;const pt=null!=W.duration?uo(W.duration):null,Pt=null!=W.delay?uo(W.delay):null;return 0!==pt&&m.forEach(nn=>{const pn=P.appendInstructionToTimeline(nn,pt,Pt);Ne=Math.max(Ne,pn.duration+pn.delay)}),Ne}visitReference(m,P){P.updateOptions(m.options,!0),Ii(this,m.animation,P),P.previousNode=m}visitSequence(m,P){const W=P.subContextCount;let me=P;const Ne=m.options;if(Ne&&(Ne.params||Ne.delay)&&(me=P.createSubContext(Ne),me.transformIntoNewTimeline(),null!=Ne.delay)){6==me.previousNode.type&&(me.currentTimeline.snapshotCurrentStyles(),me.previousNode=_o);const pt=uo(Ne.delay);me.delayNextStep(pt)}m.steps.length&&(m.steps.forEach(pt=>Ii(this,pt,me)),me.currentTimeline.applyStylesToKeyframe(),me.subContextCount>W&&me.transformIntoNewTimeline()),P.previousNode=m}visitGroup(m,P){const W=[];let me=P.currentTimeline.currentTime;const Ne=m.options&&m.options.delay?uo(m.options.delay):0;m.steps.forEach(pt=>{const Pt=P.createSubContext(m.options);Ne&&Pt.delayNextStep(Ne),Ii(this,pt,Pt),me=Math.max(me,Pt.currentTimeline.currentTime),W.push(Pt.currentTimeline)}),W.forEach(pt=>P.currentTimeline.mergeTimelineCollectedStyles(pt)),P.transformIntoNewTimeline(me),P.previousNode=m}_visitTiming(m,P){if(m.dynamic){const W=m.strValue;return Bi(P.params?an(W,P.params,P.errors):W,P.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,P){const W=P.currentAnimateTimings=this._visitTiming(m.timings,P),me=P.currentTimeline;W.delay&&(P.incrementTime(W.delay),me.snapshotCurrentStyles());const Ne=m.style;5==Ne.type?this.visitKeyframes(Ne,P):(P.incrementTime(W.duration),this.visitStyle(Ne,P),me.applyStylesToKeyframe()),P.currentAnimateTimings=null,P.previousNode=m}visitStyle(m,P){const W=P.currentTimeline,me=P.currentAnimateTimings;!me&&W.hasCurrentStyleProperties()&&W.forwardFrame();const Ne=me&&me.easing||m.easing;m.isEmptyStep?W.applyEmptyStep(Ne):W.setStyles(m.styles,Ne,P.errors,P.options),P.previousNode=m}visitKeyframes(m,P){const W=P.currentAnimateTimings,me=P.currentTimeline.duration,Ne=W.duration,Pt=P.createSubContext().currentTimeline;Pt.easing=W.easing,m.styles.forEach(nn=>{Pt.forwardTime((nn.offset||0)*Ne),Pt.setStyles(nn.styles,nn.easing,P.errors,P.options),Pt.applyStylesToKeyframe()}),P.currentTimeline.mergeTimelineCollectedStyles(Pt),P.transformIntoNewTimeline(me+Ne),P.previousNode=m}visitQuery(m,P){const W=P.currentTimeline.currentTime,me=m.options||{},Ne=me.delay?uo(me.delay):0;Ne&&(6===P.previousNode.type||0==W&&P.currentTimeline.hasCurrentStyleProperties())&&(P.currentTimeline.snapshotCurrentStyles(),P.previousNode=_o);let pt=W;const Pt=P.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!me.optional,P.errors);P.currentQueryTotal=Pt.length;let nn=null;Pt.forEach((pn,Pn)=>{P.currentQueryIndex=Pn;const Wn=P.createSubContext(m.options,pn);Ne&&Wn.delayNextStep(Ne),pn===P.element&&(nn=Wn.currentTimeline),Ii(this,m.animation,Wn),Wn.currentTimeline.applyStylesToKeyframe(),pt=Math.max(pt,Wn.currentTimeline.currentTime)}),P.currentQueryIndex=0,P.currentQueryTotal=0,P.transformIntoNewTimeline(pt),nn&&(P.currentTimeline.mergeTimelineCollectedStyles(nn),P.currentTimeline.snapshotCurrentStyles()),P.previousNode=m}visitStagger(m,P){const W=P.parentContext,me=P.currentTimeline,Ne=m.timings,pt=Math.abs(Ne.duration),Pt=pt*(P.currentQueryTotal-1);let nn=pt*P.currentQueryIndex;switch(Ne.duration<0?"reverse":Ne.easing){case"reverse":nn=Pt-nn;break;case"full":nn=W.currentStaggerTime}const Pn=P.currentTimeline;nn&&Pn.delayNextStep(nn);const Wn=Pn.currentTime;Ii(this,m.animation,P),P.previousNode=m,W.currentStaggerTime=me.currentTime-Wn+(me.startTime-W.currentTimeline.startTime)}}const _o={};class Jr{constructor(m,P,W,me,Ne,pt,Pt,nn){this._driver=m,this.element=P,this.subInstructions=W,this._enterClassName=me,this._leaveClassName=Ne,this.errors=pt,this.timelines=Pt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_o,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=nn||new Ti(this._driver,P,0),Pt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,P){if(!m)return;const W=m;let me=this.options;null!=W.duration&&(me.duration=uo(W.duration)),null!=W.delay&&(me.delay=uo(W.delay));const Ne=W.params;if(Ne){let pt=me.params;pt||(pt=this.options.params={}),Object.keys(Ne).forEach(Pt=>{(!P||!pt.hasOwnProperty(Pt))&&(pt[Pt]=an(Ne[Pt],pt,this.errors))})}}_copyOptions(){const m={};if(this.options){const P=this.options.params;if(P){const W=m.params={};Object.keys(P).forEach(me=>{W[me]=P[me]})}}return m}createSubContext(m=null,P,W){const me=P||this.element,Ne=new Jr(this._driver,me,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(me,W||0));return Ne.previousNode=this.previousNode,Ne.currentAnimateTimings=this.currentAnimateTimings,Ne.options=this._copyOptions(),Ne.updateOptions(m),Ne.currentQueryIndex=this.currentQueryIndex,Ne.currentQueryTotal=this.currentQueryTotal,Ne.parentContext=this,this.subContextCount++,Ne}transformIntoNewTimeline(m){return this.previousNode=_o,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,P,W){const me={duration:P??m.duration,delay:this.currentTimeline.currentTime+(W??0)+m.delay,easing:""},Ne=new bo(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,me,m.stretchStartingKeyframe);return this.timelines.push(Ne),me}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,P,W,me,Ne,pt){let Pt=[];if(me&&Pt.push(this.element),m.length>0){m=(m=m.replace(Wr,"."+this._enterClassName)).replace(so,"."+this._leaveClassName);let pn=this._driver.query(this.element,m,1!=W);0!==W&&(pn=W<0?pn.slice(pn.length+W,pn.length):pn.slice(0,W)),Pt.push(...pn)}return!Ne&&0==Pt.length&&pt.push(function br(U){return new F.vHH(3014,!1)}()),Pt}}class Ti{constructor(m,P,W,me){this._driver=m,this.element=P,this.startTime=W,this._elementTimelineStylesLookup=me,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(P),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(P,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const P=1===this._keyframes.size&&this._pendingStyles.size;this.duration||P?(this.forwardTime(this.currentTime+m),P&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,P){return this.applyStylesToKeyframe(),new Ti(this._driver,m,P||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,P){this._localTimelineStyles.set(m,P),this._globalTimelineStyles.set(m,P),this._styleSummary.set(m,{time:this.currentTime,value:P})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[P,W]of this._globalTimelineStyles)this._backFill.set(P,W||Ae),this._currentKeyframe.set(P,Ae);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,P,W,me){P&&this._previousKeyframe.set("easing",P);const Ne=me&&me.params||{},pt=function co(U,m){const P=new Map;let W;return U.forEach(me=>{if("*"===me){W=W||m.keys();for(let Ne of W)P.set(Ne,Ae)}else Ye(me,P)}),P}(m,this._globalTimelineStyles);for(let[Pt,nn]of pt){const pn=an(nn,Ne,W);this._pendingStyles.set(Pt,pn),this._localTimelineStyles.has(Pt)||this._backFill.set(Pt,this._globalTimelineStyles.get(Pt)??Ae),this._updateStyle(Pt,pn)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,P)=>{this._currentKeyframe.set(P,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,P)=>{this._currentKeyframe.has(P)||this._currentKeyframe.set(P,m)}))}snapshotCurrentStyles(){for(let[m,P]of this._localTimelineStyles)this._pendingStyles.set(m,P),this._updateStyle(m,P)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let P in this._currentKeyframe)m.push(P);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((P,W)=>{const me=this._styleSummary.get(W);(!me||P.time>me.time)&&this._updateStyle(W,P.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,P=new Set,W=1===this._keyframes.size&&0===this.duration;let me=[];this._keyframes.forEach((Pt,nn)=>{const pn=Ye(Pt,new Map,this._backFill);pn.forEach((Pn,Wn)=>{Pn===Ue?m.add(Wn):Pn===Ae&&P.add(Wn)}),W||pn.set("offset",nn/this.duration),me.push(pn)});const Ne=m.size?Hn(m.values()):[],pt=P.size?Hn(P.values()):[];if(W){const Pt=me[0],nn=new Map(Pt);Pt.set("offset",0),nn.set("offset",1),me=[Pt,nn]}return yr(this.element,me,Ne,pt,this.duration,this.startTime,this.easing,!1)}}class bo extends Ti{constructor(m,P,W,me,Ne,pt,Pt=!1){super(m,P,pt.delay),this.keyframes=W,this.preStyleProps=me,this.postStyleProps=Ne,this._stretchStartingKeyframe=Pt,this.timings={duration:pt.duration,delay:pt.delay,easing:pt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:P,duration:W,easing:me}=this.timings;if(this._stretchStartingKeyframe&&P){const Ne=[],pt=W+P,Pt=P/pt,nn=Ye(m[0]);nn.set("offset",0),Ne.push(nn);const pn=Ye(m[0]);pn.set("offset",Dr(Pt)),Ne.push(pn);const Pn=m.length-1;for(let Wn=1;Wn<=Pn;Wn++){let Ri=Ye(m[Wn]);const Fi=Ri.get("offset");Ri.set("offset",Dr((P+Fi*W)/pt)),Ne.push(Ri)}W=pt,P=0,me="",m=Ne}return yr(this.element,m,this.preStyleProps,this.postStyleProps,W,P,me,!0)}}function Dr(U,m=3){const P=Math.pow(10,m-1);return Math.round(U*P)/P}class Ao{}const Pr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class zo extends Ao{normalizePropertyName(m,P){return In(m)}normalizeStyleValue(m,P,W,me){let Ne="";const pt=W.toString().trim();if(Pr.has(P)&&0!==W&&"0"!==W)if("number"==typeof W)Ne="px";else{const Pt=W.match(/^[+-]?[\d\.]+([a-z]*)$/);Pt&&0==Pt[1].length&&me.push(function on(U,m){return new F.vHH(3005,!1)}())}return pt+Ne}}function Bo(U,m,P,W,me,Ne,pt,Pt,nn,pn,Pn,Wn,Ri){return{type:0,element:U,triggerName:m,isRemovalTransition:me,fromState:P,fromStyles:Ne,toState:W,toStyles:pt,timelines:Pt,queriedElements:nn,preStyleProps:pn,postStyleProps:Pn,totalTime:Wn,errors:Ri}}const Ho={};class Uo{constructor(m,P,W){this._triggerName=m,this.ast=P,this._stateStyles=W}match(m,P,W,me){return function Fo(U,m,P,W,me){return U.some(Ne=>Ne(m,P,W,me))}(this.ast.matchers,m,P,W,me)}buildStyles(m,P,W){let me=this._stateStyles.get("*");return void 0!==m&&(me=this._stateStyles.get(m?.toString())||me),me?me.buildStyles(P,W):new Map}build(m,P,W,me,Ne,pt,Pt,nn,pn,Pn){const Wn=[],Ri=this.ast.options&&this.ast.options.params||Ho,Si=this.buildStyles(W,Pt&&Pt.params||Ho,Wn),ki=nn&&nn.params||Ho,Vr=this.buildStyles(me,ki,Wn),Lr=new Set,Oo=new Map,a=new Map,v="void"===me,R={params:$o(ki,Ri),delay:this.ast.options?.delay},te=Pn?[]:mo(m,P,this.ast.animation,Ne,pt,Si,Vr,R,pn,Wn);let be=0;if(te.forEach(Nt=>{be=Math.max(Nt.duration+Nt.delay,be)}),Wn.length)return Bo(P,this._triggerName,W,me,v,Si,Vr,[],[],Oo,a,be,Wn);te.forEach(Nt=>{const dn=Nt.element,bn=si(Oo,dn,new Set);Nt.preStyleProps.forEach(ci=>bn.add(ci));const Rn=si(a,dn,new Set);Nt.postStyleProps.forEach(ci=>Rn.add(ci)),dn!==P&&Lr.add(dn)});const qe=Hn(Lr.values());return Bo(P,this._triggerName,W,me,v,Si,Vr,te,qe,Oo,a,be)}}function $o(U,m){const P=di(m);for(const W in U)U.hasOwnProperty(W)&&null!=U[W]&&(P[W]=U[W]);return P}class Zr{constructor(m,P,W){this.styles=m,this.defaultParams=P,this.normalizer=W}buildStyles(m,P){const W=new Map,me=di(this.defaultParams);return Object.keys(m).forEach(Ne=>{const pt=m[Ne];null!==pt&&(me[Ne]=pt)}),this.styles.styles.forEach(Ne=>{"string"!=typeof Ne&&Ne.forEach((pt,Pt)=>{pt&&(pt=an(pt,me,P));const nn=this.normalizer.normalizePropertyName(Pt,P);pt=this.normalizer.normalizeStyleValue(Pt,nn,pt,P),W.set(Pt,pt)})}),W}}class Go{constructor(m,P,W){this.name=m,this.ast=P,this._normalizer=W,this.transitionFactories=[],this.states=new Map,P.states.forEach(me=>{this.states.set(me.name,new Zr(me.style,me.options&&me.options.params||{},W))}),z(this.states,"true","1"),z(this.states,"false","0"),P.transitions.forEach(me=>{this.transitionFactories.push(new Uo(m,me,this.states))}),this.fallbackTransition=function qi(U,m,P){return new Uo(U,{type:1,animation:{type:2,steps:[],options:null},matchers:[(pt,Pt)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,P,W,me){return this.transitionFactories.find(pt=>pt.match(m,P,W,me))||null}matchStyles(m,P,W){return this.fallbackTransition.buildStyles(m,P,W)}}function z(U,m,P){U.has(m)?U.has(P)||U.set(P,U.get(m)):U.has(P)&&U.set(m,U.get(P))}const we=new jn;class Pe{constructor(m,P,W){this.bodyNode=m,this._driver=P,this._normalizer=W,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,P){const W=[],me=[],Ne=wn(this._driver,P,W,me);if(W.length)throw function xt(U){return new F.vHH(3503,!1)}();this._animations.set(m,Ne)}_buildPlayer(m,P,W){const me=m.element,Ne=vn(0,this._normalizer,0,m.keyframes,P,W);return this._driver.animate(me,Ne,m.duration,m.delay,m.easing,[],!0)}create(m,P,W={}){const me=[],Ne=this._animations.get(m);let pt;const Pt=new Map;if(Ne?(pt=mo(this._driver,P,Ne,Nr,Ki,new Map,new Map,W,we,me),pt.forEach(Pn=>{const Wn=si(Pt,Pn.element,new Map);Pn.postStyleProps.forEach(Ri=>Wn.set(Ri,null))})):(me.push(function nt(){return new F.vHH(3300,!1)}()),pt=[]),me.length)throw function ln(U){return new F.vHH(3504,!1)}();Pt.forEach((Pn,Wn)=>{Pn.forEach((Ri,Fi)=>{Pn.set(Fi,this._driver.computeStyle(Wn,Fi,Ae))})});const pn=kt(pt.map(Pn=>{const Wn=Pt.get(Pn.element);return this._buildPlayer(Pn,new Map,Wn)}));return this._playersById.set(m,pn),pn.onDestroy(()=>this.destroy(m)),this.players.push(pn),pn}destroy(m){const P=this._getPlayer(m);P.destroy(),this._playersById.delete(m);const W=this.players.indexOf(P);W>=0&&this.players.splice(W,1)}_getPlayer(m){const P=this._playersById.get(m);if(!P)throw function sn(U){return new F.vHH(3301,!1)}();return P}listen(m,P,W,me){const Ne=ai(P,"","","");return yn(this._getPlayer(m),W,Ne,me),()=>{}}command(m,P,W,me){if("register"==W)return void this.register(m,me[0]);if("create"==W)return void this.create(m,P,me[0]||{});const Ne=this._getPlayer(m);switch(W){case"play":Ne.play();break;case"pause":Ne.pause();break;case"reset":Ne.reset();break;case"restart":Ne.restart();break;case"finish":Ne.finish();break;case"init":Ne.init();break;case"setPosition":Ne.setPosition(parseFloat(me[0]));break;case"destroy":this.destroy(m)}}}const Qe="ng-animate-queued",Dt="ng-animate-disabled",Mn=[],Fn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xi={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hi="__ng_removed";class Zn{get params(){return this.options.params}constructor(m,P=""){this.namespaceId=P;const W=m&&m.hasOwnProperty("value");if(this.value=function _(U){return U??null}(W?m.value:m),W){const Ne=di(m);delete Ne.value,this.options=Ne}else this.options={};this.options.params||(this.options.params={})}absorbOptions(m){const P=m.params;if(P){const W=this.options.params;Object.keys(P).forEach(me=>{null==W[me]&&(W[me]=P[me])})}}}const ve="void",fe=new Zn(ve);class M{constructor(m,P,W){this.id=m,this.hostElement=P,this._engine=W,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,Jt(P,this._hostClassName)}listen(m,P,W,me){if(!this._triggers.has(P))throw function At(U,m){return new F.vHH(3302,!1)}();if(null==W||0==W.length)throw function lt(U){return new F.vHH(3303,!1)}();if(!function ee(U){return"start"==U||"done"==U}(W))throw function Xn(U,m){return new F.vHH(3400,!1)}();const Ne=si(this._elementListeners,m,[]),pt={name:P,phase:W,callback:me};Ne.push(pt);const Pt=si(this._engine.statesByElement,m,new Map);return Pt.has(P)||(Jt(m,wr),Jt(m,wr+"-"+P),Pt.set(P,fe)),()=>{this._engine.afterFlush(()=>{const nn=Ne.indexOf(pt);nn>=0&&Ne.splice(nn,1),this._triggers.has(P)||Pt.delete(P)})}}register(m,P){return!this._triggers.has(m)&&(this._triggers.set(m,P),!0)}_getTrigger(m){const P=this._triggers.get(m);if(!P)throw function Nn(U){return new F.vHH(3401,!1)}();return P}trigger(m,P,W,me=!0){const Ne=this._getTrigger(P),pt=new h(this.id,P,m);let Pt=this._engine.statesByElement.get(m);Pt||(Jt(m,wr),Jt(m,wr+"-"+P),this._engine.statesByElement.set(m,Pt=new Map));let nn=Pt.get(P);const pn=new Zn(W,this.id);if(!(W&&W.hasOwnProperty("value"))&&nn&&pn.absorbOptions(nn.options),Pt.set(P,pn),nn||(nn=fe),pn.value!==ve&&nn.value===pn.value){if(!function nr(U,m){const P=Object.keys(U),W=Object.keys(m);if(P.length!=W.length)return!1;for(let me=0;me<P.length;me++){const Ne=P[me];if(!m.hasOwnProperty(Ne)||U[Ne]!==m[Ne])return!1}return!0}(nn.params,pn.params)){const ki=[],Vr=Ne.matchStyles(nn.value,nn.params,ki),Lr=Ne.matchStyles(pn.value,pn.params,ki);ki.length?this._engine.reportError(ki):this._engine.afterFlush(()=>{Qt(m,Vr),Lt(m,Lr)})}return}const Ri=si(this._engine.playersByElement,m,[]);Ri.forEach(ki=>{ki.namespaceId==this.id&&ki.triggerName==P&&ki.queued&&ki.destroy()});let Fi=Ne.matchTransition(nn.value,pn.value,m,pn.params),Si=!1;if(!Fi){if(!me)return;Fi=Ne.fallbackTransition,Si=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:P,transition:Fi,fromState:nn,toState:pn,player:pt,isFallbackTransition:Si}),Si||(Jt(m,Qe),pt.onStart(()=>{zn(m,Qe)})),pt.onDone(()=>{let ki=this.players.indexOf(pt);ki>=0&&this.players.splice(ki,1);const Vr=this._engine.playersByElement.get(m);if(Vr){let Lr=Vr.indexOf(pt);Lr>=0&&Vr.splice(Lr,1)}}),this.players.push(pt),Ri.push(pt),pt}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(P=>P.delete(m)),this._elementListeners.forEach((P,W)=>{this._elementListeners.set(W,P.filter(me=>me.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const P=this._engine.playersByElement.get(m);P&&(P.forEach(W=>W.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,P){const W=this._engine.driver.query(m,lo,!0);W.forEach(me=>{if(me[hi])return;const Ne=this._engine.fetchNamespacesByElement(me);Ne.size?Ne.forEach(pt=>pt.triggerLeaveAnimation(me,P,!1,!0)):this.clearElementCache(me)}),this._engine.afterFlushAnimationsDone(()=>W.forEach(me=>this.clearElementCache(me)))}triggerLeaveAnimation(m,P,W,me){const Ne=this._engine.statesByElement.get(m),pt=new Map;if(Ne){const Pt=[];if(Ne.forEach((nn,pn)=>{if(pt.set(pn,nn.value),this._triggers.has(pn)){const Pn=this.trigger(m,pn,ve,me);Pn&&Pt.push(Pn)}}),Pt.length)return this._engine.markElementAsRemoved(this.id,m,!0,P,pt),W&&kt(Pt).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const P=this._elementListeners.get(m),W=this._engine.statesByElement.get(m);if(P&&W){const me=new Set;P.forEach(Ne=>{const pt=Ne.name;if(me.has(pt))return;me.add(pt);const nn=this._triggers.get(pt).fallbackTransition,pn=W.get(pt)||fe,Pn=new Zn(ve),Wn=new h(this.id,pt,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:pt,transition:nn,fromState:pn,toState:Pn,player:Wn,isFallbackTransition:!0})})}}removeNode(m,P){const W=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,P),this.triggerLeaveAnimation(m,P,!0))return;let me=!1;if(W.totalAnimations){const Ne=W.players.length?W.playersByQueriedElement.get(m):[];if(Ne&&Ne.length)me=!0;else{let pt=m;for(;pt=pt.parentNode;)if(W.statesByElement.get(pt)){me=!0;break}}}if(this.prepareLeaveAnimationListeners(m),me)W.markElementAsRemoved(this.id,m,!1,P);else{const Ne=m[hi];(!Ne||Ne===Fn)&&(W.afterFlush(()=>this.clearElementCache(m)),W.destroyInnerAnimations(m),W._onRemovalComplete(m,P))}}insertNode(m,P){Jt(m,this._hostClassName)}drainQueuedTransitions(m){const P=[];return this._queue.forEach(W=>{const me=W.player;if(me.destroyed)return;const Ne=W.element,pt=this._elementListeners.get(Ne);pt&&pt.forEach(Pt=>{if(Pt.name==W.triggerName){const nn=ai(Ne,W.triggerName,W.fromState.value,W.toState.value);nn._data=m,yn(W.player,Pt.phase,nn,Pt.callback)}}),me.markedForDestroy?this._engine.afterFlush(()=>{me.destroy()}):P.push(W)}),this._queue=[],P.sort((W,me)=>{const Ne=W.transition.ast.depCount,pt=me.transition.ast.depCount;return 0==Ne||0==pt?Ne-pt:this._engine.driver.containsElement(W.element,me.element)?1:-1})}destroy(m){this.players.forEach(P=>P.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}elementContainsData(m){let P=!1;return this._elementListeners.has(m)&&(P=!0),P=!!this._queue.find(W=>W.element===m)||P,P}}class N{_onRemovalComplete(m,P){this.onRemovalComplete(m,P)}constructor(m,P,W){this.bodyNode=m,this.driver=P,this._normalizer=W,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(me,Ne)=>{}}get queuedPlayers(){const m=[];return this._namespaceList.forEach(P=>{P.players.forEach(W=>{W.queued&&m.push(W)})}),m}createNamespace(m,P){const W=new M(m,P,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,P)?this._balanceNamespaceList(W,P):(this.newHostElements.set(P,W),this.collectEnterElement(P)),this._namespaceLookup[m]=W}_balanceNamespaceList(m,P){const W=this._namespaceList,me=this.namespacesByHostElement;if(W.length-1>=0){let pt=!1,Pt=this.driver.getParentElement(P);for(;Pt;){const nn=me.get(Pt);if(nn){const pn=W.indexOf(nn);W.splice(pn+1,0,m),pt=!0;break}Pt=this.driver.getParentElement(Pt)}pt||W.unshift(m)}else W.push(m);return me.set(P,m),m}register(m,P){let W=this._namespaceLookup[m];return W||(W=this.createNamespace(m,P)),W}registerTrigger(m,P,W){let me=this._namespaceLookup[m];me&&me.register(P,W)&&this.totalAnimations++}destroy(m,P){if(!m)return;const W=this._fetchNamespace(m);this.afterFlush(()=>{this.namespacesByHostElement.delete(W.hostElement),delete this._namespaceLookup[m];const me=this._namespaceList.indexOf(W);me>=0&&this._namespaceList.splice(me,1)}),this.afterFlushAnimationsDone(()=>W.destroy(P))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const P=new Set,W=this.statesByElement.get(m);if(W)for(let me of W.values())if(me.namespaceId){const Ne=this._fetchNamespace(me.namespaceId);Ne&&P.add(Ne)}return P}trigger(m,P,W,me){if(V(P)){const Ne=this._fetchNamespace(m);if(Ne)return Ne.trigger(P,W,me),!0}return!1}insertNode(m,P,W,me){if(!V(P))return;const Ne=P[hi];if(Ne&&Ne.setForRemoval){Ne.setForRemoval=!1,Ne.setForMove=!0;const pt=this.collectedLeaveElements.indexOf(P);pt>=0&&this.collectedLeaveElements.splice(pt,1)}if(m){const pt=this._fetchNamespace(m);pt&&pt.insertNode(P,W)}me&&this.collectEnterElement(P)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,P){P?this.disabledNodes.has(m)||(this.disabledNodes.add(m),Jt(m,Dt)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),zn(m,Dt))}removeNode(m,P,W,me){if(V(P)){const Ne=m?this._fetchNamespace(m):null;if(Ne?Ne.removeNode(P,me):this.markElementAsRemoved(m,P,!1,me),W){const pt=this.namespacesByHostElement.get(P);pt&&pt.id!==m&&pt.removeNode(P,me)}}else this._onRemovalComplete(P,me)}markElementAsRemoved(m,P,W,me,Ne){this.collectedLeaveElements.push(P),P[hi]={namespaceId:m,setForRemoval:me,hasAnimation:W,removedBeforeQueried:!1,previousTriggersValues:Ne}}listen(m,P,W,me,Ne){return V(P)?this._fetchNamespace(m).listen(P,W,me,Ne):()=>{}}_buildInstruction(m,P,W,me,Ne){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,W,me,m.fromState.options,m.toState.options,P,Ne)}destroyInnerAnimations(m){let P=this.driver.query(m,lo,!0);P.forEach(W=>this.destroyActiveAnimationsForElement(W)),0!=this.playersByQueriedElement.size&&(P=this.driver.query(m,Gr,!0),P.forEach(W=>this.finishActiveQueriedAnimationOnElement(W)))}destroyActiveAnimationsForElement(m){const P=this.playersByElement.get(m);P&&P.forEach(W=>{W.queued?W.markedForDestroy=!0:W.destroy()})}finishActiveQueriedAnimationOnElement(m){const P=this.playersByQueriedElement.get(m);P&&P.forEach(W=>W.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return kt(this.players).onDone(()=>m());m()})}processLeaveNode(m){const P=m[hi];if(P&&P.setForRemoval){if(m[hi]=Fn,P.namespaceId){this.destroyInnerAnimations(m);const W=this._fetchNamespace(P.namespaceId);W&&W.clearElementCache(m)}this._onRemovalComplete(m,P.setForRemoval)}m.classList?.contains(Dt)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(W=>{this.markElementAsDisabled(W,!1)})}flush(m=-1){let P=[];if(this.newHostElements.size&&(this.newHostElements.forEach((W,me)=>this._balanceNamespaceList(W,me)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let W=0;W<this.collectedEnterElements.length;W++)Jt(this.collectedEnterElements[W],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const W=[];try{P=this._flushAnimations(W,m)}finally{for(let me=0;me<W.length;me++)W[me]()}}else for(let W=0;W<this.collectedLeaveElements.length;W++)this.processLeaveNode(this.collectedLeaveElements[W]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(W=>W()),this._flushFns=[],this._whenQuietFns.length){const W=this._whenQuietFns;this._whenQuietFns=[],P.length?kt(P).onDone(()=>{W.forEach(me=>me())}):W.forEach(me=>me())}}reportError(m){throw function Di(U){return new F.vHH(3402,!1)}()}_flushAnimations(m,P){const W=new jn,me=[],Ne=new Map,pt=[],Pt=new Map,nn=new Map,pn=new Map,Pn=new Set;this.disabledNodes.forEach(pi=>{Pn.add(pi);const bi=this.driver.query(pi,".ng-animate-queued",!0);for(let Ui=0;Ui<bi.length;Ui++)Pn.add(bi[Ui])});const Wn=this.bodyNode,Ri=Array.from(this.statesByElement.keys()),Fi=Bt(Ri,this.collectedEnterElements),Si=new Map;let ki=0;Fi.forEach((pi,bi)=>{const Ui=Nr+ki++;Si.set(bi,Ui),pi.forEach(Wi=>Jt(Wi,Ui))});const Vr=[],Lr=new Set,Oo=new Set;for(let pi=0;pi<this.collectedLeaveElements.length;pi++){const bi=this.collectedLeaveElements[pi],Ui=bi[hi];Ui&&Ui.setForRemoval&&(Vr.push(bi),Lr.add(bi),Ui.hasAnimation?this.driver.query(bi,".ng-star-inserted",!0).forEach(Wi=>Lr.add(Wi)):Oo.add(bi))}const a=new Map,v=Bt(Ri,Array.from(Lr));v.forEach((pi,bi)=>{const Ui=Ki+ki++;a.set(bi,Ui),pi.forEach(Wi=>Jt(Wi,Ui))}),m.push(()=>{Fi.forEach((pi,bi)=>{const Ui=Si.get(bi);pi.forEach(Wi=>zn(Wi,Ui))}),v.forEach((pi,bi)=>{const Ui=a.get(bi);pi.forEach(Wi=>zn(Wi,Ui))}),Vr.forEach(pi=>{this.processLeaveNode(pi)})});const R=[],te=[];for(let pi=this._namespaceList.length-1;pi>=0;pi--)this._namespaceList[pi].drainQueuedTransitions(P).forEach(Ui=>{const Wi=Ui.player,Io=Ui.element;if(R.push(Wi),this.collectedEnterElements.length){const vr=Io[hi];if(vr&&vr.setForMove){if(vr.previousTriggersValues&&vr.previousTriggersValues.has(Ui.triggerName)){const qr=vr.previousTriggersValues.get(Ui.triggerName),ts=this.statesByElement.get(Ui.element);if(ts&&ts.has(Ui.triggerName)){const Ss=ts.get(Ui.triggerName);Ss.value=qr,ts.set(Ui.triggerName,Ss)}}return void Wi.destroy()}}const os=!Wn||!this.driver.containsElement(Wn,Io),Xo=a.get(Io),hs=Si.get(Io),xo=this._buildInstruction(Ui,W,hs,Xo,os);if(xo.errors&&xo.errors.length)return void te.push(xo);if(os)return Wi.onStart(()=>Qt(Io,xo.fromStyles)),Wi.onDestroy(()=>Lt(Io,xo.toStyles)),void me.push(Wi);if(Ui.isFallbackTransition)return Wi.onStart(()=>Qt(Io,xo.fromStyles)),Wi.onDestroy(()=>Lt(Io,xo.toStyles)),void me.push(Wi);const xs=[];xo.timelines.forEach(vr=>{vr.stretchStartingKeyframe=!0,this.disabledNodes.has(vr.element)||xs.push(vr)}),xo.timelines=xs,W.append(Io,xo.timelines),pt.push({instruction:xo,player:Wi,element:Io}),xo.queriedElements.forEach(vr=>si(Pt,vr,[]).push(Wi)),xo.preStyleProps.forEach((vr,qr)=>{if(vr.size){let ts=nn.get(qr);ts||nn.set(qr,ts=new Set),vr.forEach((Ss,Gs)=>ts.add(Gs))}}),xo.postStyleProps.forEach((vr,qr)=>{let ts=pn.get(qr);ts||pn.set(qr,ts=new Set),vr.forEach((Ss,Gs)=>ts.add(Gs))})});if(te.length){const pi=[];te.forEach(bi=>{pi.push(function lr(U,m){return new F.vHH(3505,!1)}())}),R.forEach(bi=>bi.destroy()),this.reportError(pi)}const be=new Map,qe=new Map;pt.forEach(pi=>{const bi=pi.element;W.has(bi)&&(qe.set(bi,bi),this._beforeAnimationBuild(pi.player.namespaceId,pi.instruction,be))}),me.forEach(pi=>{const bi=pi.element;this._getPreviousPlayers(bi,!1,pi.namespaceId,pi.triggerName,null).forEach(Wi=>{si(be,bi,[]).push(Wi),Wi.destroy()})});const Nt=Vr.filter(pi=>li(pi,nn,pn)),dn=new Map;Rt(dn,this.driver,Oo,pn,Ae).forEach(pi=>{li(pi,nn,pn)&&Nt.push(pi)});const Rn=new Map;Fi.forEach((pi,bi)=>{Rt(Rn,this.driver,new Set(pi),nn,Ue)}),Nt.forEach(pi=>{const bi=dn.get(pi),Ui=Rn.get(pi);dn.set(pi,new Map([...Array.from(bi?.entries()??[]),...Array.from(Ui?.entries()??[])]))});const ci=[],Mi=[],Ur={};pt.forEach(pi=>{const{element:bi,player:Ui,instruction:Wi}=pi;if(W.has(bi)){if(Pn.has(bi))return Ui.onDestroy(()=>Lt(bi,Wi.toStyles)),Ui.disabled=!0,Ui.overrideTotalTime(Wi.totalTime),void me.push(Ui);let Io=Ur;if(qe.size>1){let Xo=bi;const hs=[];for(;Xo=Xo.parentNode;){const xo=qe.get(Xo);if(xo){Io=xo;break}hs.push(Xo)}hs.forEach(xo=>qe.set(xo,Io))}const os=this._buildAnimation(Ui.namespaceId,Wi,be,Ne,Rn,dn);if(Ui.setRealPlayer(os),Io===Ur)ci.push(Ui);else{const Xo=this.playersByElement.get(Io);Xo&&Xo.length&&(Ui.parentPlayer=kt(Xo)),me.push(Ui)}}else Qt(bi,Wi.fromStyles),Ui.onDestroy(()=>Lt(bi,Wi.toStyles)),Mi.push(Ui),Pn.has(bi)&&me.push(Ui)}),Mi.forEach(pi=>{const bi=Ne.get(pi.element);if(bi&&bi.length){const Ui=kt(bi);pi.setRealPlayer(Ui)}}),me.forEach(pi=>{pi.parentPlayer?pi.syncPlayerEvents(pi.parentPlayer):pi.destroy()});for(let pi=0;pi<Vr.length;pi++){const bi=Vr[pi],Ui=bi[hi];if(zn(bi,Ki),Ui&&Ui.hasAnimation)continue;let Wi=[];if(Pt.size){let os=Pt.get(bi);os&&os.length&&Wi.push(...os);let Xo=this.driver.query(bi,Gr,!0);for(let hs=0;hs<Xo.length;hs++){let xo=Pt.get(Xo[hs]);xo&&xo.length&&Wi.push(...xo)}}const Io=Wi.filter(os=>!os.destroyed);Io.length?fi(this,bi,Io):this.processLeaveNode(bi)}return Vr.length=0,ci.forEach(pi=>{this.players.push(pi),pi.onDone(()=>{pi.destroy();const bi=this.players.indexOf(pi);this.players.splice(bi,1)}),pi.play()}),ci}elementContainsData(m,P){let W=!1;const me=P[hi];return me&&me.setForRemoval&&(W=!0),this.playersByElement.has(P)&&(W=!0),this.playersByQueriedElement.has(P)&&(W=!0),this.statesByElement.has(P)&&(W=!0),this._fetchNamespace(m).elementContainsData(P)||W}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,P,W,me,Ne){let pt=[];if(P){const Pt=this.playersByQueriedElement.get(m);Pt&&(pt=Pt)}else{const Pt=this.playersByElement.get(m);if(Pt){const nn=!Ne||Ne==ve;Pt.forEach(pn=>{pn.queued||!nn&&pn.triggerName!=me||pt.push(pn)})}}return(W||me)&&(pt=pt.filter(Pt=>!(W&&W!=Pt.namespaceId||me&&me!=Pt.triggerName))),pt}_beforeAnimationBuild(m,P,W){const Ne=P.element,pt=P.isRemovalTransition?void 0:m,Pt=P.isRemovalTransition?void 0:P.triggerName;for(const nn of P.timelines){const pn=nn.element,Pn=pn!==Ne,Wn=si(W,pn,[]);this._getPreviousPlayers(pn,Pn,pt,Pt,P.toState).forEach(Fi=>{const Si=Fi.getRealPlayer();Si.beforeDestroy&&Si.beforeDestroy(),Fi.destroy(),Wn.push(Fi)})}Qt(Ne,P.fromStyles)}_buildAnimation(m,P,W,me,Ne,pt){const Pt=P.triggerName,nn=P.element,pn=[],Pn=new Set,Wn=new Set,Ri=P.timelines.map(Si=>{const ki=Si.element;Pn.add(ki);const Vr=ki[hi];if(Vr&&Vr.removedBeforeQueried)return new Ve(Si.duration,Si.delay);const Lr=ki!==nn,Oo=function Ei(U){const m=[];return mi(U,m),m}((W.get(ki)||Mn).map(be=>be.getRealPlayer())).filter(be=>!!be.element&&be.element===ki),a=Ne.get(ki),v=pt.get(ki),R=vn(0,this._normalizer,0,Si.keyframes,a,v),te=this._buildPlayer(Si,R,Oo);if(Si.subTimeline&&me&&Wn.add(ki),Lr){const be=new h(m,Pt,ki);be.setRealPlayer(te),pn.push(be)}return te});pn.forEach(Si=>{si(this.playersByQueriedElement,Si.element,[]).push(Si),Si.onDone(()=>function T(U,m,P){let W=U.get(m);if(W){if(W.length){const me=W.indexOf(P);W.splice(me,1)}0==W.length&&U.delete(m)}return W}(this.playersByQueriedElement,Si.element,Si))}),Pn.forEach(Si=>Jt(Si,no));const Fi=kt(Ri);return Fi.onDestroy(()=>{Pn.forEach(Si=>zn(Si,no)),Lt(nn,P.toStyles)}),Wn.forEach(Si=>{si(me,Si,[]).push(Fi)}),Fi}_buildPlayer(m,P,W){return P.length>0?this.driver.animate(m.element,P,m.duration,m.delay,m.easing,W):new Ve(m.duration,m.delay)}}class h{constructor(m,P,W){this.namespaceId=m,this.triggerName=P,this.element=W,this._player=new Ve,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((P,W)=>{P.forEach(me=>yn(m,W,void 0,me))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const P=this._player;P.triggerCallback&&m.onStart(()=>P.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,P){si(this._queuedCallbacks,m,[]).push(P)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const P=this._player;P.triggerCallback&&P.triggerCallback(m)}}function V(U){return U&&1===U.nodeType}function Xe(U,m){const P=U.style.display;return U.style.display=m??"none",P}function Rt(U,m,P,W,me){const Ne=[];P.forEach(nn=>Ne.push(Xe(nn)));const pt=[];W.forEach((nn,pn)=>{const Pn=new Map;nn.forEach(Wn=>{const Ri=m.computeStyle(pn,Wn,me);Pn.set(Wn,Ri),(!Ri||0==Ri.length)&&(pn[hi]=xi,pt.push(pn))}),U.set(pn,Pn)});let Pt=0;return P.forEach(nn=>Xe(nn,Ne[Pt++])),pt}function Bt(U,m){const P=new Map;if(U.forEach(Pt=>P.set(Pt,[])),0==m.length)return P;const W=1,me=new Set(m),Ne=new Map;function pt(Pt){if(!Pt)return W;let nn=Ne.get(Pt);if(nn)return nn;const pn=Pt.parentNode;return nn=P.has(pn)?pn:me.has(pn)?W:pt(pn),Ne.set(Pt,nn),nn}return m.forEach(Pt=>{const nn=pt(Pt);nn!==W&&P.get(nn).push(Pt)}),P}function Jt(U,m){U.classList?.add(m)}function zn(U,m){U.classList?.remove(m)}function fi(U,m,P){kt(P).onDone(()=>U.processLeaveNode(m))}function mi(U,m){for(let P=0;P<U.length;P++){const W=U[P];W instanceof Ce?mi(W.players,m):m.push(W)}}function li(U,m,P){const W=P.get(U);if(!W)return!1;let me=m.get(U);return me?W.forEach(Ne=>me.add(Ne)):m.set(U,W),P.delete(U),!0}class vo{constructor(m,P,W){this.bodyNode=m,this._driver=P,this._normalizer=W,this._triggerCache={},this.onRemovalComplete=(me,Ne)=>{},this._transitionEngine=new N(m,P,W),this._timelineEngine=new Pe(m,P,W),this._transitionEngine.onRemovalComplete=(me,Ne)=>this.onRemovalComplete(me,Ne)}registerTrigger(m,P,W,me,Ne){const pt=m+"-"+me;let Pt=this._triggerCache[pt];if(!Pt){const nn=[],pn=[],Pn=wn(this._driver,Ne,nn,pn);if(nn.length)throw function Bn(U,m){return new F.vHH(3404,!1)}();Pt=function Ko(U,m,P){return new Go(U,m,P)}(me,Pn,this._normalizer),this._triggerCache[pt]=Pt}this._transitionEngine.registerTrigger(P,me,Pt)}register(m,P){this._transitionEngine.register(m,P)}destroy(m,P){this._transitionEngine.destroy(m,P)}onInsert(m,P,W,me){this._transitionEngine.insertNode(m,P,W,me)}onRemove(m,P,W,me){this._transitionEngine.removeNode(m,P,me||!1,W)}disableAnimations(m,P){this._transitionEngine.markElementAsDisabled(m,P)}process(m,P,W,me){if("@"==W.charAt(0)){const[Ne,pt]=Jn(W);this._timelineEngine.command(Ne,P,pt,me)}else this._transitionEngine.trigger(m,P,W,me)}listen(m,P,W,me,Ne){if("@"==W.charAt(0)){const[pt,Pt]=Jn(W);return this._timelineEngine.listen(pt,P,Pt,Ne)}return this._transitionEngine.listen(m,P,W,me,Ne)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let gr=(()=>{class U{constructor(P,W,me){this._element=P,this._startStyles=W,this._endStyles=me,this._state=0;let Ne=U.initialStylesByElement.get(P);Ne||U.initialStylesByElement.set(P,Ne=new Map),this._initialStyles=Ne}start(){this._state<1&&(this._startStyles&&Lt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Lt(this._element,this._initialStyles),this._endStyles&&(Lt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(U.initialStylesByElement.delete(this._element),this._startStyles&&(Qt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qt(this._element,this._endStyles),this._endStyles=null),Lt(this._element,this._initialStyles),this._state=3)}}return U.initialStylesByElement=new WeakMap,U})();function So(U){let m=null;return U.forEach((P,W)=>{(function qo(U){return"display"===U||"position"===U})(W)&&(m=m||new Map,m.set(W,P))}),m}class ko{constructor(m,P,W,me){this.element=m,this.keyframes=P,this.options=W,this._specialStyles=me,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=W.duration,this._delay=W.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const P=[];return m.forEach(W=>{P.push(Object.fromEntries(W))}),P}_triggerWebAnimation(m,P,W){return m.animate(this._convertKeyframesToObject(P),W)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((W,me)=>{"offset"!==me&&m.set(me,this._finished?W:xr(this.element,me))}),this.currentSnapshot=m}triggerCallback(m){const P="start"===m?this._onStartFns:this._onDoneFns;P.forEach(W=>W()),P.length=0}}class To{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,P){return!1}containsElement(m,P){return rr(m,P)}getParentElement(m){return Ut(m)}query(m,P,W){return Hi(m,P,W)}computeStyle(m,P,W){return window.getComputedStyle(m)[P]}animate(m,P,W,me,Ne,pt=[]){const nn={duration:W,delay:me,fill:0==me?"both":"forwards"};Ne&&(nn.easing=Ne);const pn=new Map,Pn=pt.filter(Fi=>Fi instanceof ko);(function Ir(U,m){return 0===U||0===m})(W,me)&&Pn.forEach(Fi=>{Fi.currentSnapshot.forEach((Si,ki)=>pn.set(ki,Si))});let Wn=function Er(U){return U.length?U[0]instanceof Map?U:U.map(m=>kr(m)):[]}(P).map(Fi=>Ye(Fi));Wn=function ho(U,m,P){if(P.size&&m.length){let W=m[0],me=[];if(P.forEach((Ne,pt)=>{W.has(pt)||me.push(pt),W.set(pt,Ne)}),me.length)for(let Ne=1;Ne<m.length;Ne++){let pt=m[Ne];me.forEach(Pt=>pt.set(Pt,xr(U,Pt)))}}return m}(m,Wn,pn);const Ri=function io(U,m){let P=null,W=null;return Array.isArray(m)&&m.length?(P=So(m[0]),m.length>1&&(W=So(m[m.length-1]))):m instanceof Map&&(P=So(m)),P||W?new gr(U,P,W):null}(m,Wn);return new ko(m,Wn,nn,Ri)}}let ds=(()=>{class U extends Be{constructor(P,W){super(),this._nextAnimationId=0,this._renderer=P.createRenderer(W.body,{id:"0",encapsulation:F.ifc.None,styles:[],data:{animation:[]}})}build(P){const W=this._nextAnimationId.toString();this._nextAnimationId++;const me=Array.isArray(P)?Ze(P):P;return Ms(this._renderer,null,W,"register",[me]),new Jo(W,this._renderer)}}return U.\u0275fac=function(P){return new(P||U)(F.LFG(F.FYo),F.LFG(oe.K0))},U.\u0275prov=F.Yz7({token:U,factory:U.\u0275fac}),U})();class Jo extends tt{constructor(m,P){super(),this._id=m,this._renderer=P}create(m,P){return new as(this._id,m,P||{},this._renderer)}}class as{constructor(m,P,W,me){this.id=m,this.element=P,this._renderer=me,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",W)}_listen(m,P){return this._renderer.listen(this.element,`@@${this.id}:${m}`,P)}_command(m,...P){return Ms(this._renderer,this.element,this.id,m,P)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ms(U,m,P,W,me){return U.setProperty(m,`@@${P}:${W}`,me)}const Is="@.disabled";let Rs=(()=>{class U{constructor(P,W,me){this.delegate=P,this.engine=W,this._zone=me,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),W.onRemovalComplete=(Ne,pt)=>{const Pt=pt?.parentNode(Ne);Pt&&pt.removeChild(Pt,Ne)}}createRenderer(P,W){const Ne=this.delegate.createRenderer(P,W);if(!(P&&W&&W.data&&W.data.animation)){let Pn=this._rendererCache.get(Ne);return Pn||(Pn=new As("",Ne,this.engine,()=>this._rendererCache.delete(Ne)),this._rendererCache.set(Ne,Pn)),Pn}const pt=W.id,Pt=W.id+"-"+this._currentId;this._currentId++,this.engine.register(Pt,P);const nn=Pn=>{Array.isArray(Pn)?Pn.forEach(nn):this.engine.registerTrigger(pt,Pt,P,Pn.name,Pn)};return W.data.animation.forEach(nn),new ms(this,Pt,Ne,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(P,W,me){P>=0&&P<this._microtaskId?this._zone.run(()=>W(me)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Ne=>{const[pt,Pt]=Ne;pt(Pt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([W,me]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return U.\u0275fac=function(P){return new(P||U)(F.LFG(F.FYo),F.LFG(vo),F.LFG(F.R0b))},U.\u0275prov=F.Yz7({token:U,factory:U.\u0275fac}),U})();class As{constructor(m,P,W,me){this.namespaceId=m,this.delegate=P,this.engine=W,this._onDestroy=me,this.destroyNode=this.delegate.destroyNode?Ne=>P.destroyNode(Ne):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(m,P){return this.delegate.createElement(m,P)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,P){this.delegate.appendChild(m,P),this.engine.onInsert(this.namespaceId,P,m,!1)}insertBefore(m,P,W,me=!0){this.delegate.insertBefore(m,P,W),this.engine.onInsert(this.namespaceId,P,m,me)}removeChild(m,P,W){this.engine.onRemove(this.namespaceId,P,this.delegate,W)}selectRootElement(m,P){return this.delegate.selectRootElement(m,P)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,P,W,me){this.delegate.setAttribute(m,P,W,me)}removeAttribute(m,P,W){this.delegate.removeAttribute(m,P,W)}addClass(m,P){this.delegate.addClass(m,P)}removeClass(m,P){this.delegate.removeClass(m,P)}setStyle(m,P,W,me){this.delegate.setStyle(m,P,W,me)}removeStyle(m,P,W){this.delegate.removeStyle(m,P,W)}setProperty(m,P,W){"@"==P.charAt(0)&&P==Is?this.disableAnimations(m,!!W):this.delegate.setProperty(m,P,W)}setValue(m,P){this.delegate.setValue(m,P)}listen(m,P,W){return this.delegate.listen(m,P,W)}disableAnimations(m,P){this.engine.disableAnimations(m,P)}}class ms extends As{constructor(m,P,W,me,Ne){super(P,W,me,Ne),this.factory=m,this.namespaceId=P}setProperty(m,P,W){"@"==P.charAt(0)?"."==P.charAt(1)&&P==Is?this.disableAnimations(m,W=void 0===W||!!W):this.engine.process(this.namespaceId,m,P.slice(1),W):this.delegate.setProperty(m,P,W)}listen(m,P,W){if("@"==P.charAt(0)){const me=function Os(U){switch(U){case"body":return document.body;case"document":return document;case"window":return window;default:return U}}(m);let Ne=P.slice(1),pt="";return"@"!=Ne.charAt(0)&&([Ne,pt]=function rs(U){const m=U.indexOf(".");return[U.substring(0,m),U.slice(m+1)]}(Ne)),this.engine.listen(this.namespaceId,me,Ne,pt,Pt=>{this.factory.scheduleListenerCallback(Pt._data||-1,W,Pt)})}return this.delegate.listen(m,P,W)}}const Fs=[{provide:Be,useClass:ds},{provide:Ao,useFactory:function Ls(){return new zo}},{provide:vo,useClass:(()=>{class U extends vo{constructor(P,W,me,Ne){super(P.body,W,me)}ngOnDestroy(){this.flush()}}return U.\u0275fac=function(P){return new(P||U)(F.LFG(oe.K0),F.LFG(Fr),F.LFG(Ao),F.LFG(F.z2F))},U.\u0275prov=F.Yz7({token:U,factory:U.\u0275fac}),U})()},{provide:F.FYo,useFactory:function Es(U,m,P){return new Rs(U,m,P)},deps:[r.se,vo,F.R0b]}],es=[{provide:Fr,useFactory:()=>new To},{provide:F.QbO,useValue:"BrowserAnimations"},...Fs],Hs=[{provide:Fr,useClass:Rr},{provide:F.QbO,useValue:"NoopAnimations"},...Fs];let Ts=(()=>{class U{static withConfig(P){return{ngModule:U,providers:P.disableAnimations?Hs:es}}}return U.\u0275fac=function(P){return new(P||U)},U.\u0275mod=F.oAB({type:U}),U.\u0275inj=F.cJS({providers:es,imports:[r.b2]}),U})();var js=A(529);let ie=(()=>{const m=class{};let U=m;return m.\u0275fac=function(me){return new(me||m)},m.\u0275mod=F.oAB({type:m,bootstrap:[ke]}),m.\u0275inj=F.cJS({providers:[{provide:q.wN,useClass:$.r4}],imports:[r.b2,Ts,js.JF,$.Pc.forRoot(),Ie,G.qZ,ue.m8]}),U})();(0,F.G48)(),r.q6().bootstrapModule(ie).catch(U=>console.log(U))},9170:Ct=>{"use strict";var H=Object.prototype.hasOwnProperty,A="~";function r(){}function F(Y,Z,G){this.fn=Y,this.context=Z,this.once=G||!1}function q(Y,Z,G,J,ue){if("function"!=typeof G)throw new TypeError("The listener must be a function");var oe=new F(G,J||Y,ue),ce=A?A+Z:Z;return Y._events[ce]?Y._events[ce].fn?Y._events[ce]=[Y._events[ce],oe]:Y._events[ce].push(oe):(Y._events[ce]=oe,Y._eventsCount++),Y}function $(Y,Z){0==--Y._eventsCount?Y._events=new r:delete Y._events[Z]}function Q(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(A=!1)),Q.prototype.eventNames=function(){var G,J,Z=[];if(0===this._eventsCount)return Z;for(J in G=this._events)H.call(G,J)&&Z.push(A?J.slice(1):J);return Object.getOwnPropertySymbols?Z.concat(Object.getOwnPropertySymbols(G)):Z},Q.prototype.listeners=function(Z){var J=this._events[A?A+Z:Z];if(!J)return[];if(J.fn)return[J.fn];for(var ue=0,oe=J.length,ce=new Array(oe);ue<oe;ue++)ce[ue]=J[ue].fn;return ce},Q.prototype.listenerCount=function(Z){var J=this._events[A?A+Z:Z];return J?J.fn?1:J.length:0},Q.prototype.emit=function(Z,G,J,ue,oe,ce){var le=A?A+Z:Z;if(!this._events[le])return!1;var xe,se,de=this._events[le],ke=arguments.length;if(de.fn){switch(de.once&&this.removeListener(Z,de.fn,void 0,!0),ke){case 1:return de.fn.call(de.context),!0;case 2:return de.fn.call(de.context,G),!0;case 3:return de.fn.call(de.context,G,J),!0;case 4:return de.fn.call(de.context,G,J,ue),!0;case 5:return de.fn.call(de.context,G,J,ue,oe),!0;case 6:return de.fn.call(de.context,G,J,ue,oe,ce),!0}for(se=1,xe=new Array(ke-1);se<ke;se++)xe[se-1]=arguments[se];de.fn.apply(de.context,xe)}else{var Ie,_e=de.length;for(se=0;se<_e;se++)switch(de[se].once&&this.removeListener(Z,de[se].fn,void 0,!0),ke){case 1:de[se].fn.call(de[se].context);break;case 2:de[se].fn.call(de[se].context,G);break;case 3:de[se].fn.call(de[se].context,G,J);break;case 4:de[se].fn.call(de[se].context,G,J,ue);break;default:if(!xe)for(Ie=1,xe=new Array(ke-1);Ie<ke;Ie++)xe[Ie-1]=arguments[Ie];de[se].fn.apply(de[se].context,xe)}}return!0},Q.prototype.on=function(Z,G,J){return q(this,Z,G,J,!1)},Q.prototype.once=function(Z,G,J){return q(this,Z,G,J,!0)},Q.prototype.removeListener=function(Z,G,J,ue){var oe=A?A+Z:Z;if(!this._events[oe])return this;if(!G)return $(this,oe),this;var ce=this._events[oe];if(ce.fn)ce.fn===G&&(!ue||ce.once)&&(!J||ce.context===J)&&$(this,oe);else{for(var le=0,de=[],ke=ce.length;le<ke;le++)(ce[le].fn!==G||ue&&!ce[le].once||J&&ce[le].context!==J)&&de.push(ce[le]);de.length?this._events[oe]=1===de.length?de[0]:de:$(this,oe)}return this},Q.prototype.removeAllListeners=function(Z){var G;return Z?this._events[G=A?A+Z:Z]&&$(this,G):(this._events=new r,this._eventsCount=0),this},Q.prototype.off=Q.prototype.removeListener,Q.prototype.addListener=Q.prototype.on,Q.prefixed=A,Q.EventEmitter=Q,Ct.exports=Q},5834:(Ct,H,A)=>{"use strict";var r=A(5203),F=A(5685),q=F(r("String.prototype.indexOf"));Ct.exports=function(Q,Y){var Z=r(Q,!!Y);return"function"==typeof Z&&q(Q,".prototype.")>-1?F(Z):Z}},5685:(Ct,H,A)=>{"use strict";var r=A(4444),F=A(5203),q=A(9511),$=A(2844),Q=F("%Function.prototype.apply%"),Y=F("%Function.prototype.call%"),Z=F("%Reflect.apply%",!0)||r.call(Y,Q),G=A(3907),J=F("%Math.max%");Ct.exports=function(ce){if("function"!=typeof ce)throw new $("a function is required");var le=Z(r,Y,arguments);return q(le,1+J(0,ce.length-(arguments.length-1)),!0)};var ue=function(){return Z(r,Q,arguments)};G?G(Ct.exports,"apply",{value:ue}):Ct.exports.apply=ue},4252:function(Ct,H,A){!function(r,F,q){"use strict";var $={value:()=>{}};function Q(){for(var $t,He=0,st=arguments.length,wt={};He<st;++He){if(!($t=arguments[He]+"")||$t in wt||/[\s.]/.test($t))throw new Error("illegal type: "+$t);wt[$t]=[]}return new Y(wt)}function Y(He){this._=He}function G(He,st){for(var Gt,wt=0,$t=He.length;wt<$t;++wt)if((Gt=He[wt]).name===st)return Gt.value}function J(He,st,wt){for(var $t=0,Gt=He.length;$t<Gt;++$t)if(He[$t].name===st){He[$t]=$,He=He.slice(0,$t).concat(He.slice($t+1));break}return null!=wt&&He.push({name:st,value:wt}),He}Y.prototype=Q.prototype={constructor:Y,on:function(He,st){var Gt,wt=this._,$t=function Z(He,st){return He.trim().split(/^|\s+/).map(function(wt){var $t="",Gt=wt.indexOf(".");if(Gt>=0&&($t=wt.slice(Gt+1),wt=wt.slice(0,Gt)),wt&&!st.hasOwnProperty(wt))throw new Error("unknown type: "+wt);return{type:wt,name:$t}})}(He+"",wt),un=-1,Ln=$t.length;if(!(arguments.length<2)){if(null!=st&&"function"!=typeof st)throw new Error("invalid callback: "+st);for(;++un<Ln;)if(Gt=(He=$t[un]).type)wt[Gt]=J(wt[Gt],He.name,st);else if(null==st)for(Gt in wt)wt[Gt]=J(wt[Gt],He.name,null);return this}for(;++un<Ln;)if((Gt=(He=$t[un]).type)&&(Gt=G(wt[Gt],He.name)))return Gt},copy:function(){var He={},st=this._;for(var wt in st)He[wt]=st[wt].slice();return new Y(He)},call:function(He,st){if((Gt=arguments.length-2)>0)for(var Gt,un,wt=new Array(Gt),$t=0;$t<Gt;++$t)wt[$t]=arguments[$t+2];if(!this._.hasOwnProperty(He))throw new Error("unknown type: "+He);for($t=0,Gt=(un=this._[He]).length;$t<Gt;++$t)un[$t].value.apply(st,wt)},apply:function(He,st,wt){if(!this._.hasOwnProperty(He))throw new Error("unknown type: "+He);for(var $t=this._[He],Gt=0,un=$t.length;Gt<un;++Gt)$t[Gt].value.apply(st,wt)}};var ue="http://www.w3.org/1999/xhtml",oe={svg:"http://www.w3.org/2000/svg",xhtml:ue,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ce(He){var st=He+="",wt=st.indexOf(":");return wt>=0&&"xmlns"!==(st=He.slice(0,wt))&&(He=He.slice(wt+1)),oe.hasOwnProperty(st)?{space:oe[st],local:He}:He}function le(He){return function(){var st=this.ownerDocument,wt=this.namespaceURI;return wt===ue&&st.documentElement.namespaceURI===ue?st.createElement(He):st.createElementNS(wt,He)}}function de(He){return function(){return this.ownerDocument.createElementNS(He.space,He.local)}}function ke(He){var st=ce(He);return(st.local?de:le)(st)}function xe(){}function se(He){return null==He?xe:function(){return this.querySelector(He)}}function Be(){return[]}function Ae(He){return function(){return function Ie(He){return null==He?[]:Array.isArray(He)?He:Array.from(He)}(He.apply(this,arguments))}}function Ge(He){return function(st){return st.matches(He)}}var Ze=Array.prototype.find;function ct(){return this.firstElementChild}var Ke=Array.prototype.filter;function ge(){return Array.from(this.children)}function Re(He){return new Array(He.length)}function Ve(He,st){this.ownerDocument=He.ownerDocument,this.namespaceURI=He.namespaceURI,this._next=null,this._parent=He,this.__data__=st}function Ue(He,st,wt,$t,Gt,un){for(var Tn,Ln=0,Vn=st.length,wn=un.length;Ln<wn;++Ln)(Tn=st[Ln])?(Tn.__data__=un[Ln],$t[Ln]=Tn):wt[Ln]=new Ve(He,un[Ln]);for(;Ln<Vn;++Ln)(Tn=st[Ln])&&(Gt[Ln]=Tn)}function Me(He,st,wt,$t,Gt,un,Ln){var Tn,Vn,gi,wn=new Map,oi=st.length,Gi=un.length,vi=new Array(oi);for(Tn=0;Tn<oi;++Tn)(Vn=st[Tn])&&(vi[Tn]=gi=Ln.call(Vn,Vn.__data__,Tn,st)+"",wn.has(gi)?Gt[Tn]=Vn:wn.set(gi,Vn));for(Tn=0;Tn<Gi;++Tn)gi=Ln.call(He,un[Tn],Tn,un)+"",(Vn=wn.get(gi))?($t[Tn]=Vn,Vn.__data__=un[Tn],wn.delete(gi)):wt[Tn]=new Ve(He,un[Tn]);for(Tn=0;Tn<oi;++Tn)(Vn=st[Tn])&&wn.get(vi[Tn])===Vn&&(Gt[Tn]=Vn)}function Fe(He){return He.__data__}function _t(He){return"object"==typeof He&&"length"in He?He:Array.from(He)}function at(He,st){return He<st?-1:He>st?1:He>=st?0:NaN}function wi(He){return function(){this.removeAttribute(He)}}function Oi(He){return function(){this.removeAttributeNS(He.space,He.local)}}function er(He,st){return function(){this.setAttribute(He,st)}}function br(He,st){return function(){this.setAttributeNS(He.space,He.local,st)}}function cr(He,st){return function(){var wt=st.apply(this,arguments);null==wt?this.removeAttribute(He):this.setAttribute(He,wt)}}function Mr(He,st){return function(){var wt=st.apply(this,arguments);null==wt?this.removeAttributeNS(He.space,He.local):this.setAttributeNS(He.space,He.local,wt)}}function Sn(He){return He.ownerDocument&&He.ownerDocument.defaultView||He.document&&He||He.defaultView}function Bn(He){return function(){this.style.removeProperty(He)}}function Tt(He,st,wt){return function(){this.style.setProperty(He,st,wt)}}function xt(He,st,wt){return function(){var $t=st.apply(this,arguments);null==$t?this.style.removeProperty(He):this.style.setProperty(He,$t,wt)}}function sn(He){return function(){delete this[He]}}function At(He,st){return function(){this[He]=st}}function lt(He,st){return function(){var wt=st.apply(this,arguments);null==wt?delete this[He]:this[He]=wt}}function Nn(He){return He.trim().split(/^|\s+/)}function Di(He){return He.classList||new Kn(He)}function Kn(He){this._node=He,this._names=Nn(He.getAttribute("class")||"")}function lr(He,st){for(var wt=Di(He),$t=-1,Gt=st.length;++$t<Gt;)wt.add(st[$t])}function Qi(He,st){for(var wt=Di(He),$t=-1,Gt=st.length;++$t<Gt;)wt.remove(st[$t])}function Zt(He){return function(){lr(this,He)}}function bt(He){return function(){Qi(this,He)}}function kt(He,st){return function(){(st.apply(this,arguments)?lr:Qi)(this,He)}}function yn(){this.textContent=""}function Vt(He){return function(){this.textContent=He}}function ai(He){return function(){var st=He.apply(this,arguments);this.textContent=st??""}}function Jn(){this.innerHTML=""}function Xi(He){return function(){this.innerHTML=He}}function tr(He){return function(){var st=He.apply(this,arguments);this.innerHTML=st??""}}function Ut(){this.nextSibling&&this.parentNode.appendChild(this)}function Yt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yn(){return null}function mr(){var He=this.parentNode;He&&He.removeChild(this)}function Hi(){var He=this.cloneNode(!1),st=this.parentNode;return st?st.insertBefore(He,this.nextSibling):He}function Zi(){var He=this.cloneNode(!0),st=this.parentNode;return st?st.insertBefore(He,this.nextSibling):He}function hr(He){return function(){var st=this.__on;if(st){for(var un,wt=0,$t=-1,Gt=st.length;wt<Gt;++wt)un=st[wt],He.type&&un.type!==He.type||un.name!==He.name?st[++$t]=un:this.removeEventListener(un.type,un.listener,un.options);++$t?st.length=$t:delete this.__on}}}function Nr(He,st,wt){return function(){var Gt,$t=this.__on,un=function go(He){return function(st){He.call(this,st,this.__data__)}}(st);if($t)for(var Ln=0,Tn=$t.length;Ln<Tn;++Ln)if((Gt=$t[Ln]).type===He.type&&Gt.name===He.name)return this.removeEventListener(Gt.type,Gt.listener,Gt.options),this.addEventListener(Gt.type,Gt.listener=un,Gt.options=wt),void(Gt.value=st);this.addEventListener(He.type,un,wt),Gt={type:He.type,name:He.name,value:st,listener:un,options:wt},$t?$t.push(Gt):this.__on=[Gt]}}function wr(He,st,wt){var $t=Sn(He),Gt=$t.CustomEvent;"function"==typeof Gt?Gt=new Gt(st,wt):(Gt=$t.document.createEvent("Event"),wt?(Gt.initEvent(st,wt.bubbles,wt.cancelable),Gt.detail=wt.detail):Gt.initEvent(st,!1,!1)),He.dispatchEvent(Gt)}function lo(He,st){return function(){return wr(this,He,st)}}function no(He,st){return function(){return wr(this,He,st.apply(this,arguments))}}Ve.prototype={constructor:Ve,appendChild:function(He){return this._parent.insertBefore(He,this._next)},insertBefore:function(He,st){return this._parent.insertBefore(He,st)},querySelector:function(He){return this._parent.querySelector(He)},querySelectorAll:function(He){return this._parent.querySelectorAll(He)}},Kn.prototype={add:function(He){this._names.indexOf(He)<0&&(this._names.push(He),this._node.setAttribute("class",this._names.join(" ")))},remove:function(He){var st=this._names.indexOf(He);st>=0&&(this._names.splice(st,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(He){return this._names.indexOf(He)>=0}};var zi=[null];function Bi(He,st){this._groups=He,this._parents=st}function di(He){return"string"==typeof He?new Bi([[document.querySelector(He)]],[document.documentElement]):new Bi([[He]],zi)}function Er(He,st){if(He=function kr(He){let st;for(;st=He.sourceEvent;)He=st;return He}(He),void 0===st&&(st=He.currentTarget),st){var wt=st.ownerSVGElement||st;if(wt.createSVGPoint){var $t=wt.createSVGPoint();return $t.x=He.clientX,$t.y=He.clientY,[($t=$t.matrixTransform(st.getScreenCTM().inverse())).x,$t.y]}if(st.getBoundingClientRect){var Gt=st.getBoundingClientRect();return[He.clientX-Gt.left-st.clientLeft,He.clientY-Gt.top-st.clientTop]}}return[He.pageX,He.pageY]}Bi.prototype={constructor:Bi,select:function _e(He){"function"!=typeof He&&(He=se(He));for(var st=this._groups,wt=st.length,$t=new Array(wt),Gt=0;Gt<wt;++Gt)for(var Vn,wn,un=st[Gt],Ln=un.length,Tn=$t[Gt]=new Array(Ln),oi=0;oi<Ln;++oi)(Vn=un[oi])&&(wn=He.call(Vn,Vn.__data__,oi,un))&&("__data__"in Vn&&(wn.__data__=Vn.__data__),Tn[oi]=wn);return new Bi($t,this._parents)},selectAll:function vt(He){He="function"==typeof He?Ae(He):function tt(He){return null==He?Be:function(){return this.querySelectorAll(He)}}(He);for(var st=this._groups,wt=st.length,$t=[],Gt=[],un=0;un<wt;++un)for(var Vn,Ln=st[un],Tn=Ln.length,wn=0;wn<Tn;++wn)(Vn=Ln[wn])&&($t.push(He.call(Vn,Vn.__data__,wn,Ln)),Gt.push(Vn));return new Bi($t,Gt)},selectChild:function ze(He){return this.select(null==He?ct:function rt(He){return function(){return Ze.call(this.children,He)}}("function"==typeof He?He:Ge(He)))},selectChildren:function Se(He){return this.selectAll(null==He?ge:function pe(He){return function(){return Ke.call(this.children,He)}}("function"==typeof He?He:Ge(He)))},filter:function Te(He){"function"!=typeof He&&(He=function Le(He){return function(){return this.matches(He)}}(He));for(var st=this._groups,wt=st.length,$t=new Array(wt),Gt=0;Gt<wt;++Gt)for(var Vn,un=st[Gt],Ln=un.length,Tn=$t[Gt]=[],wn=0;wn<Ln;++wn)(Vn=un[wn])&&He.call(Vn,Vn.__data__,wn,un)&&Tn.push(Vn);return new Bi($t,this._parents)},data:function mt(He,st){if(!arguments.length)return Array.from(this,Fe);var wt=st?Me:Ue,$t=this._parents,Gt=this._groups;"function"!=typeof He&&(He=function Ce(He){return function(){return He}}(He));for(var un=Gt.length,Ln=new Array(un),Tn=new Array(un),Vn=new Array(un),wn=0;wn<un;++wn){var oi=$t[wn],Gi=Gt[wn],vi=Gi.length,gi=_t(He.call(oi,oi&&oi.__data__,wn,$t)),Sr=gi.length,Br=Tn[wn]=new Array(Sr),or=Ln[wn]=new Array(Sr);wt(oi,Gi,Br,or,Vn[wn]=new Array(vi),gi,st);for(var jn,Li,yi=0,yr=0;yi<Sr;++yi)if(jn=Br[yi]){for(yi>=yr&&(yr=yi+1);!(Li=or[yr])&&++yr<Sr;);jn._next=Li||null}}return(Ln=new Bi(Ln,$t))._enter=Tn,Ln._exit=Vn,Ln},enter:function De(){return new Bi(this._enter||this._groups.map(Re),this._parents)},exit:function Mt(){return new Bi(this._exit||this._groups.map(Re),this._parents)},join:function cn(He,st,wt){var $t=this.enter(),Gt=this,un=this.exit();return"function"==typeof He?($t=He($t))&&($t=$t.selection()):$t=$t.append(He+""),null!=st&&(Gt=st(Gt))&&(Gt=Gt.selection()),null==wt?un.remove():wt(un),$t&&Gt?$t.merge(Gt).order():Gt},merge:function En(He){for(var st=He.selection?He.selection():He,wt=this._groups,$t=st._groups,Gt=wt.length,Ln=Math.min(Gt,$t.length),Tn=new Array(Gt),Vn=0;Vn<Ln;++Vn)for(var gi,wn=wt[Vn],oi=$t[Vn],Gi=wn.length,vi=Tn[Vn]=new Array(Gi),Sr=0;Sr<Gi;++Sr)(gi=wn[Sr]||oi[Sr])&&(vi[Sr]=gi);for(;Vn<Gt;++Vn)Tn[Vn]=wt[Vn];return new Bi(Tn,this._parents)},selection:function _i(){return this},order:function on(){for(var He=this._groups,st=-1,wt=He.length;++st<wt;)for(var Ln,$t=He[st],Gt=$t.length-1,un=$t[Gt];--Gt>=0;)(Ln=$t[Gt])&&(un&&4^Ln.compareDocumentPosition(un)&&un.parentNode.insertBefore(Ln,un),un=Ln);return this},sort:function Et(He){function st(Gi,vi){return Gi&&vi?He(Gi.__data__,vi.__data__):!Gi-!vi}He||(He=at);for(var wt=this._groups,$t=wt.length,Gt=new Array($t),un=0;un<$t;++un){for(var wn,Ln=wt[un],Tn=Ln.length,Vn=Gt[un]=new Array(Tn),oi=0;oi<Tn;++oi)(wn=Ln[oi])&&(Vn[oi]=wn);Vn.sort(st)}return new Bi(Gt,this._parents).order()},call:function tn(){var He=arguments[0];return arguments[0]=this,He.apply(null,arguments),this},nodes:function Wt(){return Array.from(this)},node:function mn(){for(var He=this._groups,st=0,wt=He.length;st<wt;++st)for(var $t=He[st],Gt=0,un=$t.length;Gt<un;++Gt){var Ln=$t[Gt];if(Ln)return Ln}return null},size:function Cn(){let He=0;for(const st of this)++He;return He},empty:function _n(){return!this.node()},each:function ui(He){for(var st=this._groups,wt=0,$t=st.length;wt<$t;++wt)for(var Tn,Gt=st[wt],un=0,Ln=Gt.length;un<Ln;++un)(Tn=Gt[un])&&He.call(Tn,Tn.__data__,un,Gt);return this},attr:function ir(He,st){var wt=ce(He);if(arguments.length<2){var $t=this.node();return wt.local?$t.getAttributeNS(wt.space,wt.local):$t.getAttribute(wt)}return this.each((null==st?wt.local?Oi:wi:"function"==typeof st?wt.local?Mr:cr:wt.local?br:er)(wt,st))},style:function nt(He,st,wt){return arguments.length>1?this.each((null==st?Bn:"function"==typeof st?xt:Tt)(He,st,wt??"")):function ln(He,st){return He.style.getPropertyValue(st)||Sn(He).getComputedStyle(He,null).getPropertyValue(st)}(this.node(),He)},property:function Xn(He,st){return arguments.length>1?this.each((null==st?sn:"function"==typeof st?lt:At)(He,st)):this.node()[He]},classed:function vn(He,st){var wt=Nn(He+"");if(arguments.length<2){for(var $t=Di(this.node()),Gt=-1,un=wt.length;++Gt<un;)if(!$t.contains(wt[Gt]))return!1;return!0}return this.each(("function"==typeof st?kt:st?Zt:bt)(wt,st))},text:function si(He){return arguments.length?this.each(null==He?yn:("function"==typeof He?ai:Vt)(He)):this.node().textContent},html:function Ot(He){return arguments.length?this.each(null==He?Jn:("function"==typeof He?tr:Xi)(He)):this.node().innerHTML},raise:function ft(){return this.each(Ut)},lower:function hn(){return this.each(Yt)},append:function kn(He){var st="function"==typeof He?He:ke(He);return this.select(function(){return this.appendChild(st.apply(this,arguments))})},insert:function ei(He,st){var wt="function"==typeof He?He:ke(He),$t=null==st?Yn:"function"==typeof st?st:se(st);return this.select(function(){return this.insertBefore(wt.apply(this,arguments),$t.apply(this,arguments)||null)})},remove:function rr(){return this.each(mr)},clone:function Rr(He){return this.select(He?Zi:Hi)},datum:function Fr(He){return arguments.length?this.property("__data__",He):this.node().__data__},on:function Ki(He,st,wt){var Gt,Ln,$t=function Do(He){return He.trim().split(/^|\s+/).map(function(st){var wt="",$t=st.indexOf(".");return $t>=0&&(wt=st.slice($t+1),st=st.slice(0,$t)),{type:st,name:wt}})}(He+""),un=$t.length;if(!(arguments.length<2)){for(Tn=st?Nr:hr,Gt=0;Gt<un;++Gt)this.each(Tn($t[Gt],st,wt));return this}var Tn=this.node().__on;if(Tn)for(var oi,Vn=0,wn=Tn.length;Vn<wn;++Vn)for(Gt=0,oi=Tn[Vn];Gt<un;++Gt)if((Ln=$t[Gt]).type===oi.type&&Ln.name===oi.name)return oi.value},dispatch:function Gr(He,st){return this.each(("function"==typeof st?no:lo)(He,st))},[Symbol.iterator]:function*uo(){for(var He=this._groups,st=0,wt=He.length;st<wt;++st)for(var Ln,$t=He[st],Gt=0,un=$t.length;Gt<un;++Gt)(Ln=$t[Gt])&&(yield Ln)}};const oo={passive:!1},Ye={capture:!0,passive:!1};function Je(He){He.stopImmediatePropagation()}function dt(He){He.preventDefault(),He.stopImmediatePropagation()}var ot=He=>()=>He;function Ht(He,{sourceEvent:st,subject:wt,target:$t,identifier:Gt,active:un,x:Ln,y:Tn,dx:Vn,dy:wn,dispatch:oi}){Object.defineProperties(this,{type:{value:He,enumerable:!0,configurable:!0},sourceEvent:{value:st,enumerable:!0,configurable:!0},subject:{value:wt,enumerable:!0,configurable:!0},target:{value:$t,enumerable:!0,configurable:!0},identifier:{value:Gt,enumerable:!0,configurable:!0},active:{value:un,enumerable:!0,configurable:!0},x:{value:Ln,enumerable:!0,configurable:!0},y:{value:Tn,enumerable:!0,configurable:!0},dx:{value:Vn,enumerable:!0,configurable:!0},dy:{value:wn,enumerable:!0,configurable:!0},_:{value:oi}})}function zt(He){return!He.ctrlKey&&!He.button}function gn(){return this.parentNode}function an(He,st){return st??{x:He.x,y:He.y}}function Hn(){return navigator.maxTouchPoints||"ontouchstart"in this}function ii(){var Tn,Vn,wn,oi,He=zt,st=gn,wt=an,$t=Hn,Gt={},un=Q("start","drag","end"),Ln=0,Gi=0;function vi(jn){jn.on("mousedown.drag",gi).filter($t).on("touchstart.drag",or).on("touchmove.drag",Cr,oo).on("touchend.drag touchcancel.drag",yi).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function gi(jn,Li){if(!oi&&He.call(this,jn,Li)){var Ar=yr(this,st.call(this,jn,Li),jn,Li,"mouse");Ar&&(di(jn.view).on("mousemove.drag",Sr,Ye).on("mouseup.drag",Br,Ye),function Lt(He){var st=He.document.documentElement,wt=di(He).on("dragstart.drag",dt,Ye);"onselectstart"in st?wt.on("selectstart.drag",dt,Ye):(st.__noselect=st.style.MozUserSelect,st.style.MozUserSelect="none")}(jn.view),Je(jn),wn=!1,Tn=jn.clientX,Vn=jn.clientY,Ar("start",jn))}}function Sr(jn){if(dt(jn),!wn){var Li=jn.clientX-Tn,Ar=jn.clientY-Vn;wn=Li*Li+Ar*Ar>Gi}Gt.mouse("drag",jn)}function Br(jn){di(jn.view).on("mousemove.drag mouseup.drag",null),function Qt(He,st){var wt=He.document.documentElement,$t=di(He).on("dragstart.drag",null);st&&($t.on("click.drag",dt,Ye),setTimeout(function(){$t.on("click.drag",null)},0)),"onselectstart"in wt?$t.on("selectstart.drag",null):(wt.style.MozUserSelect=wt.__noselect,delete wt.__noselect)}(jn.view,wn),dt(jn),Gt.mouse("end",jn)}function or(jn,Li){if(He.call(this,jn,Li)){var so,mo,Ar=jn.changedTouches,Wr=st.call(this,jn,Li),pr=Ar.length;for(so=0;so<pr;++so)(mo=yr(this,Wr,jn,Li,Ar[so].identifier,Ar[so]))&&(Je(jn),mo("start",jn,Ar[so]))}}function Cr(jn){var Wr,pr,Li=jn.changedTouches,Ar=Li.length;for(Wr=0;Wr<Ar;++Wr)(pr=Gt[Li[Wr].identifier])&&(dt(jn),pr("drag",jn,Li[Wr]))}function yi(jn){var Wr,pr,Li=jn.changedTouches,Ar=Li.length;for(oi&&clearTimeout(oi),oi=setTimeout(function(){oi=null},500),Wr=0;Wr<Ar;++Wr)(pr=Gt[Li[Wr].identifier])&&(Je(jn),pr("end",jn,Li[Wr]))}function yr(jn,Li,Ar,Wr,pr,so){var _o,Jr,Ti,mo=un.copy(),yo=Er(so||Ar,Li);if(null!=(Ti=wt.call(jn,new Ht("beforestart",{sourceEvent:Ar,target:vi,identifier:pr,active:Ln,x:yo[0],y:yo[1],dx:0,dy:0,dispatch:mo}),Wr)))return _o=Ti.x-yo[0]||0,Jr=Ti.y-yo[1]||0,function bo(Dr,co,Yr){var Lo,Ao=yo;switch(Dr){case"start":Gt[pr]=bo,Lo=Ln++;break;case"end":delete Gt[pr],--Ln;case"drag":yo=Er(Yr||co,Li),Lo=Ln}mo.call(Dr,jn,new Ht(Dr,{sourceEvent:co,subject:Ti,target:vi,identifier:pr,active:Lo,x:yo[0]+_o,y:yo[1]+Jr,dx:yo[0]-Ao[0],dy:yo[1]-Ao[1],dispatch:mo}),Wr)}}return vi.filter=function(jn){return arguments.length?(He="function"==typeof jn?jn:ot(!!jn),vi):He},vi.container=function(jn){return arguments.length?(st="function"==typeof jn?jn:ot(jn),vi):st},vi.subject=function(jn){return arguments.length?(wt="function"==typeof jn?jn:ot(jn),vi):wt},vi.touchable=function(jn){return arguments.length?($t="function"==typeof jn?jn:ot(!!jn),vi):$t},vi.on=function(){var jn=un.on.apply(un,arguments);return jn===un?vi:jn},vi.clickDistance=function(jn){return arguments.length?(Gi=(jn=+jn)*jn,vi):Math.sqrt(Gi)},vi}Ht.prototype.on=function(){var He=this._.on.apply(this._,arguments);return He===this._?this:He};var In={id:"dragdata",statesStore:new Map,afterInit:function(st){var wt={curIndex:void 0,curDatasetIndex:void 0,element:null,eventSettings:!1,floatingBar:!1,initValue:0,xAxisID:"",yAxisID:"",rAxisID:"",stacked:!1,type:void 0,isDragging:!1};In.statesStore.set(st.id,wt),di(st.canvas).call(ii().container(st.canvas).on("start",function($t){return zr($t.sourceEvent,st,wt)}).on("drag",function($t){return Vi($t.sourceEvent,st,wt)}).on("end",function($t){return jo($t.sourceEvent,st,wt)}))},beforeEvent:function(st){var wt;if(In.statesStore.get(st.id)?.isDragging)return null===(wt=st.tooltip)||void 0===wt||wt.update(),!1}};function $i(He,st){return void 0===st||isNaN(st)||st<0?He:Math.round(He*Math.pow(10,st))/Math.pow(10,st)}function Ir(He,st,wt){return Math.min(Math.max(He,st),wt)}function ho(He,st,wt,$t,Gt){var un,Ln,Tn;void 0===Gt&&(Gt=In.statesStore.get(st.id));var Vn=F.getRelativePosition(He,st),wn=Vn.x,oi=Vn.y,Gi=st.scales[$t],vi=Gi.getPointPositionForValue(wt+("polarArea"===Gt?.type?.5:0),st.scales[$t].max).angle,gi=Gi.xCenter,Sr=Gi.yCenter,or=oi-Sr,jn=(wn-gi)*Math.cos(vi)+or*Math.sin(vi)>0?Math.sqrt(Math.pow(wn-gi,2)+Math.pow(oi-Sr,2)):0,Li=Gi.getValueForDistanceFromCenter(jn);return Ir(Li=$i(Li,null===(Tn=null===(Ln=null===(un=st.config.options)||void 0===un?void 0:un.plugins)||void 0===Ln?void 0:Ln.dragData)||void 0===Tn?void 0:Tn.round),st.scales[$t].min,st.scales[$t].max)}q.Chart.register(In);var Ii=function(){return Ii=Object.assign||function(st){for(var wt,$t=1,Gt=arguments.length;$t<Gt;$t++)for(var un in wt=arguments[$t])Object.prototype.hasOwnProperty.call(wt,un)&&(st[un]=wt[un]);return st},Ii.apply(this,arguments)};function fr(He){return Array.isArray(He)?function xr(He,st,wt){if(wt||2===arguments.length)for(var un,$t=0,Gt=st.length;$t<Gt;$t++)(un||!($t in st))&&(un||(un=Array.prototype.slice.call(st,0,$t)),un[$t]=st[$t]);return He.concat(un||Array.prototype.slice.call(st))}([],He,!0):"object"==typeof He?Ii({},He):He}function Kr(He,st,wt,$t,Gt){var un,Ln,Tn,Vn,wn,oi=$t.xAxisDraggingDisabled,Gi=$t.yAxisDraggingDisabled;if(void 0===Gt&&(Gt=In.statesStore.get(st.id)),!Gt)return wt;var vi=fr(wt),gi=F.getRelativePosition(He,st),Br=gi.y,or=st.scales[Gt.xAxisID].getValueForPixel(gi.x),Cr=st.scales[Gt.yAxisID].getValueForPixel(Br),yi=null===(Tn=null===(Ln=null===(un=st.config.options)||void 0===un?void 0:un.plugins)||void 0===Ln?void 0:Ln.dragData)||void 0===Tn?void 0:Tn.round;if(or=$i(or,yi),Cr=$i(Cr,yi),or=Ir(or,st.scales[Gt.xAxisID].min,st.scales[Gt.xAxisID].max),Cr=Ir(Cr,st.scales[Gt.yAxisID].min,st.scales[Gt.yAxisID].max),Gt.floatingBar){var yr;return yr="y"===(null===(Vn=st.config.options)||void 0===Vn?void 0:Vn.indexAxis)?or:Cr,Math.abs(yr-vi[0])<=Math.abs(yr-vi[1])?vi[0]=yr:vi[1]=yr,vi}return void 0!==vi.x&&!oi&&(vi.x=or),void 0!==vi.y?(Gi||(vi.y=Cr),vi):"y"===(null===(wn=st.config.options)||void 0===wn?void 0:wn.indexAxis)?oi?vi:or:Gi?vi:Cr}function fo(He,st,wt){var $t,Gt,un=null===(Gt=null===($t=He.config.options)||void 0===$t?void 0:$t.plugins)||void 0===Gt?void 0:Gt.dragData;if(un?.magnet){var Ln=un?.magnet;if("function"==typeof Ln.to){var Tn=He.data.datasets[st].data[wt];return Tn=Ln.to(Tn),He.data.datasets[st].data[wt]=Tn,He.update("none"),Tn}return null}return He.data.datasets[st].data[wt]}function Po(He,st,wt,$t){var Gt,un,Ln,Tn,Vn,wn,oi,Gi,vi,gi,Sr,Br,or,Cr,yi;if(void 0===$t&&($t=In.statesStore.get(He.id)),!$t)return{chartDraggingDisabled:!0,datasetDraggingDisabled:!0,xAxisDraggingDisabled:!0,yAxisDraggingDisabled:!0,dataPointDraggingDisabled:!0};var yr=He.data.datasets[st],jn=!1===(null===(un=null===(Gt=He.config.options)||void 0===Gt?void 0:Gt.plugins)||void 0===un?void 0:un.dragData),Li=jn||!1===yr.dragData,Ar=null===(Vn=null===(Tn=null===(Ln=He.config.options)||void 0===Ln?void 0:Ln.scales)||void 0===Tn?void 0:Tn[$t.xAxisID])||void 0===Vn?void 0:Vn.dragData,Wr=!0;return!Li&&(!0===Ar||!0===(null===(Gi=null===(oi=null===(wn=He.config.options)||void 0===wn?void 0:wn.plugins)||void 0===oi?void 0:oi.dragData)||void 0===Gi?void 0:Gi.dragX)&&!1!==Ar)&&(Wr=!1),{chartDraggingDisabled:jn,datasetDraggingDisabled:Li,xAxisDraggingDisabled:Wr,yAxisDraggingDisabled:Li||!1===(null===(Sr=null===(gi=null===(vi=He.config.options)||void 0===vi?void 0:vi.plugins)||void 0===gi?void 0:gi.dragData)||void 0===Sr?void 0:Sr.dragY)||!1===(null===(Cr=null===(or=null===(Br=He.config.options)||void 0===Br?void 0:Br.scales)||void 0===or?void 0:or[$t.yAxisID])||void 0===Cr?void 0:Cr.dragData),dataPointDraggingDisabled:Li||!1===(null===(yi=yr.data[wt])||void 0===yi?void 0:yi.dragData)}}function jo(He,st,wt){var $t,Gt,un,Ln,Tn;if(void 0===wt&&(wt=In.statesStore.get(st.id)),wt){var Vn=null===(un=null===(Gt=null===($t=st.options)||void 0===$t?void 0:$t.plugins)||void 0===Gt?void 0:Gt.dragData)||void 0===un?void 0:un.onDragEnd;if(wt.curIndex=void 0,wt.isDragging=!1,!(null===(Tn=null===(Ln=st.config.options)||void 0===Ln?void 0:Ln.plugins)||void 0===Tn)&&Tn.tooltip&&(st.config.options.plugins.tooltip.animation=wt.eventSettings,st.update("none")),"function"==typeof Vn&&wt.element){var wn=wt.element.datasetIndex,oi=wt.element.index;return Vn(He,wn,oi,fo(st,wn,oi))}}}function zr(He,st,wt){var $t,Gt,un,Ln,Tn,Vn,wn,oi,Gi,vi,gi,Sr,Br,or,Cr,yi,yr,jn,Li,Ar,Wr,pr,so,mo,yo,_o;void 0===wt&&(wt=In.statesStore.get(st.id));var Jr=null===(un=null===(Gt=null===($t=st.options)||void 0===$t?void 0:$t.plugins)||void 0===Gt?void 0:Gt.dragData)||void 0===un?void 0:un.onDragStart;if(wt){var Ti=null!==(Vn=null===(Tn=null===(Ln=st.config.options)||void 0===Ln?void 0:Ln.interaction)||void 0===Tn?void 0:Tn.mode)&&void 0!==Vn?Vn:"nearest",bo=null!==(oi=null===(wn=st.config.options)||void 0===wn?void 0:wn.interaction)&&void 0!==oi?oi:{intersect:!0};if(wt.element=st.getElementsAtEventForMode(He,Ti,bo,!1)[0],wt.element){var Dr=wt.element.datasetIndex,co=wt.element.index;wt.type=null!==(vi=null!==(Gi=st.config.type)&&void 0!==Gi?Gi:st.data.datasets[Dr].type)&&void 0!==vi?vi:void 0,wt.eventSettings=null===(Br=null===(Sr=null===(gi=st.config.options)||void 0===gi?void 0:gi.plugins)||void 0===Sr?void 0:Sr.tooltip)||void 0===Br?void 0:Br.animation;var Yr=st.data.datasets[Dr],Ao=st.getDatasetMeta(Dr),Lo=Yr.data[co];wt.xAxisID=Ao.xAxisID,wt.yAxisID=Ao.yAxisID,wt.rAxisID=Ao.rAxisID;var Pr=Po(st,Dr,co);if(Pr.datasetDraggingDisabled||Pr.xAxisDraggingDisabled&&Pr.yAxisDraggingDisabled||Pr.dataPointDraggingDisabled)return void(wt.element=null);if("bar"===wt.type){wt.stacked=null!==(yr=null===(yi=null===(Cr=null===(or=st.config.options)||void 0===or?void 0:or.scales)||void 0===Cr?void 0:Cr[wt.xAxisID])||void 0===yi?void 0:yi.stacked)&&void 0!==yr?yr:void 0;var Xr=st.data.datasets[0].data[0];wt.floatingBar=null!==Xr&&Array.isArray(Xr)&&Xr.length>=2;var $o=Kr(He,st,st.data.datasets[Dr].data[co],Pr,wt);wt.initValue=$o-Lo}var Zr=null===(Ar=null===(Li=null===(jn=st.config.options)||void 0===jn?void 0:jn.plugins)||void 0===Li?void 0:Li.dragData)||void 0===Ar?void 0:Ar.showTooltip;(void 0===Zr||!0===Zr)&&(null!==(Wr=(mo=st.config).options)&&void 0!==Wr||(mo.options={}),null!==(pr=(yo=st.config.options).plugins)&&void 0!==pr||(yo.plugins={}),null!==(so=(_o=st.config.options.plugins).tooltip)&&void 0!==so||(_o.tooltip={}),st.config.options.plugins.tooltip.animation=!1),"function"==typeof Jr&&wt.element&&!1===Jr(He,Dr,co,Lo)&&(wt.element=null)}}}function Vi(He,st,wt){var $t,Gt;if(void 0===wt&&(wt=In.statesStore.get(st.id)),wt){var un=null===(Gt=null===($t=st.options)||void 0===$t?void 0:$t.plugins)||void 0===Gt?void 0:Gt.dragData,Ln=un?.onDrag;if(wt.element){wt.curDatasetIndex=wt.element.datasetIndex,wt.curIndex=wt.element.index,wt.isDragging=!0;var Tn=st.data.datasets[wt.curDatasetIndex].data[wt.curIndex],Vn=Po(st,wt.curDatasetIndex,wt.curIndex);Tn="radar"===wt.type||"polarArea"===wt.type?ho(He,st,wt.curIndex,wt.rAxisID,wt):wt.stacked?$i(Kr(He,st,Tn,Vn,wt)-wt.initValue,un?.round):Kr(He,st,Tn,Vn,wt),("function"!=typeof Ln||!1!==Ln(He,wt.curDatasetIndex,wt.curIndex,Tn))&&(st.data.datasets[wt.curDatasetIndex].data[wt.curIndex]=Tn,st.update("none"))}}}"function"==typeof SuppressedError&&SuppressedError,r.applyMagnet=fo,r.calcCartesian=Kr,r.calcRadialLinear=ho,r.checkDraggingConfiguration=Po,r.clipValue=Ir,r.cloneDataPoint=fr,r.default=In,r.dragEndCallback=jo,r.getElement=zr,r.roundValue=$i,r.updateData=Vi,Object.defineProperty(r,"__esModule",{value:!0})}(H,A(666),A(3977))},7484:(Ct,H,A)=>{"use strict";var r=A(3907),F=A(5917),q=A(2844),$=A(7378);Ct.exports=function(Y,Z,G){if(!Y||"object"!=typeof Y&&"function"!=typeof Y)throw new q("`obj` must be an object or a function`");if("string"!=typeof Z&&"symbol"!=typeof Z)throw new q("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new q("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new q("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new q("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new q("`loose`, if provided, must be a boolean");var J=arguments.length>3?arguments[3]:null,ue=arguments.length>4?arguments[4]:null,oe=arguments.length>5?arguments[5]:null,ce=arguments.length>6&&arguments[6],le=!!$&&$(Y,Z);if(r)r(Y,Z,{configurable:null===oe&&le?le.configurable:!oe,enumerable:null===J&&le?le.enumerable:!J,value:G,writable:null===ue&&le?le.writable:!ue});else{if(!ce&&(J||ue||oe))throw new F("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");Y[Z]=G}}},5469:Ct=>{"use strict";function H(ge,pe,Se){Se=Se||2;var Ce,Ue,Me,Fe,mt,_t,Mt,Te=pe&&pe.length,Re=Te?pe[0]*Se:ge.length,De=A(ge,0,Re,Se,!0),Ve=[];if(!De||De.next===De.prev)return Ve;if(Te&&(De=function Z(ge,pe,Se,Te){var De,Ve,Me,Re=[];for(De=0,Ve=pe.length;De<Ve;De++)(Me=A(ge,pe[De]*Te,De<Ve-1?pe[De+1]*Te:ge.length,Te,!1))===Me.next&&(Me.steiner=!0),Re.push(ke(Me));for(Re.sort(G),De=0;De<Re.length;De++)Se=J(Re[De],Se);return Se}(ge,pe,De,Se)),ge.length>80*Se){Ce=Me=ge[0],Ue=Fe=ge[1];for(var cn=Se;cn<Re;cn+=Se)(mt=ge[cn])<Ce&&(Ce=mt),(_t=ge[cn+1])<Ue&&(Ue=_t),mt>Me&&(Me=mt),_t>Fe&&(Fe=_t);Mt=0!==(Mt=Math.max(Me-Ce,Fe-Ue))?32767/Mt:0}return F(De,Ve,Se,Ce,Ue,Mt,0),Ve}function A(ge,pe,Se,Te,Re){var De,Ve;if(Re===Ke(ge,pe,Se,Te)>0)for(De=pe;De<Se;De+=Te)Ve=rt(De,ge[De],ge[De+1],Ve);else for(De=Se-Te;De>=pe;De-=Te)Ve=rt(De,ge[De],ge[De+1],Ve);return Ve&&Ie(Ve,Ve.next)&&(ct(Ve),Ve=Ve.next),Ve}function r(ge,pe){if(!ge)return ge;pe||(pe=ge);var Te,Se=ge;do{if(Te=!1,Se.steiner||!Ie(Se,Se.next)&&0!==_e(Se.prev,Se,Se.next))Se=Se.next;else{if(ct(Se),(Se=pe=Se.prev)===Se.next)break;Te=!0}}while(Te||Se!==pe);return pe}function F(ge,pe,Se,Te,Re,De,Ve){if(ge){!Ve&&De&&function ce(ge,pe,Se,Te){var Re=ge;do{0===Re.z&&(Re.z=de(Re.x,Re.y,pe,Se,Te)),Re.prevZ=Re.prev,Re.nextZ=Re.next,Re=Re.next}while(Re!==ge);Re.prevZ.nextZ=null,Re.prevZ=null,function le(ge){var pe,Se,Te,Re,De,Ve,Ce,Ue,Me=1;do{for(Se=ge,ge=null,De=null,Ve=0;Se;){for(Ve++,Te=Se,Ce=0,pe=0;pe<Me&&(Ce++,Te=Te.nextZ);pe++);for(Ue=Me;Ce>0||Ue>0&&Te;)0!==Ce&&(0===Ue||!Te||Se.z<=Te.z)?(Re=Se,Se=Se.nextZ,Ce--):(Re=Te,Te=Te.nextZ,Ue--),De?De.nextZ=Re:ge=Re,Re.prevZ=De,De=Re;Se=Te}De.nextZ=null,Me*=2}while(Ve>1)}(Re)}(ge,Te,Re,De);for(var Ue,Me,Ce=ge;ge.prev!==ge.next;)if(Ue=ge.prev,Me=ge.next,De?$(ge,Te,Re,De):q(ge))pe.push(Ue.i/Se|0),pe.push(ge.i/Se|0),pe.push(Me.i/Se|0),ct(ge),ge=Me.next,Ce=Me.next;else if((ge=Me)===Ce){Ve?1===Ve?F(ge=Q(r(ge),pe,Se),pe,Se,Te,Re,De,2):2===Ve&&Y(ge,pe,Se,Te,Re,De):F(r(ge),pe,Se,Te,Re,De,1);break}}}function q(ge){var pe=ge.prev,Se=ge,Te=ge.next;if(_e(pe,Se,Te)>=0)return!1;for(var Re=pe.x,De=Se.x,Ve=Te.x,Ce=pe.y,Ue=Se.y,Me=Te.y,Fe=Re<De?Re<Ve?Re:Ve:De<Ve?De:Ve,mt=Ce<Ue?Ce<Me?Ce:Me:Ue<Me?Ue:Me,_t=Re>De?Re>Ve?Re:Ve:De>Ve?De:Ve,Mt=Ce>Ue?Ce>Me?Ce:Me:Ue>Me?Ue:Me,cn=Te.next;cn!==pe;){if(cn.x>=Fe&&cn.x<=_t&&cn.y>=mt&&cn.y<=Mt&&xe(Re,Ce,De,Ue,Ve,Me,cn.x,cn.y)&&_e(cn.prev,cn,cn.next)>=0)return!1;cn=cn.next}return!0}function $(ge,pe,Se,Te){var Re=ge.prev,De=ge,Ve=ge.next;if(_e(Re,De,Ve)>=0)return!1;for(var Ce=Re.x,Ue=De.x,Me=Ve.x,Fe=Re.y,mt=De.y,_t=Ve.y,Mt=Ce<Ue?Ce<Me?Ce:Me:Ue<Me?Ue:Me,cn=Fe<mt?Fe<_t?Fe:_t:mt<_t?mt:_t,En=Ce>Ue?Ce>Me?Ce:Me:Ue>Me?Ue:Me,on=Fe>mt?Fe>_t?Fe:_t:mt>_t?mt:_t,Et=de(Mt,cn,pe,Se,Te),at=de(En,on,pe,Se,Te),tn=ge.prevZ,Wt=ge.nextZ;tn&&tn.z>=Et&&Wt&&Wt.z<=at;){if(tn.x>=Mt&&tn.x<=En&&tn.y>=cn&&tn.y<=on&&tn!==Re&&tn!==Ve&&xe(Ce,Fe,Ue,mt,Me,_t,tn.x,tn.y)&&_e(tn.prev,tn,tn.next)>=0||(tn=tn.prevZ,Wt.x>=Mt&&Wt.x<=En&&Wt.y>=cn&&Wt.y<=on&&Wt!==Re&&Wt!==Ve&&xe(Ce,Fe,Ue,mt,Me,_t,Wt.x,Wt.y)&&_e(Wt.prev,Wt,Wt.next)>=0))return!1;Wt=Wt.nextZ}for(;tn&&tn.z>=Et;){if(tn.x>=Mt&&tn.x<=En&&tn.y>=cn&&tn.y<=on&&tn!==Re&&tn!==Ve&&xe(Ce,Fe,Ue,mt,Me,_t,tn.x,tn.y)&&_e(tn.prev,tn,tn.next)>=0)return!1;tn=tn.prevZ}for(;Wt&&Wt.z<=at;){if(Wt.x>=Mt&&Wt.x<=En&&Wt.y>=cn&&Wt.y<=on&&Wt!==Re&&Wt!==Ve&&xe(Ce,Fe,Ue,mt,Me,_t,Wt.x,Wt.y)&&_e(Wt.prev,Wt,Wt.next)>=0)return!1;Wt=Wt.nextZ}return!0}function Q(ge,pe,Se){var Te=ge;do{var Re=Te.prev,De=Te.next.next;!Ie(Re,De)&&Be(Re,Te,Te.next,De)&&Le(Re,De)&&Le(De,Re)&&(pe.push(Re.i/Se|0),pe.push(Te.i/Se|0),pe.push(De.i/Se|0),ct(Te),ct(Te.next),Te=ge=De),Te=Te.next}while(Te!==ge);return r(Te)}function Y(ge,pe,Se,Te,Re,De){var Ve=ge;do{for(var Ce=Ve.next.next;Ce!==Ve.prev;){if(Ve.i!==Ce.i&&se(Ve,Ce)){var Ue=Ze(Ve,Ce);return Ve=r(Ve,Ve.next),Ue=r(Ue,Ue.next),F(Ve,pe,Se,Te,Re,De,0),void F(Ue,pe,Se,Te,Re,De,0)}Ce=Ce.next}Ve=Ve.next}while(Ve!==ge)}function G(ge,pe){return ge.x-pe.x}function J(ge,pe){var Se=function ue(ge,pe){var Ve,Se=pe,Te=ge.x,Re=ge.y,De=-1/0;do{if(Re<=Se.y&&Re>=Se.next.y&&Se.next.y!==Se.y){var Ce=Se.x+(Re-Se.y)*(Se.next.x-Se.x)/(Se.next.y-Se.y);if(Ce<=Te&&Ce>De&&(De=Ce,Ve=Se.x<Se.next.x?Se:Se.next,Ce===Te))return Ve}Se=Se.next}while(Se!==pe);if(!Ve)return null;var _t,Ue=Ve,Me=Ve.x,Fe=Ve.y,mt=1/0;Se=Ve;do{Te>=Se.x&&Se.x>=Me&&Te!==Se.x&&xe(Re<Fe?Te:De,Re,Me,Fe,Re<Fe?De:Te,Re,Se.x,Se.y)&&(_t=Math.abs(Re-Se.y)/(Te-Se.x),Le(Se,ge)&&(_t<mt||_t===mt&&(Se.x>Ve.x||Se.x===Ve.x&&oe(Ve,Se)))&&(Ve=Se,mt=_t)),Se=Se.next}while(Se!==Ue);return Ve}(ge,pe);if(!Se)return pe;var Te=Ze(Se,ge);return r(Te,Te.next),r(Se,Se.next)}function oe(ge,pe){return _e(ge.prev,ge,pe.prev)<0&&_e(pe.next,ge,ge.next)<0}function de(ge,pe,Se,Te,Re){return(ge=1431655765&((ge=858993459&((ge=252645135&((ge=16711935&((ge=(ge-Se)*Re|0)|ge<<8))|ge<<4))|ge<<2))|ge<<1))|(pe=1431655765&((pe=858993459&((pe=252645135&((pe=16711935&((pe=(pe-Te)*Re|0)|pe<<8))|pe<<4))|pe<<2))|pe<<1))<<1}function ke(ge){var pe=ge,Se=ge;do{(pe.x<Se.x||pe.x===Se.x&&pe.y<Se.y)&&(Se=pe),pe=pe.next}while(pe!==ge);return Se}function xe(ge,pe,Se,Te,Re,De,Ve,Ce){return(Re-Ve)*(pe-Ce)>=(ge-Ve)*(De-Ce)&&(ge-Ve)*(Te-Ce)>=(Se-Ve)*(pe-Ce)&&(Se-Ve)*(De-Ce)>=(Re-Ve)*(Te-Ce)}function se(ge,pe){return ge.next.i!==pe.i&&ge.prev.i!==pe.i&&!function vt(ge,pe){var Se=ge;do{if(Se.i!==ge.i&&Se.next.i!==ge.i&&Se.i!==pe.i&&Se.next.i!==pe.i&&Be(Se,Se.next,ge,pe))return!0;Se=Se.next}while(Se!==ge);return!1}(ge,pe)&&(Le(ge,pe)&&Le(pe,ge)&&function Ge(ge,pe){var Se=ge,Te=!1,Re=(ge.x+pe.x)/2,De=(ge.y+pe.y)/2;do{Se.y>De!=Se.next.y>De&&Se.next.y!==Se.y&&Re<(Se.next.x-Se.x)*(De-Se.y)/(Se.next.y-Se.y)+Se.x&&(Te=!Te),Se=Se.next}while(Se!==ge);return Te}(ge,pe)&&(_e(ge.prev,ge,pe.prev)||_e(ge,pe.prev,pe))||Ie(ge,pe)&&_e(ge.prev,ge,ge.next)>0&&_e(pe.prev,pe,pe.next)>0)}function _e(ge,pe,Se){return(pe.y-ge.y)*(Se.x-pe.x)-(pe.x-ge.x)*(Se.y-pe.y)}function Ie(ge,pe){return ge.x===pe.x&&ge.y===pe.y}function Be(ge,pe,Se,Te){var Re=Ae(_e(ge,pe,Se)),De=Ae(_e(ge,pe,Te)),Ve=Ae(_e(Se,Te,ge)),Ce=Ae(_e(Se,Te,pe));return!!(Re!==De&&Ve!==Ce||0===Re&&tt(ge,Se,pe)||0===De&&tt(ge,Te,pe)||0===Ve&&tt(Se,ge,Te)||0===Ce&&tt(Se,pe,Te))}function tt(ge,pe,Se){return pe.x<=Math.max(ge.x,Se.x)&&pe.x>=Math.min(ge.x,Se.x)&&pe.y<=Math.max(ge.y,Se.y)&&pe.y>=Math.min(ge.y,Se.y)}function Ae(ge){return ge>0?1:ge<0?-1:0}function Le(ge,pe){return _e(ge.prev,ge,ge.next)<0?_e(ge,pe,ge.next)>=0&&_e(ge,ge.prev,pe)>=0:_e(ge,pe,ge.prev)<0||_e(ge,ge.next,pe)<0}function Ze(ge,pe){var Se=new ze(ge.i,ge.x,ge.y),Te=new ze(pe.i,pe.x,pe.y),Re=ge.next,De=pe.prev;return ge.next=pe,pe.prev=ge,Se.next=Re,Re.prev=Se,Te.next=Se,Se.prev=Te,De.next=Te,Te.prev=De,Te}function rt(ge,pe,Se,Te){var Re=new ze(ge,pe,Se);return Te?(Re.next=Te.next,Re.prev=Te,Te.next.prev=Re,Te.next=Re):(Re.prev=Re,Re.next=Re),Re}function ct(ge){ge.next.prev=ge.prev,ge.prev.next=ge.next,ge.prevZ&&(ge.prevZ.nextZ=ge.nextZ),ge.nextZ&&(ge.nextZ.prevZ=ge.prevZ)}function ze(ge,pe,Se){this.i=ge,this.x=pe,this.y=Se,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ke(ge,pe,Se,Te){for(var Re=0,De=pe,Ve=Se-Te;De<Se;De+=Te)Re+=(ge[Ve]-ge[De])*(ge[De+1]+ge[Ve+1]),Ve=De;return Re}Ct.exports=H,Ct.exports.default=H,H.deviation=function(ge,pe,Se,Te){var Re=pe&&pe.length,Ve=Math.abs(Ke(ge,0,Re?pe[0]*Se:ge.length,Se));if(Re)for(var Ce=0,Ue=pe.length;Ce<Ue;Ce++)Ve-=Math.abs(Ke(ge,pe[Ce]*Se,Ce<Ue-1?pe[Ce+1]*Se:ge.length,Se));var mt=0;for(Ce=0;Ce<Te.length;Ce+=3){var _t=Te[Ce]*Se,Mt=Te[Ce+1]*Se,cn=Te[Ce+2]*Se;mt+=Math.abs((ge[_t]-ge[cn])*(ge[Mt+1]-ge[_t+1])-(ge[_t]-ge[Mt])*(ge[cn+1]-ge[_t+1]))}return 0===Ve&&0===mt?0:Math.abs((mt-Ve)/Ve)},H.flatten=function(ge){for(var pe=ge[0][0].length,Se={vertices:[],holes:[],dimensions:pe},Te=0,Re=0;Re<ge.length;Re++){for(var De=0;De<ge[Re].length;De++)for(var Ve=0;Ve<pe;Ve++)Se.vertices.push(ge[Re][De][Ve]);Re>0&&Se.holes.push(Te+=ge[Re-1].length)}return Se}},3907:(Ct,H,A)=>{"use strict";var F=A(5203)("%Object.defineProperty%",!0)||!1;if(F)try{F({},"a",{value:1})}catch{F=!1}Ct.exports=F},3644:Ct=>{"use strict";Ct.exports=EvalError},1847:Ct=>{"use strict";Ct.exports=Error},1298:Ct=>{"use strict";Ct.exports=RangeError},2681:Ct=>{"use strict";Ct.exports=ReferenceError},5917:Ct=>{"use strict";Ct.exports=SyntaxError},2844:Ct=>{"use strict";Ct.exports=TypeError},7289:Ct=>{"use strict";Ct.exports=URIError},7793:function(Ct,H,A){var r;!function(F){var Ze,q=F.Promise,$=q&&"resolve"in q&&"reject"in q&&"all"in q&&"race"in q&&(new q(function(rt){Ze=rt}),"function"==typeof Ze);H?(H.Promise=$?q:Ge,H.Polyfill=Ge):void 0!==(r=function(){return $?q:Ge}.call(H,A,H,Ct))&&(Ct.exports=r);var Q="pending",Y="sealed",Z="fulfilled",G="rejected",J=function(){};function ue(Ze){return"[object Array]"===Object.prototype.toString.call(Ze)}var le,oe=typeof setImmediate<"u"?setImmediate:setTimeout,ce=[];function de(){for(var Ze=0;Ze<ce.length;Ze++)ce[Ze][0](ce[Ze][1]);ce=[],le=!1}function ke(Ze,rt){ce.push([Ze,rt]),le||(le=!0,oe(de,0))}function se(Ze){var rt=Ze.owner,ct=rt.state_,ze=rt.data_,Ke=Ze[ct],ge=Ze.then;if("function"==typeof Ke){ct=Z;try{ze=Ke(ze)}catch(pe){tt(ge,pe)}}_e(ge,ze)||(ct===Z&&Ie(ge,ze),ct===G&&tt(ge,ze))}function _e(Ze,rt){var ct;try{if(Ze===rt)throw new TypeError("A promises callback cannot return that same promise.");if(rt&&("function"==typeof rt||"object"==typeof rt)){var ze=rt.then;if("function"==typeof ze)return ze.call(rt,function(Ke){ct||(ct=!0,rt!==Ke?Ie(Ze,Ke):Be(Ze,Ke))},function(Ke){ct||(ct=!0,tt(Ze,Ke))}),!0}}catch(Ke){return ct||tt(Ze,Ke),!0}return!1}function Ie(Ze,rt){(Ze===rt||!_e(Ze,rt))&&Be(Ze,rt)}function Be(Ze,rt){Ze.state_===Q&&(Ze.state_=Y,Ze.data_=rt,ke(vt,Ze))}function tt(Ze,rt){Ze.state_===Q&&(Ze.state_=Y,Ze.data_=rt,ke(Le,Ze))}function Ae(Ze){var rt=Ze.then_;Ze.then_=void 0;for(var ct=0;ct<rt.length;ct++)se(rt[ct])}function vt(Ze){Ze.state_=Z,Ae(Ze)}function Le(Ze){Ze.state_=G,Ae(Ze)}function Ge(Ze){if("function"!=typeof Ze)throw new TypeError("Promise constructor takes a function argument");if(!(this instanceof Ge))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],function xe(Ze,rt){function ze(Ke){tt(rt,Ke)}try{Ze(function ct(Ke){Ie(rt,Ke)},ze)}catch(Ke){ze(Ke)}}(Ze,this)}Ge.prototype={constructor:Ge,state_:Q,then_:null,data_:void 0,then:function(Ze,rt){var ct={owner:this,then:new this.constructor(J),fulfilled:Ze,rejected:rt};return this.state_===Z||this.state_===G?ke(se,ct):this.then_.push(ct),ct.then},catch:function(Ze){return this.then(null,Ze)}},Ge.all=function(Ze){if(!ue(Ze))throw new TypeError("You must pass an array to Promise.all().");return new this(function(ct,ze){var Ke=[],ge=0;function pe(Re){return ge++,function(De){Ke[Re]=De,--ge||ct(Ke)}}for(var Te,Se=0;Se<Ze.length;Se++)(Te=Ze[Se])&&"function"==typeof Te.then?Te.then(pe(Se),ze):Ke[Se]=Te;ge||ct(Ke)})},Ge.race=function(Ze){if(!ue(Ze))throw new TypeError("You must pass an array to Promise.race().");return new this(function(ct,ze){for(var ge,Ke=0;Ke<Ze.length;Ke++)(ge=Ze[Ke])&&"function"==typeof ge.then?ge.then(ct,ze):ct(ge)})},Ge.resolve=function(Ze){return Ze&&"object"==typeof Ze&&Ze.constructor===this?Ze:new this(function(ct){ct(Ze)})},Ge.reject=function(Ze){return new this(function(ct,ze){ze(Ze)})}}(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this)},3457:Ct=>{"use strict";var H="Function.prototype.bind called on incompatible ",A=Object.prototype.toString,r=Math.max,F="[object Function]",q=function(Z,G){for(var J=[],ue=0;ue<Z.length;ue+=1)J[ue]=Z[ue];for(var oe=0;oe<G.length;oe+=1)J[oe+Z.length]=G[oe];return J},$=function(Z,G){for(var J=[],ue=G||0,oe=0;ue<Z.length;ue+=1,oe+=1)J[oe]=Z[ue];return J},Q=function(Y,Z){for(var G="",J=0;J<Y.length;J+=1)G+=Y[J],J+1<Y.length&&(G+=Z);return G};Ct.exports=function(Z){var G=this;if("function"!=typeof G||A.apply(G)!==F)throw new TypeError(H+G);for(var ue,J=$(arguments,1),ce=r(0,G.length-J.length),le=[],de=0;de<ce;de++)le[de]="$"+de;if(ue=Function("binder","return function ("+Q(le,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof ue){var xe=G.apply(this,q(J,arguments));return Object(xe)===xe?xe:this}return G.apply(Z,q(J,arguments))}),G.prototype){var ke=function(){};ke.prototype=G.prototype,ue.prototype=new ke,ke.prototype=null}return ue}},4444:(Ct,H,A)=>{"use strict";var r=A(3457);Ct.exports=Function.prototype.bind||r},5175:function(Ct){typeof self<"u"&&self,Ct.exports=function(H){var A={};function r(F){if(A[F])return A[F].exports;var q=A[F]={i:F,l:!1,exports:{}};return H[F].call(q.exports,q,q.exports,r),q.l=!0,q.exports}return r.m=H,r.c=A,r.d=function(F,q,$){r.o(F,q)||Object.defineProperty(F,q,{enumerable:!0,get:$})},r.r=function(F){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(F,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(F,"__esModule",{value:!0})},r.t=function(F,q){if(1&q&&(F=r(F)),8&q||4&q&&"object"==typeof F&&F&&F.__esModule)return F;var $=Object.create(null);if(r.r($),Object.defineProperty($,"default",{enumerable:!0,value:F}),2&q&&"string"!=typeof F)for(var Q in F)r.d($,Q,function(Y){return F[Y]}.bind(null,Q));return $},r.n=function(F){var q=F&&F.__esModule?function(){return F.default}:function(){return F};return r.d(q,"a",q),q},r.o=function(F,q){return Object.prototype.hasOwnProperty.call(F,q)},r.p="",r(r.s=0)}([function(H,A,r){"use strict";r.r(A),r.d(A,"computeDestinationPoint",function(){return Se}),r.d(A,"convertArea",function(){return Te}),r.d(A,"convertDistance",function(){return Re}),r.d(A,"convertSpeed",function(){return De}),r.d(A,"decimalToSexagesimal",function(){return Ue}),r.d(A,"findNearest",function(){return _t}),r.d(A,"getAreaOfPolygon",function(){return Mt}),r.d(A,"getBounds",function(){return cn}),r.d(A,"getBoundsOfDistance",function(){return En}),r.d(A,"getCenter",function(){return on}),r.d(A,"getCenterOfBounds",function(){return Et}),r.d(A,"getCompassDirection",function(){return tn}),r.d(A,"getCoordinateKey",function(){return de}),r.d(A,"getCoordinateKeys",function(){return tt}),r.d(A,"getDistance",function(){return Fe}),r.d(A,"getDistanceFromLine",function(){return Wt}),r.d(A,"getGreatCircleBearing",function(){return mn}),r.d(A,"getLatitude",function(){return ze}),r.d(A,"getLongitude",function(){return Ke}),r.d(A,"getPathLength",function(){return _n}),r.d(A,"getPreciseDistance",function(){return ui}),r.d(A,"getRhumbLineBearing",function(){return at}),r.d(A,"getRoughCompassDirection",function(){return wi}),r.d(A,"getSpeed",function(){return Oi}),r.d(A,"isDecimal",function(){return ke}),r.d(A,"isPointInLine",function(){return er}),r.d(A,"isPointInPolygon",function(){return br}),r.d(A,"isPointNearLine",function(){return cr}),r.d(A,"isPointWithinRadius",function(){return Mr}),r.d(A,"isSexagesimal",function(){return xe}),r.d(A,"isValidCoordinate",function(){return Le}),r.d(A,"isValidLatitude",function(){return Ae}),r.d(A,"isValidLongitude",function(){return vt}),r.d(A,"orderByDistance",function(){return mt}),r.d(A,"sexagesimalToDecimal",function(){return se}),r.d(A,"toDecimal",function(){return ct}),r.d(A,"toRad",function(){return ge}),r.d(A,"toDeg",function(){return pe}),r.d(A,"wktToPolygon",function(){return Bn}),r.d(A,"sexagesimalPattern",function(){return F}),r.d(A,"earthRadius",function(){return q}),r.d(A,"MINLAT",function(){return $}),r.d(A,"MAXLAT",function(){return Q}),r.d(A,"MINLON",function(){return Y}),r.d(A,"MAXLON",function(){return Z}),r.d(A,"longitudeKeys",function(){return G}),r.d(A,"latitudeKeys",function(){return J}),r.d(A,"altitudeKeys",function(){return ue}),r.d(A,"distanceConversion",function(){return oe}),r.d(A,"timeConversion",function(){return ce}),r.d(A,"areaConversion",function(){return le});var F=/^([0-9]{1,3})\xb0\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['\u2032]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["\u2033]\s*)?([NEOSW]?)$/,q=6378137,$=-90,Q=90,Y=-180,Z=180,G=["lng","lon","longitude",0],J=["lat","latitude",1],ue=["alt","altitude","elevation","elev",2],oe={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144},ce={m:60,h:3600,d:86400},le={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};le.sqm=le.m2,le.sqkm=le.km2,le.sqft=le.ft2,le.sqyd=le.yd2,le.sqin=le.in2;var de=function(Tt,xt){return xt.reduce(function(nt,ln){if(null==Tt)throw new Error("'".concat(Tt,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(Tt,ln)&&void 0!==ln&&void 0===nt?(nt=ln,ln):nt},void 0)},ke=function(Tt){var xt=Tt.toString().trim();return!isNaN(parseFloat(xt))&&parseFloat(xt)===Number(xt)},xe=function(Tt){return F.test(Tt.toString().trim())},se=function(Tt){var xt=new RegExp(F).exec(Tt.toString().trim());if(null==xt)throw new Error("Given value is not in sexagesimal format");var nt=Number(xt[2])/60||0,ln=Number(xt[4])/3600||0,sn=parseFloat(xt[1])+nt+ln;return["S","W"].includes(xt[7])?-sn:sn};function _e(Tt,xt){var nt=Object.keys(Tt);if(Object.getOwnPropertySymbols){var ln=Object.getOwnPropertySymbols(Tt);xt&&(ln=ln.filter(function(sn){return Object.getOwnPropertyDescriptor(Tt,sn).enumerable})),nt.push.apply(nt,ln)}return nt}function Be(Tt,xt,nt){return xt in Tt?Object.defineProperty(Tt,xt,{value:nt,enumerable:!0,configurable:!0,writable:!0}):Tt[xt]=nt,Tt}var tt=function(Tt){var xt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{longitude:G,latitude:J,altitude:ue},nt=de(Tt,xt.longitude),ln=de(Tt,xt.latitude),sn=de(Tt,xt.altitude);return function Ie(Tt){for(var xt=1;xt<arguments.length;xt++){var nt=null!=arguments[xt]?arguments[xt]:{};xt%2?_e(Object(nt),!0).forEach(function(ln){Be(Tt,ln,nt[ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(nt)):_e(Object(nt)).forEach(function(ln){Object.defineProperty(Tt,ln,Object.getOwnPropertyDescriptor(nt,ln))})}return Tt}({latitude:ln,longitude:nt},sn?{altitude:sn}:{})},Ae=function Tt(xt){return ke(xt)?!(parseFloat(xt)>Q||xt<$):!!xe(xt)&&Tt(se(xt))},vt=function Tt(xt){return ke(xt)?!(parseFloat(xt)>Z||xt<Y):!!xe(xt)&&Tt(se(xt))},Le=function(Tt){var xt=tt(Tt),nt=xt.latitude,ln=xt.longitude;if(Array.isArray(Tt)&&Tt.length>=2)return vt(Tt[0])&&Ae(Tt[1]);if(void 0===nt||void 0===ln)return!1;var sn=Tt[ln],At=Tt[nt];return void 0!==At&&void 0!==sn&&!1!==Ae(At)&&!1!==vt(sn)};function Ge(Tt,xt){var nt=Object.keys(Tt);if(Object.getOwnPropertySymbols){var ln=Object.getOwnPropertySymbols(Tt);xt&&(ln=ln.filter(function(sn){return Object.getOwnPropertyDescriptor(Tt,sn).enumerable})),nt.push.apply(nt,ln)}return nt}function Ze(Tt){for(var xt=1;xt<arguments.length;xt++){var nt=null!=arguments[xt]?arguments[xt]:{};xt%2?Ge(Object(nt),!0).forEach(function(ln){rt(Tt,ln,nt[ln])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(nt)):Ge(Object(nt)).forEach(function(ln){Object.defineProperty(Tt,ln,Object.getOwnPropertyDescriptor(nt,ln))})}return Tt}function rt(Tt,xt,nt){return xt in Tt?Object.defineProperty(Tt,xt,{value:nt,enumerable:!0,configurable:!0,writable:!0}):Tt[xt]=nt,Tt}var ct=function Tt(xt){if(ke(xt))return Number(xt);if(xe(xt))return se(xt);if(Le(xt)){var nt=tt(xt);return Array.isArray(xt)?xt.map(function(ln,sn){return[0,1].includes(sn)?Tt(ln):ln}):Ze(Ze(Ze({},xt),nt.latitude&&rt({},nt.latitude,Tt(xt[nt.latitude]))),nt.longitude&&rt({},nt.longitude,Tt(xt[nt.longitude])))}return Array.isArray(xt)?xt.map(function(ln){return Le(ln)?Tt(ln):ln}):xt},ze=function(Tt,xt){var nt=de(Tt,J);if(null!=nt){var ln=Tt[nt];return!0===xt?ln:ct(ln)}},Ke=function(Tt,xt){var nt=de(Tt,G);if(null!=nt){var ln=Tt[nt];return!0===xt?ln:ct(ln)}},ge=function(Tt){return Tt*Math.PI/180},pe=function(Tt){return 180*Tt/Math.PI},Se=function(Tt,xt,nt){var ln=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6371e3,sn=ze(Tt),At=Ke(Tt),lt=xt/ln,Xn=ge(nt),Nn=ge(sn),Di=ge(At),Kn=Math.asin(Math.sin(Nn)*Math.cos(lt)+Math.cos(Nn)*Math.sin(lt)*Math.cos(Xn)),lr=Di+Math.atan2(Math.sin(Xn)*Math.sin(lt)*Math.cos(Nn),Math.cos(lt)-Math.sin(Nn)*Math.sin(Kn)),Qi=pe(lr);return(Qi<Y||Qi>Z)&&(lr=(lr+3*Math.PI)%(2*Math.PI)-Math.PI,Qi=pe(lr)),{latitude:pe(Kn),longitude:Qi}},Te=function(Tt){var nt=le[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m"];if(nt)return Tt*nt;throw new Error("Invalid unit used for area conversion.")},Re=function(Tt){var nt=oe[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"m"];if(nt)return Tt*nt;throw new Error("Invalid unit used for distance conversion.")},De=function(Tt){switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kmh"){case"kmh":return Tt*ce.h*oe.km;case"mph":return Tt*ce.h*oe.mi;default:return Tt}};function Ve(Tt,xt){return function(nt){if(Array.isArray(nt))return nt}(Tt)||function(nt,ln){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(nt)){var sn=[],At=!0,lt=!1,Xn=void 0;try{for(var Nn,Di=nt[Symbol.iterator]();!(At=(Nn=Di.next()).done)&&(sn.push(Nn.value),!ln||sn.length!==ln);At=!0);}catch(Kn){lt=!0,Xn=Kn}finally{try{At||null==Di.return||Di.return()}finally{if(lt)throw Xn}}return sn}}(Tt,xt)||function(nt,ln){if(nt){if("string"==typeof nt)return Ce(nt,ln);var sn=Object.prototype.toString.call(nt).slice(8,-1);if("Object"===sn&&nt.constructor&&(sn=nt.constructor.name),"Map"===sn||"Set"===sn)return Array.from(nt);if("Arguments"===sn||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(sn))return Ce(nt,ln)}}(Tt,xt)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(Tt,xt){(null==xt||xt>Tt.length)&&(xt=Tt.length);for(var nt=0,ln=new Array(xt);nt<xt;nt++)ln[nt]=Tt[nt];return ln}var Ue=function(Tt){var xt=Ve(Tt.toString().split("."),2),ln=xt[1],sn=Math.abs(Number(xt[0])),At=60*Number("0."+(ln||0)),lt=At.toString().split("."),Xn=Math.floor(At),Nn=Ve(function(Qi){var bt=Math.pow(10,arguments.length>1&&void 0!==arguments[1]?arguments[1]:4);return Math.round(Qi*bt)/bt}(60*Number("0."+(lt[1]||0))).toString().split("."),2),Di=Nn[0],Kn=Nn[1],lr=void 0===Kn?"0":Kn;return sn+"\xb0 "+Xn.toString().padStart(2,"0")+"' "+Di.padStart(2,"0")+"."+lr.padEnd(1,"0")+'"'},Me=function(Tt){return Tt>1?1:Tt<-1?-1:Tt},Fe=function(Tt,xt){var nt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;nt=void 0===nt||isNaN(nt)?1:nt;var ln=ze(Tt),sn=Ke(Tt),At=ze(xt),lt=Ke(xt),Xn=Math.acos(Me(Math.sin(ge(At))*Math.sin(ge(ln))+Math.cos(ge(At))*Math.cos(ge(ln))*Math.cos(ge(sn)-ge(lt))))*q;return Math.round(Xn/nt)*nt},mt=function(Tt,xt){var nt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe;return nt="function"==typeof nt?nt:Fe,xt.slice().sort(function(ln,sn){return nt(Tt,ln)-nt(Tt,sn)})},_t=function(Tt,xt){return mt(Tt,xt)[0]},Mt=function(Tt){var xt=0;if(Tt.length>2){for(var nt,ln,sn,At=0;At<Tt.length;At++){At===Tt.length-2?(nt=Tt.length-2,ln=Tt.length-1,sn=0):At===Tt.length-1?(nt=Tt.length-1,ln=0,sn=1):(nt=At,ln=At+1,sn=At+2);var lt=Ke(Tt[nt]),Xn=ze(Tt[ln]),Nn=Ke(Tt[sn]);xt+=(ge(Nn)-ge(lt))*Math.sin(ge(Xn))}xt=xt*q*q/2}return Math.abs(xt)},cn=function(Tt){if(!1===Array.isArray(Tt)||0===Tt.length)throw new Error("No points were given.");return Tt.reduce(function(xt,nt){var ln=ze(nt),sn=Ke(nt);return{maxLat:Math.max(ln,xt.maxLat),minLat:Math.min(ln,xt.minLat),maxLng:Math.max(sn,xt.maxLng),minLng:Math.min(sn,xt.minLng)}},{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})},En=function(Tt,xt){var nt,ln,sn=ze(Tt),At=Ke(Tt),lt=ge(sn),Xn=ge(At),Nn=xt/q,Di=lt-Nn,Kn=lt+Nn,lr=ge(Q),Qi=ge($),Zt=ge(Z),bt=ge(Y);if(Di>Qi&&Kn<lr){var kt=Math.asin(Math.sin(Nn)/Math.cos(lt));(nt=Xn-kt)<bt&&(nt+=2*Math.PI),(ln=Xn+kt)>Zt&&(ln-=2*Math.PI)}else Di=Math.max(Di,Qi),Kn=Math.min(Kn,lr),nt=bt,ln=Zt;return[{latitude:pe(Di),longitude:pe(nt)},{latitude:pe(Kn),longitude:pe(ln)}]},on=function(Tt){if(!1===Array.isArray(Tt)||0===Tt.length)return!1;var xt=Tt.length,nt=Tt.reduce(function(lt,Xn){var Nn=ge(ze(Xn)),Di=ge(Ke(Xn));return{X:lt.X+Math.cos(Nn)*Math.cos(Di),Y:lt.Y+Math.cos(Nn)*Math.sin(Di),Z:lt.Z+Math.sin(Nn)}},{X:0,Y:0,Z:0}),ln=nt.X/xt,sn=nt.Y/xt,At=nt.Z/xt;return{longitude:pe(Math.atan2(sn,ln)),latitude:pe(Math.atan2(At,Math.sqrt(ln*ln+sn*sn)))}},Et=function(Tt){var xt=cn(Tt),ln=xt.minLng+(xt.maxLng-xt.minLng)/2;return{latitude:parseFloat((xt.minLat+(xt.maxLat-xt.minLat)/2).toFixed(6)),longitude:parseFloat(ln.toFixed(6))}},at=function(Tt,xt){var nt=ge(Ke(xt))-ge(Ke(Tt)),ln=Math.log(Math.tan(ge(ze(xt))/2+Math.PI/4)/Math.tan(ge(ze(Tt))/2+Math.PI/4));return Math.abs(nt)>Math.PI&&(nt=nt>0?-1*(2*Math.PI-nt):2*Math.PI+nt),(pe(Math.atan2(nt,ln))+360)%360},tn=function(Tt,xt){var nt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:at,ln="function"==typeof nt?nt(Tt,xt):at(Tt,xt);if(isNaN(ln))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(ln/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}},Wt=function(Tt,xt,nt){var ln=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,sn=Fe(xt,Tt,ln),At=Fe(Tt,nt,ln),lt=Fe(xt,nt,ln),Xn=Math.acos(Me((sn*sn+lt*lt-At*At)/(2*sn*lt))),Nn=Math.acos(Me((At*At+lt*lt-sn*sn)/(2*At*lt)));return Xn>Math.PI/2?sn:Nn>Math.PI/2?At:Math.sin(Xn)*sn},mn=function(Tt,xt){var nt=ze(xt),ln=Ke(xt),sn=ze(Tt),At=Ke(Tt);return(pe(Math.atan2(Math.sin(ge(ln)-ge(At))*Math.cos(ge(nt)),Math.cos(ge(sn))*Math.sin(ge(nt))-Math.sin(ge(sn))*Math.cos(ge(nt))*Math.cos(ge(ln)-ge(At))))+360)%360};function Cn(Tt){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(xt){return typeof xt}:function(xt){return xt&&"function"==typeof Symbol&&xt.constructor===Symbol&&xt!==Symbol.prototype?"symbol":typeof xt})(Tt)}var _n=function(Tt){var xt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe;return Tt.reduce(function(nt,ln){return"object"===Cn(nt)&&null!==nt.last&&(nt.distance+=xt(ln,nt.last)),nt.last=ln,nt},{last:null,distance:0}).distance},ui=function(Tt,xt){var nt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;nt=void 0===nt||isNaN(nt)?1:nt;var ln,sn,At,lt,Xn,Nn,Di,Kn=ze(Tt),lr=Ke(Tt),Qi=ze(xt),Zt=Ke(xt),bt=6356752.314245,kt=1/298.257223563,vn=ge(Zt-lr),yn=Math.atan((1-kt)*Math.tan(ge(parseFloat(Kn)))),Vt=Math.atan((1-kt)*Math.tan(ge(parseFloat(Qi)))),ai=Math.sin(yn),si=Math.cos(yn),Jn=Math.sin(Vt),Xi=Math.cos(Vt),tr=vn,Ot=100;do{var Ut=Math.sin(tr),ft=Math.cos(tr);if(0===(Nn=Math.sqrt(Xi*Ut*(Xi*Ut)+(si*Jn-ai*Xi*ft)*(si*Jn-ai*Xi*ft))))return 0;ln=ai*Jn+si*Xi*ft,sn=Math.atan2(Nn,ln),Xn=ln-2*ai*Jn/(lt=1-(At=si*Xi*Ut/Nn)*At),isNaN(Xn)&&(Xn=0);var Yt=kt/16*lt*(4+kt*(4-3*lt));Di=tr,tr=vn+(1-Yt)*kt*At*(sn+Yt*Nn*(Xn+Yt*ln*(2*Xn*Xn-1)))}while(Math.abs(tr-Di)>1e-12&&--Ot>0);if(0===Ot)return NaN;var hn=lt*(q*q-bt*bt)/(bt*bt),Yn=hn/1024*(256+hn*(hn*(74-47*hn)-128));return Math.round(bt*(1+hn/16384*(4096+hn*(hn*(320-175*hn)-768)))*(sn-Yn*Nn*(Xn+Yn/4*(ln*(2*Xn*Xn-1)-Yn/6*Xn*(4*Nn*Nn-3)*(4*Xn*Xn-3))))/nt)*nt},wi=function(Tt){return/^(NNE|NE|NNW|N)$/.test(Tt)?"N":/^(ENE|E|ESE|SE)$/.test(Tt)?"E":/^(SSE|S|SSW|SW)$/.test(Tt)?"S":/^(WSW|W|WNW|NW)$/.test(Tt)?"W":void 0},Oi=function(Tt,xt){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe)(Tt,xt)/(Number(xt.time)-Number(Tt.time))*1e3},er=function(Tt,xt,nt){return Fe(xt,Tt)+Fe(Tt,nt)===Fe(xt,nt)},br=function(Tt,xt){for(var nt=!1,ln=xt.length,sn=-1,At=ln-1;++sn<ln;At=sn)(Ke(xt[sn])<=Ke(Tt)&&Ke(Tt)<Ke(xt[At])||Ke(xt[At])<=Ke(Tt)&&Ke(Tt)<Ke(xt[sn]))&&ze(Tt)<(ze(xt[At])-ze(xt[sn]))*(Ke(Tt)-Ke(xt[sn]))/(Ke(xt[At])-Ke(xt[sn]))+ze(xt[sn])&&(nt=!nt);return nt},cr=function(Tt,xt,nt,ln){return Wt(Tt,xt,nt)<ln},Mr=function(Tt,xt,nt){return Fe(Tt,xt,.01)<nt};function Sn(Tt,xt){(null==xt||xt>Tt.length)&&(xt=Tt.length);for(var nt=0,ln=new Array(xt);nt<xt;nt++)ln[nt]=Tt[nt];return ln}var Bn=function(Tt){if(!Tt.startsWith("POLYGON"))throw new Error("Invalid wkt.");return Tt.slice(Tt.indexOf("(")+2,Tt.indexOf(")")).split(", ").map(function(xt){var nt=function ir(Tt,xt){return function(nt){if(Array.isArray(nt))return nt}(Tt)||function(nt,ln){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(nt)){var sn=[],At=!0,lt=!1,Xn=void 0;try{for(var Nn,Di=nt[Symbol.iterator]();!(At=(Nn=Di.next()).done)&&(sn.push(Nn.value),!ln||sn.length!==ln);At=!0);}catch(Kn){lt=!0,Xn=Kn}finally{try{At||null==Di.return||Di.return()}finally{if(lt)throw Xn}}return sn}}(Tt,xt)||function(nt,ln){if(nt){if("string"==typeof nt)return Sn(nt,ln);var sn=Object.prototype.toString.call(nt).slice(8,-1);if("Object"===sn&&nt.constructor&&(sn=nt.constructor.name),"Map"===sn||"Set"===sn)return Array.from(nt);if("Arguments"===sn||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(sn))return Sn(nt,ln)}}(Tt,xt)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(xt.split(" "),2),sn=nt[1];return{longitude:parseFloat(nt[0]),latitude:parseFloat(sn)}})}}])},5203:(Ct,H,A)=>{"use strict";var r,F=A(1847),q=A(3644),$=A(1298),Q=A(2681),Y=A(5917),Z=A(2844),G=A(7289),J=Function,ue=function(Te){try{return J('"use strict"; return ('+Te+").constructor;")()}catch{}},oe=Object.getOwnPropertyDescriptor;if(oe)try{oe({},"")}catch{oe=null}var ce=function(){throw new Z},le=oe?function(){try{return ce}catch{try{return oe(arguments,"callee").get}catch{return ce}}}():ce,de=A(2969)(),ke=A(9757)(),xe=Object.getPrototypeOf||(ke?function(Te){return Te.__proto__}:null),se={},_e=typeof Uint8Array>"u"||!xe?r:xe(Uint8Array),Ie={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":de&&xe?xe([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":se,"%AsyncGenerator%":se,"%AsyncGeneratorFunction%":se,"%AsyncIteratorPrototype%":se,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":F,"%eval%":eval,"%EvalError%":q,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":J,"%GeneratorFunction%":se,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":de&&xe?xe(xe([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!de||!xe?r:xe((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":$,"%ReferenceError%":Q,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!de||!xe?r:xe((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":de&&xe?xe(""[Symbol.iterator]()):r,"%Symbol%":de?Symbol:r,"%SyntaxError%":Y,"%ThrowTypeError%":le,"%TypedArray%":_e,"%TypeError%":Z,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":G,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(xe)try{null.error}catch(Te){var Be=xe(xe(Te));Ie["%Error.prototype%"]=Be}var tt=function Te(Re){var De;if("%AsyncFunction%"===Re)De=ue("async function () {}");else if("%GeneratorFunction%"===Re)De=ue("function* () {}");else if("%AsyncGeneratorFunction%"===Re)De=ue("async function* () {}");else if("%AsyncGenerator%"===Re){var Ve=Te("%AsyncGeneratorFunction%");Ve&&(De=Ve.prototype)}else if("%AsyncIteratorPrototype%"===Re){var Ce=Te("%AsyncGenerator%");Ce&&xe&&(De=xe(Ce.prototype))}return Ie[Re]=De,De},Ae={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},vt=A(4444),Le=A(7699),Ge=vt.call(Function.call,Array.prototype.concat),Ze=vt.call(Function.apply,Array.prototype.splice),rt=vt.call(Function.call,String.prototype.replace),ct=vt.call(Function.call,String.prototype.slice),ze=vt.call(Function.call,RegExp.prototype.exec),Ke=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ge=/\\(\\)?/g,pe=function(Re){var De=ct(Re,0,1),Ve=ct(Re,-1);if("%"===De&&"%"!==Ve)throw new Y("invalid intrinsic syntax, expected closing `%`");if("%"===Ve&&"%"!==De)throw new Y("invalid intrinsic syntax, expected opening `%`");var Ce=[];return rt(Re,Ke,function(Ue,Me,Fe,mt){Ce[Ce.length]=Fe?rt(mt,ge,"$1"):Me||Ue}),Ce},Se=function(Re,De){var Ce,Ve=Re;if(Le(Ae,Ve)&&(Ve="%"+(Ce=Ae[Ve])[0]+"%"),Le(Ie,Ve)){var Ue=Ie[Ve];if(Ue===se&&(Ue=tt(Ve)),typeof Ue>"u"&&!De)throw new Z("intrinsic "+Re+" exists, but is not available. Please file an issue!");return{alias:Ce,name:Ve,value:Ue}}throw new Y("intrinsic "+Re+" does not exist!")};Ct.exports=function(Re,De){if("string"!=typeof Re||0===Re.length)throw new Z("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof De)throw new Z('"allowMissing" argument must be a boolean');if(null===ze(/^%?[^%]*%?$/,Re))throw new Y("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ve=pe(Re),Ce=Ve.length>0?Ve[0]:"",Ue=Se("%"+Ce+"%",De),Me=Ue.name,Fe=Ue.value,mt=!1,_t=Ue.alias;_t&&(Ce=_t[0],Ze(Ve,Ge([0,1],_t)));for(var Mt=1,cn=!0;Mt<Ve.length;Mt+=1){var En=Ve[Mt],on=ct(En,0,1),Et=ct(En,-1);if(('"'===on||"'"===on||"`"===on||'"'===Et||"'"===Et||"`"===Et)&&on!==Et)throw new Y("property names with quotes must have matching quotes");if(("constructor"===En||!cn)&&(mt=!0),Le(Ie,Me="%"+(Ce+="."+En)+"%"))Fe=Ie[Me];else if(null!=Fe){if(!(En in Fe)){if(!De)throw new Z("base intrinsic for "+Re+" exists, but the property is not available.");return}if(oe&&Mt+1>=Ve.length){var at=oe(Fe,En);Fe=(cn=!!at)&&"get"in at&&!("originalValue"in at.get)?at.get:Fe[En]}else cn=Le(Fe,En),Fe=Fe[En];cn&&!mt&&(Ie[Me]=Fe)}}return Fe}},7378:(Ct,H,A)=>{"use strict";var F=A(5203)("%Object.getOwnPropertyDescriptor%",!0);if(F)try{F([],"length")}catch{F=null}Ct.exports=F},7027:(Ct,H,A)=>{"use strict";var r=A(3907),F=function(){return!!r};F.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch{return!0}},Ct.exports=F},9757:Ct=>{"use strict";var H={__proto__:null,foo:{}},A=Object;Ct.exports=function(){return{__proto__:H}.foo===H.foo&&!(H instanceof A)}},2969:(Ct,H,A)=>{"use strict";var r=typeof Symbol<"u"&&Symbol,F=A(1983);Ct.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&F()}},1983:Ct=>{"use strict";Ct.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var A={},r=Symbol("test"),F=Object(r);if("string"==typeof r||"[object Symbol]"!==Object.prototype.toString.call(r)||"[object Symbol]"!==Object.prototype.toString.call(F))return!1;for(r in A[r]=42,A)return!1;if("function"==typeof Object.keys&&0!==Object.keys(A).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(A).length)return!1;var $=Object.getOwnPropertySymbols(A);if(1!==$.length||$[0]!==r||!Object.prototype.propertyIsEnumerable.call(A,r))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var Q=Object.getOwnPropertyDescriptor(A,r);if(42!==Q.value||!0!==Q.enumerable)return!1}return!0}},7699:(Ct,H,A)=>{"use strict";var r=Function.prototype.call,F=Object.prototype.hasOwnProperty,q=A(4444);Ct.exports=q.call(r,F)},8407:function(Ct,H){!function(A){"use strict";function F(a){var v,R,te,be;for(R=1,te=arguments.length;R<te;R++)for(v in be=arguments[R])a[v]=be[v];return a}var q=Object.create||function(){function a(){}return function(v){return a.prototype=v,new a}}();function $(a,v){var R=Array.prototype.slice;if(a.bind)return a.bind.apply(a,R.call(arguments,1));var te=R.call(arguments,2);return function(){return a.apply(v,te.length?te.concat(R.call(arguments)):arguments)}}var Q=0;function Y(a){return"_leaflet_id"in a||(a._leaflet_id=++Q),a._leaflet_id}function Z(a,v,R){var te,be,qe,Nt;return Nt=function(){te=!1,be&&(qe.apply(R,be),be=!1)},qe=function(){te?be=arguments:(a.apply(R,arguments),setTimeout(Nt,v),te=!0)},qe}function G(a,v,R){var te=v[1],be=v[0],qe=te-be;return a===te&&R?a:((a-be)%qe+qe)%qe+be}function J(){return!1}function ue(a,v){if(!1===v)return a;var R=Math.pow(10,void 0===v?6:v);return Math.round(a*R)/R}function oe(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function ce(a){return oe(a).split(/\s+/)}function le(a,v){for(var R in Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?q(a.options):{}),v)a.options[R]=v[R];return a.options}function de(a,v,R){var te=[];for(var be in a)te.push(encodeURIComponent(R?be.toUpperCase():be)+"="+encodeURIComponent(a[be]));return(v&&-1!==v.indexOf("?")?"&":"?")+te.join("&")}var ke=/\{ *([\w_ -]+) *\}/g;function xe(a,v){return a.replace(ke,function(R,te){var be=v[te];if(void 0===be)throw new Error("No value provided for variable "+R);return"function"==typeof be&&(be=be(v)),be})}var se=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};function _e(a,v){for(var R=0;R<a.length;R++)if(a[R]===v)return R;return-1}var Ie="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Be(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var tt=0;function Ae(a){var v=+new Date,R=Math.max(0,16-(v-tt));return tt=v+R,window.setTimeout(a,R)}var vt=window.requestAnimationFrame||Be("RequestAnimationFrame")||Ae,Le=window.cancelAnimationFrame||Be("CancelAnimationFrame")||Be("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function Ge(a,v,R){if(!R||vt!==Ae)return vt.call(window,$(a,v));a.call(v)}function Ze(a){a&&Le.call(window,a)}var rt={__proto__:null,extend:F,create:q,bind:$,get lastId(){return Q},stamp:Y,throttle:Z,wrapNum:G,falseFn:J,formatNum:ue,trim:oe,splitWords:ce,setOptions:le,getParamString:de,template:xe,isArray:se,indexOf:_e,emptyImageUrl:Ie,requestFn:vt,cancelFn:Le,requestAnimFrame:Ge,cancelAnimFrame:Ze};function ct(){}ct.extend=function(a){var v=function(){le(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},R=v.__super__=this.prototype,te=q(R);for(var be in te.constructor=v,v.prototype=te,this)Object.prototype.hasOwnProperty.call(this,be)&&"prototype"!==be&&"__super__"!==be&&(v[be]=this[be]);return a.statics&&F(v,a.statics),a.includes&&(function ze(a){if(!(typeof L>"u")&&L&&L.Mixin){a=se(a)?a:[a];for(var v=0;v<a.length;v++)a[v]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(a.includes),F.apply(null,[te].concat(a.includes))),F(te,a),delete te.statics,delete te.includes,te.options&&(te.options=R.options?q(R.options):{},F(te.options,a.options)),te._initHooks=[],te.callInitHooks=function(){if(!this._initHooksCalled){R.callInitHooks&&R.callInitHooks.call(this),this._initHooksCalled=!0;for(var qe=0,Nt=te._initHooks.length;qe<Nt;qe++)te._initHooks[qe].call(this)}},v},ct.include=function(a){var v=this.prototype.options;return F(this.prototype,a),a.options&&(this.prototype.options=v,this.mergeOptions(a.options)),this},ct.mergeOptions=function(a){return F(this.prototype.options,a),this},ct.addInitHook=function(a){var v=Array.prototype.slice.call(arguments,1),R="function"==typeof a?a:function(){this[a].apply(this,v)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(R),this};var Ke={on:function(a,v,R){if("object"==typeof a)for(var te in a)this._on(te,a[te],v);else for(var be=0,qe=(a=ce(a)).length;be<qe;be++)this._on(a[be],v,R);return this},off:function(a,v,R){if(arguments.length)if("object"==typeof a)for(var te in a)this._off(te,a[te],v);else{a=ce(a);for(var be=1===arguments.length,qe=0,Nt=a.length;qe<Nt;qe++)be?this._off(a[qe]):this._off(a[qe],v,R)}else delete this._events;return this},_on:function(a,v,R,te){if("function"==typeof v){if(!1===this._listens(a,v,R)){R===this&&(R=void 0);var be={fn:v,ctx:R};te&&(be.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(be)}}else console.warn("wrong listener type: "+typeof v)},_off:function(a,v,R){var te,be,qe;if(this._events&&(te=this._events[a])){if(1===arguments.length){if(this._firingCount)for(be=0,qe=te.length;be<qe;be++)te[be].fn=J;return void delete this._events[a]}if("function"!=typeof v)return void console.warn("wrong listener type: "+typeof v);var Nt=this._listens(a,v,R);!1!==Nt&&(this._firingCount&&(te[Nt].fn=J,this._events[a]=te=te.slice()),te.splice(Nt,1))}},fire:function(a,v,R){if(!this.listens(a,R))return this;var te=F({},v,{type:a,target:this,sourceTarget:v&&v.sourceTarget||this});if(this._events){var be=this._events[a];if(be){this._firingCount=this._firingCount+1||1;for(var qe=0,Nt=be.length;qe<Nt;qe++){var dn=be[qe],bn=dn.fn;dn.once&&this.off(a,bn,dn.ctx),bn.call(dn.ctx||this,te)}this._firingCount--}}return R&&this._propagateEvent(te),this},listens:function(a,v,R,te){"string"!=typeof a&&console.warn('"string" type argument expected');var be=v;"function"!=typeof v&&(te=!!v,be=void 0,R=void 0);var qe=this._events&&this._events[a];if(qe&&qe.length&&!1!==this._listens(a,be,R))return!0;if(te)for(var Nt in this._eventParents)if(this._eventParents[Nt].listens(a,v,R,te))return!0;return!1},_listens:function(a,v,R){if(!this._events)return!1;var te=this._events[a]||[];if(!v)return!!te.length;R===this&&(R=void 0);for(var be=0,qe=te.length;be<qe;be++)if(te[be].fn===v&&te[be].ctx===R)return be;return!1},once:function(a,v,R){if("object"==typeof a)for(var te in a)this._on(te,a[te],v,!0);else for(var be=0,qe=(a=ce(a)).length;be<qe;be++)this._on(a[be],v,R,!0);return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[Y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[Y(a)],this},_propagateEvent:function(a){for(var v in this._eventParents)this._eventParents[v].fire(a.type,F({layer:a.target,propagatedFrom:a.target},a),!0)}};Ke.addEventListener=Ke.on,Ke.removeEventListener=Ke.clearAllEventListeners=Ke.off,Ke.addOneTimeEventListener=Ke.once,Ke.fireEvent=Ke.fire,Ke.hasEventListeners=Ke.listens;var ge=ct.extend(Ke);function pe(a,v,R){this.x=R?Math.round(a):a,this.y=R?Math.round(v):v}var Se=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};function Te(a,v,R){return a instanceof pe?a:se(a)?new pe(a[0],a[1]):null==a?a:"object"==typeof a&&"x"in a&&"y"in a?new pe(a.x,a.y):new pe(a,v,R)}function Re(a,v){if(a)for(var R=v?[a,v]:a,te=0,be=R.length;te<be;te++)this.extend(R[te])}function De(a,v){return!a||a instanceof Re?a:new Re(a,v)}function Ve(a,v){if(a)for(var R=v?[a,v]:a,te=0,be=R.length;te<be;te++)this.extend(R[te])}function Ce(a,v){return a instanceof Ve?a:new Ve(a,v)}function Ue(a,v,R){if(isNaN(a)||isNaN(v))throw new Error("Invalid LatLng object: ("+a+", "+v+")");this.lat=+a,this.lng=+v,void 0!==R&&(this.alt=+R)}function Me(a,v,R){return a instanceof Ue?a:se(a)&&"object"!=typeof a[0]?3===a.length?new Ue(a[0],a[1],a[2]):2===a.length?new Ue(a[0],a[1]):null:null==a?a:"object"==typeof a&&"lat"in a?new Ue(a.lat,"lng"in a?a.lng:a.lon,a.alt):void 0===v?null:new Ue(a,v,R)}pe.prototype={clone:function(){return new pe(this.x,this.y)},add:function(a){return this.clone()._add(Te(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(Te(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new pe(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new pe(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Se(this.x),this.y=Se(this.y),this},distanceTo:function(a){var v=(a=Te(a)).x-this.x,R=a.y-this.y;return Math.sqrt(v*v+R*R)},equals:function(a){return(a=Te(a)).x===this.x&&a.y===this.y},contains:function(a){return a=Te(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+ue(this.x)+", "+ue(this.y)+")"}},Re.prototype={extend:function(a){var v,R;if(!a)return this;if(a instanceof pe||"number"==typeof a[0]||"x"in a)v=R=Te(a);else if(R=(a=De(a)).max,!(v=a.min)||!R)return this;return this.min||this.max?(this.min.x=Math.min(v.x,this.min.x),this.max.x=Math.max(R.x,this.max.x),this.min.y=Math.min(v.y,this.min.y),this.max.y=Math.max(R.y,this.max.y)):(this.min=v.clone(),this.max=R.clone()),this},getCenter:function(a){return Te((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return Te(this.min.x,this.max.y)},getTopRight:function(){return Te(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var v,R;return(a="number"==typeof a[0]||a instanceof pe?Te(a):De(a))instanceof Re?(v=a.min,R=a.max):v=R=a,v.x>=this.min.x&&R.x<=this.max.x&&v.y>=this.min.y&&R.y<=this.max.y},intersects:function(a){a=De(a);var v=this.min,R=this.max,te=a.min,be=a.max;return be.x>=v.x&&te.x<=R.x&&be.y>=v.y&&te.y<=R.y},overlaps:function(a){a=De(a);var v=this.min,R=this.max,te=a.min,be=a.max;return be.x>v.x&&te.x<R.x&&be.y>v.y&&te.y<R.y},isValid:function(){return!(!this.min||!this.max)},pad:function(a){var v=this.min,R=this.max,te=Math.abs(v.x-R.x)*a,be=Math.abs(v.y-R.y)*a;return De(Te(v.x-te,v.y-be),Te(R.x+te,R.y+be))},equals:function(a){return!!a&&(a=De(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight()))}},Ve.prototype={extend:function(a){var te,be,v=this._southWest,R=this._northEast;if(a instanceof Ue)te=a,be=a;else{if(!(a instanceof Ve))return a?this.extend(Me(a)||Ce(a)):this;if(be=a._northEast,!(te=a._southWest)||!be)return this}return v||R?(v.lat=Math.min(te.lat,v.lat),v.lng=Math.min(te.lng,v.lng),R.lat=Math.max(be.lat,R.lat),R.lng=Math.max(be.lng,R.lng)):(this._southWest=new Ue(te.lat,te.lng),this._northEast=new Ue(be.lat,be.lng)),this},pad:function(a){var v=this._southWest,R=this._northEast,te=Math.abs(v.lat-R.lat)*a,be=Math.abs(v.lng-R.lng)*a;return new Ve(new Ue(v.lat-te,v.lng-be),new Ue(R.lat+te,R.lng+be))},getCenter:function(){return new Ue((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ue(this.getNorth(),this.getWest())},getSouthEast:function(){return new Ue(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){a="number"==typeof a[0]||a instanceof Ue||"lat"in a?Me(a):Ce(a);var te,be,v=this._southWest,R=this._northEast;return a instanceof Ve?(te=a.getSouthWest(),be=a.getNorthEast()):te=be=a,te.lat>=v.lat&&be.lat<=R.lat&&te.lng>=v.lng&&be.lng<=R.lng},intersects:function(a){a=Ce(a);var v=this._southWest,R=this._northEast,te=a.getSouthWest(),be=a.getNorthEast();return be.lat>=v.lat&&te.lat<=R.lat&&be.lng>=v.lng&&te.lng<=R.lng},overlaps:function(a){a=Ce(a);var v=this._southWest,R=this._northEast,te=a.getSouthWest(),be=a.getNorthEast();return be.lat>v.lat&&te.lat<R.lat&&be.lng>v.lng&&te.lng<R.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,v){return!!a&&(a=Ce(a),this._southWest.equals(a.getSouthWest(),v)&&this._northEast.equals(a.getNorthEast(),v))},isValid:function(){return!(!this._southWest||!this._northEast)}},Ue.prototype={equals:function(a,v){return!!a&&(a=Me(a),Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng))<=(void 0===v?1e-9:v))},toString:function(a){return"LatLng("+ue(this.lat,a)+", "+ue(this.lng,a)+")"},distanceTo:function(a){return mt.distance(this,Me(a))},wrap:function(){return mt.wrapLatLng(this)},toBounds:function(a){var v=180*a/40075017,R=v/Math.cos(Math.PI/180*this.lat);return Ce([this.lat-v,this.lng-R],[this.lat+v,this.lng+R])},clone:function(){return new Ue(this.lat,this.lng,this.alt)}};var a,Fe={latLngToPoint:function(a,v){var R=this.projection.project(a),te=this.scale(v);return this.transformation._transform(R,te)},pointToLatLng:function(a,v){var R=this.scale(v),te=this.transformation.untransform(a,R);return this.projection.unproject(te)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var v=this.projection.bounds,R=this.scale(a);return new Re(this.transformation.transform(v.min,R),this.transformation.transform(v.max,R))},infinite:!1,wrapLatLng:function(a){var v=this.wrapLng?G(a.lng,this.wrapLng,!0):a.lng;return new Ue(this.wrapLat?G(a.lat,this.wrapLat,!0):a.lat,v,a.alt)},wrapLatLngBounds:function(a){var v=a.getCenter(),R=this.wrapLatLng(v),te=v.lat-R.lat,be=v.lng-R.lng;if(0===te&&0===be)return a;var qe=a.getSouthWest(),Nt=a.getNorthEast();return new Ve(new Ue(qe.lat-te,qe.lng-be),new Ue(Nt.lat-te,Nt.lng-be))}},mt=F({},Fe,{wrapLng:[-180,180],R:6371e3,distance:function(a,v){var R=Math.PI/180,te=a.lat*R,be=v.lat*R,qe=Math.sin((v.lat-a.lat)*R/2),Nt=Math.sin((v.lng-a.lng)*R/2),dn=qe*qe+Math.cos(te)*Math.cos(be)*Nt*Nt,bn=2*Math.atan2(Math.sqrt(dn),Math.sqrt(1-dn));return this.R*bn}}),Mt={R:6378137,MAX_LATITUDE:85.0511287798,project:function(a){var v=Math.PI/180,R=this.MAX_LATITUDE,te=Math.max(Math.min(R,a.lat),-R),be=Math.sin(te*v);return new pe(this.R*a.lng*v,this.R*Math.log((1+be)/(1-be))/2)},unproject:function(a){var v=180/Math.PI;return new Ue((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*v,a.x*v/this.R)},bounds:(a=6378137*Math.PI,new Re([-a,-a],[a,a]))};function cn(a,v,R,te){if(se(a))return this._a=a[0],this._b=a[1],this._c=a[2],void(this._d=a[3]);this._a=a,this._b=v,this._c=R,this._d=te}function En(a,v,R,te){return new cn(a,v,R,te)}cn.prototype={transform:function(a,v){return this._transform(a.clone(),v)},_transform:function(a,v){return a.x=(v=v||1)*(this._a*a.x+this._b),a.y=v*(this._c*a.y+this._d),a},untransform:function(a,v){return new pe((a.x/(v=v||1)-this._b)/this._a,(a.y/v-this._d)/this._c)}};var on=F({},mt,{code:"EPSG:3857",projection:Mt,transformation:function(){var a=.5/(Math.PI*Mt.R);return En(a,.5,-a,.5)}()}),Et=F({},on,{code:"EPSG:900913"});function at(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function tn(a,v){var te,be,qe,Nt,dn,bn,R="";for(te=0,qe=a.length;te<qe;te++){for(be=0,Nt=(dn=a[te]).length;be<Nt;be++)R+=(be?"L":"M")+(bn=dn[be]).x+" "+bn.y;R+=v?Ot.svg?"z":"x":""}return R||"M0 0"}var Wt=document.documentElement.style,mn="ActiveXObject"in window,Cn=mn&&!document.addEventListener,_n="msLaunchUri"in navigator&&!("documentMode"in document),ui=tr("webkit"),wi=tr("android"),Oi=tr("android 2")||tr("android 3"),er=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),br=wi&&tr("Google")&&er<537&&!("AudioNode"in window),cr=!!window.opera,Mr=!_n&&tr("chrome"),ir=tr("gecko")&&!ui&&!cr&&!mn,Sn=!Mr&&tr("safari"),Bn=tr("phantom"),Tt="OTransition"in Wt,xt=0===navigator.platform.indexOf("Win"),nt=mn&&"transition"in Wt,ln="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Oi,sn="MozPerspective"in Wt,At=!window.L_DISABLE_3D&&(nt||ln||sn)&&!Tt&&!Bn,lt=typeof orientation<"u"||tr("mobile"),Xn=lt&&ui,Nn=lt&&ln,Di=!window.PointerEvent&&window.MSPointerEvent,Kn=!(!window.PointerEvent&&!Di),lr="ontouchstart"in window||!!window.TouchEvent,Qi=!window.L_NO_TOUCH&&(lr||Kn),Zt=lt&&cr,bt=lt&&ir,kt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,vn=function(){var a=!1;try{var v=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",J,v),window.removeEventListener("testPassiveEventSupport",J,v)}catch{}return a}(),yn=!!document.createElement("canvas").getContext,Vt=!(!document.createElementNS||!at("svg").createSVGRect),ai=!!Vt&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(a.firstChild&&a.firstChild.namespaceURI)}(),si=!Vt&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var v=a.firstChild;return v.style.behavior="url(#default#VML)",v&&"object"==typeof v.adj}catch{return!1}}();function tr(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Ot={ie:mn,ielt9:Cn,edge:_n,webkit:ui,android:wi,android23:Oi,androidStock:br,opera:cr,chrome:Mr,gecko:ir,safari:Sn,phantom:Bn,opera12:Tt,win:xt,ie3d:nt,webkit3d:ln,gecko3d:sn,any3d:At,mobile:lt,mobileWebkit:Xn,mobileWebkit3d:Nn,msPointer:Di,pointer:Kn,touch:Qi,touchNative:lr,mobileOpera:Zt,mobileGecko:bt,retina:kt,passiveEvents:vn,canvas:yn,svg:Vt,vml:si,inlineSvg:ai,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Ut=Ot.msPointer?"MSPointerDown":"pointerdown",ft=Ot.msPointer?"MSPointerMove":"pointermove",Yt=Ot.msPointer?"MSPointerUp":"pointerup",hn=Ot.msPointer?"MSPointerCancel":"pointercancel",kn={touchstart:Ut,touchmove:ft,touchend:Yt,touchcancel:hn},Yn={touchstart:function hr(a,v){v.MSPOINTER_TYPE_TOUCH&&v.pointerType===v.MSPOINTER_TYPE_TOUCH&&wn(v),Do(a,v)},touchmove:Do,touchend:Do,touchcancel:Do},ei={},mr=!1;function rr(a,v,R){return"touchstart"===v&&function go(){mr||(document.addEventListener(Ut,Zi,!0),document.addEventListener(ft,Rr,!0),document.addEventListener(Yt,Fr,!0),document.addEventListener(hn,Fr,!0),mr=!0)}(),Yn[v]?(R=Yn[v].bind(this,R),a.addEventListener(kn[v],R,!1),R):(console.warn("wrong event specified:",v),J)}function Zi(a){ei[a.pointerId]=a}function Rr(a){ei[a.pointerId]&&(ei[a.pointerId]=a)}function Fr(a){delete ei[a.pointerId]}function Do(a,v){if(v.pointerType!==(v.MSPOINTER_TYPE_MOUSE||"mouse")){for(var R in v.touches=[],ei)v.touches.push(ei[R]);v.changedTouches=[v],a(v)}}var Ki=200;var ii,In,$i,xr,fr,no=zt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Gr=zt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),uo="webkitTransition"===Gr||"OTransition"===Gr?Gr+"End":"transitionend";function zi(a){return"string"==typeof a?document.getElementById(a):a}function Bi(a,v){var R=a.style[v]||a.currentStyle&&a.currentStyle[v];if((!R||"auto"===R)&&document.defaultView){var te=document.defaultView.getComputedStyle(a,null);R=te?te[v]:null}return"auto"===R?null:R}function _i(a,v,R){var te=document.createElement(a);return te.className=v||"",R&&R.appendChild(te),te}function di(a){var v=a.parentNode;v&&v.removeChild(a)}function kr(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Er(a){var v=a.parentNode;v&&v.lastChild!==a&&v.appendChild(a)}function oo(a){var v=a.parentNode;v&&v.firstChild!==a&&v.insertBefore(a,v.firstChild)}function Ye(a,v){if(void 0!==a.classList)return a.classList.contains(v);var R=Qt(a);return R.length>0&&new RegExp("(^|\\s)"+v+"(\\s|$)").test(R)}function Je(a,v){if(void 0!==a.classList)for(var R=ce(v),te=0,be=R.length;te<be;te++)a.classList.add(R[te]);else if(!Ye(a,v)){var qe=Qt(a);Lt(a,(qe?qe+" ":"")+v)}}function dt(a,v){void 0!==a.classList?a.classList.remove(v):Lt(a,oe((" "+Qt(a)+" ").replace(" "+v+" "," ")))}function Lt(a,v){void 0===a.className.baseVal?a.className=v:a.className.baseVal=v}function Qt(a){return a.correspondingElement&&(a=a.correspondingElement),void 0===a.className.baseVal?a.className:a.className.baseVal}function ot(a,v){"opacity"in a.style?a.style.opacity=v:"filter"in a.style&&function Ht(a,v){var R=!1,te="DXImageTransform.Microsoft.Alpha";try{R=a.filters.item(te)}catch{if(1===v)return}v=Math.round(100*v),R?(R.Enabled=100!==v,R.Opacity=v):a.style.filter+=" progid:"+te+"(opacity="+v+")"}(a,v)}function zt(a){for(var v=document.documentElement.style,R=0;R<a.length;R++)if(a[R]in v)return a[R];return!1}function gn(a,v,R){var te=v||new pe(0,0);a.style[no]=(Ot.ie3d?"translate("+te.x+"px,"+te.y+"px)":"translate3d("+te.x+"px,"+te.y+"px,0)")+(R?" scale("+R+")":"")}function an(a,v){a._leaflet_pos=v,Ot.any3d?gn(a,v):(a.style.left=v.x+"px",a.style.top=v.y+"px")}function Hn(a){return a._leaflet_pos||new pe(0,0)}if("onselectstart"in document)ii=function(){Vi(window,"selectstart",wn)},In=function(){st(window,"selectstart",wn)};else{var Ir=zt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ii=function(){if(Ir){var a=document.documentElement.style;$i=a[Ir],a[Ir]="none"}},In=function(){Ir&&(document.documentElement.style[Ir]=$i,$i=void 0)}}function ho(){Vi(window,"dragstart",wn)}function Ii(){st(window,"dragstart",wn)}function Kr(a){for(;-1===a.tabIndex;)a=a.parentNode;a.style&&(fo(),xr=a,fr=a.style.outlineStyle,a.style.outlineStyle="none",Vi(window,"keydown",fo))}function fo(){xr&&(xr.style.outlineStyle=fr,xr=void 0,fr=void 0,st(window,"keydown",fo))}function Po(a){do{a=a.parentNode}while(!(a.offsetWidth&&a.offsetHeight||a===document.body));return a}function jo(a){var v=a.getBoundingClientRect();return{x:v.width/a.offsetWidth||1,y:v.height/a.offsetHeight||1,boundingClientRect:v}}var zr={__proto__:null,TRANSFORM:no,TRANSITION:Gr,TRANSITION_END:uo,get:zi,getStyle:Bi,create:_i,remove:di,empty:kr,toFront:Er,toBack:oo,hasClass:Ye,addClass:Je,removeClass:dt,setClass:Lt,getClass:Qt,setOpacity:ot,testProp:zt,setTransform:gn,setPosition:an,getPosition:Hn,get disableTextSelection(){return ii},get enableTextSelection(){return In},disableImageDrag:ho,enableImageDrag:Ii,preventOutline:Kr,restoreOutline:fo,getSizedParentNode:Po,getScale:jo};function Vi(a,v,R,te){if(v&&"object"==typeof v)for(var be in v)Gt(a,be,v[be],R);else for(var qe=0,Nt=(v=ce(v)).length;qe<Nt;qe++)Gt(a,v[qe],R,te);return this}var He="_leaflet_events";function st(a,v,R,te){if(1===arguments.length)wt(a),delete a[He];else if(v&&"object"==typeof v)for(var be in v)un(a,be,v[be],R);else if(v=ce(v),2===arguments.length)wt(a,function(dn){return-1!==_e(v,dn)});else for(var qe=0,Nt=v.length;qe<Nt;qe++)un(a,v[qe],R,te);return this}function wt(a,v){for(var R in a[He]){var te=R.split(/\d/)[0];(!v||v(te))&&un(a,te,null,null,R)}}var $t={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Gt(a,v,R,te){var be=v+Y(R)+(te?"_"+Y(te):"");if(a[He]&&a[He][be])return this;var qe=function(dn){return R.call(te||a,dn||window.event)},Nt=qe;!Ot.touchNative&&Ot.pointer&&0===v.indexOf("touch")?qe=rr(a,v,qe):Ot.touch&&"dblclick"===v?qe=function wr(a,v){a.addEventListener("dblclick",v);var te,R=0;function be(qe){if(1===qe.detail){if("mouse"!==qe.pointerType&&(!qe.sourceCapabilities||qe.sourceCapabilities.firesTouchEvents)){var Nt=Gi(qe);if(!Nt.some(function(bn){return bn instanceof HTMLLabelElement&&bn.attributes.for})||Nt.some(function(bn){return bn instanceof HTMLInputElement||bn instanceof HTMLSelectElement})){var dn=Date.now();dn-R<=Ki?2==++te&&v(function Nr(a){var R,te,v={};for(te in a)v[te]=(R=a[te])&&R.bind?R.bind(a):R;return a=v,v.type="dblclick",v.detail=2,v.isTrusted=!1,v._simulated=!0,v}(qe)):te=1,R=dn}}}else te=qe.detail}return a.addEventListener("click",be),{dblclick:v,simDblclick:be}}(a,qe):"addEventListener"in a?"touchstart"===v||"touchmove"===v||"wheel"===v||"mousewheel"===v?a.addEventListener($t[v]||v,qe,!!Ot.passiveEvents&&{passive:!1}):"mouseenter"===v||"mouseleave"===v?a.addEventListener($t[v],qe=function(dn){dn=dn||window.event,Br(a,dn)&&Nt(dn)},!1):a.addEventListener(v,Nt,!1):a.attachEvent("on"+v,qe),a[He]=a[He]||{},a[He][be]=qe}function un(a,v,R,te,be){be=be||v+Y(R)+(te?"_"+Y(te):"");var qe=a[He]&&a[He][be];if(!qe)return this;!Ot.touchNative&&Ot.pointer&&0===v.indexOf("touch")?function Hi(a,v,R){kn[v]?a.removeEventListener(kn[v],R,!1):console.warn("wrong event specified:",v)}(a,v,qe):Ot.touch&&"dblclick"===v?function lo(a,v){a.removeEventListener("dblclick",v.dblclick),a.removeEventListener("click",v.simDblclick)}(a,qe):"removeEventListener"in a?a.removeEventListener($t[v]||v,qe,!1):a.detachEvent("on"+v,qe),a[He][be]=null}function Ln(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Tn(a){return Gt(a,"wheel",Ln),this}function Vn(a){return Vi(a,"mousedown touchstart dblclick contextmenu",Ln),a._leaflet_disable_click=!0,this}function wn(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function oi(a){return wn(a),Ln(a),this}function Gi(a){if(a.composedPath)return a.composedPath();for(var v=[],R=a.target;R;)v.push(R),R=R.parentNode;return v}function vi(a,v){if(!v)return new pe(a.clientX,a.clientY);var R=jo(v),te=R.boundingClientRect;return new pe((a.clientX-te.left)/R.x-v.clientLeft,(a.clientY-te.top)/R.y-v.clientTop)}var gi=Ot.linux&&Ot.chrome?window.devicePixelRatio:Ot.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Sr(a){return Ot.edge?a.wheelDeltaY/2:a.deltaY&&0===a.deltaMode?-a.deltaY/gi:a.deltaY&&1===a.deltaMode?20*-a.deltaY:a.deltaY&&2===a.deltaMode?60*-a.deltaY:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?20*-a.detail:a.detail?a.detail/-32765*60:0}function Br(a,v){var R=v.relatedTarget;if(!R)return!0;try{for(;R&&R!==a;)R=R.parentNode}catch{return!1}return R!==a}var or={__proto__:null,on:Vi,off:st,stopPropagation:Ln,disableScrollPropagation:Tn,disableClickPropagation:Vn,preventDefault:wn,stop:oi,getPropagationPath:Gi,getMousePosition:vi,getWheelDelta:Sr,isExternalTarget:Br,addListener:Vi,removeListener:st},Cr=ge.extend({run:function(a,v,R,te){this.stop(),this._el=a,this._inProgress=!0,this._duration=R||.25,this._easeOutPower=1/Math.max(te||.5,.2),this._startPos=Hn(a),this._offset=v.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ge(this._animate,this),this._step()},_step:function(a){var v=+new Date-this._startTime,R=1e3*this._duration;v<R?this._runFrame(this._easeOut(v/R),a):(this._runFrame(1),this._complete())},_runFrame:function(a,v){var R=this._startPos.add(this._offset.multiplyBy(a));v&&R._round(),an(this._el,R),this.fire("step")},_complete:function(){Ze(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),yi=ge.extend({options:{crs:on,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,v){v=le(this,v),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=$(this._onResize,this),this._initEvents(),v.maxBounds&&this.setMaxBounds(v.maxBounds),void 0!==v.zoom&&(this._zoom=this._limitZoom(v.zoom)),v.center&&void 0!==v.zoom&&this.setView(Me(v.center),v.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Gr&&Ot.any3d&&!Ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Vi(this._proxy,uo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,v,R){return v=void 0===v?this._zoom:this._limitZoom(v),a=this._limitCenter(Me(a),v,this.options.maxBounds),R=R||{},this._stop(),this._loaded&&!R.reset&&!0!==R&&(void 0!==R.animate&&(R.zoom=F({animate:R.animate},R.zoom),R.pan=F({animate:R.animate,duration:R.duration},R.pan)),this._zoom!==v?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,v,R.zoom):this._tryAnimatedPan(a,R.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(a,v,R.pan&&R.pan.noMoveStart),this)},setZoom:function(a,v){return this._loaded?this.setView(this.getCenter(),a,{zoom:v}):(this._zoom=a,this)},zoomIn:function(a,v){return this.setZoom(this._zoom+(a=a||(Ot.any3d?this.options.zoomDelta:1)),v)},zoomOut:function(a,v){return this.setZoom(this._zoom-(a=a||(Ot.any3d?this.options.zoomDelta:1)),v)},setZoomAround:function(a,v,R){var te=this.getZoomScale(v),be=this.getSize().divideBy(2),Nt=(a instanceof pe?a:this.latLngToContainerPoint(a)).subtract(be).multiplyBy(1-1/te),dn=this.containerPointToLatLng(be.add(Nt));return this.setView(dn,v,{zoom:R})},_getBoundsCenterZoom:function(a,v){v=v||{},a=a.getBounds?a.getBounds():Ce(a);var R=Te(v.paddingTopLeft||v.padding||[0,0]),te=Te(v.paddingBottomRight||v.padding||[0,0]),be=this.getBoundsZoom(a,!1,R.add(te));if((be="number"==typeof v.maxZoom?Math.min(v.maxZoom,be):be)===1/0)return{center:a.getCenter(),zoom:be};var qe=te.subtract(R).divideBy(2),Nt=this.project(a.getSouthWest(),be),dn=this.project(a.getNorthEast(),be);return{center:this.unproject(Nt.add(dn).divideBy(2).add(qe),be),zoom:be}},fitBounds:function(a,v){if(!(a=Ce(a)).isValid())throw new Error("Bounds are not valid.");var R=this._getBoundsCenterZoom(a,v);return this.setView(R.center,R.zoom,v)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,v){return this.setView(a,this._zoom,{pan:v})},panBy:function(a,v){if(v=v||{},!(a=Te(a).round()).x&&!a.y)return this.fire("moveend");if(!0!==v.animate&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Cr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),v.noMoveStart||this.fire("movestart"),!1!==v.animate){Je(this._mapPane,"leaflet-pan-anim");var R=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,R,v.duration||.25,v.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,v,R){if(!1===(R=R||{}).animate||!Ot.any3d)return this.setView(a,v,R);this._stop();var te=this.project(this.getCenter()),be=this.project(a),qe=this.getSize(),Nt=this._zoom;a=Me(a),v=void 0===v?Nt:v;var dn=Math.max(qe.x,qe.y),bn=dn*this.getZoomScale(Nt,v),Rn=be.distanceTo(te)||1,ci=1.42,Mi=ci*ci;function Ur(vr){var Ks=(bn*bn-dn*dn+(vr?-1:1)*Mi*Mi*Rn*Rn)/(2*(vr?bn:dn)*Mi*Rn),_s=Math.sqrt(Ks*Ks+1)-Ks;return _s<1e-9?-18:Math.log(_s)}function pi(vr){return(Math.exp(vr)-Math.exp(-vr))/2}function bi(vr){return(Math.exp(vr)+Math.exp(-vr))/2}var Wi=Ur(0);function os(vr){return dn*(bi(Wi)*function Ui(vr){return pi(vr)/bi(vr)}(Wi+ci*vr)-pi(Wi))/Mi}var hs=Date.now(),xo=(Ur(1)-Wi)/ci,xs=R.duration?1e3*R.duration:1e3*xo*.8;return this._moveStart(!0,R.noMoveStart),function Zs(){var vr=(Date.now()-hs)/xs,qr=function Xo(vr){return 1-Math.pow(1-vr,1.5)}(vr)*xo;vr<=1?(this._flyToFrame=Ge(Zs,this),this._move(this.unproject(te.add(be.subtract(te).multiplyBy(os(qr)/Rn)),Nt),this.getScaleZoom(dn/function Io(vr){return dn*(bi(Wi)/bi(Wi+ci*vr))}(qr),Nt),{flyTo:!0})):this._move(a,v)._moveEnd(!0)}.call(this),this},flyToBounds:function(a,v){var R=this._getBoundsCenterZoom(a,v);return this.flyTo(R.center,R.zoom,v)},setMaxBounds:function(a){return a=Ce(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var v=this.options.minZoom;return this.options.minZoom=a,this._loaded&&v!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var v=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&v!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,v){this._enforcingBounds=!0;var R=this.getCenter(),te=this._limitCenter(R,this._zoom,Ce(a));return R.equals(te)||this.panTo(te,v),this._enforcingBounds=!1,this},panInside:function(a,v){var R=Te((v=v||{}).paddingTopLeft||v.padding||[0,0]),te=Te(v.paddingBottomRight||v.padding||[0,0]),be=this.project(this.getCenter()),qe=this.project(a),Nt=this.getPixelBounds(),dn=De([Nt.min.add(R),Nt.max.subtract(te)]),bn=dn.getSize();if(!dn.contains(qe)){this._enforcingBounds=!0;var Rn=qe.subtract(dn.getCenter()),ci=dn.extend(qe).getSize().subtract(bn);be.x+=Rn.x<0?-ci.x:ci.x,be.y+=Rn.y<0?-ci.y:ci.y,this.panTo(this.unproject(be),v),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=F({animate:!1,pan:!0},!0===a?{animate:!0}:a);var v=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var R=this.getSize(),te=v.divideBy(2).round(),be=R.divideBy(2).round(),qe=te.subtract(be);return qe.x||qe.y?(a.animate&&a.pan?this.panBy(qe):(a.pan&&this._rawPanBy(qe),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout($(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:v,newSize:R})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=F({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var v=$(this._handleGeolocationResponse,this),R=$(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(v,R,a):navigator.geolocation.getCurrentPosition(v,R,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var v=a.code,R=a.message||(1===v?"permission denied":2===v?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:v,message:"Geolocation error: "+R+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var te=new Ue(a.coords.latitude,a.coords.longitude),be=te.toBounds(2*a.coords.accuracy),qe=this._locateOptions;if(qe.setView){var Nt=this.getBoundsZoom(be);this.setView(te,qe.maxZoom?Math.min(Nt,qe.maxZoom):Nt)}var dn={latlng:te,bounds:be,timestamp:a.timestamp};for(var bn in a.coords)"number"==typeof a.coords[bn]&&(dn[bn]=a.coords[bn]);this.fire("locationfound",dn)}},addHandler:function(a,v){if(!v)return this;var R=this[a]=new v(this);return this._handlers.push(R),this.options[a]&&R.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var a;for(a in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),di(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ze(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[a].remove();for(a in this._panes)di(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,v){var te=_i("div","leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),v||this._mapPane);return a&&(this._panes[a]=te),te},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds();return new Ve(this.unproject(a.getBottomLeft()),this.unproject(a.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,v,R){a=Ce(a),R=Te(R||[0,0]);var te=this.getZoom()||0,be=this.getMinZoom(),qe=this.getMaxZoom(),Nt=a.getNorthWest(),dn=a.getSouthEast(),bn=this.getSize().subtract(R),Rn=De(this.project(dn,te),this.project(Nt,te)).getSize(),ci=Ot.any3d?this.options.zoomSnap:1,Mi=bn.x/Rn.x,Ur=bn.y/Rn.y,pi=v?Math.max(Mi,Ur):Math.min(Mi,Ur);return te=this.getScaleZoom(pi,te),ci&&(te=Math.round(te/(ci/100))*(ci/100),te=v?Math.ceil(te/ci)*ci:Math.floor(te/ci)*ci),Math.max(be,Math.min(qe,te))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,v){var R=this._getTopLeftPoint(a,v);return new Re(R,R.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(void 0===a?this.getZoom():a)},getPane:function(a){return"string"==typeof a?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,v){var R=this.options.crs;return v=void 0===v?this._zoom:v,R.scale(a)/R.scale(v)},getScaleZoom:function(a,v){var R=this.options.crs,te=R.zoom(a*R.scale(v=void 0===v?this._zoom:v));return isNaN(te)?1/0:te},project:function(a,v){return v=void 0===v?this._zoom:v,this.options.crs.latLngToPoint(Me(a),v)},unproject:function(a,v){return v=void 0===v?this._zoom:v,this.options.crs.pointToLatLng(Te(a),v)},layerPointToLatLng:function(a){var v=Te(a).add(this.getPixelOrigin());return this.unproject(v)},latLngToLayerPoint:function(a){return this.project(Me(a))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Me(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Ce(a))},distance:function(a,v){return this.options.crs.distance(Me(a),Me(v))},containerPointToLayerPoint:function(a){return Te(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return Te(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var v=this.containerPointToLayerPoint(Te(a));return this.layerPointToLatLng(v)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Me(a)))},mouseEventToContainerPoint:function(a){return vi(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var v=this._container=zi(a);if(!v)throw new Error("Map container not found.");if(v._leaflet_id)throw new Error("Map container is already initialized.");Vi(v,"scroll",this._onScroll,this),this._containerId=Y(v)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot.any3d,Je(a,"leaflet-container"+(Ot.touch?" leaflet-touch":"")+(Ot.retina?" leaflet-retina":"")+(Ot.ielt9?" leaflet-oldie":"")+(Ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var v=Bi(a,"position");"absolute"!==v&&"relative"!==v&&"fixed"!==v&&"sticky"!==v&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),an(this._mapPane,new pe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Je(a.markerPane,"leaflet-zoom-hide"),Je(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,v,R){an(this._mapPane,new pe(0,0));var te=!this._loaded;this._loaded=!0,v=this._limitZoom(v),this.fire("viewprereset");var be=this._zoom!==v;this._moveStart(be,R)._move(a,v)._moveEnd(be),this.fire("viewreset"),te&&this.fire("load")},_moveStart:function(a,v){return a&&this.fire("zoomstart"),v||this.fire("movestart"),this},_move:function(a,v,R,te){void 0===v&&(v=this._zoom);var be=this._zoom!==v;return this._zoom=v,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),te?R&&R.pinch&&this.fire("zoom",R):((be||R&&R.pinch)&&this.fire("zoom",R),this.fire("move",R)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ze(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){an(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[Y(this._container)]=this;var v=a?st:Vi;v(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&v(window,"resize",this._onResize,this),Ot.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ze(this._resizeRequest),this._resizeRequest=Ge(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,v){for(var te,R=[],be="mouseout"===v||"mouseover"===v,qe=a.target||a.srcElement,Nt=!1;qe;){if((te=this._targets[Y(qe)])&&("click"===v||"preclick"===v)&&this._draggableMoved(te)){Nt=!0;break}if(te&&te.listens(v,!0)&&(be&&!Br(qe,a)||(R.push(te),be))||qe===this._container)break;qe=qe.parentNode}return!R.length&&!Nt&&!be&&this.listens(v,!0)&&(R=[this]),R},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var v=a.target||a.srcElement;if(!(!this._loaded||v._leaflet_disable_events||"click"===a.type&&this._isClickDisabled(v))){var R=a.type;"mousedown"===R&&Kr(v),this._fireDOMEvent(a,R)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,v,R){if("click"===a.type){var te=F({},a);te.type="preclick",this._fireDOMEvent(te,te.type,R)}var be=this._findEventTargets(a,v);if(R){for(var qe=[],Nt=0;Nt<R.length;Nt++)R[Nt].listens(v,!0)&&qe.push(R[Nt]);be=qe.concat(be)}if(be.length){"contextmenu"===v&&wn(a);var dn=be[0],bn={originalEvent:a};if("keypress"!==a.type&&"keydown"!==a.type&&"keyup"!==a.type){var Rn=dn.getLatLng&&(!dn._radius||dn._radius<=10);bn.containerPoint=Rn?this.latLngToContainerPoint(dn.getLatLng()):this.mouseEventToContainerPoint(a),bn.layerPoint=this.containerPointToLayerPoint(bn.containerPoint),bn.latlng=Rn?dn.getLatLng():this.layerPointToLatLng(bn.layerPoint)}for(Nt=0;Nt<be.length;Nt++)if(be[Nt].fire(v,bn,!0),bn.originalEvent._stopped||!1===be[Nt].options.bubblingMouseEvents&&-1!==_e(this._mouseEvents,v))return}},_draggableMoved:function(a){return(a=a.dragging&&a.dragging.enabled()?a:this).dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,v=this._handlers.length;a<v;a++)this._handlers[a].disable()},whenReady:function(a,v){return this._loaded?a.call(v||this,{target:this}):this.on("load",a,v),this},_getMapPanePos:function(){return Hn(this._mapPane)||new pe(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,v){return(a&&void 0!==v?this._getNewPixelOrigin(a,v):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,v){var R=this.getSize()._divideBy(2);return this.project(a,v)._subtract(R)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,v,R){var te=this._getNewPixelOrigin(R,v);return this.project(a,v)._subtract(te)},_latLngBoundsToNewLayerBounds:function(a,v,R){var te=this._getNewPixelOrigin(R,v);return De([this.project(a.getSouthWest(),v)._subtract(te),this.project(a.getNorthWest(),v)._subtract(te),this.project(a.getSouthEast(),v)._subtract(te),this.project(a.getNorthEast(),v)._subtract(te)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,v,R){if(!R)return a;var te=this.project(a,v),be=this.getSize().divideBy(2),qe=new Re(te.subtract(be),te.add(be)),Nt=this._getBoundsOffset(qe,R,v);return Math.abs(Nt.x)<=1&&Math.abs(Nt.y)<=1?a:this.unproject(te.add(Nt),v)},_limitOffset:function(a,v){if(!v)return a;var R=this.getPixelBounds(),te=new Re(R.min.add(a),R.max.add(a));return a.add(this._getBoundsOffset(te,v))},_getBoundsOffset:function(a,v,R){var te=De(this.project(v.getNorthEast(),R),this.project(v.getSouthWest(),R)),be=te.min.subtract(a.min),qe=te.max.subtract(a.max);return new pe(this._rebound(be.x,-qe.x),this._rebound(be.y,-qe.y))},_rebound:function(a,v){return a+v>0?Math.round(a-v)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(v))},_limitZoom:function(a){var v=this.getMinZoom(),R=this.getMaxZoom(),te=Ot.any3d?this.options.zoomSnap:1;return te&&(a=Math.round(a/te)*te),Math.max(v,Math.min(R,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,v){var R=this._getCenterOffset(a)._trunc();return!(!0!==(v&&v.animate)&&!this.getSize().contains(R)||(this.panBy(R,v),0))},_createAnimProxy:function(){var a=this._proxy=_i("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(v){var R=no,te=this._proxy.style[R];gn(this._proxy,this.project(v.center,v.zoom),this.getZoomScale(v.zoom,1)),te===this._proxy.style[R]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){di(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),v=this.getZoom();gn(this._proxy,this.project(a,v),this.getZoomScale(v,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,v,R){if(this._animatingZoom)return!0;if(R=R||{},!this._zoomAnimated||!1===R.animate||this._nothingToAnimate()||Math.abs(v-this._zoom)>this.options.zoomAnimationThreshold)return!1;var te=this.getZoomScale(v),be=this._getCenterOffset(a)._divideBy(1-1/te);return!(!0!==R.animate&&!this.getSize().contains(be)||(Ge(function(){this._moveStart(!0,R.noMoveStart||!1)._animateZoom(a,v,!0)},this),0))},_animateZoom:function(a,v,R,te){this._mapPane&&(R&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=v,Je(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:v,noUpdate:te}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout($(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var jn=ct.extend({options:{position:"topright"},initialize:function(a){le(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var v=this._map;return v&&v.removeControl(this),this.options.position=a,v&&v.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var v=this._container=this.onAdd(a),R=this.getPosition(),te=a._controlCorners[R];return Je(v,"leaflet-control"),-1!==R.indexOf("bottom")?te.insertBefore(v,te.firstChild):te.appendChild(v),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(di(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Li=function(a){return new jn(a)};yi.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},v="leaflet-",R=this._controlContainer=_i("div",v+"control-container",this._container);function te(be,qe){a[be+qe]=_i("div",v+be+" "+v+qe,R)}te("top","left"),te("top","right"),te("bottom","left"),te("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)di(this._controlCorners[a]);di(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ar=jn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,v,R,te){return R<te?-1:te<R?1:0}},initialize:function(a,v,R){for(var te in le(this,R),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,a)this._addLayer(a[te],te);for(te in v)this._addLayer(v[te],te,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return jn.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,v){return this._addLayer(a,v),this._map?this._update():this},addOverlay:function(a,v){return this._addLayer(a,v,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var v=this._getLayer(Y(a));return v&&this._layers.splice(this._layers.indexOf(v),1),this._map?this._update():this},expand:function(){Je(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Je(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):dt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",v=this._container=_i("div",a),R=this.options.collapsed;v.setAttribute("aria-haspopup",!0),Vn(v),Tn(v);var te=this._section=_i("section",a+"-list");R&&(this._map.on("click",this.collapse,this),Vi(v,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var be=this._layersLink=_i("a",a+"-toggle",v);be.href="#",be.title="Layers",be.setAttribute("role","button"),Vi(be,{keydown:function(qe){13===qe.keyCode&&this._expandSafely()},click:function(qe){wn(qe),this._expandSafely()}},this),R||this.expand(),this._baseLayersList=_i("div",a+"-base",te),this._separator=_i("div",a+"-separator",te),this._overlaysList=_i("div",a+"-overlays",te),v.appendChild(te)},_getLayer:function(a){for(var v=0;v<this._layers.length;v++)if(this._layers[v]&&Y(this._layers[v].layer)===a)return this._layers[v]},_addLayer:function(a,v,R){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:v,overlay:R}),this.options.sortLayers&&this._layers.sort($(function(te,be){return this.options.sortFunction(te.layer,be.layer,te.name,be.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;kr(this._baseLayersList),kr(this._overlaysList),this._layerControlInputs=[];var a,v,R,te,be=0;for(R=0;R<this._layers.length;R++)this._addItem(te=this._layers[R]),v=v||te.overlay,a=a||!te.overlay,be+=te.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(a=a&&be>1)?"":"none"),this._separator.style.display=v&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var v=this._getLayer(Y(a.target)),R=v.overlay?"add"===a.type?"overlayadd":"overlayremove":"add"===a.type?"baselayerchange":null;R&&this._map.fire(R,v)},_createRadioElement:function(a,v){var R='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(v?' checked="checked"':"")+"/>",te=document.createElement("div");return te.innerHTML=R,te.firstChild},_addItem:function(a){var te,v=document.createElement("label"),R=this._map.hasLayer(a.layer);a.overlay?((te=document.createElement("input")).type="checkbox",te.className="leaflet-control-layers-selector",te.defaultChecked=R):te=this._createRadioElement("leaflet-base-layers_"+Y(this),R),this._layerControlInputs.push(te),te.layerId=Y(a.layer),Vi(te,"click",this._onInputClick,this);var be=document.createElement("span");be.innerHTML=" "+a.name;var qe=document.createElement("span");return v.appendChild(qe),qe.appendChild(te),qe.appendChild(be),(a.overlay?this._overlaysList:this._baseLayersList).appendChild(v),this._checkDisabledLayers(),v},_onInputClick:function(){if(!this._preventClick){var v,R,a=this._layerControlInputs,te=[],be=[];this._handlingClick=!0;for(var qe=a.length-1;qe>=0;qe--)R=this._getLayer((v=a[qe]).layerId).layer,v.checked?te.push(R):v.checked||be.push(R);for(qe=0;qe<be.length;qe++)this._map.hasLayer(be[qe])&&this._map.removeLayer(be[qe]);for(qe=0;qe<te.length;qe++)this._map.hasLayer(te[qe])||this._map.addLayer(te[qe]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var v,R,a=this._layerControlInputs,te=this._map.getZoom(),be=a.length-1;be>=0;be--)R=this._getLayer((v=a[be]).layerId).layer,v.disabled=void 0!==R.options.minZoom&&te<R.options.minZoom||void 0!==R.options.maxZoom&&te>R.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Vi(a,"click",wn),this.expand();var v=this;setTimeout(function(){st(a,"click",wn),v._preventClick=!1})}}),pr=jn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var v="leaflet-control-zoom",R=_i("div",v+" leaflet-bar"),te=this.options;return this._zoomInButton=this._createButton(te.zoomInText,te.zoomInTitle,v+"-in",R,this._zoomIn),this._zoomOutButton=this._createButton(te.zoomOutText,te.zoomOutTitle,v+"-out",R,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),R},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,v,R,te,be){var qe=_i("a",R,te);return qe.innerHTML=a,qe.href="#",qe.title=v,qe.setAttribute("role","button"),qe.setAttribute("aria-label",v),Vn(qe),Vi(qe,"click",oi),Vi(qe,"click",be,this),Vi(qe,"click",this._refocusOnMap,this),qe},_updateDisabled:function(){var a=this._map,v="leaflet-disabled";dt(this._zoomInButton,v),dt(this._zoomOutButton,v),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Je(this._zoomOutButton,v),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Je(this._zoomInButton,v),this._zoomInButton.setAttribute("aria-disabled","true"))}});yi.mergeOptions({zoomControl:!0}),yi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new pr,this.addControl(this.zoomControl))});var mo=jn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var v="leaflet-control-scale",R=_i("div",v),te=this.options;return this._addScales(te,v+"-line",R),a.on(te.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),R},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,v,R){a.metric&&(this._mScale=_i("div",v,R)),a.imperial&&(this._iScale=_i("div",v,R))},_update:function(){var a=this._map,v=a.getSize().y/2,R=a.distance(a.containerPointToLatLng([0,v]),a.containerPointToLatLng([this.options.maxWidth,v]));this._updateScales(R)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var v=this._getRoundNum(a);this._updateScale(this._mScale,v<1e3?v+" m":v/1e3+" km",v/a)},_updateImperial:function(a){var R,te,be,v=3.2808399*a;v>5280?(te=this._getRoundNum(R=v/5280),this._updateScale(this._iScale,te+" mi",te/R)):(be=this._getRoundNum(v),this._updateScale(this._iScale,be+" ft",be/v))},_updateScale:function(a,v,R){a.style.width=Math.round(this.options.maxWidth*R)+"px",a.innerHTML=v},_getRoundNum:function(a){var v=Math.pow(10,(Math.floor(a)+"").length-1),R=a/v;return v*(R>=10?10:R>=5?5:R>=3?3:R>=2?2:1)}}),Jr=jn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ot.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(a){le(this,a),this._attributions={}},onAdd:function(a){for(var v in a.attributionControl=this,this._container=_i("div","leaflet-control-attribution"),Vn(this._container),a._layers)a._layers[v].getAttribution&&this.addAttribution(a._layers[v].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var v in this._attributions)this._attributions[v]&&a.push(v);var R=[];this.options.prefix&&R.push(this.options.prefix),a.length&&R.push(a.join(", ")),this._container.innerHTML=R.join(' <span aria-hidden="true">|</span> ')}}});yi.mergeOptions({attributionControl:!0}),yi.addInitHook(function(){this.options.attributionControl&&(new Jr).addTo(this)});jn.Layers=Ar,jn.Zoom=pr,jn.Scale=mo,jn.Attribution=Jr,Li.layers=function(a,v,R){return new Ar(a,v,R)},Li.zoom=function(a){return new pr(a)},Li.scale=function(a){return new mo(a)},Li.attribution=function(a){return new Jr(a)};var bo=ct.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});bo.addTo=function(a,v){return a.addHandler(v,this),this};var Dr={Events:Ke},co=Ot.touch?"touchstart mousedown":"mousedown",Yr=ge.extend({options:{clickTolerance:3},initialize:function(a,v,R,te){le(this,te),this._element=a,this._dragStartTarget=v||a,this._preventOutline=R},enable:function(){this._enabled||(Vi(this._dragStartTarget,co,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yr._dragging===this&&this.finishDrag(!0),st(this._dragStartTarget,co,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Ye(this._element,"leaflet-zoom-anim"))){if(a.touches&&1!==a.touches.length)return void(Yr._dragging===this&&this.finishDrag());if(!(Yr._dragging||a.shiftKey||1!==a.which&&1!==a.button&&!a.touches||(Yr._dragging=this,this._preventOutline&&Kr(this._element),ho(),ii(),this._moving))){this.fire("down");var v=a.touches?a.touches[0]:a,R=Po(this._element);this._startPoint=new pe(v.clientX,v.clientY),this._startPos=Hn(this._element),this._parentScale=jo(R);var te="mousedown"===a.type;Vi(document,te?"mousemove":"touchmove",this._onMove,this),Vi(document,te?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1)return void(this._moved=!0);var v=a.touches&&1===a.touches.length?a.touches[0]:a,R=new pe(v.clientX,v.clientY)._subtract(this._startPoint);!R.x&&!R.y||Math.abs(R.x)+Math.abs(R.y)<this.options.clickTolerance||(R.x/=this._parentScale.x,R.y/=this._parentScale.y,wn(a),this._moved||(this.fire("dragstart"),this._moved=!0,Je(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Je(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(R),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),an(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){dt(document.body,"leaflet-dragging"),this._lastTarget&&(dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),st(document,"mousemove touchmove",this._onMove,this),st(document,"mouseup touchend touchcancel",this._onUp,this),Ii(),In();var v=this._moved&&this._moving;this._moving=!1,Yr._dragging=!1,v&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Ao(a,v,R){var te,qe,Nt,dn,bn,Rn,ci,Mi,Ur,be=[1,4,2,8];for(qe=0,ci=a.length;qe<ci;qe++)a[qe]._code=qi(a[qe],v);for(dn=0;dn<4;dn++){for(Mi=be[dn],te=[],qe=0,Nt=(ci=a.length)-1;qe<ci;Nt=qe++)Rn=a[Nt],(bn=a[qe])._code&Mi?Rn._code&Mi||((Ur=Go(Rn,bn,Mi,v,R))._code=qi(Ur,v),te.push(Ur)):(Rn._code&Mi&&((Ur=Go(Rn,bn,Mi,v,R))._code=qi(Ur,v),te.push(Ur)),te.push(bn));a=te}return a}function Lo(a,v){var R,te,be,qe,Nt,dn,bn,Rn;if(!a||0===a.length)throw new Error("latlngs not passed");Pe(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Mi=Me([0,0]),Ur=Ce(a);Ur.getNorthWest().distanceTo(Ur.getSouthWest())*Ur.getNorthEast().distanceTo(Ur.getNorthWest())<1700&&(Mi=Pr(a));var bi=a.length,Ui=[];for(R=0;R<bi;R++){var Wi=Me(a[R]);Ui.push(v.project(Me([Wi.lat-Mi.lat,Wi.lng-Mi.lng])))}for(dn=bn=Rn=0,R=0,te=bi-1;R<bi;te=R++)bn+=((be=Ui[R]).x+(qe=Ui[te]).x)*(Nt=be.y*qe.x-qe.y*be.x),Rn+=(be.y+qe.y)*Nt,dn+=3*Nt;var Io=v.unproject(Te(0===dn?Ui[0]:[bn/dn,Rn/dn]));return Me([Io.lat+Mi.lat,Io.lng+Mi.lng])}function Pr(a){for(var v=0,R=0,te=0,be=0;be<a.length;be++){var qe=Me(a[be]);v+=qe.lat,R+=qe.lng,te++}return Me([v/te,R/te])}var Zr,zo={__proto__:null,clipPolygon:Ao,polygonCenter:Lo,centroid:Pr};function Bo(a,v){if(!v||!a.length)return a.slice();var R=v*v;return function Xr(a,v){var R=a.length,be=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(R);be[0]=be[R-1]=1,Fo(a,be,v,0,R-1);var qe,Nt=[];for(qe=0;qe<R;qe++)be[qe]&&Nt.push(a[qe]);return Nt}(a=function $o(a,v){for(var R=[a[0]],te=1,be=0,qe=a.length;te<qe;te++)z(a[te],a[be])>v&&(R.push(a[te]),be=te);return be<qe-1&&R.push(a[qe-1]),R}(a,R),R)}function Ho(a,v,R){return Math.sqrt(we(a,v,R,!0))}function Fo(a,v,R,te,be){var Nt,dn,bn,qe=0;for(dn=te+1;dn<=be-1;dn++)(bn=we(a[dn],a[te],a[be],!0))>qe&&(Nt=dn,qe=bn);qe>R&&(v[Nt]=1,Fo(a,v,R,te,Nt),Fo(a,v,R,Nt,be))}function Ko(a,v,R,te,be){var dn,bn,Rn,qe=te?Zr:qi(a,R),Nt=qi(v,R);for(Zr=Nt;;){if(!(qe|Nt))return[a,v];if(qe&Nt)return!1;Rn=qi(bn=Go(a,v,dn=qe||Nt,R,be),R),dn===qe?(a=bn,qe=Rn):(v=bn,Nt=Rn)}}function Go(a,v,R,te,be){var Rn,ci,qe=v.x-a.x,Nt=v.y-a.y,dn=te.min,bn=te.max;return 8&R?(Rn=a.x+qe*(bn.y-a.y)/Nt,ci=bn.y):4&R?(Rn=a.x+qe*(dn.y-a.y)/Nt,ci=dn.y):2&R?(Rn=bn.x,ci=a.y+Nt*(bn.x-a.x)/qe):1&R&&(Rn=dn.x,ci=a.y+Nt*(dn.x-a.x)/qe),new pe(Rn,ci,be)}function qi(a,v){var R=0;return a.x<v.min.x?R|=1:a.x>v.max.x&&(R|=2),a.y<v.min.y?R|=4:a.y>v.max.y&&(R|=8),R}function z(a,v){var R=v.x-a.x,te=v.y-a.y;return R*R+te*te}function we(a,v,R,te){var Rn,be=v.x,qe=v.y,Nt=R.x-be,dn=R.y-qe,bn=Nt*Nt+dn*dn;return bn>0&&((Rn=((a.x-be)*Nt+(a.y-qe)*dn)/bn)>1?(be=R.x,qe=R.y):Rn>0&&(be+=Nt*Rn,qe+=dn*Rn)),Nt=a.x-be,dn=a.y-qe,te?Nt*Nt+dn*dn:new pe(be,qe)}function Pe(a){return!se(a[0])||"object"!=typeof a[0][0]&&typeof a[0][0]<"u"}function Qe(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Pe(a)}function ut(a,v){var R,te,be,qe,Nt,dn,bn,Rn;if(!a||0===a.length)throw new Error("latlngs not passed");Pe(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var ci=Me([0,0]),Mi=Ce(a);Mi.getNorthWest().distanceTo(Mi.getSouthWest())*Mi.getNorthEast().distanceTo(Mi.getNorthWest())<1700&&(ci=Pr(a));var pi=a.length,bi=[];for(R=0;R<pi;R++){var Ui=Me(a[R]);bi.push(v.project(Me([Ui.lat-ci.lat,Ui.lng-ci.lng])))}for(R=0,te=0;R<pi-1;R++)te+=bi[R].distanceTo(bi[R+1])/2;if(0===te)Rn=bi[0];else for(R=0,qe=0;R<pi-1;R++)if((qe+=be=(Nt=bi[R]).distanceTo(dn=bi[R+1]))>te){Rn=[dn.x-(bn=(qe-te)/be)*(dn.x-Nt.x),dn.y-bn*(dn.y-Nt.y)];break}var Wi=v.unproject(Te(Rn));return Me([Wi.lat+ci.lat,Wi.lng+ci.lng])}var Dt={__proto__:null,simplify:Bo,pointToSegmentDistance:Ho,closestPointOnSegment:function Uo(a,v,R){return we(a,v,R)},clipSegment:Ko,_getEdgeIntersection:Go,_getBitCode:qi,_sqClosestPointOnSegment:we,isFlat:Pe,_flat:Qe,polylineCenter:ut},Ft={project:function(a){return new pe(a.lng,a.lat)},unproject:function(a){return new Ue(a.y,a.x)},bounds:new Re([-180,-90],[180,90])},jt={R:6378137,R_MINOR:6356752.314245179,bounds:new Re([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(a){var v=Math.PI/180,R=this.R,te=a.lat*v,be=this.R_MINOR/R,qe=Math.sqrt(1-be*be),Nt=qe*Math.sin(te),dn=Math.tan(Math.PI/4-te/2)/Math.pow((1-Nt)/(1+Nt),qe/2);return te=-R*Math.log(Math.max(dn,1e-10)),new pe(a.lng*v*R,te)},unproject:function(a){for(var Rn,v=180/Math.PI,R=this.R,te=this.R_MINOR/R,be=Math.sqrt(1-te*te),qe=Math.exp(-a.y/R),Nt=Math.PI/2-2*Math.atan(qe),dn=0,bn=.1;dn<15&&Math.abs(bn)>1e-7;dn++)Rn=be*Math.sin(Nt),Rn=Math.pow((1-Rn)/(1+Rn),be/2),Nt+=bn=Math.PI/2-2*Math.atan(qe*Rn)-Nt;return new Ue(Nt*v,a.x*v/R)}},en={__proto__:null,LonLat:Ft,Mercator:jt,SphericalMercator:Mt},Mn=F({},mt,{code:"EPSG:3395",projection:jt,transformation:function(){var a=.5/(Math.PI*jt.R);return En(a,.5,-a,.5)}()}),Fn=F({},mt,{code:"EPSG:4326",projection:Ft,transformation:En(1/180,1,-1/180,.5)}),xi=F({},Fe,{projection:Ft,transformation:En(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,v){var R=v.lng-a.lng,te=v.lat-a.lat;return Math.sqrt(R*R+te*te)},infinite:!0});Fe.Earth=mt,Fe.EPSG3395=Mn,Fe.EPSG3857=on,Fe.EPSG900913=Et,Fe.EPSG4326=Fn,Fe.Simple=xi;var hi=ge.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[Y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[Y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var v=a.target;if(v.hasLayer(this)){if(this._map=v,this._zoomAnimated=v._zoomAnimated,this.getEvents){var R=this.getEvents();v.on(R,this),this.once("remove",function(){v.off(R,this)},this)}this.onAdd(v),this.fire("add"),v.fire("layeradd",{layer:this})}}});yi.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var v=Y(a);return this._layers[v]||(this._layers[v]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a)),this},removeLayer:function(a){var v=Y(a);return this._layers[v]?(this._loaded&&a.onRemove(this),delete this._layers[v],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return Y(a)in this._layers},eachLayer:function(a,v){for(var R in this._layers)a.call(v,this._layers[R]);return this},_addLayers:function(a){for(var v=0,R=(a=a?se(a)?a:[a]:[]).length;v<R;v++)this.addLayer(a[v])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[Y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var v=Y(a);this._zoomBoundLayers[v]&&(delete this._zoomBoundLayers[v],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,v=-1/0,R=this._getZoomSpan();for(var te in this._zoomBoundLayers){var be=this._zoomBoundLayers[te].options;a=void 0===be.minZoom?a:Math.min(a,be.minZoom),v=void 0===be.maxZoom?v:Math.max(v,be.maxZoom)}this._layersMaxZoom=v===-1/0?void 0:v,this._layersMinZoom=a===1/0?void 0:a,R!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zn=hi.extend({initialize:function(a,v){var R,te;if(le(this,v),this._layers={},a)for(R=0,te=a.length;R<te;R++)this.addLayer(a[R])},addLayer:function(a){var v=this.getLayerId(a);return this._layers[v]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var v=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[v]&&this._map.removeLayer(this._layers[v]),delete this._layers[v],this},hasLayer:function(a){return("number"==typeof a?a:this.getLayerId(a))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var R,te,v=Array.prototype.slice.call(arguments,1);for(R in this._layers)(te=this._layers[R])[a]&&te[a].apply(te,v);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,v){for(var R in this._layers)a.call(v,this._layers[R]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return Y(a)}}),fe=Zn.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Zn.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Zn.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new Ve;for(var v in this._layers){var R=this._layers[v];a.extend(R.getBounds?R.getBounds():R.getLatLng())}return a}}),N=ct.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){le(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,v){var R=this._getIconUrl(a);if(!R){if("icon"===a)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var te=this._createImg(R,v&&"IMG"===v.tagName?v:null);return this._setIconStyles(te,a),(this.options.crossOrigin||""===this.options.crossOrigin)&&(te.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),te},_setIconStyles:function(a,v){var R=this.options,te=R[v+"Size"];"number"==typeof te&&(te=[te,te]);var be=Te(te),qe=Te("shadow"===v&&R.shadowAnchor||R.iconAnchor||be&&be.divideBy(2,!0));a.className="leaflet-marker-"+v+" "+(R.className||""),qe&&(a.style.marginLeft=-qe.x+"px",a.style.marginTop=-qe.y+"px"),be&&(a.style.width=be.x+"px",a.style.height=be.y+"px")},_createImg:function(a,v){return(v=v||document.createElement("img")).src=a,v},_getIconUrl:function(a){return Ot.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});var T=N.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return"string"!=typeof T.imagePath&&(T.imagePath=this._detectIconPath()),(this.options.imagePath||T.imagePath)+N.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var v=function(R,te,be){var qe=te.exec(R);return qe&&qe[be]};return(a=v(a,/^url\((['"])?(.+)\1\)$/,2))&&v(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=_i("div","leaflet-default-icon-path",document.body),v=Bi(a,"background-image")||Bi(a,"backgroundImage");if(document.body.removeChild(a),v=this._stripUrl(v))return v;var R=document.querySelector('link[href$="leaflet.css"]');return R?R.href.substring(0,R.href.length-11-1):""}}),_=bo.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Yr(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Je(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var v=this._marker,R=v._map,te=this._marker.options.autoPanSpeed,be=this._marker.options.autoPanPadding,qe=Hn(v._icon),Nt=R.getPixelBounds(),dn=R.getPixelOrigin(),bn=De(Nt.min._subtract(dn).add(be),Nt.max._subtract(dn).subtract(be));if(!bn.contains(qe)){var Rn=Te((Math.max(bn.max.x,qe.x)-bn.max.x)/(Nt.max.x-bn.max.x)-(Math.min(bn.min.x,qe.x)-bn.min.x)/(Nt.min.x-bn.min.x),(Math.max(bn.max.y,qe.y)-bn.max.y)/(Nt.max.y-bn.max.y)-(Math.min(bn.min.y,qe.y)-bn.min.y)/(Nt.min.y-bn.min.y)).multiplyBy(te);R.panBy(Rn,{animate:!1}),this._draggable._newPos._add(Rn),this._draggable._startPos._add(Rn),an(v._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=Ge(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(Ze(this._panRequest),this._panRequest=Ge(this._adjustPan.bind(this,a)))},_onDrag:function(a){var v=this._marker,R=v._shadow,te=Hn(v._icon),be=v._map.layerPointToLatLng(te);R&&an(R,te),v._latlng=be,a.latlng=be,a.oldLatLng=this._oldLatLng,v.fire("move",a).fire("drag",a)},_onDragEnd:function(a){Ze(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),V=hi.extend({options:{icon:new T,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,v){le(this,v),this._latlng=Me(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var v=this._latlng;return this._latlng=Me(a),this.update(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,v="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),R=a.icon.createIcon(this._icon),te=!1;R!==this._icon&&(this._icon&&this._removeIcon(),te=!0,a.title&&(R.title=a.title),"IMG"===R.tagName&&(R.alt=a.alt||"")),Je(R,v),a.keyboard&&(R.tabIndex="0",R.setAttribute("role","button")),this._icon=R,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vi(R,"focus",this._panOnFocus,this);var be=a.icon.createShadow(this._shadow),qe=!1;be!==this._shadow&&(this._removeShadow(),qe=!0),be&&(Je(be,v),be.alt=""),this._shadow=be,a.opacity<1&&this._updateOpacity(),te&&this.getPane().appendChild(this._icon),this._initInteraction(),be&&qe&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&st(this._icon,"focus",this._panOnFocus,this),di(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&di(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&an(this._icon,a),this._shadow&&an(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var v=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(v)},_initInteraction:function(){if(this.options.interactive&&(Je(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),_)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new _(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&ot(this._icon,a),this._shadow&&ot(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var v=this.options.icon.options,R=v.iconSize?Te(v.iconSize):Te(0,0),te=v.iconAnchor?Te(v.iconAnchor):Te(0,0);a.panInside(this._latlng,{paddingTopLeft:te,paddingBottomRight:R.subtract(te)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Xe=hi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return le(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Rt=Xe.extend({options:{fill:!0,radius:10},initialize:function(a,v){le(this,v),this._latlng=Me(a),this._radius=this.options.radius},setLatLng:function(a){var v=this._latlng;return this._latlng=Me(a),this.redraw(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var v=a&&a.radius||this._radius;return Xe.prototype.setStyle.call(this,a),this.setRadius(v),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,v=this._radiusY||a,R=this._clickTolerance(),te=[a+R,v+R];this._pxBounds=new Re(this._point.subtract(te),this._point.add(te))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Jt=Rt.extend({initialize:function(a,v,R){if("number"==typeof v&&(v=F({},R,{radius:v})),le(this,v),this._latlng=Me(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new Ve(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Xe.prototype.setStyle,_project:function(){var a=this._latlng.lng,v=this._latlng.lat,R=this._map,te=R.options.crs;if(te.distance===mt.distance){var be=Math.PI/180,qe=this._mRadius/mt.R/be,Nt=R.project([v+qe,a]),dn=R.project([v-qe,a]),bn=Nt.add(dn).divideBy(2),Rn=R.unproject(bn).lat,ci=Math.acos((Math.cos(qe*be)-Math.sin(v*be)*Math.sin(Rn*be))/(Math.cos(v*be)*Math.cos(Rn*be)))/be;(isNaN(ci)||0===ci)&&(ci=qe/Math.cos(Math.PI/180*v)),this._point=bn.subtract(R.getPixelOrigin()),this._radius=isNaN(ci)?0:bn.x-R.project([Rn,a-ci]).x,this._radiusY=bn.y-Nt.y}else{var Mi=te.unproject(te.project(this._latlng).subtract([this._mRadius,0]));this._point=R.latLngToLayerPoint(this._latlng),this._radius=this._point.x-R.latLngToLayerPoint(Mi).x}this._updateBounds()}});var fi=Xe.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,v){le(this,v),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var be,qe,v=1/0,R=null,te=we,Nt=0,dn=this._parts.length;Nt<dn;Nt++)for(var bn=this._parts[Nt],Rn=1,ci=bn.length;Rn<ci;Rn++){var Mi=te(a,be=bn[Rn-1],qe=bn[Rn],!0);Mi<v&&(v=Mi,R=te(a,be,qe))}return R&&(R.distance=Math.sqrt(v)),R},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ut(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,v){return v=v||this._defaultShape(),a=Me(a),v.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new Ve,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Pe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var v=[],R=Pe(a),te=0,be=a.length;te<be;te++)R?(v[te]=Me(a[te]),this._bounds.extend(v[te])):v[te]=this._convertLatLngs(a[te]);return v},_project:function(){var a=new Re;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),v=new pe(a,a);this._rawPxBounds&&(this._pxBounds=new Re([this._rawPxBounds.min.subtract(v),this._rawPxBounds.max.add(v)]))},_projectLatlngs:function(a,v,R){var qe,Nt,be=a.length;if(a[0]instanceof Ue){for(Nt=[],qe=0;qe<be;qe++)Nt[qe]=this._map.latLngToLayerPoint(a[qe]),R.extend(Nt[qe]);v.push(Nt)}else for(qe=0;qe<be;qe++)this._projectLatlngs(a[qe],v,R)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(a)){if(this.options.noClip)return void(this._parts=this._rings);var R,te,be,qe,Nt,dn,bn,v=this._parts;for(R=0,be=0,qe=this._rings.length;R<qe;R++)for(te=0,Nt=(bn=this._rings[R]).length;te<Nt-1;te++)(dn=Ko(bn[te],bn[te+1],a,te,!0))&&(v[be]=v[be]||[],v[be].push(dn[0]),(dn[1]!==bn[te+1]||te===Nt-2)&&(v[be].push(dn[1]),be++))}},_simplifyPoints:function(){for(var a=this._parts,v=this.options.smoothFactor,R=0,te=a.length;R<te;R++)a[R]=Bo(a[R],v)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,v){var R,te,be,qe,Nt,dn,bn=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(R=0,qe=this._parts.length;R<qe;R++)for(te=0,be=(Nt=(dn=this._parts[R]).length)-1;te<Nt;be=te++)if((v||0!==te)&&Ho(a,dn[be],dn[te])<=bn)return!0;return!1}});fi._flat=Qe;var mi=fi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var v=fi.prototype._convertLatLngs.call(this,a),R=v.length;return R>=2&&v[0]instanceof Ue&&v[0].equals(v[R-1])&&v.pop(),v},_setLatLngs:function(a){fi.prototype._setLatLngs.call(this,a),Pe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Pe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,v=this.options.weight,R=new pe(v,v);if(a=new Re(a.min.subtract(R),a.max.add(R)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(a)){if(this.options.noClip)return void(this._parts=this._rings);for(var qe,te=0,be=this._rings.length;te<be;te++)(qe=Ao(this._rings[te],a,!0)).length&&this._parts.push(qe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var R,te,be,qe,Nt,dn,bn,Rn,v=!1;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(qe=0,bn=this._parts.length;qe<bn;qe++)for(Nt=0,dn=(Rn=(R=this._parts[qe]).length)-1;Nt<Rn;dn=Nt++)(te=R[Nt]).y>a.y!=(be=R[dn]).y>a.y&&a.x<(be.x-te.x)*(a.y-te.y)/(be.y-te.y)+te.x&&(v=!v);return v||fi.prototype._containsPoint.call(this,a,!0)}});var li=fe.extend({initialize:function(a,v){le(this,v),this._layers={},a&&this.addData(a)},addData:function(a){var R,te,be,v=se(a)?a:a.features;if(v){for(R=0,te=v.length;R<te;R++)((be=v[R]).geometries||be.geometry||be.features||be.coordinates)&&this.addData(be);return this}var qe=this.options;if(qe.filter&&!qe.filter(a))return this;var Nt=vo(a,qe);return Nt?(Nt.feature=ds(a),Nt.defaultOptions=Nt.options,this.resetStyle(Nt),qe.onEachFeature&&qe.onEachFeature(a,Nt),this.addLayer(Nt)):this},resetStyle:function(a){return void 0===a?this.eachLayer(this.resetStyle,this):(a.options=F({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(v){this._setLayerStyle(v,a)},this)},_setLayerStyle:function(a,v){a.setStyle&&("function"==typeof v&&(v=v(a.feature)),a.setStyle(v))}});function vo(a,v){var dn,bn,Rn,ci,R="Feature"===a.type?a.geometry:a,te=R?R.coordinates:null,be=[],qe=v&&v.pointToLayer,Nt=v&&v.coordsToLatLng||gr;if(!te&&!R)return null;switch(R.type){case"Point":return io(qe,a,dn=Nt(te),v);case"MultiPoint":for(Rn=0,ci=te.length;Rn<ci;Rn++)dn=Nt(te[Rn]),be.push(io(qe,a,dn,v));return new fe(be);case"LineString":case"MultiLineString":return bn=So(te,"LineString"===R.type?0:1,Nt),new fi(bn,v);case"Polygon":case"MultiPolygon":return bn=So(te,"Polygon"===R.type?1:2,Nt),new mi(bn,v);case"GeometryCollection":for(Rn=0,ci=R.geometries.length;Rn<ci;Rn++){var Mi=vo({geometry:R.geometries[Rn],type:"Feature",properties:a.properties},v);Mi&&be.push(Mi)}return new fe(be);case"FeatureCollection":for(Rn=0,ci=R.features.length;Rn<ci;Rn++){var Ur=vo(R.features[Rn],v);Ur&&be.push(Ur)}return new fe(be);default:throw new Error("Invalid GeoJSON object.")}}function io(a,v,R,te){return a?a(v,R):new V(R,te&&te.markersInheritOptions&&te)}function gr(a){return new Ue(a[1],a[0],a[2])}function So(a,v,R){for(var Nt,te=[],be=0,qe=a.length;be<qe;be++)Nt=v?So(a[be],v-1,R):(R||gr)(a[be]),te.push(Nt);return te}function qo(a,v){return void 0!==(a=Me(a)).alt?[ue(a.lng,v),ue(a.lat,v),ue(a.alt,v)]:[ue(a.lng,v),ue(a.lat,v)]}function ko(a,v,R,te){for(var be=[],qe=0,Nt=a.length;qe<Nt;qe++)be.push(v?ko(a[qe],Pe(a[qe])?0:v-1,R,te):qo(a[qe],te));return!v&&R&&be.length>0&&be.push(be[0].slice()),be}function To(a,v){return a.feature?F({},a.feature,{geometry:v}):ds(v)}function ds(a){return"Feature"===a.type||"FeatureCollection"===a.type?a:{type:"Feature",properties:{},geometry:a}}var Jo={toGeoJSON:function(a){return To(this,{type:"Point",coordinates:qo(this.getLatLng(),a)})}};function as(a,v){return new li(a,v)}V.include(Jo),Jt.include(Jo),Rt.include(Jo),fi.include({toGeoJSON:function(a){var v=!Pe(this._latlngs);return To(this,{type:(v?"Multi":"")+"LineString",coordinates:ko(this._latlngs,v?1:0,!1,a)})}}),mi.include({toGeoJSON:function(a){var v=!Pe(this._latlngs),R=v&&!Pe(this._latlngs[0]),te=ko(this._latlngs,R?2:v?1:0,!0,a);return v||(te=[te]),To(this,{type:(R?"Multi":"")+"Polygon",coordinates:te})}}),Zn.include({toMultiPoint:function(a){var v=[];return this.eachLayer(function(R){v.push(R.toGeoJSON(a).geometry.coordinates)}),To(this,{type:"MultiPoint",coordinates:v})},toGeoJSON:function(a){var v=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===v)return this.toMultiPoint(a);var R="GeometryCollection"===v,te=[];return this.eachLayer(function(be){if(be.toGeoJSON){var qe=be.toGeoJSON(a);if(R)te.push(qe.geometry);else{var Nt=ds(qe);"FeatureCollection"===Nt.type?te.push.apply(te,Nt.features):te.push(Nt)}}}),R?To(this,{geometries:te,type:"GeometryCollection"}):{type:"FeatureCollection",features:te}}});var Ms=as,is=hi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,v,R){this._url=a,this._bounds=Ce(v),le(this,R)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Je(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){di(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Er(this._image),this},bringToBack:function(){return this._map&&oo(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Ce(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a="IMG"===this._url.tagName,v=this._image=a?this._url:_i("img");Je(v,"leaflet-image-layer"),this._zoomAnimated&&Je(v,"leaflet-zoom-animated"),this.options.className&&Je(v,this.options.className),v.onselectstart=J,v.onmousemove=J,v.onload=$(this.fire,this,"load"),v.onerror=$(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(v.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a?this._url=v.src:(v.src=this._url,v.alt=this.options.alt)},_animateZoom:function(a){var v=this._map.getZoomScale(a.zoom),R=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;gn(this._image,R,v)},_reset:function(){var a=this._image,v=new Re(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),R=v.getSize();an(a,v.min),a.style.width=R.x+"px",a.style.height=R.y+"px"},_updateOpacity:function(){ot(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),Rs=is.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a="VIDEO"===this._url.tagName,v=this._image=a?this._url:_i("video");if(Je(v,"leaflet-image-layer"),this._zoomAnimated&&Je(v,"leaflet-zoom-animated"),this.options.className&&Je(v,this.options.className),v.onselectstart=J,v.onmousemove=J,v.onloadeddata=$(this.fire,this,"load"),a){for(var R=v.getElementsByTagName("source"),te=[],be=0;be<R.length;be++)te.push(R[be].src);this._url=R.length>0?te:[v.src]}else{se(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(v.style,"objectFit")&&(v.style.objectFit="fill"),v.autoplay=!!this.options.autoplay,v.loop=!!this.options.loop,v.muted=!!this.options.muted,v.playsInline=!!this.options.playsInline;for(var qe=0;qe<this._url.length;qe++){var Nt=_i("source");Nt.src=this._url[qe],v.appendChild(Nt)}}}});var ms=is.extend({_initImage:function(){var a=this._image=this._url;Je(a,"leaflet-image-layer"),this._zoomAnimated&&Je(a,"leaflet-zoom-animated"),this.options.className&&Je(a,this.options.className),a.onselectstart=J,a.onmousemove=J}});var rs=hi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,v){a&&(a instanceof Ue||se(a))?(this._latlng=Me(a),le(this,v)):(le(this,a),this._source=v),this.options.content&&(this._content=this.options.content)},openOn:function(a){return(a=arguments.length?a:this._source._map).hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&ot(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&ot(this._container,1),this.bringToFront(),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(ot(this._container,0),this._removeTimeout=setTimeout($(di,void 0,this._container),200)):di(this._container),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Me(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Er(this._container),this},bringToBack:function(){return this._map&&oo(this._container),this},_prepareOpen:function(a){var v=this._source;if(!v._map)return!1;if(v instanceof fe){v=null;var R=this._source._layers;for(var te in R)if(R[te]._map){v=R[te];break}if(!v)return!1;this._source=v}if(!a)if(v.getCenter)a=v.getCenter();else if(v.getLatLng)a=v.getLatLng();else{if(!v.getBounds)throw new Error("Unable to get source layer LatLng.");a=v.getBounds().getCenter()}return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,v="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof v)a.innerHTML=v;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(v)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),v=Te(this.options.offset),R=this._getAnchor();this._zoomAnimated?an(this._container,a.add(R)):v=v.add(a).add(R);var te=this._containerBottom=-v.y,be=this._containerLeft=-Math.round(this._containerWidth/2)+v.x;this._container.style.bottom=te+"px",this._container.style.left=be+"px"}},_getAnchor:function(){return[0,0]}});yi.include({_initOverlay:function(a,v,R,te){var be=v;return be instanceof a||(be=new a(te).setContent(v)),R&&be.setLatLng(R),be}}),hi.include({_initOverlay:function(a,v,R,te){var be=R;return be instanceof a?(le(be,te),be._source=this):(be=v&&!te?v:new a(te,this)).setContent(R),be}});var Qo=rs.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return!(a=arguments.length?a:this._source._map).hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,rs.prototype.openOn.call(this,a)},onAdd:function(a){rs.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xe||this._source.on("preclick",Ln))},onRemove:function(a){rs.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xe||this._source.off("preclick",Ln))},getEvents:function(){var a=rs.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",v=this._container=_i("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),R=this._wrapper=_i("div",a+"-content-wrapper",v);if(this._contentNode=_i("div",a+"-content",R),Vn(v),Tn(this._contentNode),Vi(v,"contextmenu",Ln),this._tipContainer=_i("div",a+"-tip-container",v),this._tip=_i("div",a+"-tip",this._tipContainer),this.options.closeButton){var te=this._closeButton=_i("a",a+"-close-button",v);te.setAttribute("role","button"),te.setAttribute("aria-label","Close popup"),te.href="#close",te.innerHTML='<span aria-hidden="true">&#215;</span>',Vi(te,"click",function(be){wn(be),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,v=a.style;v.width="",v.whiteSpace="nowrap";var R=a.offsetWidth;R=Math.min(R,this.options.maxWidth),R=Math.max(R,this.options.minWidth),v.width=R+1+"px",v.whiteSpace="",v.height="";var be=this.options.maxHeight,qe="leaflet-popup-scrolled";be&&a.offsetHeight>be?(v.height=be+"px",Je(a,qe)):dt(a,qe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var v=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),R=this._getAnchor();an(this._container,v.add(R))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)return void(this._autopanning=!1);var a=this._map,v=parseInt(Bi(this._container,"marginBottom"),10)||0,R=this._container.offsetHeight+v,te=this._containerWidth,be=new pe(this._containerLeft,-R-this._containerBottom);be._add(Hn(this._container));var qe=a.layerPointToContainerPoint(be),Nt=Te(this.options.autoPanPadding),dn=Te(this.options.autoPanPaddingTopLeft||Nt),bn=Te(this.options.autoPanPaddingBottomRight||Nt),Rn=a.getSize(),ci=0,Mi=0;qe.x+te+bn.x>Rn.x&&(ci=qe.x+te-Rn.x+bn.x),qe.x-ci-dn.x<0&&(ci=qe.x-dn.x),qe.y+R+bn.y>Rn.y&&(Mi=qe.y+R-Rn.y+bn.y),qe.y-Mi-dn.y<0&&(Mi=qe.y-dn.y),(ci||Mi)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([ci,Mi]))}},_getAnchor:function(){return Te(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});yi.mergeOptions({closePopupOnClick:!0}),yi.include({openPopup:function(a,v,R){return this._initOverlay(Qo,a,v,R).openOn(this),this},closePopup:function(a){return(a=arguments.length?a:this._popup)&&a.close(),this}}),hi.include({bindPopup:function(a,v){return this._popup=this._initOverlay(Qo,this._popup,a,v),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof fe||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(this._popup&&this._map){oi(a);var v=a.layer||a.target;if(this._popup._source===v&&!(v instanceof Xe))return void(this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng));this._popup._source=v,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){13===a.originalEvent.keyCode&&this._openPopup(a)}});var Es=rs.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){rs.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){rs.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=rs.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){this._contentNode=this._container=_i("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+Y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var v,R,te=this._map,be=this._container,qe=te.latLngToContainerPoint(te.getCenter()),Nt=te.layerPointToContainerPoint(a),dn=this.options.direction,bn=be.offsetWidth,Rn=be.offsetHeight,ci=Te(this.options.offset),Mi=this._getAnchor();"top"===dn?(v=bn/2,R=Rn):"bottom"===dn?(v=bn/2,R=0):"center"===dn?(v=bn/2,R=Rn/2):"right"===dn?(v=0,R=Rn/2):"left"===dn?(v=bn,R=Rn/2):Nt.x<qe.x?(dn="right",v=0,R=Rn/2):(dn="left",v=bn+2*(ci.x+Mi.x),R=Rn/2),a=a.subtract(Te(v,R,!0)).add(ci).add(Mi),dt(be,"leaflet-tooltip-right"),dt(be,"leaflet-tooltip-left"),dt(be,"leaflet-tooltip-top"),dt(be,"leaflet-tooltip-bottom"),Je(be,"leaflet-tooltip-"+dn),an(be,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&ot(this._container,a)},_animateZoom:function(a){var v=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(v)},_getAnchor:function(){return Te(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});yi.include({openTooltip:function(a,v,R){return this._initOverlay(Es,a,v,R).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),hi.include({bindTooltip:function(a,v){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Es,this._tooltip,a,v),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(a||!this._tooltipHandlersAdded){var v=a?"off":"on",R={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?R.add=this._openTooltip:(R.mouseover=this._openTooltip,R.mouseout=this.closeTooltip,R.click=this._openTooltip,this._map?this._addFocusListeners():R.add=this._addFocusListeners),this._tooltip.options.sticky&&(R.mousemove=this._moveTooltip),this[v](R),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof fe||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var v="function"==typeof a.getElement&&a.getElement();v&&(Vi(v,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Vi(v,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var v="function"==typeof a.getElement&&a.getElement();v&&v.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(this._tooltip&&this._map){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var v=this;return void this._map.once("moveend",function(){v._openOnceFlag=!1,v._openTooltip(a)})}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var R,te,v=a.latlng;this._tooltip.options.sticky&&a.originalEvent&&(R=this._map.mouseEventToContainerPoint(a.originalEvent),te=this._map.containerPointToLayerPoint(R),v=this._map.layerPointToLatLng(te)),this._tooltip.setLatLng(v)}});var es=N.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var v=a&&"DIV"===a.tagName?a:document.createElement("div"),R=this.options;if(R.html instanceof Element?(kr(v),v.appendChild(R.html)):v.innerHTML=!1!==R.html?R.html:"",R.bgPos){var te=Te(R.bgPos);v.style.backgroundPosition=-te.x+"px "+-te.y+"px"}return this._setIconStyles(v,"icon"),v},createShadow:function(){return null}});N.Default=T;var Ts=hi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){le(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),di(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Er(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(oo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Z(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof pe?a:new pe(a,a)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var qe,v=this.getPane().children,R=-a(-1/0,1/0),te=0,be=v.length;te<be;te++)qe=v[te].style.zIndex,v[te]!==this._container&&qe&&(R=a(R,+qe));isFinite(R)&&(this.options.zIndex=R+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ot.ielt9){ot(this._container,this.options.opacity);var a=+new Date,v=!1,R=!1;for(var te in this._tiles){var be=this._tiles[te];if(be.current&&be.loaded){var qe=Math.min(1,(a-be.loaded)/200);ot(be.el,qe),qe<1?v=!0:(be.active?R=!0:this._onOpaqueTile(be),be.active=!0)}}R&&!this._noPrune&&this._pruneTiles(),v&&(Ze(this._fadeFrame),this._fadeFrame=Ge(this._updateOpacity,this))}},_onOpaqueTile:J,_initContainer:function(){this._container||(this._container=_i("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,v=this.options.maxZoom;if(void 0!==a){for(var R in this._levels)R=Number(R),this._levels[R].el.children.length||R===a?(this._levels[R].el.style.zIndex=v-Math.abs(a-R),this._onUpdateLevel(R)):(di(this._levels[R].el),this._removeTilesAtZoom(R),this._onRemoveLevel(R),delete this._levels[R]);var te=this._levels[a],be=this._map;return te||((te=this._levels[a]={}).el=_i("div","leaflet-tile-container leaflet-zoom-animated",this._container),te.el.style.zIndex=v,te.origin=be.project(be.unproject(be.getPixelOrigin()),a).round(),te.zoom=a,this._setZoomTransform(te,be.getCenter(),be.getZoom()),this._onCreateLevel(te)),this._level=te,te}},_onUpdateLevel:J,_onRemoveLevel:J,_onCreateLevel:J,_pruneTiles:function(){if(this._map){var a,v,R=this._map.getZoom();if(R>this.options.maxZoom||R<this.options.minZoom)return void this._removeAllTiles();for(a in this._tiles)(v=this._tiles[a]).retain=v.current;for(a in this._tiles)if((v=this._tiles[a]).current&&!v.active){var te=v.coords;this._retainParent(te.x,te.y,te.z,te.z-5)||this._retainChildren(te.x,te.y,te.z,te.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var v in this._tiles)this._tiles[v].coords.z===a&&this._removeTile(v)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)di(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,v,R,te){var be=Math.floor(a/2),qe=Math.floor(v/2),Nt=R-1,dn=new pe(+be,+qe);dn.z=+Nt;var bn=this._tileCoordsToKey(dn),Rn=this._tiles[bn];return Rn&&Rn.active?(Rn.retain=!0,!0):(Rn&&Rn.loaded&&(Rn.retain=!0),Nt>te&&this._retainParent(be,qe,Nt,te))},_retainChildren:function(a,v,R,te){for(var be=2*a;be<2*a+2;be++)for(var qe=2*v;qe<2*v+2;qe++){var Nt=new pe(be,qe);Nt.z=R+1;var dn=this._tileCoordsToKey(Nt),bn=this._tiles[dn];bn&&bn.active?bn.retain=!0:(bn&&bn.loaded&&(bn.retain=!0),R+1<te&&this._retainChildren(be,qe,R+1,te))}},_resetView:function(a){var v=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),v,v)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var v=this.options;return void 0!==v.minNativeZoom&&a<v.minNativeZoom?v.minNativeZoom:void 0!==v.maxNativeZoom&&v.maxNativeZoom<a?v.maxNativeZoom:a},_setView:function(a,v,R,te){var be=Math.round(v);be=void 0!==this.options.maxZoom&&be>this.options.maxZoom||void 0!==this.options.minZoom&&be<this.options.minZoom?void 0:this._clampZoom(be),(!te||this.options.updateWhenZooming&&be!==this._tileZoom)&&(this._tileZoom=be,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==be&&this._update(a),R||this._pruneTiles(),this._noPrune=!!R),this._setZoomTransforms(a,v)},_setZoomTransforms:function(a,v){for(var R in this._levels)this._setZoomTransform(this._levels[R],a,v)},_setZoomTransform:function(a,v,R){var te=this._map.getZoomScale(R,a.zoom),be=a.origin.multiplyBy(te).subtract(this._map._getNewPixelOrigin(v,R)).round();Ot.any3d?gn(a.el,be,te):an(a.el,be)},_resetGrid:function(){var a=this._map,v=a.options.crs,R=this._tileSize=this.getTileSize(),te=this._tileZoom,be=this._map.getPixelWorldBounds(this._tileZoom);be&&(this._globalTileRange=this._pxBoundsToTileRange(be)),this._wrapX=v.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,v.wrapLng[0]],te).x/R.x),Math.ceil(a.project([0,v.wrapLng[1]],te).x/R.y)],this._wrapY=v.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([v.wrapLat[0],0],te).y/R.x),Math.ceil(a.project([v.wrapLat[1],0],te).y/R.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var v=this._map,R=v._animatingZoom?Math.max(v._animateToZoom,v.getZoom()):v.getZoom(),te=v.getZoomScale(R,this._tileZoom),be=v.project(a,this._tileZoom).floor(),qe=v.getSize().divideBy(2*te);return new Re(be.subtract(qe),be.add(qe))},_update:function(a){var v=this._map;if(v){var R=this._clampZoom(v.getZoom());if(void 0===a&&(a=v.getCenter()),void 0!==this._tileZoom){var te=this._getTiledPixelBounds(a),be=this._pxBoundsToTileRange(te),qe=be.getCenter(),Nt=[],dn=this.options.keepBuffer,bn=new Re(be.getBottomLeft().subtract([dn,-dn]),be.getTopRight().add([dn,-dn]));if(!(isFinite(be.min.x)&&isFinite(be.min.y)&&isFinite(be.max.x)&&isFinite(be.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Rn in this._tiles){var ci=this._tiles[Rn].coords;(ci.z!==this._tileZoom||!bn.contains(new pe(ci.x,ci.y)))&&(this._tiles[Rn].current=!1)}if(Math.abs(R-this._tileZoom)>1)return void this._setView(a,R);for(var Mi=be.min.y;Mi<=be.max.y;Mi++)for(var Ur=be.min.x;Ur<=be.max.x;Ur++){var pi=new pe(Ur,Mi);if(pi.z=this._tileZoom,this._isValidTile(pi)){var bi=this._tiles[this._tileCoordsToKey(pi)];bi?bi.current=!0:Nt.push(pi)}}if(Nt.sort(function(Wi,Io){return Wi.distanceTo(qe)-Io.distanceTo(qe)}),0!==Nt.length){this._loading||(this._loading=!0,this.fire("loading"));var Ui=document.createDocumentFragment();for(Ur=0;Ur<Nt.length;Ur++)this._addTile(Nt[Ur],Ui);this._level.el.appendChild(Ui)}}}},_isValidTile:function(a){var v=this._map.options.crs;if(!v.infinite){var R=this._globalTileRange;if(!v.wrapLng&&(a.x<R.min.x||a.x>R.max.x)||!v.wrapLat&&(a.y<R.min.y||a.y>R.max.y))return!1}if(!this.options.bounds)return!0;var te=this._tileCoordsToBounds(a);return Ce(this.options.bounds).overlaps(te)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var v=this._map,R=this.getTileSize(),te=a.scaleBy(R),be=te.add(R);return[v.unproject(te,a.z),v.unproject(be,a.z)]},_tileCoordsToBounds:function(a){var v=this._tileCoordsToNwSe(a),R=new Ve(v[0],v[1]);return this.options.noWrap||(R=this._map.wrapLatLngBounds(R)),R},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var v=a.split(":"),R=new pe(+v[0],+v[1]);return R.z=+v[2],R},_removeTile:function(a){var v=this._tiles[a];v&&(di(v.el),delete this._tiles[a],this.fire("tileunload",{tile:v.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Je(a,"leaflet-tile");var v=this.getTileSize();a.style.width=v.x+"px",a.style.height=v.y+"px",a.onselectstart=J,a.onmousemove=J,Ot.ielt9&&this.options.opacity<1&&ot(a,this.options.opacity)},_addTile:function(a,v){var R=this._getTilePos(a),te=this._tileCoordsToKey(a),be=this.createTile(this._wrapCoords(a),$(this._tileReady,this,a));this._initTile(be),this.createTile.length<2&&Ge($(this._tileReady,this,a,null,be)),an(be,R),this._tiles[te]={el:be,coords:a,current:!0},v.appendChild(be),this.fire("tileloadstart",{tile:be,coords:a})},_tileReady:function(a,v,R){v&&this.fire("tileerror",{error:v,tile:R,coords:a});var te=this._tileCoordsToKey(a);(R=this._tiles[te])&&(R.loaded=+new Date,this._map._fadeAnimated?(ot(R.el,0),Ze(this._fadeFrame),this._fadeFrame=Ge(this._updateOpacity,this)):(R.active=!0,this._pruneTiles()),v||(Je(R.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:R.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ot.ielt9||!this._map._fadeAnimated?Ge(this._pruneTiles,this):setTimeout($(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var v=new pe(this._wrapX?G(a.x,this._wrapX):a.x,this._wrapY?G(a.y,this._wrapY):a.y);return v.z=a.z,v},_pxBoundsToTileRange:function(a){var v=this.getTileSize();return new Re(a.min.unscaleBy(v).floor(),a.max.unscaleBy(v).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});var cs=Ts.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,v){this._url=a,(v=le(this,v)).detectRetina&&Ot.retina&&v.maxZoom>0?(v.tileSize=Math.floor(v.tileSize/2),v.zoomReverse?(v.zoomOffset--,v.minZoom=Math.min(v.maxZoom,v.minZoom+1)):(v.zoomOffset++,v.maxZoom=Math.max(v.minZoom,v.maxZoom-1)),v.minZoom=Math.max(0,v.minZoom)):v.zoomReverse?v.minZoom=Math.min(v.maxZoom,v.minZoom):v.maxZoom=Math.max(v.minZoom,v.maxZoom),"string"==typeof v.subdomains&&(v.subdomains=v.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,v){return this._url===a&&void 0===v&&(v=!0),this._url=a,v||this.redraw(),this},createTile:function(a,v){var R=document.createElement("img");return Vi(R,"load",$(this._tileOnLoad,this,v,R)),Vi(R,"error",$(this._tileOnError,this,v,R)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(R.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(R.referrerPolicy=this.options.referrerPolicy),R.alt="",R.src=this.getTileUrl(a),R},getTileUrl:function(a){var v={r:Ot.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var R=this._globalTileRange.max.y-a.y;this.options.tms&&(v.y=R),v["-y"]=R}return xe(this._url,F(v,this.options))},_tileOnLoad:function(a,v){Ot.ielt9?setTimeout($(a,this,null,v),0):a(null,v)},_tileOnError:function(a,v,R){var te=this.options.errorTileUrl;te&&v.getAttribute("src")!==te&&(v.src=te),a(R,v)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom;return this.options.zoomReverse&&(a=this.options.maxZoom-a),a+this.options.zoomOffset},_getSubdomain:function(a){var v=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[v]},_abortLoading:function(){var a,v;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&((v=this._tiles[a].el).onload=J,v.onerror=J,!v.complete)){v.src=Ie;var R=this._tiles[a].coords;di(v),delete this._tiles[a],this.fire("tileabort",{tile:v,coords:R})}},_removeTile:function(a){var v=this._tiles[a];if(v)return v.el.setAttribute("src",Ie),Ts.prototype._removeTile.call(this,a)},_tileReady:function(a,v,R){if(this._map&&(!R||R.getAttribute("src")!==Ie))return Ts.prototype._tileReady.call(this,a,v,R)}});function Mo(a,v){return new cs(a,v)}var js=cs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,v){this._url=a;var R=F({},this.defaultWmsParams);for(var te in v)te in this.options||(R[te]=v[te]);var be=(v=le(this,v)).detectRetina&&Ot.retina?2:1,qe=this.getTileSize();R.width=qe.x*be,R.height=qe.y*be,this.wmsParams=R},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,cs.prototype.onAdd.call(this,a)},getTileUrl:function(a){var v=this._tileCoordsToNwSe(a),R=this._crs,te=De(R.project(v[0]),R.project(v[1])),be=te.min,qe=te.max,Nt=(this._wmsVersion>=1.3&&this._crs===Fn?[be.y,be.x,qe.y,qe.x]:[be.x,be.y,qe.x,qe.y]).join(","),dn=cs.prototype.getTileUrl.call(this,a);return dn+de(this.wmsParams,dn,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Nt},setParams:function(a,v){return F(this.wmsParams,a),v||this.redraw(),this}});cs.WMS=js,Mo.wms=function ie(a,v){return new js(a,v)};var U=hi.extend({options:{padding:.1},initialize:function(a){le(this,a),Y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Je(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,v){var R=this._map.getZoomScale(v,this._zoom),te=this._map.getSize().multiplyBy(.5+this.options.padding),be=this._map.project(this._center,v),qe=te.multiplyBy(-R).add(be).subtract(this._map._getNewPixelOrigin(a,v));Ot.any3d?gn(this._container,qe,R):an(this._container,qe)},_reset:function(){for(var a in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,v=this._map.getSize(),R=this._map.containerPointToLayerPoint(v.multiplyBy(-a)).round();this._bounds=new Re(R,R.add(v.multiplyBy(1+2*a)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),m=U.extend({options:{tolerance:0},getEvents:function(){var a=U.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){U.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Vi(a,"mousemove",this._onMouseMove,this),Vi(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Vi(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){Ze(this._redrawRequest),delete this._ctx,di(this._container),st(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var v in this._redrawBounds=null,this._layers)this._layers[v]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){U.prototype._update.call(this);var a=this._bounds,v=this._container,R=a.getSize(),te=Ot.retina?2:1;an(v,a.min),v.width=te*R.x,v.height=te*R.y,v.style.width=R.x+"px",v.style.height=R.y+"px",Ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){U.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[Y(a)]=a;var v=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=v),this._drawLast=v,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var v=a._order,R=v.next,te=v.prev;R?R.prev=te:this._drawLast=te,te?te.next=R:this._drawFirst=R,delete a._order,delete this._layers[Y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if("string"==typeof a.options.dashArray){var te,be,v=a.options.dashArray.split(/[, ]+/),R=[];for(be=0;be<v.length;be++){if(te=Number(v[be]),isNaN(te))return;R.push(te)}a.options._dashArray=R}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||Ge(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var v=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Re,this._redrawBounds.extend(a._pxBounds.min.subtract([v,v])),this._redrawBounds.extend(a._pxBounds.max.add([v,v]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var v=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,v.x,v.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,v=this._redrawBounds;if(this._ctx.save(),v){var R=v.getSize();this._ctx.beginPath(),this._ctx.rect(v.min.x,v.min.y,R.x,R.y),this._ctx.clip()}this._drawing=!0;for(var te=this._drawFirst;te;te=te.next)a=te.layer,(!v||a._pxBounds&&a._pxBounds.intersects(v))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,v){if(this._drawing){var R,te,be,qe,Nt=a._parts,dn=Nt.length,bn=this._ctx;if(dn){for(bn.beginPath(),R=0;R<dn;R++){for(te=0,be=Nt[R].length;te<be;te++)bn[te?"lineTo":"moveTo"]((qe=Nt[R][te]).x,qe.y);v&&bn.closePath()}this._fillStroke(bn,a)}}},_updateCircle:function(a){if(this._drawing&&!a._empty()){var v=a._point,R=this._ctx,te=Math.max(Math.round(a._radius),1),be=(Math.max(Math.round(a._radiusY),1)||te)/te;1!==be&&(R.save(),R.scale(1,be)),R.beginPath(),R.arc(v.x,v.y/be,te,0,2*Math.PI,!1),1!==be&&R.restore(),this._fillStroke(R,a)}},_fillStroke:function(a,v){var R=v.options;R.fill&&(a.globalAlpha=R.fillOpacity,a.fillStyle=R.fillColor||R.color,a.fill(R.fillRule||"evenodd")),R.stroke&&0!==R.weight&&(a.setLineDash&&a.setLineDash(v.options&&v.options._dashArray||[]),a.globalAlpha=R.opacity,a.lineWidth=R.weight,a.strokeStyle=R.color,a.lineCap=R.lineCap,a.lineJoin=R.lineJoin,a.stroke())},_onClick:function(a){for(var R,te,v=this._map.mouseEventToLayerPoint(a),be=this._drawFirst;be;be=be.next)(R=be.layer).options.interactive&&R._containsPoint(v)&&("click"!==a.type&&"preclick"!==a.type||!this._map._draggableMoved(R))&&(te=R);this._fireEvent(!!te&&[te],a)},_onMouseMove:function(a){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var v=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,v)}},_handleMouseOut:function(a){var v=this._hoveredLayer;v&&(dt(this._container,"leaflet-interactive"),this._fireEvent([v],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,v){if(!this._mouseHoverThrottled){for(var R,te,be=this._drawFirst;be;be=be.next)(R=be.layer).options.interactive&&R._containsPoint(v)&&(te=R);te!==this._hoveredLayer&&(this._handleMouseOut(a),te&&(Je(this._container,"leaflet-interactive"),this._fireEvent([te],a,"mouseover"),this._hoveredLayer=te)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],a),this._mouseHoverThrottled=!0,setTimeout($(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,v,R){this._map._fireDOMEvent(v,R||v.type,a)},_bringToFront:function(a){var v=a._order;if(v){var R=v.next,te=v.prev;if(!R)return;R.prev=te,te?te.next=R:R&&(this._drawFirst=R),v.prev=this._drawLast,this._drawLast.next=v,v.next=null,this._drawLast=v,this._requestRedraw(a)}},_bringToBack:function(a){var v=a._order;if(v){var R=v.next,te=v.prev;if(!te)return;te.next=R,R?R.prev=te:te&&(this._drawLast=te),v.prev=null,v.next=this._drawFirst,this._drawFirst.prev=v,this._drawFirst=v,this._requestRedraw(a)}}});function P(a){return Ot.canvas?new m(a):null}var W=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),me={_initContainer:function(){this._container=_i("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(U.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var v=a._container=W("shape");Je(v,"leaflet-vml-shape "+(this.options.className||"")),v.coordsize="1 1",a._path=W("path"),v.appendChild(a._path),this._updateStyle(a),this._layers[Y(a)]=a},_addPath:function(a){var v=a._container;this._container.appendChild(v),a.options.interactive&&a.addInteractiveTarget(v)},_removePath:function(a){var v=a._container;di(v),a.removeInteractiveTarget(v),delete this._layers[Y(a)]},_updateStyle:function(a){var v=a._stroke,R=a._fill,te=a.options,be=a._container;be.stroked=!!te.stroke,be.filled=!!te.fill,te.stroke?(v||(v=a._stroke=W("stroke")),be.appendChild(v),v.weight=te.weight+"px",v.color=te.color,v.opacity=te.opacity,v.dashStyle=te.dashArray?se(te.dashArray)?te.dashArray.join(" "):te.dashArray.replace(/( *, *)/g," "):"",v.endcap=te.lineCap.replace("butt","flat"),v.joinstyle=te.lineJoin):v&&(be.removeChild(v),a._stroke=null),te.fill?(R||(R=a._fill=W("fill")),be.appendChild(R),R.color=te.fillColor||te.color,R.opacity=te.fillOpacity):R&&(be.removeChild(R),a._fill=null)},_updateCircle:function(a){var v=a._point.round(),R=Math.round(a._radius),te=Math.round(a._radiusY||R);this._setPath(a,a._empty()?"M0 0":"AL "+v.x+","+v.y+" "+R+","+te+" 0,23592600")},_setPath:function(a,v){a._path.v=v},_bringToFront:function(a){Er(a._container)},_bringToBack:function(a){oo(a._container)}},Ne=Ot.vml?W:at,pt=U.extend({_initContainer:function(){this._container=Ne("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ne("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){di(this._container),st(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){U.prototype._update.call(this);var a=this._bounds,v=a.getSize(),R=this._container;(!this._svgSize||!this._svgSize.equals(v))&&(this._svgSize=v,R.setAttribute("width",v.x),R.setAttribute("height",v.y)),an(R,a.min),R.setAttribute("viewBox",[a.min.x,a.min.y,v.x,v.y].join(" ")),this.fire("update")}},_initPath:function(a){var v=a._path=Ne("path");a.options.className&&Je(v,a.options.className),a.options.interactive&&Je(v,"leaflet-interactive"),this._updateStyle(a),this._layers[Y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){di(a._path),a.removeInteractiveTarget(a._path),delete this._layers[Y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var v=a._path,R=a.options;v&&(R.stroke?(v.setAttribute("stroke",R.color),v.setAttribute("stroke-opacity",R.opacity),v.setAttribute("stroke-width",R.weight),v.setAttribute("stroke-linecap",R.lineCap),v.setAttribute("stroke-linejoin",R.lineJoin),R.dashArray?v.setAttribute("stroke-dasharray",R.dashArray):v.removeAttribute("stroke-dasharray"),R.dashOffset?v.setAttribute("stroke-dashoffset",R.dashOffset):v.removeAttribute("stroke-dashoffset")):v.setAttribute("stroke","none"),R.fill?(v.setAttribute("fill",R.fillColor||R.color),v.setAttribute("fill-opacity",R.fillOpacity),v.setAttribute("fill-rule",R.fillRule||"evenodd")):v.setAttribute("fill","none"))},_updatePoly:function(a,v){this._setPath(a,tn(a._parts,v))},_updateCircle:function(a){var v=a._point,R=Math.max(Math.round(a._radius),1),be="a"+R+","+(Math.max(Math.round(a._radiusY),1)||R)+" 0 1,0 ",qe=a._empty()?"M0 0":"M"+(v.x-R)+","+v.y+be+2*R+",0 "+be+2*-R+",0 ";this._setPath(a,qe)},_setPath:function(a,v){a._path.setAttribute("d",v)},_bringToFront:function(a){Er(a._path)},_bringToBack:function(a){oo(a._path)}});function Pt(a){return Ot.svg||Ot.vml?new pt(a):null}Ot.vml&&pt.include(me),yi.include({getRenderer:function(a){var v=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return v||(v=this._renderer=this._createRenderer()),this.hasLayer(v)||this.addLayer(v),v},_getPaneRenderer:function(a){if("overlayPane"===a||void 0===a)return!1;var v=this._paneRenderers[a];return void 0===v&&(v=this._createRenderer({pane:a}),this._paneRenderers[a]=v),v},_createRenderer:function(a){return this.options.preferCanvas&&P(a)||Pt(a)}});var nn=mi.extend({initialize:function(a,v){mi.prototype.initialize.call(this,this._boundsToLatLngs(a),v)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return[(a=Ce(a)).getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});pt.create=Ne,pt.pointsToPath=tn,li.geometryToLayer=vo,li.coordsToLatLng=gr,li.coordsToLatLngs=So,li.latLngToCoords=qo,li.latLngsToCoords=ko,li.getFeature=To,li.asFeature=ds,yi.mergeOptions({boxZoom:!0});var Pn=bo.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Vi(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){st(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){di(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||1!==a.which&&1!==a.button)return!1;this._clearDeferredResetState(),this._resetState(),ii(),ho(),this._startPoint=this._map.mouseEventToContainerPoint(a),Vi(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=_i("div","leaflet-zoom-box",this._container),Je(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var v=new Re(this._point,this._startPoint),R=v.getSize();an(this._box,v.min),this._box.style.width=R.x+"px",this._box.style.height=R.y+"px"},_finish:function(){this._moved&&(di(this._box),dt(this._container,"leaflet-crosshair")),In(),Ii(),st(document,{contextmenu:oi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if((1===a.which||1===a.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout($(this._resetState,this),0);var v=new Ve(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(v).fire("boxzoomend",{boxZoomBounds:v})}},_onKeyDown:function(a){27===a.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});yi.addInitHook("addHandler","boxZoom",Pn),yi.mergeOptions({doubleClickZoom:!0});var Wn=bo.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var v=this._map,R=v.getZoom(),te=v.options.zoomDelta,be=a.originalEvent.shiftKey?R-te:R+te;"center"===v.options.doubleClickZoom?v.setZoom(be):v.setZoomAround(a.containerPoint,be)}});yi.addInitHook("addHandler","doubleClickZoom",Wn),yi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ri=bo.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Yr(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Je(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){dt(this._map._container,"leaflet-grab"),dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var v=Ce(this._map.options.maxBounds);this._offsetLimit=De(this._map.latLngToContainerPoint(v.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(v.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var v=this._lastTime=+new Date,R=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(R),this._times.push(v),this._prunePositions(v)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),v=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=v.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,v){return a-(a-v)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var a=this._draggable._newPos.subtract(this._draggable._startPos),v=this._offsetLimit;a.x<v.min.x&&(a.x=this._viscousLimit(a.x,v.min.x)),a.y<v.min.y&&(a.y=this._viscousLimit(a.y,v.min.y)),a.x>v.max.x&&(a.x=this._viscousLimit(a.x,v.max.x)),a.y>v.max.y&&(a.y=this._viscousLimit(a.y,v.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,v=Math.round(a/2),R=this._initialWorldOffset,te=this._draggable._newPos.x,be=(te-v+R)%a+v-R,qe=(te+v+R)%a-v-R,Nt=Math.abs(be+R)<Math.abs(qe+R)?be:qe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Nt},_onDragEnd:function(a){var v=this._map,R=v.options,te=!R.inertia||a.noInertia||this._times.length<2;if(v.fire("dragend",a),te)v.fire("moveend");else{this._prunePositions(+new Date);var be=this._lastPos.subtract(this._positions[0]),Nt=R.easeLinearity,dn=be.multiplyBy(Nt/((this._lastTime-this._times[0])/1e3)),bn=dn.distanceTo([0,0]),Rn=Math.min(R.inertiaMaxSpeed,bn),ci=dn.multiplyBy(Rn/bn),Mi=Rn/(R.inertiaDeceleration*Nt),Ur=ci.multiplyBy(-Mi/2).round();Ur.x||Ur.y?(Ur=v._limitOffset(Ur,v.options.maxBounds),Ge(function(){v.panBy(Ur,{duration:Mi,easeLinearity:Nt,noMoveStart:!0,animate:!0})})):v.fire("moveend")}}});yi.addInitHook("addHandler","dragging",Ri),yi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Fi=bo.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Vi(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),st(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,v=document.documentElement,R=a.scrollTop||v.scrollTop,te=a.scrollLeft||v.scrollLeft;this._map._container.focus(),window.scrollTo(te,R)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var te,be,v=this._panKeys={},R=this.keyCodes;for(te=0,be=R.left.length;te<be;te++)v[R.left[te]]=[-1*a,0];for(te=0,be=R.right.length;te<be;te++)v[R.right[te]]=[a,0];for(te=0,be=R.down.length;te<be;te++)v[R.down[te]]=[0,a];for(te=0,be=R.up.length;te<be;te++)v[R.up[te]]=[0,-1*a]},_setZoomDelta:function(a){var te,be,v=this._zoomKeys={},R=this.keyCodes;for(te=0,be=R.zoomIn.length;te<be;te++)v[R.zoomIn[te]]=a;for(te=0,be=R.zoomOut.length;te<be;te++)v[R.zoomOut[te]]=-a},_addHooks:function(){Vi(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){st(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var te,v=a.keyCode,R=this._map;if(v in this._panKeys){if(!R._panAnim||!R._panAnim._inProgress)if(te=this._panKeys[v],a.shiftKey&&(te=Te(te).multiplyBy(3)),R.options.maxBounds&&(te=R._limitOffset(Te(te),R.options.maxBounds)),R.options.worldCopyJump){var be=R.wrapLatLng(R.unproject(R.project(R.getCenter()).add(te)));R.panTo(be)}else R.panBy(te)}else if(v in this._zoomKeys)R.setZoom(R.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[v]);else{if(27!==v||!R._popup||!R._popup.options.closeOnEscapeKey)return;R.closePopup()}oi(a)}}});yi.addInitHook("addHandler","keyboard",Fi),yi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Si=bo.extend({addHooks:function(){Vi(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){st(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var v=Sr(a),R=this._map.options.wheelDebounceTime;this._delta+=v,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var te=Math.max(R-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout($(this._performZoom,this),te),oi(a)},_performZoom:function(){var a=this._map,v=a.getZoom(),R=this._map.options.zoomSnap||0;a._stop();var be=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,qe=R?Math.ceil(be/R)*R:be,Nt=a._limitZoom(v+(this._delta>0?qe:-qe))-v;this._delta=0,this._startTime=null,Nt&&("center"===a.options.scrollWheelZoom?a.setZoom(v+Nt):a.setZoomAround(this._lastMousePos,v+Nt))}});yi.addInitHook("addHandler","scrollWheelZoom",Si);yi.mergeOptions({tapHold:Ot.touchNative&&Ot.safari&&Ot.mobile,tapTolerance:15});var Vr=bo.extend({addHooks:function(){Vi(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){st(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),1===a.touches.length){var v=a.touches[0];this._startPos=this._newPos=new pe(v.clientX,v.clientY),this._holdTimeout=setTimeout($(function(){this._cancel(),this._isTapValid()&&(Vi(document,"touchend",wn),Vi(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",v))},this),600),Vi(document,"touchend touchcancel contextmenu",this._cancel,this),Vi(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){st(document,"touchend",wn),st(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),st(document,"touchend touchcancel contextmenu",this._cancel,this),st(document,"touchmove",this._onMove,this)},_onMove:function(a){var v=a.touches[0];this._newPos=new pe(v.clientX,v.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,v){var R=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY});R._simulated=!0,v.target.dispatchEvent(R)}});yi.addInitHook("addHandler","tapHold",Vr),yi.mergeOptions({touchZoom:Ot.touch,bounceAtZoomLimits:!0});var Lr=bo.extend({addHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),Vi(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),st(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var v=this._map;if(a.touches&&2===a.touches.length&&!v._animatingZoom&&!this._zooming){var R=v.mouseEventToContainerPoint(a.touches[0]),te=v.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=v.getSize()._divideBy(2),this._startLatLng=v.containerPointToLatLng(this._centerPoint),"center"!==v.options.touchZoom&&(this._pinchStartLatLng=v.containerPointToLatLng(R.add(te)._divideBy(2))),this._startDist=R.distanceTo(te),this._startZoom=v.getZoom(),this._moved=!1,this._zooming=!0,v._stop(),Vi(document,"touchmove",this._onTouchMove,this),Vi(document,"touchend touchcancel",this._onTouchEnd,this),wn(a)}},_onTouchMove:function(a){if(a.touches&&2===a.touches.length&&this._zooming){var v=this._map,R=v.mouseEventToContainerPoint(a.touches[0]),te=v.mouseEventToContainerPoint(a.touches[1]),be=R.distanceTo(te)/this._startDist;if(this._zoom=v.getScaleZoom(be,this._startZoom),!v.options.bounceAtZoomLimits&&(this._zoom<v.getMinZoom()&&be<1||this._zoom>v.getMaxZoom()&&be>1)&&(this._zoom=v._limitZoom(this._zoom)),"center"===v.options.touchZoom){if(this._center=this._startLatLng,1===be)return}else{var qe=R._add(te)._divideBy(2)._subtract(this._centerPoint);if(1===be&&0===qe.x&&0===qe.y)return;this._center=v.unproject(v.project(this._pinchStartLatLng,this._zoom).subtract(qe),this._zoom)}this._moved||(v._moveStart(!0,!1),this._moved=!0),Ze(this._animRequest);var Nt=$(v._move,v,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Ge(Nt,this,!0),wn(a)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Ze(this._animRequest),st(document,"touchmove",this._onTouchMove,this),st(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});yi.addInitHook("addHandler","touchZoom",Lr),yi.BoxZoom=Pn,yi.DoubleClickZoom=Wn,yi.Drag=Ri,yi.Keyboard=Fi,yi.ScrollWheelZoom=Si,yi.TapHold=Vr,yi.TouchZoom=Lr,A.Bounds=Re,A.Browser=Ot,A.CRS=Fe,A.Canvas=m,A.Circle=Jt,A.CircleMarker=Rt,A.Class=ct,A.Control=jn,A.DivIcon=es,A.DivOverlay=rs,A.DomEvent=or,A.DomUtil=zr,A.Draggable=Yr,A.Evented=ge,A.FeatureGroup=fe,A.GeoJSON=li,A.GridLayer=Ts,A.Handler=bo,A.Icon=N,A.ImageOverlay=is,A.LatLng=Ue,A.LatLngBounds=Ve,A.Layer=hi,A.LayerGroup=Zn,A.LineUtil=Dt,A.Map=yi,A.Marker=V,A.Mixin=Dr,A.Path=Xe,A.Point=pe,A.PolyUtil=zo,A.Polygon=mi,A.Polyline=fi,A.Popup=Qo,A.PosAnimation=Cr,A.Projection=en,A.Rectangle=nn,A.Renderer=U,A.SVG=pt,A.SVGOverlay=ms,A.TileLayer=cs,A.Tooltip=Es,A.Transformation=cn,A.Util=rt,A.VideoOverlay=Rs,A.bind=$,A.bounds=De,A.canvas=P,A.circle=function zn(a,v,R){return new Jt(a,v,R)},A.circleMarker=function Bt(a,v){return new Rt(a,v)},A.control=Li,A.divIcon=function Hs(a){return new es(a)},A.extend=F,A.featureGroup=function(a,v){return new fe(a,v)},A.geoJSON=as,A.geoJson=Ms,A.gridLayer=function Yo(a){return new Ts(a)},A.icon=function h(a){return new N(a)},A.imageOverlay=function(a,v,R){return new is(a,v,R)},A.latLng=Me,A.latLngBounds=Ce,A.layerGroup=function(a,v){return new Zn(a,v)},A.map=function yr(a,v){return new yi(a,v)},A.marker=function ee(a,v){return new V(a,v)},A.point=Te,A.polygon=function nr(a,v){return new mi(a,v)},A.polyline=function Ei(a,v){return new fi(a,v)},A.popup=function(a,v){return new Qo(a,v)},A.rectangle=function pn(a,v){return new nn(a,v)},A.setOptions=le,A.stamp=Y,A.svg=Pt,A.svgOverlay=function Os(a,v,R){return new ms(a,v,R)},A.tileLayer=Mo,A.tooltip=function(a,v){return new Es(a,v)},A.transformation=En,A.version="1.9.4",A.videoOverlay=function As(a,v,R){return new Rs(a,v,R)};var Oo=window.L;A.noConflict=function(){return window.L=Oo,this},window.L=A}(H)},936:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});var A=function(){function Q(Y,Z){for(var G=0;G<Z.length;G++){var J=Z[G];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(Y,J.key,J)}}return function(Y,Z,G){return Z&&Q(Y.prototype,Z),G&&Q(Y,G),Y}}();function r(Q,Y){if(!(Q instanceof Y))throw new TypeError("Cannot call a class as a function")}var F=function(){function Q(Y,Z,G){void 0===Z&&(Z=!1),r(this,Q),this._fn=Y,this._once=Z,this._thisArg=G,this._next=this._prev=this._owner=null}return A(Q,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),Q}();function q(Q,Y){return Q._head?(Q._tail._next=Y,Y._prev=Q._tail,Q._tail=Y):(Q._head=Y,Q._tail=Y),Y._owner=Q,Y}var $=function(){function Q(){r(this,Q),this._head=this._tail=void 0}return A(Q,[{key:"handlers",value:function(){var G=this._head;if(!(arguments.length<=0||void 0===arguments[0])&&arguments[0])return!!G;for(var J=[];G;)J.push(G),G=G._next;return J}},{key:"has",value:function(Z){if(!(Z instanceof F))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return Z._owner===this}},{key:"dispatch",value:function(){var Z=this._head;if(!Z)return!1;for(;Z;)Z._once&&this.detach(Z),Z._fn.apply(Z._thisArg,arguments),Z=Z._next;return!0}},{key:"add",value:function(Z){var G=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof Z)throw new Error("MiniSignal#add(): First arg must be a Function.");return q(this,new F(Z,!1,G))}},{key:"once",value:function(Z){var G=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof Z)throw new Error("MiniSignal#once(): First arg must be a Function.");return q(this,new F(Z,!0,G))}},{key:"detach",value:function(Z){if(!(Z instanceof F))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return Z._owner!==this||(Z._prev&&(Z._prev._next=Z._next),Z._next&&(Z._next._prev=Z._prev),Z===this._head?(this._head=Z._next,null===Z._next&&(this._tail=null)):Z===this._tail&&(this._tail=Z._prev,this._tail._next=null),Z._owner=null),this}},{key:"detachAll",value:function(){var Z=this._head;if(!Z)return this;for(this._head=this._tail=null;Z;)Z._owner=null,Z=Z._next;return this}}]),Q}();$.MiniSignalBinding=F,H.default=$,Ct.exports=H.default},5943:Ct=>{"use strict";var H=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;Ct.exports=function q(){try{if(!Object.assign)return!1;var $=new String("abc");if($[5]="de","5"===Object.getOwnPropertyNames($)[0])return!1;for(var Q={},Y=0;Y<10;Y++)Q["_"+String.fromCharCode(Y)]=Y;if("0123456789"!==Object.getOwnPropertyNames(Q).map(function(J){return Q[J]}).join(""))return!1;var G={};return"abcdefghijklmnopqrst".split("").forEach(function(J){G[J]=J}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},G)).join("")}catch{return!1}}()?Object.assign:function($,Q){for(var Y,G,Z=function F($){if(null==$)throw new TypeError("Object.assign cannot be called with null or undefined");return Object($)}($),J=1;J<arguments.length;J++){for(var ue in Y=Object(arguments[J]))A.call(Y,ue)&&(Z[ue]=Y[ue]);if(H){G=H(Y);for(var oe=0;oe<G.length;oe++)r.call(Y,G[oe])&&(Z[G[oe]]=Y[G[oe]])}}return Z}},7024:(Ct,H,A)=>{var r="function"==typeof Map&&Map.prototype,F=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,q=r&&F&&"function"==typeof F.get?F.get:null,$=r&&Map.prototype.forEach,Q="function"==typeof Set&&Set.prototype,Y=Object.getOwnPropertyDescriptor&&Q?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Z=Q&&Y&&"function"==typeof Y.get?Y.get:null,G=Q&&Set.prototype.forEach,ue="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,ce="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,de="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,ke=Boolean.prototype.valueOf,xe=Object.prototype.toString,se=Function.prototype.toString,_e=String.prototype.match,Ie=String.prototype.slice,Be=String.prototype.replace,tt=String.prototype.toUpperCase,Ae=String.prototype.toLowerCase,vt=RegExp.prototype.test,Le=Array.prototype.concat,Ge=Array.prototype.join,Ze=Array.prototype.slice,rt=Math.floor,ct="function"==typeof BigInt?BigInt.prototype.valueOf:null,ze=Object.getOwnPropertySymbols,Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ge="function"==typeof Symbol&&"object"==typeof Symbol.iterator,pe="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,Se=Object.prototype.propertyIsEnumerable,Te=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(At){return At.__proto__}:null);function Re(At,lt){if(At===1/0||At===-1/0||At!=At||At&&At>-1e3&&At<1e3||vt.call(/e/,lt))return lt;var Xn=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof At){var Nn=At<0?-rt(-At):rt(At);if(Nn!==At){var Di=String(Nn),Kn=Ie.call(lt,Di.length+1);return Be.call(Di,Xn,"$&_")+"."+Be.call(Be.call(Kn,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Be.call(lt,Xn,"$&_")}var De=A(4654),Ve=De.custom,Ce=Et(Ve)?Ve:null;function Ue(At,lt,Xn){var Nn="double"===(Xn.quoteStyle||lt)?'"':"'";return Nn+At+Nn}function Me(At){return Be.call(String(At),/"/g,"&quot;")}function Fe(At){return!("[object Array]"!==mn(At)||pe&&"object"==typeof At&&pe in At)}function _t(At){return!("[object RegExp]"!==mn(At)||pe&&"object"==typeof At&&pe in At)}function Et(At){if(ge)return At&&"object"==typeof At&&At instanceof Symbol;if("symbol"==typeof At)return!0;if(!At||"object"!=typeof At||!Ke)return!1;try{return Ke.call(At),!0}catch{}return!1}Ct.exports=function At(lt,Xn,Nn,Di){var Kn=Xn||{};if(Wt(Kn,"quoteStyle")&&"single"!==Kn.quoteStyle&&"double"!==Kn.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Wt(Kn,"maxStringLength")&&("number"==typeof Kn.maxStringLength?Kn.maxStringLength<0&&Kn.maxStringLength!==1/0:null!==Kn.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var lr=!Wt(Kn,"customInspect")||Kn.customInspect;if("boolean"!=typeof lr&&"symbol"!==lr)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Wt(Kn,"indent")&&null!==Kn.indent&&"\t"!==Kn.indent&&!(parseInt(Kn.indent,10)===Kn.indent&&Kn.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Wt(Kn,"numericSeparator")&&"boolean"!=typeof Kn.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Qi=Kn.numericSeparator;if(typeof lt>"u")return"undefined";if(null===lt)return"null";if("boolean"==typeof lt)return lt?"true":"false";if("string"==typeof lt)return Mr(lt,Kn);if("number"==typeof lt){if(0===lt)return 1/0/lt>0?"0":"-0";var Zt=String(lt);return Qi?Re(lt,Zt):Zt}if("bigint"==typeof lt){var bt=String(lt)+"n";return Qi?Re(lt,bt):bt}var kt=typeof Kn.depth>"u"?5:Kn.depth;if(typeof Nn>"u"&&(Nn=0),Nn>=kt&&kt>0&&"object"==typeof lt)return Fe(lt)?"[Array]":"[Object]";var vn=function nt(At,lt){var Xn;if("\t"===At.indent)Xn="\t";else{if(!("number"==typeof At.indent&&At.indent>0))return null;Xn=Ge.call(Array(At.indent+1)," ")}return{base:Xn,prev:Ge.call(Array(lt+1),Xn)}}(Kn,Nn);if(typeof Di>"u")Di=[];else if(_n(Di,lt)>=0)return"[Circular]";function yn(Hi,Zi,Rr){if(Zi&&(Di=Ze.call(Di)).push(Zi),Rr){var Fr={depth:Kn.depth};return Wt(Kn,"quoteStyle")&&(Fr.quoteStyle=Kn.quoteStyle),At(Hi,Fr,Nn+1,Di)}return At(Hi,Kn,Nn+1,Di)}if("function"==typeof lt&&!_t(lt)){var Vt=function Cn(At){if(At.name)return At.name;var lt=_e.call(se.call(At),/^function\s*([\w$]+)/);return lt?lt[1]:null}(lt),ai=sn(lt,yn);return"[Function"+(Vt?": "+Vt:" (anonymous)")+"]"+(ai.length>0?" { "+Ge.call(ai,", ")+" }":"")}if(Et(lt)){var si=ge?Be.call(String(lt),/^(Symbol\(.*\))_[^)]*$/,"$1"):Ke.call(lt);return"object"!=typeof lt||ge?si:Sn(si)}if(function cr(At){return!(!At||"object"!=typeof At)&&(typeof HTMLElement<"u"&&At instanceof HTMLElement||"string"==typeof At.nodeName&&"function"==typeof At.getAttribute)}(lt)){for(var Jn="<"+Ae.call(String(lt.nodeName)),Xi=lt.attributes||[],tr=0;tr<Xi.length;tr++)Jn+=" "+Xi[tr].name+"="+Ue(Me(Xi[tr].value),"double",Kn);return Jn+=">",lt.childNodes&&lt.childNodes.length&&(Jn+="..."),Jn+"</"+Ae.call(String(lt.nodeName))+">"}if(Fe(lt)){if(0===lt.length)return"[]";var Ot=sn(lt,yn);return vn&&!function xt(At){for(var lt=0;lt<At.length;lt++)if(_n(At[lt],"\n")>=0)return!1;return!0}(Ot)?"["+ln(Ot,vn)+"]":"[ "+Ge.call(Ot,", ")+" ]"}if(function Mt(At){return!("[object Error]"!==mn(At)||pe&&"object"==typeof At&&pe in At)}(lt)){var Ut=sn(lt,yn);return"cause"in Error.prototype||!("cause"in lt)||Se.call(lt,"cause")?0===Ut.length?"["+String(lt)+"]":"{ ["+String(lt)+"] "+Ge.call(Ut,", ")+" }":"{ ["+String(lt)+"] "+Ge.call(Le.call("[cause]: "+yn(lt.cause),Ut),", ")+" }"}if("object"==typeof lt&&lr){if(Ce&&"function"==typeof lt[Ce]&&De)return De(lt,{depth:kt-Nn});if("symbol"!==lr&&"function"==typeof lt.inspect)return lt.inspect()}if(function ui(At){if(!q||!At||"object"!=typeof At)return!1;try{q.call(At);try{Z.call(At)}catch{return!0}return At instanceof Map}catch{}return!1}(lt)){var ft=[];return $&&$.call(lt,function(Hi,Zi){ft.push(yn(Zi,lt,!0)+" => "+yn(Hi,lt))}),Tt("Map",q.call(lt),ft,vn)}if(function er(At){if(!Z||!At||"object"!=typeof At)return!1;try{Z.call(At);try{q.call(At)}catch{return!0}return At instanceof Set}catch{}return!1}(lt)){var Yt=[];return G&&G.call(lt,function(Hi){Yt.push(yn(Hi,lt))}),Tt("Set",Z.call(lt),Yt,vn)}if(function wi(At){if(!ue||!At||"object"!=typeof At)return!1;try{ue.call(At,ue);try{ce.call(At,ce)}catch{return!0}return At instanceof WeakMap}catch{}return!1}(lt))return Bn("WeakMap");if(function br(At){if(!ce||!At||"object"!=typeof At)return!1;try{ce.call(At,ce);try{ue.call(At,ue)}catch{return!0}return At instanceof WeakSet}catch{}return!1}(lt))return Bn("WeakSet");if(function Oi(At){if(!de||!At||"object"!=typeof At)return!1;try{return de.call(At),!0}catch{}return!1}(lt))return Bn("WeakRef");if(function En(At){return!("[object Number]"!==mn(At)||pe&&"object"==typeof At&&pe in At)}(lt))return Sn(yn(Number(lt)));if(function at(At){if(!At||"object"!=typeof At||!ct)return!1;try{return ct.call(At),!0}catch{}return!1}(lt))return Sn(yn(ct.call(lt)));if(function on(At){return!("[object Boolean]"!==mn(At)||pe&&"object"==typeof At&&pe in At)}(lt))return Sn(ke.call(lt));if(function cn(At){return!("[object String]"!==mn(At)||pe&&"object"==typeof At&&pe in At)}(lt))return Sn(yn(String(lt)));if(typeof window<"u"&&lt===window)return"{ [object Window] }";if(typeof globalThis<"u"&&lt===globalThis||typeof global<"u"&&lt===global)return"{ [object globalThis] }";if(!function mt(At){return!("[object Date]"!==mn(At)||pe&&"object"==typeof At&&pe in At)}(lt)&&!_t(lt)){var hn=sn(lt,yn),kn=Te?Te(lt)===Object.prototype:lt instanceof Object||lt.constructor===Object,Yn=lt instanceof Object?"":"null prototype",ei=!kn&&pe&&Object(lt)===lt&&pe in lt?Ie.call(mn(lt),8,-1):Yn?"Object":"",rr=(kn||"function"!=typeof lt.constructor?"":lt.constructor.name?lt.constructor.name+" ":"")+(ei||Yn?"["+Ge.call(Le.call([],ei||[],Yn||[]),": ")+"] ":"");return 0===hn.length?rr+"{}":vn?rr+"{"+ln(hn,vn)+"}":rr+"{ "+Ge.call(hn,", ")+" }"}return String(lt)};var tn=Object.prototype.hasOwnProperty||function(At){return At in this};function Wt(At,lt){return tn.call(At,lt)}function mn(At){return xe.call(At)}function _n(At,lt){if(At.indexOf)return At.indexOf(lt);for(var Xn=0,Nn=At.length;Xn<Nn;Xn++)if(At[Xn]===lt)return Xn;return-1}function Mr(At,lt){if(At.length>lt.maxStringLength){var Xn=At.length-lt.maxStringLength,Nn="... "+Xn+" more character"+(Xn>1?"s":"");return Mr(Ie.call(At,0,lt.maxStringLength),lt)+Nn}return Ue(Be.call(Be.call(At,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,ir),"single",lt)}function ir(At){var lt=At.charCodeAt(0),Xn={8:"b",9:"t",10:"n",12:"f",13:"r"}[lt];return Xn?"\\"+Xn:"\\x"+(lt<16?"0":"")+tt.call(lt.toString(16))}function Sn(At){return"Object("+At+")"}function Bn(At){return At+" { ? }"}function Tt(At,lt,Xn,Nn){return At+" ("+lt+") {"+(Nn?ln(Xn,Nn):Ge.call(Xn,", "))+"}"}function ln(At,lt){if(0===At.length)return"";var Xn="\n"+lt.prev+lt.base;return Xn+Ge.call(At,","+Xn)+"\n"+lt.prev}function sn(At,lt){var Xn=Fe(At),Nn=[];if(Xn){Nn.length=At.length;for(var Di=0;Di<At.length;Di++)Nn[Di]=Wt(At,Di)?lt(At[Di],At):""}var lr,Kn="function"==typeof ze?ze(At):[];if(ge){lr={};for(var Qi=0;Qi<Kn.length;Qi++)lr["$"+Kn[Qi]]=Kn[Qi]}for(var Zt in At)Wt(At,Zt)&&(Xn&&String(Number(Zt))===Zt&&Zt<At.length||ge&&lr["$"+Zt]instanceof Symbol||(vt.call(/[^\w$]/,Zt)?Nn.push(lt(Zt,At)+": "+lt(At[Zt],At)):Nn.push(Zt+": "+lt(At[Zt],At))));if("function"==typeof ze)for(var bt=0;bt<Kn.length;bt++)Se.call(At,Kn[bt])&&Nn.push("["+lt(Kn[bt])+"]: "+lt(At[Kn[bt]],At));return Nn}},9515:Ct=>{"use strict";Ct.exports=(H,A={})=>{if(!H)return;const r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},F=r.parser[A.strictMode?"strict":"loose"].exec(H),q={};let $=14;for(;$--;)q[r.key[$]]=F[$]||"";return q[r.q.name]={},q[r.key[12]].replace(r.q.parser,function(Q,Y,Z){Y&&(q[r.q.name][Y]=Z)}),q}},4520:(Ct,H,A)=>{"use strict";A.r(H),A.d(H,{ALPHA_MODES:()=>at,AbstractBatchRenderer:()=>Rn,AbstractRenderer:()=>v,AccessibilityManager:()=>ho,AnimatedSprite:()=>Aa,AppLoaderPlugin:()=>Ha,Application:()=>Wi,Attribute:()=>Ao,BLEND_MODES:()=>Fe,BUFFER_BITS:()=>Me,BasePrepare:()=>_u,BaseRenderTexture:()=>yo,BaseTexture:()=>gi,BatchDrawCall:()=>Nt,BatchGeometry:()=>Mi,BatchPluginFactory:()=>bi,BatchRenderer:()=>Ui,BatchShaderGenerator:()=>ci,BatchTextureArray:()=>dn,BitmapFont:()=>zs,BitmapFontData:()=>Ya,BitmapFontLoader:()=>Bl,BitmapText:()=>wd,Bounds:()=>Er,Buffer:()=>Pr,CLEAR_MODES:()=>tn,Circle:()=>Rr,Container:()=>Qt,CountLimiter:()=>pd,DEG_TO_RAD:()=>rr,DRAW_MODES:()=>mt,DisplayObject:()=>Je,ENV:()=>Ce,Ellipse:()=>Fr,Extract:()=>hs,FORMATS:()=>_t,FillStyle:()=>k,Filter:()=>Qo,FilterState:()=>z,Framebuffer:()=>mo,GC_MODES:()=>Wt,GLFramebuffer:()=>Ft,GLProgram:()=>me,GLTexture:()=>Vr,GRAPHICS_CURVES:()=>I,Geometry:()=>$o,Graphics:()=>ja,GraphicsData:()=>ps,GraphicsGeometry:()=>ns,IGLUniformData:()=>W,InteractionData:()=>fo,InteractionEvent:()=>zr,InteractionManager:()=>Gt,InteractionTrackingData:()=>Vi,LINE_CAP:()=>E,LINE_JOIN:()=>p,LineStyle:()=>vs,Loader:()=>fs,LoaderResource:()=>xa,MASK_TYPES:()=>Cn,MIPMAP_MODES:()=>Et,MSAA_QUALITY:()=>_n,MaskData:()=>hi,Matrix:()=>Ki,Mesh:()=>Wa,MeshBatchUvs:()=>Eu,MeshGeometry:()=>nl,MeshMaterial:()=>_l,NineSlicePlane:()=>Vd,ObjectRenderer:()=>Pe,ObservablePoint:()=>Nr,PI_2:()=>ei,PRECISION:()=>mn,ParticleContainer:()=>Pa,ParticleRenderer:()=>c,PlaneGeometry:()=>zu,Point:()=>hr,Polygon:()=>go,Prepare:()=>vc,Program:()=>Jo,Quad:()=>Zr,QuadUv:()=>Ko,RAD_TO_DEG:()=>mr,RENDERER_TYPE:()=>Ue,Rectangle:()=>Zi,RenderTexture:()=>co,RenderTexturePool:()=>Yr,Renderer:()=>R,RopeGeometry:()=>$u,RoundedRectangle:()=>Do,Runner:()=>un,SCALE_MODES:()=>En,SHAPES:()=>Hi,Shader:()=>as,SimpleMesh:()=>Bd,SimplePlane:()=>Gu,SimpleRope:()=>Rc,Sprite:()=>ks,SpriteMaskFilter:()=>Hs,Spritesheet:()=>Ll,SpritesheetLoader:()=>_c,State:()=>ms,System:()=>pr,TARGETS:()=>Mt,TEXT_GRADIENT:()=>Ma,TYPES:()=>cn,TemporaryDisplayObject:()=>dt,Text:()=>vl,TextMetrics:()=>Bs,TextStyle:()=>el,Texture:()=>Ti,TextureLoader:()=>Ol,TextureMatrix:()=>es,TextureUvs:()=>_o,Ticker:()=>fr,TickerPlugin:()=>Kr,TilingSprite:()=>yd,TilingSpriteRenderer:()=>Fl,TimeLimiter:()=>yc,Transform:()=>kr,UPDATE_PRIORITY:()=>Ii,UniformGroup:()=>qi,VERSION:()=>Df,ViewableBuffer:()=>bn,WRAP_MODES:()=>on,accessibleTarget:()=>ot,autoDetectRenderer:()=>te,checkMaxIfStatementsInShader:()=>io,defaultFilterVertex:()=>qe,defaultVertex:()=>be,filters:()=>Tf,graphicsUtils:()=>ss,groupD8:()=>di,interactiveTarget:()=>st,isMobile:()=>ze,resources:()=>Wr,settings:()=>pe,systems:()=>Oo,uniformParsers:()=>fi,useDeprecated:()=>Cf,utils:()=>r});var r={};A.r(r),A.d(r,{BaseTextureCache:()=>Jn,CanvasRenderTarget:()=>Ot,DATA_URI:()=>ft,EventEmitter:()=>Te(),ProgramCache:()=>ai,TextureCache:()=>si,clearTextureCache:()=>tr,correctBlendMode:()=>nt,createIndicesForQuads:()=>lt,decomposeDataUri:()=>Yt,deprecation:()=>Vt,destroyTextureCache:()=>Xi,determineCrossOrigin:()=>kn,earcut:()=>De(),getBufferType:()=>Xn,getResolutionOfUrl:()=>Yn,hex2rgb:()=>Mr,hex2string:()=>ir,interleaveTypedArrays:()=>Di,isMobile:()=>ze,isPow2:()=>lr,isWebGLSupported:()=>cr,log2:()=>Qi,nextPow2:()=>Kn,premultiplyBlendMode:()=>xt,premultiplyRgba:()=>ln,premultiplyTint:()=>sn,premultiplyTintToRgba:()=>At,removeItems:()=>Zt,rgb2hex:()=>Bn,sayHello:()=>er,sign:()=>bt,skipHello:()=>Oi,string2hex:()=>Sn,trimCanvas:()=>Ut,uid:()=>vn,url:()=>Ve});var F=A(7793),q=A(5943),$=A.n(q);if(window.Promise||(window.Promise=F.Polyfill),Object.assign||(Object.assign=$()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!window.performance||!window.performance.now){var Y=Date.now();window.performance||(window.performance={}),window.performance.now=function(){return Date.now()-Y}}for(var Z=Date.now(),G=["ms","moz","webkit","o"],J=0;J<G.length&&!window.requestAnimationFrame;++J){var ue=G[J];window.requestAnimationFrame=window[ue+"RequestAnimationFrame"],window.cancelAnimationFrame=window[ue+"CancelAnimationFrame"]||window[ue+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(u){if("function"!=typeof u)throw new TypeError(u+"is not a function");var o=Date.now(),e=16+Z-o;return e<0&&(e=0),Z=o,window.setTimeout(function(){Z=Date.now(),u(performance.now())},e)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(u){return clearTimeout(u)}),Math.sign||(Math.sign=function(o){return 0===(o=Number(o))||isNaN(o)?o:o>0?1:-1}),Number.isInteger||(Number.isInteger=function(o){return"number"==typeof o&&isFinite(o)&&Math.floor(o)===o}),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array),window.Uint8Array||(window.Uint8Array=Array),window.Int32Array||(window.Int32Array=Array);var oe=/iPhone/i,ce=/iPod/i,le=/iPad/i,de=/\biOS-universal(?:.+)Mac\b/i,ke=/\bAndroid(?:.+)Mobile\b/i,xe=/Android/i,se=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,_e=/Silk/i,Ie=/Windows Phone/i,Be=/\bWindows(?:.+)ARM\b/i,tt=/BlackBerry/i,Ae=/BB10/i,vt=/Opera Mini/i,Le=/\b(CriOS|Chrome)(?:.+)Mobile/i,Ge=/Mobile(?:.+)Firefox\b/i,Ze=function(u){return typeof u<"u"&&"MacIntel"===u.platform&&"number"==typeof u.maxTouchPoints&&u.maxTouchPoints>1&&typeof MSStream>"u"},ze=function ct(u){var o={userAgent:"",platform:"",maxTouchPoints:0};!u&&typeof navigator<"u"?o={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:"string"==typeof u?o.userAgent=u:u&&u.userAgent&&(o={userAgent:u.userAgent,platform:u.platform,maxTouchPoints:u.maxTouchPoints||0});var e=o.userAgent,n=e.split("[FBAN");typeof n[1]<"u"&&(e=n[0]),typeof(n=e.split("Twitter"))[1]<"u"&&(e=n[0]);var l=function rt(u){return function(o){return o.test(u)}}(e),S={apple:{phone:l(oe)&&!l(Ie),ipod:l(ce),tablet:!l(oe)&&(l(le)||Ze(o))&&!l(Ie),universal:l(de),device:(l(oe)||l(ce)||l(le)||l(de)||Ze(o))&&!l(Ie)},amazon:{phone:l(se),tablet:!l(se)&&l(_e),device:l(se)||l(_e)},android:{phone:!l(Ie)&&l(se)||!l(Ie)&&l(ke),tablet:!l(Ie)&&!l(se)&&!l(ke)&&(l(_e)||l(xe)),device:!l(Ie)&&(l(se)||l(_e)||l(ke)||l(xe))||l(/\bokhttp\b/i)},windows:{phone:l(Ie),tablet:l(Be),device:l(Ie)||l(Be)},other:{blackberry:l(tt),blackberry10:l(Ae),opera:l(vt),firefox:l(Ge),chrome:l(Le),device:l(tt)||l(Ae)||l(vt)||l(Ge)||l(Le)},any:!1,phone:!1,tablet:!1};return S.any=S.apple.device||S.android.device||S.windows.device||S.other.device,S.phone=S.apple.phone||S.android.phone||S.windows.phone,S.tablet=S.apple.tablet||S.android.tablet||S.windows.tablet,S}(window.navigator),pe={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function Ke(u){var e,o=!0;(ze.tablet||ze.phone)&&(ze.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(o=!1),ze.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(o=!1));return o?u:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:ze.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:function ge(){return!ze.apple.device}(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Se=A(9170),Te=A.n(Se),Re=A(5469),De=A.n(Re),Ve=A(8762),Ce=(()=>{return(u=Ce||(Ce={}))[u.WEBGL_LEGACY=0]="WEBGL_LEGACY",u[u.WEBGL=1]="WEBGL",u[u.WEBGL2=2]="WEBGL2",Ce;var u})(),Ue=(()=>{return(u=Ue||(Ue={}))[u.UNKNOWN=0]="UNKNOWN",u[u.WEBGL=1]="WEBGL",u[u.CANVAS=2]="CANVAS",Ue;var u})(),Me=(()=>{return(u=Me||(Me={}))[u.COLOR=16384]="COLOR",u[u.DEPTH=256]="DEPTH",u[u.STENCIL=1024]="STENCIL",Me;var u})(),Fe=(()=>{return(u=Fe||(Fe={}))[u.NORMAL=0]="NORMAL",u[u.ADD=1]="ADD",u[u.MULTIPLY=2]="MULTIPLY",u[u.SCREEN=3]="SCREEN",u[u.OVERLAY=4]="OVERLAY",u[u.DARKEN=5]="DARKEN",u[u.LIGHTEN=6]="LIGHTEN",u[u.COLOR_DODGE=7]="COLOR_DODGE",u[u.COLOR_BURN=8]="COLOR_BURN",u[u.HARD_LIGHT=9]="HARD_LIGHT",u[u.SOFT_LIGHT=10]="SOFT_LIGHT",u[u.DIFFERENCE=11]="DIFFERENCE",u[u.EXCLUSION=12]="EXCLUSION",u[u.HUE=13]="HUE",u[u.SATURATION=14]="SATURATION",u[u.COLOR=15]="COLOR",u[u.LUMINOSITY=16]="LUMINOSITY",u[u.NORMAL_NPM=17]="NORMAL_NPM",u[u.ADD_NPM=18]="ADD_NPM",u[u.SCREEN_NPM=19]="SCREEN_NPM",u[u.NONE=20]="NONE",u[u.SRC_OVER=0]="SRC_OVER",u[u.SRC_IN=21]="SRC_IN",u[u.SRC_OUT=22]="SRC_OUT",u[u.SRC_ATOP=23]="SRC_ATOP",u[u.DST_OVER=24]="DST_OVER",u[u.DST_IN=25]="DST_IN",u[u.DST_OUT=26]="DST_OUT",u[u.DST_ATOP=27]="DST_ATOP",u[u.ERASE=26]="ERASE",u[u.SUBTRACT=28]="SUBTRACT",u[u.XOR=29]="XOR",Fe;var u})(),mt=(()=>{return(u=mt||(mt={}))[u.POINTS=0]="POINTS",u[u.LINES=1]="LINES",u[u.LINE_LOOP=2]="LINE_LOOP",u[u.LINE_STRIP=3]="LINE_STRIP",u[u.TRIANGLES=4]="TRIANGLES",u[u.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",u[u.TRIANGLE_FAN=6]="TRIANGLE_FAN",mt;var u})(),_t=(()=>{return(u=_t||(_t={}))[u.RGBA=6408]="RGBA",u[u.RGB=6407]="RGB",u[u.ALPHA=6406]="ALPHA",u[u.LUMINANCE=6409]="LUMINANCE",u[u.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",u[u.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",u[u.DEPTH_STENCIL=34041]="DEPTH_STENCIL",_t;var u})(),Mt=(()=>{return(u=Mt||(Mt={}))[u.TEXTURE_2D=3553]="TEXTURE_2D",u[u.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",u[u.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",u[u.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",u[u.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",u[u.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",u[u.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",u[u.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",u[u.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",Mt;var u})(),cn=(()=>{return(u=cn||(cn={}))[u.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",u[u.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",u[u.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",u[u.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",u[u.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",u[u.FLOAT=5126]="FLOAT",u[u.HALF_FLOAT=36193]="HALF_FLOAT",cn;var u})(),En=(()=>{return(u=En||(En={}))[u.NEAREST=0]="NEAREST",u[u.LINEAR=1]="LINEAR",En;var u})(),on=(()=>{return(u=on||(on={}))[u.CLAMP=33071]="CLAMP",u[u.REPEAT=10497]="REPEAT",u[u.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",on;var u})(),Et=(()=>{return(u=Et||(Et={}))[u.OFF=0]="OFF",u[u.POW2=1]="POW2",u[u.ON=2]="ON",Et;var u})(),at=(()=>{return(u=at||(at={}))[u.NPM=0]="NPM",u[u.UNPACK=1]="UNPACK",u[u.PMA=2]="PMA",u[u.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",u[u.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",u[u.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",at;var u})(),tn=(()=>{return(u=tn||(tn={}))[u.NO=0]="NO",u[u.YES=1]="YES",u[u.AUTO=2]="AUTO",u[u.BLEND=0]="BLEND",u[u.CLEAR=1]="CLEAR",u[u.BLIT=2]="BLIT",tn;var u})(),Wt=(()=>{return(u=Wt||(Wt={}))[u.AUTO=0]="AUTO",u[u.MANUAL=1]="MANUAL",Wt;var u})(),mn=(()=>{return(u=mn||(mn={})).LOW="lowp",u.MEDIUM="mediump",u.HIGH="highp",mn;var u})(),Cn=(()=>{return(u=Cn||(Cn={}))[u.NONE=0]="NONE",u[u.SCISSOR=1]="SCISSOR",u[u.STENCIL=2]="STENCIL",u[u.SPRITE=3]="SPRITE",Cn;var u})(),_n=(()=>{return(u=_n||(_n={}))[u.NONE=0]="NONE",u[u.LOW=2]="LOW",u[u.MEDIUM=4]="MEDIUM",u[u.HIGH=8]="HIGH",_n;var u})();pe.RETINA_PREFIX=/@([0-9\.]+)x/,pe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!0;var br,ui=!1,wi="5.3.12";function Oi(){ui=!0}function er(u){var o;ui||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(o=window.console).log.apply(o,["\n %c %c %c PixiJS "+wi+" - \u2730 "+u+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):window.console&&window.console.log("PixiJS "+wi+" - "+u+" - http://www.pixijs.com/"),ui=!0)}function cr(){return typeof br>"u"&&(br=function(){var o={stencil:!0,failIfMajorPerformanceCaveat:pe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",o)||e.getContext("experimental-webgl",o),l=!(!n||!n.getContextAttributes().stencil);if(n){var S=n.getExtension("WEBGL_lose_context");S&&S.loseContext()}return n=null,l}catch{return!1}}()),br}function Mr(u,o){return void 0===o&&(o=[]),o[0]=(u>>16&255)/255,o[1]=(u>>8&255)/255,o[2]=(255&u)/255,o}function ir(u){var o=u.toString(16);return"#"+("000000".substr(0,6-o.length)+o)}function Sn(u){return"string"==typeof u&&"#"===u[0]&&(u=u.substr(1)),parseInt(u,16)}function Bn(u){return(255*u[0]<<16)+(255*u[1]<<8)+(255*u[2]|0)}var xt=function Tt(){for(var u=[],o=[],e=0;e<32;e++)u[e]=e,o[e]=e;u[Fe.NORMAL_NPM]=Fe.NORMAL,u[Fe.ADD_NPM]=Fe.ADD,u[Fe.SCREEN_NPM]=Fe.SCREEN,o[Fe.NORMAL]=Fe.NORMAL_NPM,o[Fe.ADD]=Fe.ADD_NPM,o[Fe.SCREEN]=Fe.SCREEN_NPM;var n=[];return n.push(o),n.push(u),n}();function nt(u,o){return xt[o?1:0][u]}function ln(u,o,e,n){return e=e||new Float32Array(4),n||void 0===n?(e[0]=u[0]*o,e[1]=u[1]*o,e[2]=u[2]*o):(e[0]=u[0],e[1]=u[1],e[2]=u[2]),e[3]=o,e}function sn(u,o){if(1===o)return(255*o<<24)+u;if(0===o)return 0;var e=u>>16&255,n=u>>8&255,l=255&u;return(255*o<<24)+((e=e*o+.5|0)<<16)+((n=n*o+.5|0)<<8)+(l*o+.5|0)}function At(u,o,e,n){return(e=e||new Float32Array(4))[0]=(u>>16&255)/255,e[1]=(u>>8&255)/255,e[2]=(255&u)/255,(n||void 0===n)&&(e[0]*=o,e[1]*=o,e[2]*=o),e[3]=o,e}function lt(u,o){void 0===o&&(o=null);var e=6*u;if((o=o||new Uint16Array(e)).length!==e)throw new Error("Out buffer length is incorrect, got "+o.length+" and expected "+e);for(var n=0,l=0;n<e;n+=6,l+=4)o[n+0]=l+0,o[n+1]=l+1,o[n+2]=l+2,o[n+3]=l+0,o[n+4]=l+2,o[n+5]=l+3;return o}function Xn(u){if(4===u.BYTES_PER_ELEMENT)return u instanceof Float32Array?"Float32Array":u instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===u.BYTES_PER_ELEMENT){if(u instanceof Uint16Array)return"Uint16Array"}else if(1===u.BYTES_PER_ELEMENT&&u instanceof Uint8Array)return"Uint8Array";return null}var Nn={Float32Array,Uint32Array,Int32Array,Uint8Array};function Di(u,o){for(var e=0,n=0,l={},S=0;S<u.length;S++)n+=o[S],e+=u[S].length;var C=new ArrayBuffer(4*e),B=null,ae=0;for(S=0;S<u.length;S++){var Ee=o[S],We=u[S],$e=Xn(We);l[$e]||(l[$e]=new Nn[$e](C)),B=l[$e];for(var je=0;je<We.length;je++)B[(je/Ee|0)*n+ae+je%Ee]=We[je];ae+=Ee}return new Float32Array(C)}function Kn(u){return u+=0===u?1:0,--u,u|=u>>>1,u|=u>>>2,u|=u>>>4,u|=u>>>8,1+(u|=u>>>16)}function lr(u){return!(u&u-1||!u)}function Qi(u){var o=(u>65535?1:0)<<4,e=((u>>>=o)>255?1:0)<<3;return o|=e,o|=e=((u>>>=e)>15?1:0)<<2,(o|=e=((u>>>=e)>3?1:0)<<1)|(u>>>=e)>>1}function Zt(u,o,e){var l,n=u.length;if(!(o>=n||0===e)){var S=n-(e=o+e>n?n-o:e);for(l=o;l<S;++l)u[l]=u[l+e];u.length=S}}function bt(u){return 0===u?0:u<0?-1:1}var kt=0;function vn(){return++kt}var yn={};function Vt(u,o,e){if(void 0===e&&(e=3),!yn[o]){var n=(new Error).stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",o+"\nDeprecated since v"+u):(n=n.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",o+"\nDeprecated since v"+u),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",o+"\nDeprecated since v"+u),console.warn(n))),yn[o]=!0}}var ai={},si=Object.create(null),Jn=Object.create(null);function Xi(){var u;for(u in si)si[u].destroy();for(u in Jn)Jn[u].destroy()}function tr(){var u;for(u in si)delete si[u];for(u in Jn)delete Jn[u]}var Ot=function(){function u(o,e,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||pe.RESOLUTION,this.resize(o,e)}return u.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},u.prototype.resize=function(o,e){this.canvas.width=o*this.resolution,this.canvas.height=e*this.resolution},u.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(u.prototype,"width",{get:function(){return this.canvas.width},set:function(o){this.canvas.width=o},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this.canvas.height},set:function(o){this.canvas.height=o},enumerable:!1,configurable:!0}),u}();function Ut(u){var Ee,We,$e,o=u.width,e=u.height,n=u.getContext("2d"),S=n.getImageData(0,0,o,e).data,C=S.length,B={top:null,left:null,right:null,bottom:null},ae=null;for(Ee=0;Ee<C;Ee+=4)0!==S[Ee+3]&&(We=Ee/4%o,$e=~~(Ee/4/o),null===B.top&&(B.top=$e),(null===B.left||We<B.left)&&(B.left=We),(null===B.right||B.right<We)&&(B.right=We+1),(null===B.bottom||B.bottom<$e)&&(B.bottom=$e));return null!==B.top&&(ae=n.getImageData(B.left,B.top,o=B.right-B.left,e=B.bottom-B.top+1)),{height:e,width:o,data:ae}}var hn,ft=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function Yt(u){var o=ft.exec(u);if(o)return{mediaType:o[1]?o[1].toLowerCase():void 0,subType:o[2]?o[2].toLowerCase():void 0,charset:o[3]?o[3].toLowerCase():void 0,encoding:o[4]?o[4].toLowerCase():void 0,data:o[5]}}function kn(u,o){if(void 0===o&&(o=window.location),0===u.indexOf("data:"))return"";o=o||window.location,hn||(hn=document.createElement("a")),hn.href=u;var e=(0,Ve.parse)(hn.href);return e.hostname!==o.hostname||(e.port||""!==o.port)&&e.port!==o.port||e.protocol!==o.protocol?"anonymous":""}function Yn(u,o){var e=pe.RETINA_PREFIX.exec(u);return e?parseFloat(e[1]):void 0!==o?o:1}var ei=2*Math.PI,mr=180/Math.PI,rr=Math.PI/180,Hi=(()=>{return(u=Hi||(Hi={}))[u.POLY=0]="POLY",u[u.RECT=1]="RECT",u[u.CIRC=2]="CIRC",u[u.ELIP=3]="ELIP",u[u.RREC=4]="RREC",Hi;var u})(),Zi=function(){function u(o,e,n,l){void 0===o&&(o=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===l&&(l=0),this.x=Number(o),this.y=Number(e),this.width=Number(n),this.height=Number(l),this.type=Hi.RECT}return Object.defineProperty(u.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(u,"EMPTY",{get:function(){return new u(0,0,0,0)},enumerable:!1,configurable:!0}),u.prototype.clone=function(){return new u(this.x,this.y,this.width,this.height)},u.prototype.copyFrom=function(o){return this.x=o.x,this.y=o.y,this.width=o.width,this.height=o.height,this},u.prototype.copyTo=function(o){return o.x=this.x,o.y=this.y,o.width=this.width,o.height=this.height,o},u.prototype.contains=function(o,e){return!(this.width<=0||this.height<=0)&&o>=this.x&&o<this.x+this.width&&e>=this.y&&e<this.y+this.height},u.prototype.pad=function(o,e){return void 0===o&&(o=0),void 0===e&&(e=o),this.x-=o,this.y-=e,this.width+=2*o,this.height+=2*e,this},u.prototype.fit=function(o){var e=Math.max(this.x,o.x),n=Math.min(this.x+this.width,o.x+o.width),l=Math.max(this.y,o.y),S=Math.min(this.y+this.height,o.y+o.height);return this.x=e,this.width=Math.max(n-e,0),this.y=l,this.height=Math.max(S-l,0),this},u.prototype.ceil=function(o,e){void 0===o&&(o=1),void 0===e&&(e=.001);var n=Math.ceil((this.x+this.width-e)*o)/o,l=Math.ceil((this.y+this.height-e)*o)/o;return this.x=Math.floor((this.x+e)*o)/o,this.y=Math.floor((this.y+e)*o)/o,this.width=n-this.x,this.height=l-this.y,this},u.prototype.enlarge=function(o){var e=Math.min(this.x,o.x),n=Math.max(this.x+this.width,o.x+o.width),l=Math.min(this.y,o.y),S=Math.max(this.y+this.height,o.y+o.height);return this.x=e,this.width=n-e,this.y=l,this.height=S-l,this},u}(),Rr=function(){function u(o,e,n){void 0===o&&(o=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=o,this.y=e,this.radius=n,this.type=Hi.CIRC}return u.prototype.clone=function(){return new u(this.x,this.y,this.radius)},u.prototype.contains=function(o,e){if(this.radius<=0)return!1;var l=this.x-o,S=this.y-e;return(l*=l)+(S*=S)<=this.radius*this.radius},u.prototype.getBounds=function(){return new Zi(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},u}(),Fr=function(){function u(o,e,n,l){void 0===o&&(o=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===l&&(l=0),this.x=o,this.y=e,this.width=n,this.height=l,this.type=Hi.ELIP}return u.prototype.clone=function(){return new u(this.x,this.y,this.width,this.height)},u.prototype.contains=function(o,e){if(this.width<=0||this.height<=0)return!1;var n=(o-this.x)/this.width,l=(e-this.y)/this.height;return(n*=n)+(l*=l)<=1},u.prototype.getBounds=function(){return new Zi(this.x-this.width,this.y-this.height,this.width,this.height)},u}(),go=function(){function u(){for(var o=arguments,e=[],n=0;n<arguments.length;n++)e[n]=o[n];var l=Array.isArray(e[0])?e[0]:e;if("number"!=typeof l[0]){for(var S=[],C=0,B=l.length;C<B;C++)S.push(l[C].x,l[C].y);l=S}this.points=l,this.type=Hi.POLY,this.closeStroke=!0}return u.prototype.clone=function(){var e=new u(this.points.slice());return e.closeStroke=this.closeStroke,e},u.prototype.contains=function(o,e){for(var n=!1,l=this.points.length/2,S=0,C=l-1;S<l;C=S++){var B=this.points[2*S],ae=this.points[2*S+1],We=this.points[2*C+1];ae>e!=We>e&&o<(e-ae)/(We-ae)*(this.points[2*C]-B)+B&&(n=!n)}return n},u}(),Do=function(){function u(o,e,n,l,S){void 0===o&&(o=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===l&&(l=0),void 0===S&&(S=20),this.x=o,this.y=e,this.width=n,this.height=l,this.radius=S,this.type=Hi.RREC}return u.prototype.clone=function(){return new u(this.x,this.y,this.width,this.height,this.radius)},u.prototype.contains=function(o,e){if(this.width<=0||this.height<=0)return!1;if(o>=this.x&&o<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||o>=this.x+this.radius&&o<=this.x+this.width-this.radius)return!0;var n=o-(this.x+this.radius),l=e-(this.y+this.radius),S=this.radius*this.radius;if(n*n+l*l<=S||(n=o-(this.x+this.width-this.radius))*n+l*l<=S||n*n+(l=e-(this.y+this.height-this.radius))*l<=S||(n=o-(this.x+this.radius))*n+l*l<=S)return!0}return!1},u}(),hr=function(){function u(o,e){void 0===o&&(o=0),void 0===e&&(e=0),this.x=o,this.y=e}return u.prototype.clone=function(){return new u(this.x,this.y)},u.prototype.copyFrom=function(o){return this.set(o.x,o.y),this},u.prototype.copyTo=function(o){return o.set(this.x,this.y),o},u.prototype.equals=function(o){return o.x===this.x&&o.y===this.y},u.prototype.set=function(o,e){return void 0===o&&(o=0),void 0===e&&(e=o),this.x=o,this.y=e,this},u}(),Nr=function(){function u(o,e,n,l){void 0===n&&(n=0),void 0===l&&(l=0),this._x=n,this._y=l,this.cb=o,this.scope=e}return u.prototype.clone=function(o,e){return void 0===o&&(o=this.cb),void 0===e&&(e=this.scope),new u(o,e,this._x,this._y)},u.prototype.set=function(o,e){return void 0===o&&(o=0),void 0===e&&(e=o),(this._x!==o||this._y!==e)&&(this._x=o,this._y=e,this.cb.call(this.scope)),this},u.prototype.copyFrom=function(o){return(this._x!==o.x||this._y!==o.y)&&(this._x=o.x,this._y=o.y,this.cb.call(this.scope)),this},u.prototype.copyTo=function(o){return o.set(this._x,this._y),o},u.prototype.equals=function(o){return o.x===this._x&&o.y===this._y},Object.defineProperty(u.prototype,"x",{get:function(){return this._x},set:function(o){this._x!==o&&(this._x=o,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"y",{get:function(){return this._y},set:function(o){this._y!==o&&(this._y=o,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),u}(),Ki=function(){function u(o,e,n,l,S,C){void 0===o&&(o=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===l&&(l=1),void 0===S&&(S=0),void 0===C&&(C=0),this.array=null,this.a=o,this.b=e,this.c=n,this.d=l,this.tx=S,this.ty=C}return u.prototype.fromArray=function(o){this.a=o[0],this.b=o[1],this.c=o[3],this.d=o[4],this.tx=o[2],this.ty=o[5]},u.prototype.set=function(o,e,n,l,S,C){return this.a=o,this.b=e,this.c=n,this.d=l,this.tx=S,this.ty=C,this},u.prototype.toArray=function(o,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return o?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},u.prototype.apply=function(o,e){e=e||new hr;var n=o.x,l=o.y;return e.x=this.a*n+this.c*l+this.tx,e.y=this.b*n+this.d*l+this.ty,e},u.prototype.applyInverse=function(o,e){e=e||new hr;var n=1/(this.a*this.d+this.c*-this.b),l=o.x,S=o.y;return e.x=this.d*n*l+-this.c*n*S+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*S+-this.b*n*l+(-this.ty*this.a+this.tx*this.b)*n,e},u.prototype.translate=function(o,e){return this.tx+=o,this.ty+=e,this},u.prototype.scale=function(o,e){return this.a*=o,this.d*=e,this.c*=o,this.b*=e,this.tx*=o,this.ty*=e,this},u.prototype.rotate=function(o){var e=Math.cos(o),n=Math.sin(o),l=this.a,S=this.c,C=this.tx;return this.a=l*e-this.b*n,this.b=l*n+this.b*e,this.c=S*e-this.d*n,this.d=S*n+this.d*e,this.tx=C*e-this.ty*n,this.ty=C*n+this.ty*e,this},u.prototype.append=function(o){var e=this.a,n=this.b,l=this.c,S=this.d;return this.a=o.a*e+o.b*l,this.b=o.a*n+o.b*S,this.c=o.c*e+o.d*l,this.d=o.c*n+o.d*S,this.tx=o.tx*e+o.ty*l+this.tx,this.ty=o.tx*n+o.ty*S+this.ty,this},u.prototype.setTransform=function(o,e,n,l,S,C,B,ae,Ee){return this.a=Math.cos(B+Ee)*S,this.b=Math.sin(B+Ee)*S,this.c=-Math.sin(B-ae)*C,this.d=Math.cos(B-ae)*C,this.tx=o-(n*this.a+l*this.c),this.ty=e-(n*this.b+l*this.d),this},u.prototype.prepend=function(o){var e=this.tx;if(1!==o.a||0!==o.b||0!==o.c||1!==o.d){var n=this.a,l=this.c;this.a=n*o.a+this.b*o.c,this.b=n*o.b+this.b*o.d,this.c=l*o.a+this.d*o.c,this.d=l*o.b+this.d*o.d}return this.tx=e*o.a+this.ty*o.c+o.tx,this.ty=e*o.b+this.ty*o.d+o.ty,this},u.prototype.decompose=function(o){var e=this.a,n=this.b,l=this.c,S=this.d,C=-Math.atan2(-l,S),B=Math.atan2(n,e),ae=Math.abs(C+B);return ae<1e-5||Math.abs(ei-ae)<1e-5?(o.rotation=B,o.skew.x=o.skew.y=0):(o.rotation=0,o.skew.x=C,o.skew.y=B),o.scale.x=Math.sqrt(e*e+n*n),o.scale.y=Math.sqrt(l*l+S*S),o.position.x=this.tx,o.position.y=this.ty,o},u.prototype.invert=function(){var o=this.a,e=this.b,n=this.c,l=this.d,S=this.tx,C=o*l-e*n;return this.a=l/C,this.b=-e/C,this.c=-n/C,this.d=o/C,this.tx=(n*this.ty-l*S)/C,this.ty=-(o*this.ty-e*S)/C,this},u.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},u.prototype.clone=function(){var o=new u;return o.a=this.a,o.b=this.b,o.c=this.c,o.d=this.d,o.tx=this.tx,o.ty=this.ty,o},u.prototype.copyTo=function(o){return o.a=this.a,o.b=this.b,o.c=this.c,o.d=this.d,o.tx=this.tx,o.ty=this.ty,o},u.prototype.copyFrom=function(o){return this.a=o.a,this.b=o.b,this.c=o.c,this.d=o.d,this.tx=o.tx,this.ty=o.ty,this},Object.defineProperty(u,"IDENTITY",{get:function(){return new u},enumerable:!1,configurable:!0}),Object.defineProperty(u,"TEMP_MATRIX",{get:function(){return new u},enumerable:!1,configurable:!0}),u}(),wr=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],lo=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],no=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Gr=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],uo=[],zi=[],Bi=Math.sign;!function _i(){for(var u=0;u<16;u++){var o=[];uo.push(o);for(var e=0;e<16;e++)for(var n=Bi(wr[u]*wr[e]+no[u]*lo[e]),l=Bi(lo[u]*wr[e]+Gr[u]*lo[e]),S=Bi(wr[u]*no[e]+no[u]*Gr[e]),C=Bi(lo[u]*no[e]+Gr[u]*Gr[e]),B=0;B<16;B++)if(wr[B]===n&&lo[B]===l&&no[B]===S&&Gr[B]===C){o.push(B);break}}for(u=0;u<16;u++){var ae=new Ki;ae.set(wr[u],lo[u],no[u],Gr[u],0,0),zi.push(ae)}}();var di={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(u){return wr[u]},uY:function(u){return lo[u]},vX:function(u){return no[u]},vY:function(u){return Gr[u]},inv:function(u){return 8&u?15&u:7&-u},add:function(u,o){return uo[u][o]},sub:function(u,o){return uo[u][di.inv(o)]},rotate180:function(u){return 4^u},isVertical:function(u){return 2==(3&u)},byDirection:function(u,o){return 2*Math.abs(u)<=Math.abs(o)?o>=0?di.S:di.N:2*Math.abs(o)<=Math.abs(u)?u>0?di.E:di.W:o>0?u>0?di.SE:di.SW:u>0?di.NE:di.NW},matrixAppendRotationInv:function(u,o,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var l=zi[di.inv(o)];l.tx=e,l.ty=n,u.append(l)}},kr=function(){function u(){this.worldTransform=new Ki,this.localTransform=new Ki,this.position=new Nr(this.onChange,this,0,0),this.scale=new Nr(this.onChange,this,1,1),this.pivot=new Nr(this.onChange,this,0,0),this.skew=new Nr(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return u.prototype.onChange=function(){this._localID++},u.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},u.prototype.updateLocalTransform=function(){var o=this.localTransform;this._localID!==this._currentLocalID&&(o.a=this._cx*this.scale.x,o.b=this._sx*this.scale.x,o.c=this._cy*this.scale.y,o.d=this._sy*this.scale.y,o.tx=this.position.x-(this.pivot.x*o.a+this.pivot.y*o.c),o.ty=this.position.y-(this.pivot.x*o.b+this.pivot.y*o.d),this._currentLocalID=this._localID,this._parentID=-1)},u.prototype.updateTransform=function(o){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==o._worldID){var n=o.worldTransform,l=this.worldTransform;l.a=e.a*n.a+e.b*n.c,l.b=e.a*n.b+e.b*n.d,l.c=e.c*n.a+e.d*n.c,l.d=e.c*n.b+e.d*n.d,l.tx=e.tx*n.a+e.ty*n.c+n.tx,l.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=o._worldID,this._worldID++}},u.prototype.setFromMatrix=function(o){o.decompose(this),this._localID++},Object.defineProperty(u.prototype,"rotation",{get:function(){return this._rotation},set:function(o){this._rotation!==o&&(this._rotation=o,this.updateSkew())},enumerable:!1,configurable:!0}),u.IDENTITY=new u,u}();pe.SORTABLE_CHILDREN=!1;var Er=function(){function u(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return u.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},u.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},u.prototype.getRectangle=function(o){return this.minX>this.maxX||this.minY>this.maxY?Zi.EMPTY:((o=o||new Zi(0,0,1,1)).x=this.minX,o.y=this.minY,o.width=this.maxX-this.minX,o.height=this.maxY-this.minY,o)},u.prototype.addPoint=function(o){this.minX=Math.min(this.minX,o.x),this.maxX=Math.max(this.maxX,o.x),this.minY=Math.min(this.minY,o.y),this.maxY=Math.max(this.maxY,o.y)},u.prototype.addQuad=function(o){var e=this.minX,n=this.minY,l=this.maxX,S=this.maxY,C=o[0],B=o[1];e=C<e?C:e,n=B<n?B:n,l=C>l?C:l,S=B>S?B:S,e=(C=o[2])<e?C:e,n=(B=o[3])<n?B:n,l=C>l?C:l,S=B>S?B:S,e=(C=o[4])<e?C:e,n=(B=o[5])<n?B:n,l=C>l?C:l,S=B>S?B:S,n=(B=o[7])<n?B:n,l=(C=o[6])>l?C:l,S=B>S?B:S,this.minX=e=C<e?C:e,this.minY=n,this.maxX=l,this.maxY=S},u.prototype.addFrame=function(o,e,n,l,S){this.addFrameMatrix(o.worldTransform,e,n,l,S)},u.prototype.addFrameMatrix=function(o,e,n,l,S){var C=o.a,B=o.b,ae=o.c,Ee=o.d,We=o.tx,$e=o.ty,je=this.minX,ht=this.minY,St=this.maxX,It=this.maxY,rn=C*e+ae*n+We,xn=B*e+Ee*n+$e;je=rn<je?rn:je,ht=xn<ht?xn:ht,St=rn>St?rn:St,It=xn>It?xn:It,je=(rn=C*l+ae*n+We)<je?rn:je,ht=(xn=B*l+Ee*n+$e)<ht?xn:ht,St=rn>St?rn:St,It=xn>It?xn:It,je=(rn=C*e+ae*S+We)<je?rn:je,ht=(xn=B*e+Ee*S+$e)<ht?xn:ht,St=rn>St?rn:St,It=xn>It?xn:It,ht=(xn=B*l+Ee*S+$e)<ht?xn:ht,St=(rn=C*l+ae*S+We)>St?rn:St,It=xn>It?xn:It,this.minX=je=rn<je?rn:je,this.minY=ht,this.maxX=St,this.maxY=It},u.prototype.addVertexData=function(o,e,n){for(var l=this.minX,S=this.minY,C=this.maxX,B=this.maxY,ae=e;ae<n;ae+=2){var Ee=o[ae],We=o[ae+1];l=Ee<l?Ee:l,S=We<S?We:S,C=Ee>C?Ee:C,B=We>B?We:B}this.minX=l,this.minY=S,this.maxX=C,this.maxY=B},u.prototype.addVertices=function(o,e,n,l){this.addVerticesMatrix(o.worldTransform,e,n,l)},u.prototype.addVerticesMatrix=function(o,e,n,l,S,C){void 0===S&&(S=0),void 0===C&&(C=S);for(var B=o.a,ae=o.b,Ee=o.c,We=o.d,$e=o.tx,je=o.ty,ht=this.minX,St=this.minY,It=this.maxX,rn=this.maxY,xn=n;xn<l;xn+=2){var Ai=e[xn],Gn=e[xn+1],sr=B*Ai+Ee*Gn+$e,ti=We*Gn+ae*Ai+je;ht=Math.min(ht,sr-S),It=Math.max(It,sr+S),St=Math.min(St,ti-C),rn=Math.max(rn,ti+C)}this.minX=ht,this.minY=St,this.maxX=It,this.maxY=rn},u.prototype.addBounds=function(o){var e=this.minX,n=this.minY,l=this.maxX,S=this.maxY;this.minX=o.minX<e?o.minX:e,this.minY=o.minY<n?o.minY:n,this.maxX=o.maxX>l?o.maxX:l,this.maxY=o.maxY>S?o.maxY:S},u.prototype.addBoundsMask=function(o,e){var n=o.minX>e.minX?o.minX:e.minX,l=o.minY>e.minY?o.minY:e.minY,S=o.maxX<e.maxX?o.maxX:e.maxX,C=o.maxY<e.maxY?o.maxY:e.maxY;if(n<=S&&l<=C){var B=this.minX,ae=this.minY,Ee=this.maxX,We=this.maxY;this.minX=n<B?n:B,this.minY=l<ae?l:ae,this.maxX=S>Ee?S:Ee,this.maxY=C>We?C:We}},u.prototype.addBoundsMatrix=function(o,e){this.addFrameMatrix(e,o.minX,o.minY,o.maxX,o.maxY)},u.prototype.addBoundsArea=function(o,e){var n=o.minX>e.x?o.minX:e.x,l=o.minY>e.y?o.minY:e.y,S=o.maxX<e.x+e.width?o.maxX:e.x+e.width,C=o.maxY<e.y+e.height?o.maxY:e.y+e.height;if(n<=S&&l<=C){var B=this.minX,ae=this.minY,Ee=this.maxX,We=this.maxY;this.minX=n<B?n:B,this.minY=l<ae?l:ae,this.maxX=S>Ee?S:Ee,this.maxY=C>We?C:We}},u.prototype.pad=function(o,e){void 0===o&&(o=0),void 0===e&&(e=o),this.isEmpty()||(this.minX-=o,this.maxX+=o,this.minY-=e,this.maxY+=e)},u.prototype.addFramePad=function(o,e,n,l,S,C){e-=C,n+=S,l+=C,this.minX=this.minX<(o-=S)?this.minX:o,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>l?this.maxY:l},u}(),oo=function(u,o){return(oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)};function Ye(u,o){function e(){this.constructor=u}oo(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}var Je=function(u){function o(){var e=u.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new kr,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Er,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return Ye(o,u),o.mixin=function(e){for(var n=Object.keys(e),l=0;l<n.length;++l){var S=n[l];Object.defineProperty(o.prototype,S,Object.getOwnPropertyDescriptor(e,S))}},o.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},o.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},o.prototype.getBounds=function(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Zi),n=this._boundsRect),this._bounds.getRectangle(n)},o.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Zi),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Er);var n=this.transform,l=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var S=this._bounds,C=this._boundsID;this._bounds=this._localBounds;var B=this.getBounds(!1,e);return this.parent=l,this.transform=n,this._bounds=S,this._bounds.updateID+=this._boundsID-C,B},o.prototype.toGlobal=function(e,n,l){return void 0===l&&(l=!1),l||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)},o.prototype.toLocal=function(e,n,l,S){return n&&(e=n.toGlobal(e,l,S)),S||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,l)},o.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},o.prototype.setTransform=function(e,n,l,S,C,B,ae,Ee,We){return void 0===e&&(e=0),void 0===n&&(n=0),void 0===l&&(l=1),void 0===S&&(S=1),void 0===C&&(C=0),void 0===B&&(B=0),void 0===ae&&(ae=0),void 0===Ee&&(Ee=0),void 0===We&&(We=0),this.position.x=e,this.position.y=n,this.scale.x=l||1,this.scale.y=S||1,this.rotation=C,this.skew.x=B,this.skew.y=ae,this.pivot.x=Ee,this.pivot.y=We,this},o.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(o.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new dt),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),o.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},o.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(o.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"angle",{get:function(){return this.transform.rotation*mr},set:function(e){this.transform.rotation=e*rr},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"mask",{get:function(){return this._mask},set:function(e){var n;this._mask&&((n=this._mask.maskObject||this._mask).renderable=!0,n.isMask=!1),this._mask=e,this._mask&&((n=this._mask.maskObject||this._mask).renderable=!1,n.isMask=!0)},enumerable:!1,configurable:!0}),o}(Te()),dt=function(u){function o(){var e=null!==u&&u.apply(this,arguments)||this;return e.sortDirty=null,e}return Ye(o,u),o}(Je);function Lt(u,o){return u.zIndex===o.zIndex?u._lastSortedIndex-o._lastSortedIndex:u.zIndex-o.zIndex}Je.prototype.displayObjectUpdateTransform=Je.prototype.updateTransform;var Qt=function(u){function o(){var e=u.call(this)||this;return e.children=[],e.sortableChildren=pe.SORTABLE_CHILDREN,e.sortDirty=!1,e}return Ye(o,u),o.prototype.onChildrenChange=function(e){},o.prototype.addChild=function(){for(var e=arguments,n=[],l=0;l<arguments.length;l++)n[l]=e[l];if(n.length>1)for(var S=0;S<n.length;S++)this.addChild(n[S]);else{var C=n[0];C.parent&&C.parent.removeChild(C),C.parent=this,this.sortDirty=!0,C.transform._parentID=-1,this.children.push(C),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",C,this,this.children.length-1),C.emit("added",this)}return n[0]},o.prototype.addChildAt=function(e,n){if(n<0||n>this.children.length)throw new Error(e+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(n,0,e),this._boundsID++,this.onChildrenChange(n),e.emit("added",this),this.emit("childAdded",e,this,n),e},o.prototype.swapChildren=function(e,n){if(e!==n){var l=this.getChildIndex(e),S=this.getChildIndex(n);this.children[l]=n,this.children[S]=e,this.onChildrenChange(l<S?l:S)}},o.prototype.getChildIndex=function(e){var n=this.children.indexOf(e);if(-1===n)throw new Error("The supplied DisplayObject must be a child of the caller");return n},o.prototype.setChildIndex=function(e,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var l=this.getChildIndex(e);Zt(this.children,l,1),this.children.splice(n,0,e),this.onChildrenChange(n)},o.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},o.prototype.removeChild=function(){for(var e=arguments,n=[],l=0;l<arguments.length;l++)n[l]=e[l];if(n.length>1)for(var S=0;S<n.length;S++)this.removeChild(n[S]);else{var C=n[0],B=this.children.indexOf(C);if(-1===B)return null;C.parent=null,C.transform._parentID=-1,Zt(this.children,B,1),this._boundsID++,this.onChildrenChange(B),C.emit("removed",this),this.emit("childRemoved",C,this,B)}return n[0]},o.prototype.removeChildAt=function(e){var n=this.getChildAt(e);return n.parent=null,n.transform._parentID=-1,Zt(this.children,e,1),this._boundsID++,this.onChildrenChange(e),n.emit("removed",this),this.emit("childRemoved",n,this,e),n},o.prototype.removeChildren=function(e,n){void 0===e&&(e=0),void 0===n&&(n=this.children.length);var B,C=n-e;if(C>0&&C<=n){B=this.children.splice(e,C);for(var ae=0;ae<B.length;++ae)B[ae].parent=null,B[ae].transform&&(B[ae].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),ae=0;ae<B.length;++ae)B[ae].emit("removed",this),this.emit("childRemoved",B[ae],this,ae);return B}if(0===C&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},o.prototype.sortChildren=function(){for(var e=!1,n=0,l=this.children.length;n<l;++n){var S=this.children[n];S._lastSortedIndex=n,!e&&0!==S.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(Lt),this.sortDirty=!1},o.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,n=this.children.length;e<n;++e){var l=this.children[e];l.visible&&l.updateTransform()}},o.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var n=this.children[e];if(n.visible&&n.renderable)if(n.calculateBounds(),n._mask){var l=n._mask.maskObject||n._mask;l.calculateBounds(),this._bounds.addBoundsMask(n._bounds,l._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},o.prototype.getLocalBounds=function(e,n){void 0===n&&(n=!1);var l=u.prototype.getLocalBounds.call(this,e);if(!n)for(var S=0,C=this.children.length;S<C;++S){var B=this.children[S];B.visible&&B.updateTransform()}return l},o.prototype._calculateBounds=function(){},o.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var n=0,l=this.children.length;n<l;++n)this.children[n].render(e)}},o.prototype.renderAdvanced=function(e){e.batch.flush();var n=this.filters,l=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var S=0;S<n.length;S++)n[S].enabled&&this._enabledFilters.push(n[S]);this._enabledFilters.length&&e.filter.push(this,this._enabledFilters)}l&&e.mask.push(this,this._mask),this._render(e),S=0;for(var C=this.children.length;S<C;S++)this.children[S].render(e);e.batch.flush(),l&&e.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},o.prototype._render=function(e){},o.prototype.destroy=function(e){u.prototype.destroy.call(this),this.sortDirty=!1;var n="boolean"==typeof e?e:e&&e.children,l=this.removeChildren(0,this.children.length);if(n)for(var S=0;S<l.length;++S)l[S].destroy(e)},Object.defineProperty(o.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var n=this.getLocalBounds().width;this.scale.x=0!==n?e/n:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var n=this.getLocalBounds().height;this.scale.y=0!==n?e/n:1,this._height=e},enumerable:!1,configurable:!0}),o}(Je);Qt.prototype.containerUpdateTransform=Qt.prototype.updateTransform;var ot={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Je.mixin(ot);var zt=100,gn=0,an=0,Hn=2,ho=function(){function u(o){this._hookDiv=null,(ze.tablet||ze.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width=zt+"px",e.style.height=zt+"px",e.style.position="absolute",e.style.top=gn+"px",e.style.left=an+"px",e.style.zIndex=Hn.toString(),this.div=e,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=o,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._isActive=!1,this._isMobileAccessibility=!1,this.androidUpdateCount=0,this.androidUpdateFrequency=500,window.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(u.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),u.prototype.createTouchHook=function(){var o=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessability for this content",e.addEventListener("focus",function(){o._isMobileAccessibility=!0,o.activate(),o.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},u.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},u.prototype.activate=function(){this._isActive||(this._isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},u.prototype.deactivate=function(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},u.prototype.updateAccessibleObjects=function(o){if(o.visible&&o.accessibleChildren){o.accessible&&o.interactive&&(o._accessibleActive||this.addChild(o),o.renderId=this.renderId);for(var e=o.children,n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},u.prototype.update=function(){var o=performance.now();if(!(ze.android.device&&o<this.androidUpdateCount)&&(this.androidUpdateCount=o+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),n=this.renderer.resolution,l=e.width/this.renderer.width*n,S=e.height/this.renderer.height*n,C=this.div;C.style.left=e.left+"px",C.style.top=e.top+"px",C.style.width=this.renderer.width+"px",C.style.height=this.renderer.height+"px";for(var B=0;B<this.children.length;B++){var ae=this.children[B];if(ae.renderId!==this.renderId)ae._accessibleActive=!1,Zt(this.children,B,1),this.div.removeChild(ae._accessibleDiv),this.pool.push(ae._accessibleDiv),ae._accessibleDiv=null,B--;else{C=ae._accessibleDiv;var Ee=ae.hitArea,We=ae.worldTransform;ae.hitArea?(C.style.left=(We.tx+Ee.x*We.a)*l+"px",C.style.top=(We.ty+Ee.y*We.d)*S+"px",C.style.width=Ee.width*We.a*l+"px",C.style.height=Ee.height*We.d*S+"px"):(Ee=ae.getBounds(),this.capHitArea(Ee),C.style.left=Ee.x*l+"px",C.style.top=Ee.y*S+"px",C.style.width=Ee.width*l+"px",C.style.height=Ee.height*S+"px",C.title!==ae.accessibleTitle&&null!==ae.accessibleTitle&&(C.title=ae.accessibleTitle),C.getAttribute("aria-label")!==ae.accessibleHint&&null!==ae.accessibleHint&&C.setAttribute("aria-label",ae.accessibleHint)),(ae.accessibleTitle!==C.title||ae.tabIndex!==C.tabIndex)&&(C.title=ae.accessibleTitle,C.tabIndex=ae.tabIndex,this.debug&&this.updateDebugHTML(C))}}this.renderId++}},u.prototype.updateDebugHTML=function(o){o.innerHTML="type: "+o.type+"</br> title : "+o.title+"</br> tabIndex: "+o.tabIndex},u.prototype.capHitArea=function(o){o.x<0&&(o.width+=o.x,o.x=0),o.y<0&&(o.height+=o.y,o.y=0),o.x+o.width>this.renderer.width&&(o.width=this.renderer.width-o.x),o.y+o.height>this.renderer.height&&(o.height=this.renderer.height-o.y)},u.prototype.addChild=function(o){var e=this.pool.pop();e||((e=document.createElement("button")).style.width=zt+"px",e.style.height=zt+"px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=Hn.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=o.accessiblePointerEvents,e.type=o.accessibleType,o.accessibleTitle&&null!==o.accessibleTitle?e.title=o.accessibleTitle:(!o.accessibleHint||null===o.accessibleHint)&&(e.title="displayObject "+o.tabIndex),o.accessibleHint&&null!==o.accessibleHint&&e.setAttribute("aria-label",o.accessibleHint),this.debug&&this.updateDebugHTML(e),o._accessibleActive=!0,o._accessibleDiv=e,e.displayObject=o,this.children.push(o),this.div.appendChild(o._accessibleDiv),o._accessibleDiv.tabIndex=o.tabIndex},u.prototype._onClick=function(o){var e=this.renderer.plugins.interaction;e.dispatchEvent(o.target.displayObject,"click",e.eventData),e.dispatchEvent(o.target.displayObject,"pointertap",e.eventData),e.dispatchEvent(o.target.displayObject,"tap",e.eventData)},u.prototype._onFocus=function(o){o.target.getAttribute("aria-live")||o.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(o.target.displayObject,"mouseover",e.eventData)},u.prototype._onFocusOut=function(o){o.target.getAttribute("aria-live")||o.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(o.target.displayObject,"mouseout",e.eventData)},u.prototype._onKeyDown=function(o){9===o.keyCode&&this.activate()},u.prototype._onMouseMove=function(o){0===o.movementX&&0===o.movementY||this.deactivate()},u.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},u}();pe.TARGET_FPMS=.06;var Ii=(()=>{return(u=Ii||(Ii={}))[u.INTERACTION=50]="INTERACTION",u[u.HIGH=25]="HIGH",u[u.NORMAL=0]="NORMAL",u[u.LOW=-25]="LOW",u[u.UTILITY=-50]="UTILITY",Ii;var u})(),xr=function(){function u(o,e,n,l){void 0===e&&(e=null),void 0===n&&(n=0),void 0===l&&(l=!1),this.fn=o,this.context=e,this.priority=n,this.once=l,this.next=null,this.previous=null,this._destroyed=!1}return u.prototype.match=function(o,e){return void 0===e&&(e=null),this.fn===o&&this.context===e},u.prototype.emit=function(o){this.fn&&(this.context?this.fn.call(this.context,o):this.fn(o));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},u.prototype.connect=function(o){this.previous=o,o.next&&(o.next.previous=this),this.next=o.next,o.next=this},u.prototype.destroy=function(o){void 0===o&&(o=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=o?null:e,this.previous=null,e},u}(),fr=function(){function u(){var o=this;this._head=new xr(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this.autoStart=!1,this.deltaTime=1,this.deltaMS=1/pe.TARGET_FPMS,this.elapsedMS=1/pe.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._protected=!1,this._lastFrame=-1,this._tick=function(e){o._requestId=null,o.started&&(o.update(e),o.started&&null===o._requestId&&o._head.next&&(o._requestId=requestAnimationFrame(o._tick)))}}return u.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},u.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},u.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},u.prototype.add=function(o,e,n){return void 0===n&&(n=Ii.NORMAL),this._addListener(new xr(o,e,n))},u.prototype.addOnce=function(o,e,n){return void 0===n&&(n=Ii.NORMAL),this._addListener(new xr(o,e,n,!0))},u.prototype._addListener=function(o){var e=this._head.next,n=this._head;if(e){for(;e;){if(o.priority>e.priority){o.connect(n);break}n=e,e=e.next}o.previous||o.connect(n)}else o.connect(n);return this._startIfPossible(),this},u.prototype.remove=function(o,e){for(var n=this._head.next;n;)n=n.match(o,e)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(u.prototype,"count",{get:function(){if(!this._head)return 0;for(var o=0,e=this._head;e=e.next;)o++;return o},enumerable:!1,configurable:!0}),u.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},u.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},u.prototype.destroy=function(){if(!this._protected){this.stop();for(var o=this._head.next;o;)o=o.destroy(!0);this._head.destroy(),this._head=null}},u.prototype.update=function(o){var e;if(void 0===o&&(o=performance.now()),o>this.lastTime){if((e=this.elapsedMS=o-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var n=o-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=o-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*pe.TARGET_FPMS;for(var l=this._head,S=l.next;S;)S=S.emit(this.deltaTime);l.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=o},Object.defineProperty(u.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(o){var e=Math.min(this.maxFPS,o),n=Math.min(Math.max(0,e)/1e3,pe.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(o){if(0===o)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,o);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(u,"shared",{get:function(){if(!u._shared){var o=u._shared=new u;o.autoStart=!0,o._protected=!0}return u._shared},enumerable:!1,configurable:!0}),Object.defineProperty(u,"system",{get:function(){if(!u._system){var o=u._system=new u;o.autoStart=!0,o._protected=!0}return u._system},enumerable:!1,configurable:!0}),u}(),Kr=function(){function u(){}return u.init=function(o){var e=this;o=Object.assign({autoStart:!0,sharedTicker:!1},o),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Ii.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=o.sharedTicker?fr.shared:new fr,o.autoStart&&this.start()},u.destroy=function(){if(this._ticker){var o=this._ticker;this.ticker=null,o.destroy()}},u}(),fo=function(){function u(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new hr,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(u.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),u.prototype.getLocalPosition=function(o,e,n){return o.worldTransform.applyInverse(n||this.global,e)},u.prototype.copyEvent=function(o){"isPrimary"in o&&o.isPrimary&&(this.isPrimary=!0),this.button="button"in o&&o.button;var e="buttons"in o&&o.buttons;this.buttons=Number.isInteger(e)?e:"which"in o&&o.which,this.width="width"in o&&o.width,this.height="height"in o&&o.height,this.tiltX="tiltX"in o&&o.tiltX,this.tiltY="tiltY"in o&&o.tiltY,this.pointerType="pointerType"in o&&o.pointerType,this.pressure="pressure"in o&&o.pressure,this.rotationAngle="rotationAngle"in o&&o.rotationAngle,this.twist="twist"in o&&o.twist||0,this.tangentialPressure="tangentialPressure"in o&&o.tangentialPressure||0},u.prototype.reset=function(){this.isPrimary=!1},u}(),Po=function(u,o){return(Po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)},zr=function(){function u(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return u.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},u.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},u}(),Vi=function(){function u(o){this._pointerId=o,this._flags=u.FLAGS.NONE}return u.prototype._doSet=function(o,e){this._flags=e?this._flags|o:this._flags&~o},Object.defineProperty(u.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"flags",{get:function(){return this._flags},set:function(o){this._flags=o},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"none",{get:function(){return this._flags===u.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"over",{get:function(){return 0!=(this._flags&u.FLAGS.OVER)},set:function(o){this._doSet(u.FLAGS.OVER,o)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"rightDown",{get:function(){return 0!=(this._flags&u.FLAGS.RIGHT_DOWN)},set:function(o){this._doSet(u.FLAGS.RIGHT_DOWN,o)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"leftDown",{get:function(){return 0!=(this._flags&u.FLAGS.LEFT_DOWN)},set:function(o){this._doSet(u.FLAGS.LEFT_DOWN,o)},enumerable:!1,configurable:!0}),u.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),u}(),He=function(){function u(){this._tempPoint=new hr}return u.prototype.recursiveFindHit=function(o,e,n,l,S){if(!e||!e.visible)return!1;var C=o.data.global,B=!1,ae=S=e.interactive||S,Ee=!0;if(e.hitArea?(l&&(e.worldTransform.applyInverse(C,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?B=!0:(l=!1,Ee=!1)),ae=!1):e._mask&&l&&(e._mask.containsPoint&&e._mask.containsPoint(C)||(l=!1)),Ee&&e.interactiveChildren&&e.children)for(var We=e.children,$e=We.length-1;$e>=0;$e--){var je=We[$e],ht=this.recursiveFindHit(o,je,n,l,ae);if(ht){if(!je.parent)continue;ae=!1,ht&&(o.target&&(l=!1),B=!0)}}return S&&(l&&!o.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(C)&&(B=!0),e.interactive&&(B&&!o.target&&(o.target=e),n&&n(o,e,!!B))),B},u.prototype.findHit=function(o,e,n,l){this.recursiveFindHit(o,e,n,l,!1)},u}(),st={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(u){u?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Je.mixin(st);var wt=1,$t={target:null,data:{global:null}},Gt=function(u){function o(e,n){var l=u.call(this)||this;return n=n||{},l.renderer=e,l.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,l.interactionFrequency=n.interactionFrequency||10,l.mouse=new fo,l.mouse.identifier=wt,l.mouse.global.set(-999999),l.activeInteractionData={},l.activeInteractionData[wt]=l.mouse,l.interactionDataPool=[],l.eventData=new zr,l.interactionDOMElement=null,l.moveWhenInside=!1,l.eventsAdded=!1,l.tickerAdded=!1,l.mouseOverRenderer=!1,l.supportsTouchEvents="ontouchstart"in window,l.supportsPointerEvents=!!window.PointerEvent,l.onPointerUp=l.onPointerUp.bind(l),l.processPointerUp=l.processPointerUp.bind(l),l.onPointerCancel=l.onPointerCancel.bind(l),l.processPointerCancel=l.processPointerCancel.bind(l),l.onPointerDown=l.onPointerDown.bind(l),l.processPointerDown=l.processPointerDown.bind(l),l.onPointerMove=l.onPointerMove.bind(l),l.processPointerMove=l.processPointerMove.bind(l),l.onPointerOut=l.onPointerOut.bind(l),l.processPointerOverOut=l.processPointerOverOut.bind(l),l.onPointerOver=l.onPointerOver.bind(l),l.cursorStyles={default:"inherit",pointer:"pointer"},l.currentCursorMode=null,l.cursor=null,l.resolution=1,l.delayedEvents=[],l.search=new He,l._tempDisplayObject=new dt,l._useSystemTicker=void 0===n.useSystemTicker||n.useSystemTicker,l.setTargetElement(l.renderer.view,l.renderer.resolution),l}return function jo(u,o){function e(){this.constructor=u}Po(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}(o,u),Object.defineProperty(o.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),o.prototype.hitTest=function(e,n){return $t.target=null,$t.data.global=e,n||(n=this.lastObjectRendered),this.processInteractive($t,n,null,!0),$t.target},o.prototype.setTargetElement=function(e,n){void 0===n&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=n,this.addEvents(),this.addTickerListener()},o.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(fr.system.add(this.tickerUpdate,this,Ii.INTERACTION),this.tickerAdded=!0)},o.prototype.removeTickerListener=function(){this.tickerAdded&&(fr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},o.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},o.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;window.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},o.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},o.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&"touch"!==n.pointerType){var l=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(l,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},o.prototype.setCursorMode=function(e){if(this.currentCursorMode!==(e=e||"default")){this.currentCursorMode=e;var n=this.cursorStyles[e];if(n)switch(typeof n){case"string":this.interactionDOMElement.style.cursor=n;break;case"function":n(e);break;case"object":Object.assign(this.interactionDOMElement.style,n)}else"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},o.prototype.dispatchEvent=function(e,n,l){(!l.stopPropagationHint||e===l.stopsPropagatingAt)&&(l.currentTarget=e,l.type=n,e.emit(n,l),e[n]&&e[n](l))},o.prototype.delayDispatchEvent=function(e,n,l){this.delayedEvents.push({displayObject:e,eventString:n,eventData:l})},o.prototype.mapPositionToPoint=function(e,n,l){var S;S=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var C=1/this.resolution;e.x=this.interactionDOMElement.width/S.width*(n-S.left)*C,e.y=this.interactionDOMElement.height/S.height*(l-S.top)*C},o.prototype.processInteractive=function(e,n,l,S){var C=this.search.findHit(e,n,l,S),B=this.delayedEvents;if(!B.length)return C;e.stopPropagationHint=!1;var ae=B.length;this.delayedEvents=[];for(var Ee=0;Ee<ae;Ee++){var We=B[Ee],$e=We.displayObject,je=We.eventString,ht=We.eventData;ht.stopsPropagatingAt===$e&&(ht.stopPropagationHint=!0),this.dispatchEvent($e,je,ht)}return C},o.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var n=this.normalizeToPointerData(e);this.autoPreventDefault&&n[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var S=n.length,C=0;C<S;C++){var B=n[C],ae=this.getInteractionDataForPointerId(B),Ee=this.configureInteractionEventForDOMEvent(this.eventData,B,ae);Ee.data.originalEvent=e,this.processInteractive(Ee,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",Ee),"touch"===B.pointerType?this.emit("touchstart",Ee):"mouse"!==B.pointerType&&"pen"!==B.pointerType||this.emit(2===B.button?"rightdown":"mousedown",this.eventData)}}},o.prototype.processPointerDown=function(e,n,l){var S=e.data,C=e.data.identifier;if(l)if(n.trackedPointers[C]||(n.trackedPointers[C]=new Vi(C)),this.dispatchEvent(n,"pointerdown",e),"touch"===S.pointerType)this.dispatchEvent(n,"touchstart",e);else if("mouse"===S.pointerType||"pen"===S.pointerType){var B=2===S.button;B?n.trackedPointers[C].rightDown=!0:n.trackedPointers[C].leftDown=!0,this.dispatchEvent(n,B?"rightdown":"mousedown",e)}},o.prototype.onPointerComplete=function(e,n,l){for(var S=this.normalizeToPointerData(e),C=S.length,B=e.target!==this.interactionDOMElement?"outside":"",ae=0;ae<C;ae++){var Ee=S[ae],We=this.getInteractionDataForPointerId(Ee),$e=this.configureInteractionEventForDOMEvent(this.eventData,Ee,We);$e.data.originalEvent=e,this.processInteractive($e,this.lastObjectRendered,l,n||!B),this.emit(n?"pointercancel":"pointerup"+B,$e),"mouse"===Ee.pointerType||"pen"===Ee.pointerType?this.emit(2===Ee.button?"rightup"+B:"mouseup"+B,$e):"touch"===Ee.pointerType&&(this.emit(n?"touchcancel":"touchend"+B,$e),this.releaseInteractionDataForPointerId(Ee.pointerId))}},o.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},o.prototype.processPointerCancel=function(e,n){var l=e.data,S=e.data.identifier;void 0!==n.trackedPointers[S]&&(delete n.trackedPointers[S],this.dispatchEvent(n,"pointercancel",e),"touch"===l.pointerType&&this.dispatchEvent(n,"touchcancel",e))},o.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},o.prototype.processPointerUp=function(e,n,l){var S=e.data,C=e.data.identifier,B=n.trackedPointers[C],ae="touch"===S.pointerType,Ee="mouse"===S.pointerType||"pen"===S.pointerType,We=!1;if(Ee){var $e=2===S.button,je=Vi.FLAGS,St=void 0!==B&&B.flags&($e?je.RIGHT_DOWN:je.LEFT_DOWN);l?(this.dispatchEvent(n,$e?"rightup":"mouseup",e),St&&(this.dispatchEvent(n,$e?"rightclick":"click",e),We=!0)):St&&this.dispatchEvent(n,$e?"rightupoutside":"mouseupoutside",e),B&&($e?B.rightDown=!1:B.leftDown=!1)}l?(this.dispatchEvent(n,"pointerup",e),ae&&this.dispatchEvent(n,"touchend",e),B&&((!Ee||We)&&this.dispatchEvent(n,"pointertap",e),ae&&(this.dispatchEvent(n,"tap",e),B.over=!1))):B&&(this.dispatchEvent(n,"pointerupoutside",e),ae&&this.dispatchEvent(n,"touchendoutside",e)),B&&B.none&&delete n.trackedPointers[C]},o.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var n=this.normalizeToPointerData(e);("mouse"===n[0].pointerType||"pen"===n[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var l=n.length,S=0;S<l;S++){var C=n[S],B=this.getInteractionDataForPointerId(C),ae=this.configureInteractionEventForDOMEvent(this.eventData,C,B);ae.data.originalEvent=e,this.processInteractive(ae,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",ae),"touch"===C.pointerType&&this.emit("touchmove",ae),("mouse"===C.pointerType||"pen"===C.pointerType)&&this.emit("mousemove",ae)}"mouse"===n[0].pointerType&&this.setCursorMode(this.cursor)}},o.prototype.processPointerMove=function(e,n,l){var S=e.data,C="touch"===S.pointerType,B="mouse"===S.pointerType||"pen"===S.pointerType;B&&this.processPointerOverOut(e,n,l),(!this.moveWhenInside||l)&&(this.dispatchEvent(n,"pointermove",e),C&&this.dispatchEvent(n,"touchmove",e),B&&this.dispatchEvent(n,"mousemove",e))},o.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var l=this.normalizeToPointerData(e)[0];"mouse"===l.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var S=this.getInteractionDataForPointerId(l),C=this.configureInteractionEventForDOMEvent(this.eventData,l,S);C.data.originalEvent=l,this.processInteractive(C,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",C),"mouse"===l.pointerType||"pen"===l.pointerType?this.emit("mouseout",C):this.releaseInteractionDataForPointerId(S.identifier)}},o.prototype.processPointerOverOut=function(e,n,l){var S=e.data,C=e.data.identifier,B="mouse"===S.pointerType||"pen"===S.pointerType,ae=n.trackedPointers[C];l&&!ae&&(ae=n.trackedPointers[C]=new Vi(C)),void 0!==ae&&(l&&this.mouseOverRenderer?(ae.over||(ae.over=!0,this.delayDispatchEvent(n,"pointerover",e),B&&this.delayDispatchEvent(n,"mouseover",e)),B&&null===this.cursor&&(this.cursor=n.cursor)):ae.over&&(ae.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),B&&this.dispatchEvent(n,"mouseout",e),ae.none&&delete n.trackedPointers[C]))},o.prototype.onPointerOver=function(e){var l=this.normalizeToPointerData(e)[0],S=this.getInteractionDataForPointerId(l),C=this.configureInteractionEventForDOMEvent(this.eventData,l,S);C.data.originalEvent=l,"mouse"===l.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",C),("mouse"===l.pointerType||"pen"===l.pointerType)&&this.emit("mouseover",C)},o.prototype.getInteractionDataForPointerId=function(e){var l,n=e.pointerId;return n===wt||"mouse"===e.pointerType?l=this.mouse:this.activeInteractionData[n]?l=this.activeInteractionData[n]:((l=this.interactionDataPool.pop()||new fo).identifier=n,this.activeInteractionData[n]=l),l.copyEvent(e),l},o.prototype.releaseInteractionDataForPointerId=function(e){var n=this.activeInteractionData[e];n&&(delete this.activeInteractionData[e],n.reset(),this.interactionDataPool.push(n))},o.prototype.configureInteractionEventForDOMEvent=function(e,n,l){return e.data=l,this.mapPositionToPoint(l.global,n.clientX,n.clientY),"touch"===n.pointerType&&(n.globalX=l.global.x,n.globalY=l.global.y),l.originalEvent=n,e.reset(),e},o.prototype.normalizeToPointerData=function(e){var n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var l=0,S=e.changedTouches.length;l<S;l++){var C=e.changedTouches[l];typeof C.button>"u"&&(C.button=e.touches.length?1:0),typeof C.buttons>"u"&&(C.buttons=e.touches.length?1:0),typeof C.isPrimary>"u"&&(C.isPrimary=1===e.touches.length&&"touchstart"===e.type),typeof C.width>"u"&&(C.width=C.radiusX||1),typeof C.height>"u"&&(C.height=C.radiusY||1),typeof C.tiltX>"u"&&(C.tiltX=0),typeof C.tiltY>"u"&&(C.tiltY=0),typeof C.pointerType>"u"&&(C.pointerType="touch"),typeof C.pointerId>"u"&&(C.pointerId=C.identifier||0),typeof C.pressure>"u"&&(C.pressure=C.force||.5),typeof C.twist>"u"&&(C.twist=0),typeof C.tangentialPressure>"u"&&(C.tangentialPressure=0),typeof C.layerX>"u"&&(C.layerX=C.offsetX=C.clientX),typeof C.layerY>"u"&&(C.layerY=C.offsetY=C.clientY),C.isNormalized=!0,n.push(C)}else if(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent)n.push(e);else{var B=e;typeof B.isPrimary>"u"&&(B.isPrimary=!0),typeof B.width>"u"&&(B.width=1),typeof B.height>"u"&&(B.height=1),typeof B.tiltX>"u"&&(B.tiltX=0),typeof B.tiltY>"u"&&(B.tiltY=0),typeof B.pointerType>"u"&&(B.pointerType="mouse"),typeof B.pointerId>"u"&&(B.pointerId=wt),typeof B.pressure>"u"&&(B.pressure=.5),typeof B.twist>"u"&&(B.twist=0),typeof B.tangentialPressure>"u"&&(B.tangentialPressure=0),B.isNormalized=!0,n.push(B)}return n},o.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},o}(Te()),un=function(){function u(o){this.items=[],this._name=o,this._aliasCount=0}return u.prototype.emit=function(o,e,n,l,S,C,B,ae){if(arguments.length>8)throw new Error("max arguments reached");var We=this.name,$e=this.items;this._aliasCount++;for(var je=0,ht=$e.length;je<ht;je++)$e[je][We](o,e,n,l,S,C,B,ae);return $e===this.items&&this._aliasCount--,this},u.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},u.prototype.add=function(o){return o[this._name]&&(this.ensureNonAliasedItems(),this.remove(o),this.items.push(o)),this},u.prototype.remove=function(o){var e=this.items.indexOf(o);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},u.prototype.contains=function(o){return-1!==this.items.indexOf(o)},u.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},u.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(u.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),u}();Object.defineProperties(un.prototype,{dispatch:{value:un.prototype.emit},run:{value:un.prototype.emit}}),pe.PREFER_ENV=ze.any?Ce.WEBGL:Ce.WEBGL2,pe.STRICT_TEXTURE_CACHE=!1;var Ln=[];function Tn(u,o){if(!u)return null;var e="";if("string"==typeof u){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(u);n&&(e=n[1].toLowerCase())}for(var l=Ln.length-1;l>=0;--l){var S=Ln[l];if(S.test&&S.test(u,e))return new S(u,o)}throw new Error("Unrecognized source type to auto-detect Resource")}var Vn=function(u,o){return(Vn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)};function wn(u,o){function e(){this.constructor=u}Vn(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}var oi=function(){function u(o,e){void 0===o&&(o=0),void 0===e&&(e=0),this._width=o,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new un("setRealSize"),this.onUpdate=new un("update"),this.onError=new un("onError")}return u.prototype.bind=function(o){this.onResize.add(o),this.onUpdate.add(o),this.onError.add(o),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},u.prototype.unbind=function(o){this.onResize.remove(o),this.onUpdate.remove(o),this.onError.remove(o)},u.prototype.resize=function(o,e){(o!==this._width||e!==this._height)&&(this._width=o,this._height=e,this.onResize.emit(o,e))},Object.defineProperty(u.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),u.prototype.update=function(){this.destroyed||this.onUpdate.emit()},u.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(u.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),u.prototype.style=function(o,e,n){return!1},u.prototype.dispose=function(){},u.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},u.test=function(o,e){return!1},u}(),Gi=function(u){function o(e,n){var l=this,S=n||{},C=S.width,B=S.height;if(!C||!B)throw new Error("BufferResource width or height invalid");return(l=u.call(this,C,B)||this).data=e,l}return wn(o,u),o.prototype.upload=function(e,n,l){var S=e.gl;return S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===at.UNPACK),l.width===n.width&&l.height===n.height?S.texSubImage2D(n.target,0,0,0,n.width,n.height,n.format,n.type,this.data):(l.width=n.width,l.height=n.height,S.texImage2D(n.target,0,l.internalFormat,n.width,n.height,0,n.format,l.type,this.data)),!0},o.prototype.dispose=function(){this.data=null},o.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},o}(oi),vi={scaleMode:En.NEAREST,format:_t.RGBA,alphaMode:at.NPM},gi=function(u){function o(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var l=u.call(this)||this,S=(n=n||{}).alphaMode,C=n.mipmap,B=n.anisotropicLevel,ae=n.scaleMode,Ee=n.width,We=n.height,$e=n.wrapMode,je=n.format,ht=n.type,St=n.target,It=n.resolution;return e&&!(e instanceof oi)&&((e=Tn(e,n.resourceOptions)).internal=!0),l.width=Ee||0,l.height=We||0,l.resolution=It||pe.RESOLUTION,l.mipmap=void 0!==C?C:pe.MIPMAP_TEXTURES,l.anisotropicLevel=void 0!==B?B:pe.ANISOTROPIC_LEVEL,l.wrapMode=$e||pe.WRAP_MODE,l.scaleMode=void 0!==ae?ae:pe.SCALE_MODE,l.format=je||_t.RGBA,l.type=ht||cn.UNSIGNED_BYTE,l.target=St||Mt.TEXTURE_2D,l.alphaMode=void 0!==S?S:at.UNPACK,void 0!==n.premultiplyAlpha&&(l.premultiplyAlpha=n.premultiplyAlpha),l.uid=vn(),l.touched=0,l.isPowerOfTwo=!1,l._refreshPOT(),l._glTextures={},l.dirtyId=0,l.dirtyStyleId=0,l.cacheId=null,l.valid=Ee>0&&We>0,l.textureCacheIds=[],l.destroyed=!1,l.resource=null,l._batchEnabled=0,l._batchLocation=0,l.parentTextureArray=null,l.setResource(e),l}return wn(o,u),Object.defineProperty(o.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),o.prototype.setStyle=function(e,n){var l;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,l=!0),void 0!==n&&n!==this.mipmap&&(this.mipmap=n,l=!0),l&&this.dirtyStyleId++,this},o.prototype.setSize=function(e,n,l){return this.resolution=l||this.resolution,this.width=e,this.height=n,this._refreshPOT(),this.update(),this},o.prototype.setRealSize=function(e,n,l){return this.resolution=l||this.resolution,this.width=e/this.resolution,this.height=n/this.resolution,this._refreshPOT(),this.update(),this},o.prototype._refreshPOT=function(){this.isPowerOfTwo=lr(this.realWidth)&&lr(this.realHeight)},o.prototype.setResolution=function(e){var n=this.resolution;return n===e||(this.resolution=e,this.valid&&(this.width=this.width*n/e,this.height=this.height*n/e,this.emit("update",this)),this._refreshPOT()),this},o.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},o.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},o.prototype.onError=function(e){this.emit("error",this,e)},o.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Jn[this.cacheId],delete si[this.cacheId],this.cacheId=null),this.dispose(),o.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},o.prototype.dispose=function(){this.emit("dispose",this)},o.prototype.castToBaseTexture=function(){return this},o.from=function(e,n,l){void 0===l&&(l=pe.STRICT_TEXTURE_CACHE);var S="string"==typeof e,C=null;S?C=e:(e._pixiId||(e._pixiId="pixiid_"+vn()),C=e._pixiId);var B=Jn[C];if(S&&l&&!B)throw new Error('The cacheId "'+C+'" does not exist in BaseTextureCache.');return B||((B=new o(e,n)).cacheId=C,o.addToCache(B,C)),B},o.fromBuffer=function(e,n,l,S){e=e||new Float32Array(n*l*4);var C=new Gi(e,{width:n,height:l}),B=e instanceof Float32Array?cn.FLOAT:cn.UNSIGNED_BYTE;return new o(C,Object.assign(vi,S||{width:n,height:l,type:B}))},o.addToCache=function(e,n){n&&(-1===e.textureCacheIds.indexOf(n)&&e.textureCacheIds.push(n),Jn[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),Jn[n]=e)},o.removeFromCache=function(e){if("string"==typeof e){var n=Jn[e];if(n){var l=n.textureCacheIds.indexOf(e);return l>-1&&n.textureCacheIds.splice(l,1),delete Jn[e],n}}else if(e&&e.textureCacheIds){for(var S=0;S<e.textureCacheIds.length;++S)delete Jn[e.textureCacheIds[S]];return e.textureCacheIds.length=0,e}return null},o._globalBatch=0,o}(Te()),Sr=function(u){function o(e,n){var l=this,S=n||{};(l=u.call(this,S.width,S.height)||this).items=[],l.itemDirtyIds=[];for(var ae=0;ae<e;ae++){var Ee=new gi;l.items.push(Ee),l.itemDirtyIds.push(-2)}return l.length=e,l._load=null,l.baseTexture=null,l}return wn(o,u),o.prototype.initFromArray=function(e,n){for(var l=0;l<this.length;l++)e[l]&&(e[l].castToBaseTexture?this.addBaseTextureAt(e[l].castToBaseTexture(),l):this.addResourceAt(e[l]instanceof oi?e[l]:Tn(e[l],n),l))},o.prototype.dispose=function(){for(var e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},o.prototype.addResourceAt=function(e,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this},o.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");u.prototype.bind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)},o.prototype.unbind=function(e){u.prototype.unbind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)},o.prototype.load=function(){var e=this;if(this._load)return this._load;var l=this.items.map(function(S){return S.resource}).filter(function(S){return S}).map(function(S){return S.load()});return this._load=Promise.all(l).then(function(){var S=e.items[0];return e.resize(S.realWidth,S.realHeight),Promise.resolve(e)}),this._load},o}(oi),Br=function(u){function o(e,n){var ae,Ee,l=this,S=n||{},C=S.width,B=S.height;return Array.isArray(e)?(ae=e,Ee=e.length):Ee=e,l=u.call(this,Ee,{width:C,height:B})||this,ae&&l.initFromArray(ae,n),l}return wn(o,u),o.prototype.addBaseTextureAt=function(e,n){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,n),this},o.prototype.bind=function(e){u.prototype.bind.call(this,e),e.target=Mt.TEXTURE_2D_ARRAY},o.prototype.upload=function(e,n,l){var S=this,C=S.length,B=S.itemDirtyIds,ae=S.items,Ee=e.gl;l.dirtyId<0&&Ee.texImage3D(Ee.TEXTURE_2D_ARRAY,0,n.format,this._width,this._height,C,0,n.format,n.type,null);for(var We=0;We<C;We++){var $e=ae[We];B[We]<$e.dirtyId&&(B[We]=$e.dirtyId,$e.valid&&Ee.texSubImage3D(Ee.TEXTURE_2D_ARRAY,0,0,0,We,$e.resource.width,$e.resource.height,1,n.format,n.type,$e.resource.source))}return!0},o}(Sr),or=function(u){function o(e){var n=this;return(n=u.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,n.noSubImage=!1,n}return wn(o,u),o.crossOrigin=function(e,n,l){void 0===l&&0!==n.indexOf("data:")?e.crossOrigin=kn(n):!1!==l&&(e.crossOrigin="string"==typeof l?l:"anonymous")},o.prototype.upload=function(e,n,l,S){var C=e.gl,B=n.realWidth,ae=n.realHeight;return S=S||this.source,C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===at.UNPACK),this.noSubImage||n.target!==C.TEXTURE_2D||l.width!==B||l.height!==ae?(l.width=B,l.height=ae,C.texImage2D(n.target,0,n.format,n.format,n.type,S)):C.texSubImage2D(C.TEXTURE_2D,0,0,0,n.format,n.type,S),!0},o.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),u.prototype.update.call(this)}},o.prototype.dispose=function(){this.source=null},o}(oi),Cr=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return wn(o,u),o.test=function(e){var n=window.OffscreenCanvas;return!!(n&&e instanceof n)||e instanceof HTMLCanvasElement},o}(or),yi=function(u){function o(e,n){var l=this,S=n||{},C=S.width,B=S.height,ae=S.autoLoad,Ee=S.linkBaseTexture;if(e&&e.length!==o.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");l=u.call(this,6,{width:C,height:B})||this;for(var We=0;We<o.SIDES;We++)l.items[We].target=Mt.TEXTURE_CUBE_MAP_POSITIVE_X+We;return l.linkBaseTexture=!1!==Ee,e&&l.initFromArray(e,n),!1!==ae&&l.load(),l}return wn(o,u),o.prototype.bind=function(e){u.prototype.bind.call(this,e),e.target=Mt.TEXTURE_CUBE_MAP},o.prototype.addBaseTextureAt=function(e,n,l){if(void 0===l&&(l=this.linkBaseTexture),!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,n)}else e.target=Mt.TEXTURE_CUBE_MAP_POSITIVE_X+n,e.parentTextureArray=this.baseTexture,this.items[n]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[n]=e,this},o.prototype.upload=function(e,n,l){for(var S=this.itemDirtyIds,C=0;C<o.SIDES;C++){var B=this.items[C];S[C]<B.dirtyId&&(B.valid&&B.resource?(B.resource.upload(e,B,l),S[C]=B.dirtyId):S[C]<-1&&(e.gl.texImage2D(B.target,0,l.internalFormat,n.realWidth,n.realHeight,0,n.format,l.type,null),S[C]=-1))}return!0},o.test=function(e){return Array.isArray(e)&&e.length===o.SIDES},o.SIDES=6,o}(Sr),yr=function(u){function o(e,n){var l=this;if(n=n||{},!(e instanceof HTMLImageElement)){var S=new Image;or.crossOrigin(S,e,n.crossorigin),S.src=e,e=S}return l=u.call(this,e)||this,!e.complete&&l._width&&l._height&&(l._width=0,l._height=0),l.url=e.src,l._process=null,l.preserveBitmap=!1,l.createBitmap=(void 0!==n.createBitmap?n.createBitmap:pe.CREATE_IMAGE_BITMAP)&&!!window.createImageBitmap,l.alphaMode="number"==typeof n.alphaMode?n.alphaMode:null,void 0!==n.premultiplyAlpha&&(l.premultiplyAlpha=n.premultiplyAlpha),l.bitmap=null,l._load=null,!1!==n.autoLoad&&l.load(),l}return wn(o,u),o.prototype.load=function(e){var n=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(l,S){var C=n.source;n.url=C.src;var B=function(){n.destroyed||(C.onload=null,C.onerror=null,n.resize(C.width,C.height),n._load=null,l(n.createBitmap?n.process():n))};C.complete&&C.src?B():(C.onload=B,C.onerror=function(ae){S(ae),n.onError.emit(ae)})})),this._load},o.prototype.process=function(){var e=this,n=this.source;return null!==this._process?this._process:null===this.bitmap&&window.createImageBitmap?(this._process=window.createImageBitmap(n,0,0,n.width,n.height,{premultiplyAlpha:this.alphaMode===at.UNPACK?"premultiply":"none"}).then(function(l){return e.destroyed?Promise.reject():(e.bitmap=l,e.update(),e._process=null,Promise.resolve(e))}),this._process):Promise.resolve(this)},o.prototype.upload=function(e,n,l){if("number"==typeof this.alphaMode&&(n.alphaMode=this.alphaMode),!this.createBitmap)return u.prototype.upload.call(this,e,n,l);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(u.prototype.upload.call(this,e,n,l,this.bitmap),!this.preserveBitmap){var S=!0,C=n._glTextures;for(var B in C){var ae=C[B];if(ae!==l&&ae.dirtyId!==n.dirtyId){S=!1;break}}S&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},o.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,u.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},o.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},o}(or),jn=function(u){function o(e,n){var l=this;return n=n||{},(l=u.call(this,document.createElement("canvas"))||this)._width=0,l._height=0,l.svg=e,l.scale=n.scale||1,l._overrideWidth=n.width,l._overrideHeight=n.height,l._resolve=null,l._crossorigin=n.crossorigin,l._load=null,!1!==n.autoLoad&&l.load(),l}return wn(o,u),o.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(n){if(e._resolve=function(){e.resize(e.source.width,e.source.height),n(e)},/^\<svg/.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},o.prototype._loadSvg=function(){var e=this,n=new Image;or.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(l){e._resolve&&(n.onerror=null,e.onError.emit(l))},n.onload=function(){if(e._resolve){var l=n.width,S=n.height;if(!l||!S)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var C=l*e.scale,B=S*e.scale;(e._overrideWidth||e._overrideHeight)&&(C=e._overrideWidth||e._overrideHeight/S*l,B=e._overrideHeight||e._overrideWidth/l*S),C=Math.round(C),B=Math.round(B);var ae=e.source;ae.width=C,ae.height=B,ae._pixiId="canvas_"+vn(),ae.getContext("2d").drawImage(n,0,0,l,S,0,0,C,B),e._resolve(),e._resolve=null}}},o.getSize=function(e){var n=o.SVG_SIZE.exec(e),l={};return n&&(l[n[1]]=Math.round(parseFloat(n[3])),l[n[5]]=Math.round(parseFloat(n[7]))),l},o.prototype.dispose=function(){u.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},o.test=function(e,n){return"svg"===n||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&0===e.indexOf("<svg")},o.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,o}(or),Li=function(u){function o(e,n){var l=this;if(n=n||{},!(e instanceof HTMLVideoElement)){var S=document.createElement("video");S.setAttribute("preload","auto"),S.setAttribute("webkit-playsinline",""),S.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),or.crossOrigin(S,e[0].src||e[0],n.crossorigin);for(var B=0;B<e.length;++B){var ae=document.createElement("source"),Ee=e[B],We=Ee.src,$e=Ee.mime,je=(We=We||e[B]).split("?").shift().toLowerCase(),ht=je.substr(je.lastIndexOf(".")+1);$e=$e||o.MIME_TYPES[ht]||"video/"+ht,ae.src=We,ae.type=$e,S.appendChild(ae)}e=S}return(l=u.call(this,e)||this).noSubImage=!0,l._autoUpdate=!0,l._isConnectedToTicker=!1,l._updateFPS=n.updateFPS||0,l._msToNextUpdate=0,l.autoPlay=!1!==n.autoPlay,l._load=null,l._resolve=null,l._onCanPlay=l._onCanPlay.bind(l),l._onError=l._onError.bind(l),!1!==n.autoLoad&&l.load(),l}return wn(o,u),o.prototype.update=function(e){void 0===e&&(e=0),this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-fr.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(u.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},o.prototype.load=function(){var e=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(l){e.valid?l(e):(e._resolve=l,n.load())}),this._load},o.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},o.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},o.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},o.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(fr.shared.add(this.update,this),this._isConnectedToTicker=!0)},o.prototype._onPlayStop=function(){this._isConnectedToTicker&&(fr.shared.remove(this.update,this),this._isConnectedToTicker=!1)},o.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(e.videoWidth,e.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},o.prototype.dispose=function(){this._isConnectedToTicker&&fr.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),u.prototype.dispose.call(this)},Object.defineProperty(o.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(fr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(fr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),o.test=function(e,n){return e instanceof HTMLVideoElement||o.TYPES.indexOf(n)>-1},o.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],o.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},o}(or),Ar=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return wn(o,u),o.test=function(e){return!!window.createImageBitmap&&e instanceof ImageBitmap},o}(or);Ln.push(yr,Ar,Cr,Li,jn,Gi,yi,Br);var Wr={Resource:oi,BaseImageResource:or,INSTALLED:Ln,autoDetectResource:Tn,AbstractMultiResource:Sr,ArrayResource:Br,BufferResource:Gi,CanvasResource:Cr,CubeResource:yi,ImageResource:yr,SVGResource:jn,VideoResource:Li,ImageBitmapResource:Ar},pr=function(){function u(o){this.renderer=o}return u.prototype.destroy=function(){this.renderer=null},u}(),so=function(u){function o(){return null!==u&&u.apply(this,arguments)||this}return wn(o,u),o.prototype.upload=function(e,n,l){var S=e.gl;return S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===at.UNPACK),l.width===n.width&&l.height===n.height?S.texSubImage2D(n.target,0,0,0,n.width,n.height,n.format,n.type,this.data):(l.width=n.width,l.height=n.height,S.texImage2D(n.target,0,1===e.context.webGLVersion?S.DEPTH_COMPONENT:S.DEPTH_COMPONENT16,n.width,n.height,0,n.format,n.type,this.data)),!0},o}(Gi),mo=function(){function u(o,e){this.width=Math.ceil(o||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new un("disposeFramebuffer"),this.multisample=_n.NONE}return Object.defineProperty(u.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),u.prototype.addColorTexture=function(o,e){return void 0===o&&(o=0),this.colorTextures[o]=e||new gi(null,{scaleMode:En.NEAREST,resolution:1,mipmap:Et.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},u.prototype.addDepthTexture=function(o){return this.depthTexture=o||new gi(new so(null,{width:this.width,height:this.height}),{scaleMode:En.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Et.OFF,format:_t.DEPTH_COMPONENT,type:cn.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},u.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},u.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},u.prototype.resize=function(o,e){if(o=Math.ceil(o),e=Math.ceil(e),o!==this.width||e!==this.height){this.width=o,this.height=e,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var l=this.colorTextures[n];l.setSize(o/(S=l.resolution),e/S)}var S;this.depthTexture&&this.depthTexture.setSize(o/(S=this.depthTexture.resolution),e/S)}},u.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},u.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},u}(),yo=function(u){function o(e){var n=this;"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),n=u.call(this,null,e)||this;var ae=e||{},Ee=ae.width,We=ae.height;return n.mipmap=0,n.width=Math.ceil(Ee)||100,n.height=Math.ceil(We)||100,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new mo(n.width*n.resolution,n.height*n.resolution).addColorTexture(0,n),n.maskStack=[],n.filterStack=[{}],n}return wn(o,u),o.prototype.resize=function(e,n){e=Math.ceil(e),n=Math.ceil(n),this.framebuffer.resize(e*this.resolution,n*this.resolution)},o.prototype.dispose=function(){this.framebuffer.dispose(),u.prototype.dispose.call(this)},o.prototype.destroy=function(){u.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},o}(gi),_o=function(){function u(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return u.prototype.set=function(o,e,n){var l=e.width,S=e.height;if(n){var C=o.width/2/l,B=o.height/2/S,ae=o.x/l+C,Ee=o.y/S+B;n=di.add(n,di.NW),this.x0=ae+C*di.uX(n),this.y0=Ee+B*di.uY(n),n=di.add(n,2),this.x1=ae+C*di.uX(n),this.y1=Ee+B*di.uY(n),n=di.add(n,2),this.x2=ae+C*di.uX(n),this.y2=Ee+B*di.uY(n),n=di.add(n,2),this.x3=ae+C*di.uX(n),this.y3=Ee+B*di.uY(n)}else this.x0=o.x/l,this.y0=o.y/S,this.x1=(o.x+o.width)/l,this.y1=o.y/S,this.x2=(o.x+o.width)/l,this.y2=(o.y+o.height)/S,this.x3=o.x/l,this.y3=(o.y+o.height)/S;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},u}(),Jr=new _o,Ti=function(u){function o(e,n,l,S,C,B){var ae=u.call(this)||this;if(ae.noFrame=!1,n||(ae.noFrame=!0,n=new Zi(0,0,1,1)),e instanceof o&&(e=e.baseTexture),ae.baseTexture=e,ae._frame=n,ae.trim=S,ae.valid=!1,ae._uvs=Jr,ae.uvMatrix=null,ae.orig=l||n,ae._rotate=Number(C||0),!0===C)ae._rotate=2;else if(ae._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return ae.defaultAnchor=B?new hr(B.x,B.y):new hr(0,0),ae._updateID=0,ae.textureCacheIds=[],e.valid?ae.noFrame?e.valid&&ae.onBaseTextureUpdated(e):ae.frame=n:e.once("loaded",ae.onBaseTextureUpdated,ae),ae.noFrame&&e.on("update",ae.onBaseTextureUpdated,ae),ae}return wn(o,u),o.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},o.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},o.prototype.destroy=function(e){if(this.baseTexture){if(e){var n=this.baseTexture;n&&n.url&&si[n.url]&&o.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,o.removeFromCache(this),this.textureCacheIds=null},o.prototype.clone=function(){return new o(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},o.prototype.updateUvs=function(){this._uvs===Jr&&(this._uvs=new _o),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},o.from=function(e,n,l){void 0===n&&(n={}),void 0===l&&(l=pe.STRICT_TEXTURE_CACHE);var S="string"==typeof e,C=null;S?C=e:(e._pixiId||(e._pixiId="pixiid_"+vn()),C=e._pixiId);var B=si[C];if(S&&l&&!B)throw new Error('The cacheId "'+C+'" does not exist in TextureCache.');return B||(n.resolution||(n.resolution=Yn(e)),(B=new o(new gi(e,n))).baseTexture.cacheId=C,gi.addToCache(B.baseTexture,C),o.addToCache(B,C)),B},o.fromURL=function(e,n){var l=Object.assign({autoLoad:!1},n?.resourceOptions),S=o.from(e,Object.assign({resourceOptions:l},n),!1),C=S.baseTexture.resource;return S.baseTexture.valid?Promise.resolve(S):C.load().then(function(){return Promise.resolve(S)})},o.fromBuffer=function(e,n,l,S){return new o(gi.fromBuffer(e,n,l,S))},o.fromLoader=function(e,n,l){var S=new yr(e);S.url=n;var B=new o(new gi(S,{scaleMode:pe.SCALE_MODE,resolution:Yn(n)}));return l||(l=n),gi.addToCache(B.baseTexture,l),o.addToCache(B,l),l!==n&&(gi.addToCache(B.baseTexture,n),o.addToCache(B,n)),B},o.addToCache=function(e,n){n&&(-1===e.textureCacheIds.indexOf(n)&&e.textureCacheIds.push(n),si[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),si[n]=e)},o.removeFromCache=function(e){if("string"==typeof e){var n=si[e];if(n){var l=n.textureCacheIds.indexOf(e);return l>-1&&n.textureCacheIds.splice(l,1),delete si[e],n}}else if(e&&e.textureCacheIds){for(var S=0;S<e.textureCacheIds.length;++S)si[e.textureCacheIds[S]]===e&&delete si[e.textureCacheIds[S]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(o.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var n=e.x,l=e.y,S=e.width,C=e.height,B=n+S>this.baseTexture.width,ae=l+C>this.baseTexture.height;if(B||ae)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+n+" + "+S+" = "+(n+S)+" > "+this.baseTexture.width+" "+(B&&ae?"and":"or")+" Y: "+l+" + "+C+" = "+(l+C)+" > "+this.baseTexture.height);this.valid=S&&C&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),o.prototype.castToBaseTexture=function(){return this.baseTexture},o}(Te());function Dr(u){u.destroy=function(){},u.on=function(){},u.once=function(){},u.emit=function(){}}Ti.EMPTY=new Ti(new gi),Dr(Ti.EMPTY),Dr(Ti.EMPTY.baseTexture),Ti.WHITE=function bo(){var u=document.createElement("canvas");u.width=16,u.height=16;var o=u.getContext("2d");return o.fillStyle="white",o.fillRect(0,0,16,16),new Ti(new gi(new Cr(u)))}(),Dr(Ti.WHITE),Dr(Ti.WHITE.baseTexture);var co=function(u){function o(e,n){var l=this,S=null;if(!(e instanceof yo)){var C=arguments[1],B=arguments[2],ae=arguments[3],Ee=arguments[4];console.warn("Please use RenderTexture.create("+C+", "+B+") instead of the ctor directly."),S=arguments[0],n=null,e=new yo({width:C,height:B,scaleMode:ae,resolution:Ee})}return(l=u.call(this,e,n)||this).legacyRenderer=S,l.valid=!0,l.filterFrame=null,l.filterPoolKey=null,l.updateUvs(),l}return wn(o,u),Object.defineProperty(o.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),o.prototype.resize=function(e,n,l){void 0===l&&(l=!0),e=Math.ceil(e),n=Math.ceil(n),this.valid=e>0&&n>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=n,l&&this.baseTexture.resize(e,n),this.updateUvs()},o.prototype.setResolution=function(e){var n=this.baseTexture;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))},o.create=function(e){return"number"==typeof e&&(e={width:e,height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),new o(new yo(e))},o}(Ti),Yr=function(){function u(o){this.texturePool={},this.textureOptions=o||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return u.prototype.createTexture=function(o,e){var n=new yo(Object.assign({width:o,height:e,resolution:1},this.textureOptions));return new co(n)},u.prototype.getOptimalTexture=function(o,e,n){void 0===n&&(n=1);var l=u.SCREEN_KEY;o*=n,e*=n,(!this.enableFullScreen||o!==this._pixelsWidth||e!==this._pixelsHeight)&&(l=(65535&(o=Kn(o)))<<16|65535&(e=Kn(e))),this.texturePool[l]||(this.texturePool[l]=[]);var S=this.texturePool[l].pop();return S||(S=this.createTexture(o,e)),S.filterPoolKey=l,S.setResolution(n),S},u.prototype.getFilterTexture=function(o,e){var n=this.getOptimalTexture(o.width,o.height,e||o.resolution);return n.filterFrame=o.filterFrame,n},u.prototype.returnTexture=function(o){var e=o.filterPoolKey;o.filterFrame=null,this.texturePool[e].push(o)},u.prototype.returnFilterTexture=function(o){this.returnTexture(o)},u.prototype.clear=function(o){if(o=!1!==o)for(var e in this.texturePool){var n=this.texturePool[e];if(n)for(var l=0;l<n.length;l++)n[l].destroy(!0)}this.texturePool={}},u.prototype.setScreenSize=function(o){if(o.width!==this._pixelsWidth||o.height!==this._pixelsHeight){var e=u.SCREEN_KEY,n=this.texturePool[e];if(this.enableFullScreen=o.width>0&&o.height>0,n)for(var l=0;l<n.length;l++)n[l].destroy(!0);this.texturePool[e]=[],this._pixelsWidth=o.width,this._pixelsHeight=o.height}},u.SCREEN_KEY="screen",u}(),Ao=function(){function u(o,e,n,l,S,C,B){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===l&&(l=5126),this.buffer=o,this.size=e,this.normalized=n,this.type=l,this.stride=S,this.start=C,this.instance=B}return u.prototype.destroy=function(){this.buffer=null},u.from=function(o,e,n,l,S){return new u(o,e,n,l,S)},u}(),Lo=0,Pr=function(){function u(o,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),this.data=o||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=e,this.id=Lo++,this.disposeRunner=new un("disposeBuffer")}return u.prototype.update=function(o){this.data=o||this.data,this._updateID++},u.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},u.prototype.destroy=function(){this.dispose(),this.data=null},u.from=function(o){return o instanceof Array&&(o=new Float32Array(o)),new u(o)},u}();function zo(u){if(4===u.BYTES_PER_ELEMENT)return u instanceof Float32Array?"Float32Array":u instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===u.BYTES_PER_ELEMENT){if(u instanceof Uint16Array)return"Uint16Array"}else if(1===u.BYTES_PER_ELEMENT&&u instanceof Uint8Array)return"Uint8Array";return null}var Bo={Float32Array,Uint32Array,Int32Array,Uint8Array},Uo={5126:4,5123:2,5121:1},Xr=0,Fo={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},$o=function(){function u(o,e){void 0===o&&(o=[]),void 0===e&&(e={}),this.buffers=o,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Xr++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new un("disposeGeometry"),this.refCount=0}return u.prototype.addAttribute=function(o,e,n,l,S,C,B,ae){if(void 0===n&&(n=0),void 0===l&&(l=!1),void 0===ae&&(ae=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Pr||(e instanceof Array&&(e=new Float32Array(e)),e=new Pr(e));var Ee=o.split("|");if(Ee.length>1){for(var We=0;We<Ee.length;We++)this.addAttribute(Ee[We],e,n,l,S);return this}var $e=this.buffers.indexOf(e);return-1===$e&&(this.buffers.push(e),$e=this.buffers.length-1),this.attributes[o]=new Ao($e,n,l,S,C,B,ae),this.instanced=this.instanced||ae,this},u.prototype.getAttribute=function(o){return this.attributes[o]},u.prototype.getBuffer=function(o){return this.buffers[this.getAttribute(o).buffer]},u.prototype.addIndex=function(o){return o instanceof Pr||(o instanceof Array&&(o=new Uint16Array(o)),o=new Pr(o)),o.index=!0,this.indexBuffer=o,-1===this.buffers.indexOf(o)&&this.buffers.push(o),this},u.prototype.getIndex=function(){return this.indexBuffer},u.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var l,o=[],e=[],n=new Pr;for(l in this.attributes){var S=this.attributes[l];o.push(this.buffers[S.buffer].data),e.push(S.size*Uo[S.type]/4),S.buffer=0}for(n.data=function Ho(u,o){for(var e=0,n=0,l={},S=0;S<u.length;S++)n+=o[S],e+=u[S].length;var C=new ArrayBuffer(4*e),B=null,ae=0;for(S=0;S<u.length;S++){var Ee=o[S],We=u[S],$e=zo(We);l[$e]||(l[$e]=new Bo[$e](C)),B=l[$e];for(var je=0;je<We.length;je++)B[(je/Ee|0)*n+ae+je%Ee]=We[je];ae+=Ee}return new Float32Array(C)}(o,e),l=0;l<this.buffers.length;l++)this.buffers[l]!==this.indexBuffer&&this.buffers[l].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},u.prototype.getSize=function(){for(var o in this.attributes){var e=this.attributes[o];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},u.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},u.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},u.prototype.clone=function(){for(var o=new u,e=0;e<this.buffers.length;e++)o.buffers[e]=new Pr(this.buffers[e].data.slice(0));for(var e in this.attributes){var n=this.attributes[e];o.attributes[e]=new Ao(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(o.indexBuffer=o.buffers[this.buffers.indexOf(this.indexBuffer)],o.indexBuffer.index=!0),o},u.merge=function(o){for(var C,e=new u,n=[],l=[],S=[],B=0;B<o.length;B++){C=o[B];for(var ae=0;ae<C.buffers.length;ae++)l[ae]=l[ae]||0,l[ae]+=C.buffers[ae].data.length,S[ae]=0}for(B=0;B<C.buffers.length;B++)n[B]=new(Fo[zo(C.buffers[B].data)])(l[B]),e.buffers[B]=new Pr(n[B]);for(B=0;B<o.length;B++)for(C=o[B],ae=0;ae<C.buffers.length;ae++)n[ae].set(C.buffers[ae].data,S[ae]),S[ae]+=C.buffers[ae].data.length;if(e.attributes=C.attributes,C.indexBuffer){e.indexBuffer=e.buffers[C.buffers.indexOf(C.indexBuffer)],e.indexBuffer.index=!0;var Ee=0,We=0,$e=0,je=0;for(B=0;B<C.buffers.length;B++)if(C.buffers[B]!==C.indexBuffer){je=B;break}for(var B in C.attributes){var ht=C.attributes[B];(0|ht.buffer)===je&&(We+=ht.size*Uo[ht.type]/4)}for(B=0;B<o.length;B++){var St=o[B].indexBuffer.data;for(ae=0;ae<St.length;ae++)e.indexBuffer.data[ae+$e]+=Ee;Ee+=C.buffers[je].data.length/We,$e+=St.length}}return e},u}(),Zr=function(u){function o(){var e=u.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return wn(o,u),o}($o),Ko=function(u){function o(){var e=u.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Pr(e.vertices),e.uvBuffer=new Pr(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return wn(o,u),o.prototype.map=function(e,n){var l=0,S=0;return this.uvs[0]=l,this.uvs[1]=S,this.uvs[2]=l+n.width/e.width,this.uvs[3]=S,this.uvs[4]=l+n.width/e.width,this.uvs[5]=S+n.height/e.height,this.uvs[6]=l,this.uvs[7]=S+n.height/e.height,S=n.y,this.vertices[0]=l=n.x,this.vertices[1]=S,this.vertices[2]=l+n.width,this.vertices[3]=S,this.vertices[4]=l+n.width,this.vertices[5]=S+n.height,this.vertices[6]=l,this.vertices[7]=S+n.height,this.invalidate(),this},o.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},o}($o),Go=0,qi=function(){function u(o,e){this.uniforms=o,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Go++,this.static=!!e}return u.prototype.update=function(){this.dirtyId++},u.prototype.add=function(o,e,n){this.uniforms[o]=new u(e,n)},u.from=function(o,e){return new u(o,e)},u}(),z=function(){function u(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new Zi,this.destinationFrame=new Zi,this.filters=[]}return u.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},u}(),we=function(u){function o(e){var n=u.call(this,e)||this;return n.defaultFilterStack=[{}],n.texturePool=new Yr,n.texturePool.setScreenSize(e.view),n.statePool=[],n.quad=new Zr,n.quadUv=new Ko,n.tempRect=new Zi,n.activeState={},n.globalUniforms=new qi({outputFrame:n.tempRect,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),n.forceClear=!1,n.useMaxPadding=!1,n}return wn(o,u),o.prototype.push=function(e,n){for(var l=this.renderer,S=this.defaultFilterStack,C=this.statePool.pop()||new z,B=n[0].resolution,ae=n[0].padding,Ee=n[0].autoFit,We=n[0].legacy,$e=1;$e<n.length;$e++){var je=n[$e];B=Math.min(B,je.resolution),ae=this.useMaxPadding?Math.max(ae,je.padding):ae+je.padding,Ee=Ee&&je.autoFit,We=We||je.legacy}1===S.length&&(this.defaultFilterStack[0].renderTexture=l.renderTexture.current),S.push(C),C.resolution=B,C.legacy=We,C.target=e,C.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),C.sourceFrame.pad(ae),Ee&&C.sourceFrame.fit(this.renderer.renderTexture.sourceFrame),C.sourceFrame.ceil(B),C.renderTexture=this.getOptimalFilterTexture(C.sourceFrame.width,C.sourceFrame.height,B),C.filters=n,C.destinationFrame.width=C.renderTexture.width,C.destinationFrame.height=C.renderTexture.height;var ht=this.tempRect;ht.width=C.sourceFrame.width,ht.height=C.sourceFrame.height,C.renderTexture.filterFrame=C.sourceFrame,l.renderTexture.bind(C.renderTexture,C.sourceFrame,ht),l.renderTexture.clear()},o.prototype.pop=function(){var e=this.defaultFilterStack,n=e.pop(),l=n.filters;this.activeState=n;var S=this.globalUniforms.uniforms;S.outputFrame=n.sourceFrame,S.resolution=n.resolution;var C=S.inputSize,B=S.inputPixel,ae=S.inputClamp;if(C[0]=n.destinationFrame.width,C[1]=n.destinationFrame.height,C[2]=1/C[0],C[3]=1/C[1],B[0]=C[0]*n.resolution,B[1]=C[1]*n.resolution,B[2]=1/B[0],B[3]=1/B[1],ae[0]=.5*B[2],ae[1]=.5*B[3],ae[2]=n.sourceFrame.width*C[2]-.5*B[2],ae[3]=n.sourceFrame.height*C[3]-.5*B[3],n.legacy){var Ee=S.filterArea;Ee[0]=n.destinationFrame.width,Ee[1]=n.destinationFrame.height,Ee[2]=n.sourceFrame.x,Ee[3]=n.sourceFrame.y,S.filterClamp=S.inputClamp}this.globalUniforms.update();var We=e[e.length-1];if(n.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===l.length)l[0].apply(this,n.renderTexture,We.renderTexture,tn.BLEND,n),this.returnFilterTexture(n.renderTexture);else{var $e=n.renderTexture,je=this.getOptimalFilterTexture($e.width,$e.height,n.resolution);je.filterFrame=$e.filterFrame;var ht=0;for(ht=0;ht<l.length-1;++ht){l[ht].apply(this,$e,je,tn.CLEAR,n);var St=$e;$e=je,je=St}l[ht].apply(this,$e,We.renderTexture,tn.BLEND,n),this.returnFilterTexture($e),this.returnFilterTexture(je)}n.clear(),this.statePool.push(n)},o.prototype.bindAndClear=function(e,n){if(void 0===n&&(n=tn.CLEAR),e&&e.filterFrame){var l=this.tempRect;l.width=e.filterFrame.width,l.height=e.filterFrame.height,this.renderer.renderTexture.bind(e,e.filterFrame,l)}else this.renderer.renderTexture.bind(e);"boolean"==typeof n&&(n=n?tn.CLEAR:tn.BLEND,Vt("5.2.1","Use CLEAR_MODES when using clear applyFilter option")),(n===tn.CLEAR||n===tn.BLIT&&this.forceClear)&&this.renderer.renderTexture.clear()},o.prototype.applyFilter=function(e,n,l,S){var C=this.renderer;this.bindAndClear(l,S),e.uniforms.uSampler=n,e.uniforms.filterGlobals=this.globalUniforms,C.state.set(e.state),C.shader.bind(e),e.legacy?(this.quadUv.map(n._frame,n.filterFrame),C.geometry.bind(this.quadUv),C.geometry.draw(mt.TRIANGLES)):(C.geometry.bind(this.quad),C.geometry.draw(mt.TRIANGLE_STRIP))},o.prototype.calculateSpriteMatrix=function(e,n){var l=this.activeState,S=l.sourceFrame,C=l.destinationFrame,B=n._texture.orig,ae=e.set(C.width,0,0,C.height,S.x,S.y),Ee=n.worldTransform.copyTo(Ki.TEMP_MATRIX);return Ee.invert(),ae.prepend(Ee),ae.scale(1/B.width,1/B.height),ae.translate(n.anchor.x,n.anchor.y),ae},o.prototype.destroy=function(){this.texturePool.clear(!1)},o.prototype.getOptimalFilterTexture=function(e,n,l){return void 0===l&&(l=1),this.texturePool.getOptimalTexture(e,n,l)},o.prototype.getFilterTexture=function(e,n){if("number"==typeof e){var l=e;e=n,n=l}var S=this.texturePool.getOptimalTexture((e=e||this.activeState.renderTexture).width,e.height,n||e.resolution);return S.filterFrame=e.filterFrame,S},o.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},o.prototype.emptyPool=function(){this.texturePool.clear(!0)},o.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},o}(pr),Pe=function(){function u(o){this.renderer=o}return u.prototype.flush=function(){},u.prototype.destroy=function(){this.renderer=null},u.prototype.start=function(){},u.prototype.stop=function(){this.flush()},u.prototype.render=function(o){},u}(),Qe=function(u){function o(e){var n=u.call(this,e)||this;return n.emptyRenderer=new Pe(e),n.currentRenderer=n.emptyRenderer,n}return wn(o,u),o.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},o.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},o.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},o.prototype.copyBoundTextures=function(e,n){for(var l=this.renderer.texture.boundTextures,S=n-1;S>=0;--S)e[S]=l[S]||null,e[S]&&(e[S]._batchLocation=S)},o.prototype.boundArray=function(e,n,l,S){for(var C=e.elements,B=e.ids,ae=e.count,Ee=0,We=0;We<ae;We++){var $e=C[We],je=$e._batchLocation;if(je>=0&&je<S&&n[je]===$e)B[We]=je;else for(;Ee<S;){var ht=n[Ee];if(!ht||ht._batchEnabled!==l||ht._batchLocation!==Ee){B[We]=Ee,$e._batchLocation=Ee,n[Ee]=$e;break}Ee++}}},o}(pr),ut=0,Dt=function(u){function o(e){var n=u.call(this,e)||this;return n.webGLVersion=1,n.extensions={},n.supports={uint32Indices:!1},n.handleContextLost=n.handleContextLost.bind(n),n.handleContextRestored=n.handleContextRestored.bind(n),e.view.addEventListener("webglcontextlost",n.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1),n}return wn(o,u),Object.defineProperty(o.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),o.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=ut++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},o.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=ut++,this.renderer.runners.contextChange.emit(e)},o.prototype.initFromOptions=function(e){var n=this.createContext(this.renderer.view,e);this.initFromContext(n)},o.prototype.createContext=function(e,n){var l;if(pe.PREFER_ENV>=Ce.WEBGL2&&(l=e.getContext("webgl2",n)),l)this.webGLVersion=2;else if(this.webGLVersion=1,!(l=e.getContext("webgl",n)||e.getContext("experimental-webgl",n)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=l,this.getExtensions(),this.gl},o.prototype.getExtensions=function(){var e=this.gl;1===this.webGLVersion?Object.assign(this.extensions,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,{anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),colorBufferFloat:e.getExtension("EXT_color_buffer_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear")})},o.prototype.handleContextLost=function(e){e.preventDefault()},o.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},o.prototype.destroy=function(){var e=this.renderer.view;e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},o.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},o.prototype.validateContext=function(e){var n=e.getContextAttributes(),l="WebGL2RenderingContext"in window&&e instanceof window.WebGL2RenderingContext;l&&(this.webGLVersion=2),n.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var S=l||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=S,S||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},o}(pr),Ft=function u(o){this.framebuffer=o,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=_n.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},jt=new Zi,en=function(u){function o(e){var n=u.call(this,e)||this;return n.managedFramebuffers=[],n.unknownFramebuffer=new mo(10,10),n.msaaSamples=null,n}return wn(o,u),o.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Zi,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var n=this.renderer.context.extensions.drawBuffers,l=this.renderer.context.extensions.depthTexture;pe.PREFER_ENV===Ce.WEBGL_LEGACY&&(n=null,l=null),n?e.drawBuffers=function(S){return n.drawBuffersWEBGL(S)}:(this.hasMRT=!1,e.drawBuffers=function(){}),l||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},o.prototype.bind=function(e,n){var l=this.gl;if(e){var S=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,l.bindFramebuffer(l.FRAMEBUFFER,S.framebuffer)),S.dirtyId!==e.dirtyId&&(S.dirtyId=e.dirtyId,S.dirtyFormat!==e.dirtyFormat?(S.dirtyFormat=e.dirtyFormat,this.updateFramebuffer(e)):S.dirtySize!==e.dirtySize&&(S.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var C=0;C<e.colorTextures.length;C++){var B=e.colorTextures[C];this.renderer.texture.unbind(B.parentTextureArray||B)}e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,e.width,e.height)}else this.current&&(this.current=null,l.bindFramebuffer(l.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},o.prototype.setViewport=function(e,n,l,S){var C=this.viewport;(C.width!==l||C.height!==S||C.x!==e||C.y!==n)&&(C.x=e,C.y=n,C.width=l,C.height=S,this.gl.viewport(e,n,l,S))},Object.defineProperty(o.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),o.prototype.clear=function(e,n,l,S,C){void 0===C&&(C=Me.COLOR|Me.DEPTH);var B=this.gl;B.clearColor(e,n,l,S),B.clear(C)},o.prototype.initFramebuffer=function(e){var l=new Ft(this.gl.createFramebuffer());return l.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=l,this.managedFramebuffers.push(e),e.disposeRunner.add(this),l},o.prototype.resizeFramebuffer=function(e){var n=this.gl,l=e.glFramebuffers[this.CONTEXT_UID];l.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,l.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height));for(var S=e.colorTextures,C=0;C<S.length;C++)this.renderer.texture.bind(S[C],0);e.depthTexture&&this.renderer.texture.bind(e.depthTexture,0)},o.prototype.updateFramebuffer=function(e){var n=this.gl,l=e.glFramebuffers[this.CONTEXT_UID],C=e.colorTextures.length;n.drawBuffers||(C=Math.min(C,1)),l.multisample>1&&(l.msaaBuffer=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,l.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,l.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,l.msaaBuffer));for(var B=[],ae=0;ae<C;ae++)if(!(0===ae&&l.multisample>1)){var Ee=e.colorTextures[ae],We=Ee.parentTextureArray||Ee;this.renderer.texture.bind(We,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ae,Ee.target,We._glTextures[this.CONTEXT_UID].texture,0),B.push(n.COLOR_ATTACHMENT0+ae)}if(B.length>1&&n.drawBuffers(B),e.depthTexture&&this.writeDepthTexture){var je=e.depthTexture;this.renderer.texture.bind(je,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,je._glTextures[this.CONTEXT_UID].texture,0)}!l.stencil&&(e.stencil||e.depth)&&(l.stencil=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,l.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),e.depthTexture||n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,l.stencil))},o.prototype.detectSamples=function(e){var n=this.msaaSamples,l=_n.NONE;if(e<=1||null===n)return l;for(var S=0;S<n.length;S++)if(n[S]<=e){l=n[S];break}return 1===l&&(l=_n.NONE),l},o.prototype.blit=function(e,n,l){var S=this,C=S.current,ae=S.gl;if(2===S.renderer.context.webGLVersion&&C){var We=C.glFramebuffers[S.CONTEXT_UID];if(We){if(!e){if(We.multisample<=1)return;We.blitFramebuffer||(We.blitFramebuffer=new mo(C.width,C.height),We.blitFramebuffer.addColorTexture(0,C.colorTextures[0])),(e=We.blitFramebuffer).width=C.width,e.height=C.height}n||((n=jt).width=C.width,n.height=C.height),l||(l=n);var $e=n.width===l.width&&n.height===l.height;this.bind(e),ae.bindFramebuffer(ae.READ_FRAMEBUFFER,We.framebuffer),ae.blitFramebuffer(n.x,n.y,n.width,n.height,l.x,l.y,l.width,l.height,ae.COLOR_BUFFER_BIT,$e?ae.NEAREST:ae.LINEAR)}}},o.prototype.disposeFramebuffer=function(e,n){var l=e.glFramebuffers[this.CONTEXT_UID],S=this.gl;if(l){delete e.glFramebuffers[this.CONTEXT_UID];var C=this.managedFramebuffers.indexOf(e);C>=0&&this.managedFramebuffers.splice(C,1),e.disposeRunner.remove(this),n||(S.deleteFramebuffer(l.framebuffer),l.stencil&&S.deleteRenderbuffer(l.stencil))}},o.prototype.disposeAll=function(e){var n=this.managedFramebuffers;this.managedFramebuffers=[];for(var l=0;l<n.length;l++)this.disposeFramebuffer(n[l],e)},o.prototype.forceStencil=function(){var e=this.current;if(e){var n=e.glFramebuffers[this.CONTEXT_UID];if(n&&!n.stencil){e.enableStencil();var l=e.width,S=e.height,C=this.gl,B=C.createRenderbuffer();C.bindRenderbuffer(C.RENDERBUFFER,B),C.renderbufferStorage(C.RENDERBUFFER,C.DEPTH_STENCIL,l,S),n.stencil=B,C.framebufferRenderbuffer(C.FRAMEBUFFER,C.DEPTH_STENCIL_ATTACHMENT,C.RENDERBUFFER,B)}}},o.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Zi},o}(pr),Mn=function u(o){this.buffer=o||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},Fn={5126:4,5123:2,5121:1},xi=function(u){function o(e){var n=u.call(this,e)||this;return n._activeGeometry=null,n._activeVao=null,n.hasVao=!0,n.hasInstance=!0,n.canUseUInt32ElementIndex=!1,n.managedGeometries={},n.managedBuffers={},n}return wn(o,u),o.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==n.webGLVersion){var l=this.renderer.context.extensions.vertexArrayObject;pe.PREFER_ENV===Ce.WEBGL_LEGACY&&(l=null),l?(e.createVertexArray=function(){return l.createVertexArrayOES()},e.bindVertexArray=function(C){return l.bindVertexArrayOES(C)},e.deleteVertexArray=function(C){return l.deleteVertexArrayOES(C)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==n.webGLVersion){var S=e.getExtension("ANGLE_instanced_arrays");S?(e.vertexAttribDivisor=function(C,B){return S.vertexAttribDivisorANGLE(C,B)},e.drawElementsInstanced=function(C,B,ae,Ee,We){return S.drawElementsInstancedANGLE(C,B,ae,Ee,We)},e.drawArraysInstanced=function(C,B,ae,Ee){return S.drawArraysInstancedANGLE(C,B,ae,Ee)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===n.webGLVersion||!!n.extensions.uint32ElementIndex},o.prototype.bind=function(e,n){n=n||this.renderer.shader.shader;var l=this.gl,S=e.glVertexArrayObjects[this.CONTEXT_UID],C=!1;S||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=S={},C=!0);var B=S[n.program.id]||this.initGeometryVao(e,n.program,C);this._activeGeometry=e,this._activeVao!==B&&(this._activeVao=B,this.hasVao?l.bindVertexArray(B):this.activateVao(e,n.program)),this.updateBuffers()},o.prototype.reset=function(){this.unbind()},o.prototype.updateBuffers=function(){for(var e=this._activeGeometry,n=this.gl,l=0;l<e.buffers.length;l++){var S=e.buffers[l],C=S._glBuffers[this.CONTEXT_UID];if(S._updateID!==C.updateID){C.updateID=S._updateID;var B=S.index?n.ELEMENT_ARRAY_BUFFER:n.ARRAY_BUFFER;if(n.bindBuffer(B,C.buffer),this._boundBuffer=C,C.byteLength>=S.data.byteLength)n.bufferSubData(B,0,S.data);else{var ae=S.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;C.byteLength=S.data.byteLength,n.bufferData(B,S.data,ae)}}}},o.prototype.checkCompatibility=function(e,n){var l=e.attributes,S=n.attributeData;for(var C in S)if(!l[C])throw new Error('shader and geometry incompatible, geometry missing the "'+C+'" attribute')},o.prototype.getSignature=function(e,n){var l=e.attributes,S=n.attributeData,C=["g",e.id];for(var B in l)S[B]&&C.push(B);return C.join("-")},o.prototype.initGeometryVao=function(e,n,l){void 0===l&&(l=!0),this.checkCompatibility(e,n);var S=this.gl,C=this.CONTEXT_UID,B=this.getSignature(e,n),ae=e.glVertexArrayObjects[this.CONTEXT_UID],Ee=ae[B];if(Ee)return ae[n.id]=Ee,Ee;var We=e.buffers,$e=e.attributes,je={},ht={};for(var St in We)je[St]=0,ht[St]=0;for(var St in $e)!$e[St].size&&n.attributeData[St]?$e[St].size=n.attributeData[St].size:$e[St].size||console.warn("PIXI Geometry attribute '"+St+"' size cannot be determined (likely the bound shader does not have the attribute)"),je[$e[St].buffer]+=$e[St].size*Fn[$e[St].type];for(var St in $e){var It=$e[St],rn=It.size;void 0===It.stride&&(It.stride=je[It.buffer]===rn*Fn[It.type]?0:je[It.buffer]),void 0===It.start&&(It.start=ht[It.buffer],ht[It.buffer]+=rn*Fn[It.type])}Ee=S.createVertexArray(),S.bindVertexArray(Ee);for(var xn=0;xn<We.length;xn++){var Ai=We[xn];Ai._glBuffers[C]||(Ai._glBuffers[C]=new Mn(S.createBuffer()),this.managedBuffers[Ai.id]=Ai,Ai.disposeRunner.add(this)),l&&Ai._glBuffers[C].refCount++}return this.activateVao(e,n),this._activeVao=Ee,ae[n.id]=Ee,ae[B]=Ee,Ee},o.prototype.disposeBuffer=function(e,n){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var l=e._glBuffers[this.CONTEXT_UID],S=this.gl;e.disposeRunner.remove(this),l&&(n||S.deleteBuffer(l.buffer),delete e._glBuffers[this.CONTEXT_UID])}},o.prototype.disposeGeometry=function(e,n){if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var l=e.glVertexArrayObjects[this.CONTEXT_UID],S=this.gl,C=e.buffers;if(e.disposeRunner.remove(this),l){for(var B=0;B<C.length;B++){var ae=C[B]._glBuffers[this.CONTEXT_UID];ae.refCount--,0===ae.refCount&&!n&&this.disposeBuffer(C[B],n)}if(!n)for(var Ee in l)if("g"===Ee[0]){var We=l[Ee];this._activeVao===We&&this.unbind(),S.deleteVertexArray(We)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},o.prototype.disposeAll=function(e){for(var n=Object.keys(this.managedGeometries),l=0;l<n.length;l++)this.disposeGeometry(this.managedGeometries[n[l]],e);for(n=Object.keys(this.managedBuffers),l=0;l<n.length;l++)this.disposeBuffer(this.managedBuffers[n[l]],e)},o.prototype.activateVao=function(e,n){var l=this.gl,S=this.CONTEXT_UID,C=e.buffers,B=e.attributes;e.indexBuffer&&l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,e.indexBuffer._glBuffers[S].buffer);var ae=null;for(var Ee in B){var We=B[Ee],je=C[We.buffer]._glBuffers[S];if(n.attributeData[Ee]){ae!==je&&(l.bindBuffer(l.ARRAY_BUFFER,je.buffer),ae=je);var ht=n.attributeData[Ee].location;if(l.enableVertexAttribArray(ht),l.vertexAttribPointer(ht,We.size,We.type||l.FLOAT,We.normalized,We.stride,We.start),We.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");l.vertexAttribDivisor(ht,1)}}}},o.prototype.draw=function(e,n,l,S){var C=this.gl,B=this._activeGeometry;if(B.indexBuffer){var ae=B.indexBuffer.data.BYTES_PER_ELEMENT,Ee=2===ae?C.UNSIGNED_SHORT:C.UNSIGNED_INT;2===ae||4===ae&&this.canUseUInt32ElementIndex?B.instanced?C.drawElementsInstanced(e,n||B.indexBuffer.data.length,Ee,(l||0)*ae,S||1):C.drawElements(e,n||B.indexBuffer.data.length,Ee,(l||0)*ae):console.warn("unsupported index buffer type: uint32")}else B.instanced?C.drawArraysInstanced(e,l,n||B.getSize(),S||1):C.drawArrays(e,l,n||B.getSize());return this},o.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},o}(pr),hi=function(){function u(o){void 0===o&&(o=null),this.type=Cn.NONE,this.autoDetect=!0,this.maskObject=o||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return u.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Cn.NONE,this.autoDetect=!0),this._target=null},u.prototype.copyCountersOrReset=function(o){o?(this._stencilCounter=o._stencilCounter,this._scissorCounter=o._scissorCounter,this._scissorRect=o._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},u}();function Zn(u,o,e){var n=u.createShader(o);return u.shaderSource(n,e),u.compileShader(n),n}function ve(u,o,e,n){var l=Zn(u,u.VERTEX_SHADER,o),S=Zn(u,u.FRAGMENT_SHADER,e),C=u.createProgram();if(u.attachShader(C,l),u.attachShader(C,S),n)for(var B in n)u.bindAttribLocation(C,n[B],B);return u.linkProgram(C),u.getProgramParameter(C,u.LINK_STATUS)||(u.getShaderParameter(l,u.COMPILE_STATUS)||(console.warn(o),console.error(u.getShaderInfoLog(l))),u.getShaderParameter(S,u.COMPILE_STATUS)||(console.warn(e),console.error(u.getShaderInfoLog(S))),console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",u.getProgramParameter(C,u.VALIDATE_STATUS)),console.error("gl.getError()",u.getError()),""!==u.getProgramInfoLog(C)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",u.getProgramInfoLog(C)),u.deleteProgram(C),C=null),u.deleteShader(l),u.deleteShader(S),C}function fe(u){for(var o=new Array(u),e=0;e<o.length;e++)o[e]=!1;return o}function M(u,o){switch(u){case"float":case"int":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*o);case"vec3":return new Float32Array(3*o);case"vec4":return new Float32Array(4*o);case"ivec2":return new Int32Array(2*o);case"ivec3":return new Int32Array(3*o);case"ivec4":return new Int32Array(4*o);case"bool":return!1;case"bvec2":return fe(2*o);case"bvec3":return fe(3*o);case"bvec4":return fe(4*o);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var _,N={},h=N;function T(){if(h===N||h&&h.isContextLost()){var u=document.createElement("canvas"),o=void 0;pe.PREFER_ENV>=Ce.WEBGL2&&(o=u.getContext("webgl2",{})),o||((o=u.getContext("webgl",{})||u.getContext("experimental-webgl",{}))?o.getExtension("WEBGL_draw_buffers"):o=null),h=o}return h}function ee(u,o,e){if("precision"!==u.substring(0,9)){var n=o;return o===mn.HIGH&&e!==mn.HIGH&&(n=mn.MEDIUM),"precision "+n+" float;\n"+u}return e!==mn.HIGH&&"precision highp"===u.substring(0,15)?u.replace("precision highp","precision mediump"):u}var Xe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Rt(u){return Xe[u]}var Bt=null,Jt={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function zn(u,o){if(!Bt){var e=Object.keys(Jt);Bt={};for(var n=0;n<e.length;++n){var l=e[n];Bt[u[l]]=Jt[l]}}return Bt[o]}var gr,fi=[{test:function(u){return"float"===u.type&&1===u.size},code:function(u){return'\n            if(uv["'+u+'"] !== ud["'+u+'"].value)\n            {\n                ud["'+u+'"].value = uv["'+u+'"]\n                gl.uniform1f(ud["'+u+'"].location, uv["'+u+'"])\n            }\n            '}},{test:function(u){return("sampler2D"===u.type||"samplerCube"===u.type||"sampler2DArray"===u.type)&&1===u.size&&!u.isArray},code:function(u){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+u+'"], t);\n\n            if(ud["'+u+'"].value !== t)\n            {\n                ud["'+u+'"].value = t;\n                gl.uniform1i(ud["'+u+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(u,o){return"mat3"===u.type&&1===u.size&&void 0!==o.a},code:function(u){return'\n            gl.uniformMatrix3fv(ud["'+u+'"].location, false, uv["'+u+'"].toArray(true));\n            '}},{test:function(u,o){return"vec2"===u.type&&1===u.size&&void 0!==o.x},code:function(u){return'\n                cv = ud["'+u+'"].value;\n                v = uv["'+u+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+u+'"].location, v.x, v.y);\n                }'}},{test:function(u){return"vec2"===u.type&&1===u.size},code:function(u){return'\n                cv = ud["'+u+'"].value;\n                v = uv["'+u+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+u+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(u,o){return"vec4"===u.type&&1===u.size&&void 0!==o.width},code:function(u){return'\n                cv = ud["'+u+'"].value;\n                v = uv["'+u+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+u+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(u){return"vec4"===u.type&&1===u.size},code:function(u){return'\n                cv = ud["'+u+'"].value;\n                v = uv["'+u+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+u+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Ei={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},mi={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},li=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function vo(u){for(var o="",e=0;e<u;++e)e>0&&(o+="\nelse "),e<u-1&&(o+="if(test == "+e+".0){}");return o}function io(u,o){if(0===u)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=o.createShader(o.FRAGMENT_SHADER);;){var n=li.replace(/%forloop%/gi,vo(u));if(o.shaderSource(e,n),o.compileShader(e),o.getShaderParameter(e,o.COMPILE_STATUS))break;u=u/2|0}return u}var To=0,ds={},Jo=function(){function u(o,e,n){void 0===n&&(n="pixi-shader"),this.id=To++,this.vertexSrc=o||u.defaultVertexSrc,this.fragmentSrc=e||u.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(n=n.replace(/\s+/g,"-"),ds[n]?(ds[n]++,n+="-"+ds[n]):ds[n]=1,this.vertexSrc="#define SHADER_NAME "+n+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+"\n"+this.fragmentSrc,this.vertexSrc=ee(this.vertexSrc,pe.PRECISION_VERTEX,mn.HIGH),this.fragmentSrc=ee(this.fragmentSrc,pe.PRECISION_FRAGMENT,function V(){if(!_){_=mn.MEDIUM;var u=T();if(u&&u.getShaderPrecisionFormat){var o=u.getShaderPrecisionFormat(u.FRAGMENT_SHADER,u.HIGH_FLOAT);_=o.precision?mn.HIGH:mn.MEDIUM}}return _}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return u.prototype.extractData=function(o,e){var n=T();if(n){var l=ve(n,o,e);this.attributeData=this.getAttributeData(l,n),this.uniformData=this.getUniformData(l,n),n.deleteProgram(l)}else this.uniformData={},this.attributeData={}},u.prototype.getAttributeData=function(o,e){for(var n={},l=[],S=e.getProgramParameter(o,e.ACTIVE_ATTRIBUTES),C=0;C<S;C++){var B=e.getActiveAttrib(o,C),ae=zn(e,B.type),Ee={type:ae,name:B.name,size:Rt(ae),location:0};n[B.name]=Ee,l.push(Ee)}for(l.sort(function(We,$e){return We.name>$e.name?1:-1}),C=0;C<l.length;C++)l[C].location=C;return n},u.prototype.getUniformData=function(o,e){for(var n={},l=e.getProgramParameter(o,e.ACTIVE_UNIFORMS),S=0;S<l;S++){var C=e.getActiveUniform(o,S),B=C.name.replace(/\[.*?\]$/,""),ae=C.name.match(/\[.*?\]$/),Ee=zn(e,C.type);n[B]={type:Ee,size:C.size,isArray:ae,value:M(Ee,C.size)}}return n},Object.defineProperty(u,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(u,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),u.from=function(o,e,n){var l=o+e,S=ai[l];return S||(ai[l]=S=new u(o,e,n)),S},u}(),as=function(){function u(o,e){for(var n in this.program=o,this.uniformGroup=e?e instanceof qi?e:new qi(e):new qi({}),o.uniformData)this.uniformGroup.uniforms[n]instanceof Array&&(this.uniformGroup.uniforms[n]=new Float32Array(this.uniformGroup.uniforms[n]))}return u.prototype.checkUniformExists=function(o,e){if(e.uniforms[o])return!0;for(var n in e.uniforms){var l=e.uniforms[n];if(l.group&&this.checkUniformExists(o,l))return!0}return!1},u.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(u.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),u.from=function(o,e,n){return new u(Jo.from(o,e),n)},u}(),ms=function(){function u(){this.data=0,this.blendMode=Fe.NORMAL,this.polygonOffset=0,this.blend=!0}return Object.defineProperty(u.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(o){!!(1&this.data)!==o&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(o){!!(2&this.data)!==o&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(o){!!(4&this.data)!==o&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(o){!!(8&this.data)!==o&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(o){!!(16&this.data)!==o&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"blendMode",{get:function(){return this._blendMode},set:function(o){this.blend=o!==Fe.NONE,this._blendMode=o},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(o){this.offsets=!!o,this._polygonOffset=o},enumerable:!1,configurable:!0}),u.for2d=function(){var o=new u;return o.depthTest=!1,o.blend=!0,o},u}(),Qo=function(u){function o(e,n,l){var S=this,C=Jo.from(e||o.defaultVertexSrc,n||o.defaultFragmentSrc);return(S=u.call(this,C,l)||this).padding=0,S.resolution=pe.FILTER_RESOLUTION,S.enabled=!0,S.autoFit=!0,S.legacy=!!S.program.attributeData.aTextureCoord,S.state=new ms,S}return wn(o,u),o.prototype.apply=function(e,n,l,S,C){e.applyFilter(this,n,l,S)},Object.defineProperty(o.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(o,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),o}(as),Ls="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",Es="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",Fs=new Ki,es=function(){function u(o,e){this._texture=o,this.mapCoord=new Ki,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e>"u"?.5:e,this.isSimple=!1}return Object.defineProperty(u.prototype,"texture",{get:function(){return this._texture},set:function(o){this._texture=o,this._textureID=-1},enumerable:!1,configurable:!0}),u.prototype.multiplyUvs=function(o,e){void 0===e&&(e=o);for(var n=this.mapCoord,l=0;l<o.length;l+=2){var S=o[l],C=o[l+1];e[l]=S*n.a+C*n.c+n.tx,e[l+1]=S*n.b+C*n.d+n.ty}return e},u.prototype.update=function(o){var e=this._texture;if(!e||!e.valid||!o&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var l=e.orig,S=e.trim;S&&(Fs.set(l.width/S.width,0,0,l.height/S.height,-S.x/S.width,-S.y/S.height),this.mapCoord.append(Fs));var C=e.baseTexture,B=this.uClampFrame,ae=this.clampMargin/C.resolution,Ee=this.clampOffset;return B[0]=(e._frame.x+ae+Ee)/C.width,B[1]=(e._frame.y+ae+Ee)/C.height,B[2]=(e._frame.x+e._frame.width-ae+Ee)/C.width,B[3]=(e._frame.y+e._frame.height-ae+Ee)/C.height,this.uClampOffset[0]=Ee/C.realWidth,this.uClampOffset[1]=Ee/C.realHeight,this.isSimple=e._frame.width===C.width&&e._frame.height===C.height&&0===e.rotate,!0},u}(),Hs=function(u){function o(e){var n=this,l=new Ki;return n=u.call(this,Ls,Es)||this,e.renderable=!1,n.maskSprite=e,n.maskMatrix=l,n}return wn(o,u),o.prototype.apply=function(e,n,l,S){var C=this.maskSprite,B=C._texture;B.valid&&(B.uvMatrix||(B.uvMatrix=new es(B,0)),B.uvMatrix.update(),this.uniforms.npmAlpha=B.baseTexture.alphaMode?0:1,this.uniforms.mask=B,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,C).prepend(B.uvMatrix.mapCoord),this.uniforms.alpha=C.worldAlpha,this.uniforms.maskClamp=B.uvMatrix.uClampFrame,e.applyFilter(this,n,l,S))},o}(Qo),Ts=function(u){function o(e){var n=u.call(this,e)||this;return n.enableScissor=!1,n.alphaMaskPool=[],n.maskDataPool=[],n.maskStack=[],n.alphaMaskIndex=0,n}return wn(o,u),o.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},o.prototype.push=function(e,n){var l=n;if(!l.isMaskData){var S=this.maskDataPool.pop()||new hi;S.pooled=!0,S.maskObject=n,l=S}switch(l.autoDetect&&this.detect(l),l.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),l._target=e,l.type){case Cn.SCISSOR:this.maskStack.push(l),this.renderer.scissor.push(l);break;case Cn.STENCIL:this.maskStack.push(l),this.renderer.stencil.push(l);break;case Cn.SPRITE:l.copyCountersOrReset(null),this.pushSpriteMask(l),this.maskStack.push(l)}},o.prototype.pop=function(e){var n=this.maskStack.pop();if(n&&n._target===e){switch(n.type){case Cn.SCISSOR:this.renderer.scissor.pop();break;case Cn.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case Cn.SPRITE:this.popSpriteMask()}n.reset(),n.pooled&&this.maskDataPool.push(n)}},o.prototype.detect=function(e){var n=e.maskObject;if(n.isSprite)e.type=Cn.SPRITE;else if(e.type=Cn.STENCIL,this.enableScissor&&n.isFastRect&&n.isFastRect()){var l=n.worldTransform,S=Math.atan2(l.b,l.a),C=Math.atan2(l.d,l.c);S=Math.round(S*(180/Math.PI)*100),C=((C=Math.round(C*(180/Math.PI)*100)-S)%18e3+18e3)%18e3,0==(S=(S%9e3+9e3)%9e3)&&9e3===C&&(e.type=Cn.SCISSOR)}},o.prototype.pushSpriteMask=function(e){var n=e.maskObject,l=e._target,S=this.alphaMaskPool[this.alphaMaskIndex];S||(S=this.alphaMaskPool[this.alphaMaskIndex]=[new Hs(n)]),S[0].resolution=this.renderer.resolution,S[0].maskSprite=n;var C=l.filterArea;l.filterArea=n.getBounds(!0),this.renderer.filter.push(l,S),l.filterArea=C,this.alphaMaskIndex++},o.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},o}(pr),Yo=function(u){function o(e){var n=u.call(this,e)||this;return n.maskStack=[],n.glConst=0,n}return wn(o,u),o.prototype.getStackLength=function(){return this.maskStack.length},o.prototype.setMaskStack=function(e){var n=this.renderer.gl,l=this.getStackLength();this.maskStack=e;var S=this.getStackLength();S!==l&&(0===S?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))},o.prototype._useCurrent=function(){},o.prototype.destroy=function(){u.prototype.destroy.call(this),this.maskStack=null},o}(pr),cs=function(u){function o(e){var n=u.call(this,e)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return wn(o,u),o.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},o.prototype.push=function(e){var n=e.maskObject;n.renderable=!0;var l=e._scissorRect,S=n.getBounds(!0),C=this.renderer.gl;n.renderable=!1,l?S.fit(l):C.enable(C.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=S,this._useCurrent()},o.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},o.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,n=this.renderer.renderTexture.current,l=this.renderer.projection,S=l.transform,C=l.sourceFrame,B=l.destinationFrame,ae=n?n.resolution:this.renderer.resolution,Ee=(e.x-C.x)*ae+B.x,We=(e.y-C.y)*ae+B.y,je=e.height*ae;S&&(Ee+=S.tx*ae,We+=S.ty*ae),n||(We=this.renderer.height-je-We),this.renderer.gl.scissor(Ee,We,e.width*ae,je)},o}(Yo),Mo=function(u){function o(e){var n=u.call(this,e)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return wn(o,u),o.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},o.prototype.push=function(e){var n=e.maskObject,l=this.renderer.gl,S=e._stencilCounter;0===S&&(this.renderer.framebuffer.forceStencil(),l.enable(l.STENCIL_TEST)),e._stencilCounter++,l.colorMask(!1,!1,!1,!1),l.stencilFunc(l.EQUAL,S,this._getBitwiseMask()),l.stencilOp(l.KEEP,l.KEEP,l.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},o.prototype.pop=function(e){var n=this.renderer.gl;0===this.getStackLength()?(n.disable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),n.clearStencil(0)):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},o.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},o.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},o}(Yo),js=function(u){function o(e){var n=u.call(this,e)||this;return n.destinationFrame=null,n.sourceFrame=null,n.defaultFrame=null,n.projectionMatrix=new Ki,n.transform=null,n}return wn(o,u),o.prototype.update=function(e,n,l,S){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,l,S),this.transform&&this.projectionMatrix.append(this.transform);var C=this.renderer;C.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,C.globalUniforms.update(),C.shader.shader&&C.shader.syncUniformGroup(C.shader.shader.uniforms.globals)},o.prototype.calculateProjection=function(e,n,l,S){var C=this.projectionMatrix,B=S?-1:1;C.identity(),C.a=1/n.width*2,C.d=B*(1/n.height*2),C.tx=-1-n.x*C.a,C.ty=-B-n.y*C.d},o.prototype.setTransform=function(e){},o}(pr),ie=new Zi,U=new Zi,m=new Zi,P=function(u){function o(e){var n=u.call(this,e)||this;return n.clearColor=e._backgroundColorRgba,n.defaultMaskStack=[],n.current=null,n.sourceFrame=new Zi,n.destinationFrame=new Zi,n}return wn(o,u),o.prototype.bind=function(e,n,l){void 0===e&&(e=null);var C,B,ae,S=this.renderer;this.current=e,e?(ae=(C=e.baseTexture).resolution,n||(ie.width=e.frame.width,ie.height=e.frame.height,n=ie),l||(U.x=e.frame.x,U.y=e.frame.y,U.width=n.width,U.height=n.height,l=U),B=C.framebuffer):(ae=S.resolution,n||(ie.width=S.screen.width,ie.height=S.screen.height,n=ie),l||((l=ie).width=n.width,l.height=n.height)),m.x=l.x*ae,m.y=l.y*ae,m.width=l.width*ae,m.height=l.height*ae,this.renderer.framebuffer.bind(B,m),this.renderer.projection.update(l,n,ae,!B),this.renderer.mask.setMaskStack(e?C.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(l)},o.prototype.clear=function(e,n){this.renderer.framebuffer.clear((e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor)[0],e[1],e[2],e[3],n)},o.prototype.resize=function(){this.bind(null)},o.prototype.reset=function(){this.bind(null)},o}(pr),W=function u(){},me=function(){function u(o,e){this.program=o,this.uniformData=e,this.uniformGroups={}}return u.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},u}(),Ne=0,pt={textureCount:0},Pt=function(u){function o(e){var n=u.call(this,e)||this;return n.destroyed=!1,n.systemCheck(),n.gl=null,n.shader=null,n.program=null,n.cache={},n.id=Ne++,n}return wn(o,u),o.prototype.systemCheck=function(){if(!function So(){if("boolean"==typeof gr)return gr;try{var u=new Function("param1","param2","param3","return param1[param2] === param3;");gr=!0===u({a:"b"},"a","b")}catch{gr=!1}return gr}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},o.prototype.contextChange=function(e){this.gl=e,this.reset()},o.prototype.bind=function(e,n){e.uniforms.globals=this.renderer.globalUniforms;var l=e.program,S=l.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(e);return this.shader=e,this.program!==l&&(this.program=l,this.gl.useProgram(S.program)),n||(pt.textureCount=0,this.syncUniformGroup(e.uniformGroup,pt)),S},o.prototype.setUniforms=function(e){var n=this.shader.program;n.syncUniforms(n.glPrograms[this.renderer.CONTEXT_UID].uniformData,e,this.renderer)},o.prototype.syncUniformGroup=function(e,n){var l=this.getglProgram();(!e.static||e.dirtyId!==l.uniformGroups[e.id])&&(l.uniformGroups[e.id]=e.dirtyId,this.syncUniforms(e,l,n))},o.prototype.syncUniforms=function(e,n,l){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(n.uniformData,e.uniforms,this.renderer,l)},o.prototype.createSyncGroups=function(e){var n=this.getSignature(e,this.shader.program.uniformData);return this.cache[n]||(this.cache[n]=function nr(u,o){var e=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var n in u.uniforms){var l=o[n];if(l){for(var S=u.uniforms[n],C=!1,B=0;B<fi.length;B++)if(fi[B].test(l,S)){e.push(fi[B].code(n,S)),C=!0;break}if(!C){var Ee=(1===l.size?Ei:mi)[l.type].replace("location",'ud["'+n+'"].location');e.push('\n            cv = ud["'+n+'"].value;\n            v = uv["'+n+'"];\n            '+Ee+";")}}else u.uniforms[n].group&&e.push('\n                    renderer.shader.syncUniformGroup(uv["'+n+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",e.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[n],e.syncUniforms[this.shader.program.id]},o.prototype.getSignature=function(e,n){var l=e.uniforms,S=[];for(var C in l)S.push(C),n[C]&&S.push(n[C].type);return S.join("-")},o.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},o.prototype.generateShader=function(e){var n=this.gl,l=e.program,S={};for(var C in l.attributeData)S[C]=l.attributeData[C].location;var B=ve(n,l.vertexSrc,l.fragmentSrc,S),ae={};for(var C in l.uniformData){var Ee=l.uniformData[C];ae[C]={location:n.getUniformLocation(B,C),value:M(Ee.type,Ee.size)}}var We=new me(B,ae);return l.glPrograms[this.renderer.CONTEXT_UID]=We,We},o.prototype.reset=function(){this.program=null,this.shader=null},o.prototype.destroy=function(){this.destroyed=!0},o}(pr),pn=0,Pn=1,Wn=2,Ri=3,Fi=4,Si=function(u){function o(e){var n=u.call(this,e)||this;return n.gl=null,n.stateId=0,n.polygonOffset=0,n.blendMode=Fe.NONE,n._blendEq=!1,n.map=[],n.map[pn]=n.setBlend,n.map[Pn]=n.setOffset,n.map[Wn]=n.setCullFace,n.map[Ri]=n.setDepthTest,n.map[Fi]=n.setFrontFace,n.checks=[],n.defaultState=new ms,n.defaultState.blend=!0,n}return wn(o,u),o.prototype.contextChange=function(e){this.gl=e,this.blendModes=function nn(u,o){return void 0===o&&(o=[]),o[Fe.NORMAL]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.ADD]=[u.ONE,u.ONE],o[Fe.MULTIPLY]=[u.DST_COLOR,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.SCREEN]=[u.ONE,u.ONE_MINUS_SRC_COLOR,u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.OVERLAY]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.DARKEN]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.LIGHTEN]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.COLOR_DODGE]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.COLOR_BURN]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.HARD_LIGHT]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.SOFT_LIGHT]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.DIFFERENCE]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.EXCLUSION]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.HUE]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.SATURATION]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.COLOR]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.LUMINOSITY]=[u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.NONE]=[0,0],o[Fe.NORMAL_NPM]=[u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.ADD_NPM]=[u.SRC_ALPHA,u.ONE,u.ONE,u.ONE],o[Fe.SCREEN_NPM]=[u.SRC_ALPHA,u.ONE_MINUS_SRC_COLOR,u.ONE,u.ONE_MINUS_SRC_ALPHA],o[Fe.SRC_IN]=[u.DST_ALPHA,u.ZERO],o[Fe.SRC_OUT]=[u.ONE_MINUS_DST_ALPHA,u.ZERO],o[Fe.SRC_ATOP]=[u.DST_ALPHA,u.ONE_MINUS_SRC_ALPHA],o[Fe.DST_OVER]=[u.ONE_MINUS_DST_ALPHA,u.ONE],o[Fe.DST_IN]=[u.ZERO,u.SRC_ALPHA],o[Fe.DST_OUT]=[u.ZERO,u.ONE_MINUS_SRC_ALPHA],o[Fe.DST_ATOP]=[u.ONE_MINUS_DST_ALPHA,u.SRC_ALPHA],o[Fe.XOR]=[u.ONE_MINUS_DST_ALPHA,u.ONE_MINUS_SRC_ALPHA],o[Fe.SUBTRACT]=[u.ONE,u.ONE,u.ONE,u.ONE,u.FUNC_REVERSE_SUBTRACT,u.FUNC_ADD],o}(e),this.set(this.defaultState),this.reset()},o.prototype.set=function(e){if(this.stateId!==(e=e||this.defaultState).data){for(var n=this.stateId^e.data,l=0;n;)1&n&&this.map[l].call(this,!!(e.data&1<<l)),n>>=1,l++;this.stateId=e.data}for(l=0;l<this.checks.length;l++)this.checks[l](this,e)},o.prototype.forceState=function(e){e=e||this.defaultState;for(var n=0;n<this.map.length;n++)this.map[n].call(this,!!(e.data&1<<n));for(n=0;n<this.checks.length;n++)this.checks[n](this,e);this.stateId=e.data},o.prototype.setBlend=function(e){this.updateCheck(o.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},o.prototype.setOffset=function(e){this.updateCheck(o.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},o.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},o.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},o.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},o.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var n=this.blendModes[e],l=this.gl;2===n.length?l.blendFunc(n[0],n[1]):l.blendFuncSeparate(n[0],n[1],n[2],n[3]),6===n.length?(this._blendEq=!0,l.blendEquationSeparate(n[4],n[5])):this._blendEq&&(this._blendEq=!1,l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD))}},o.prototype.setPolygonOffset=function(e,n){this.gl.polygonOffset(e,n)},o.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},o.prototype.updateCheck=function(e,n){var l=this.checks.indexOf(e);n&&-1===l?this.checks.push(e):!n&&-1!==l&&this.checks.splice(l,1)},o.checkBlendMode=function(e,n){e.setBlendMode(n.blendMode)},o.checkPolygonOffset=function(e,n){e.setPolygonOffset(1,n.polygonOffset)},o}(pr),ki=function(u){function o(e){var n=u.call(this,e)||this;return n.count=0,n.checkCount=0,n.maxIdle=pe.GC_MAX_IDLE,n.checkCountMax=pe.GC_MAX_CHECK_COUNT,n.mode=pe.GC_MODE,n}return wn(o,u),o.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==Wt.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},o.prototype.run=function(){for(var e=this.renderer.texture,n=e.managedTextures,l=!1,S=0;S<n.length;S++){var C=n[S];!C.framebuffer&&this.count-C.touched>this.maxIdle&&(e.destroyTexture(C,!0),n[S]=null,l=!0)}if(l){var B=0;for(S=0;S<n.length;S++)null!==n[S]&&(n[B++]=n[S]);n.length=B}},o.prototype.unload=function(e){var l=e._texture;l&&!l.framebuffer&&this.renderer.texture.destroyTexture(l);for(var S=e.children.length-1;S>=0;S--)this.unload(e.children[S])},o}(pr),Vr=function u(o){this.texture=o,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},Lr=function(u){function o(e){var n=u.call(this,e)||this;return n.boundTextures=[],n.currentLocation=-1,n.managedTextures=[],n._unknownBoundTextures=!1,n.unknownTexture=new gi,n}return wn(o,u),o.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(var l=0;l<n;l++)this.boundTextures[l]=null;this.emptyTextures={};var S=new Vr(e.createTexture());for(e.bindTexture(e.TEXTURE_2D,S.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=S,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Vr(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture),l=0;l<6;l++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);for(e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR),l=0;l<this.boundTextures.length;l++)this.bind(null,l)},o.prototype.bind=function(e,n){void 0===n&&(n=0);var l=this.gl;if(e){if((e=e.castToBaseTexture()).parentTextureArray)return;if(e.valid){e.touched=this.renderer.textureGC.count;var S=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[n]!==e&&(this.currentLocation!==n&&(this.currentLocation=n,l.activeTexture(l.TEXTURE0+n)),l.bindTexture(e.target,S.texture)),S.dirtyId!==e.dirtyId&&(this.currentLocation!==n&&(this.currentLocation=n,l.activeTexture(l.TEXTURE0+n)),this.updateTexture(e)),this.boundTextures[n]=e}}else this.currentLocation!==n&&(this.currentLocation=n,l.activeTexture(l.TEXTURE0+n)),l.bindTexture(l.TEXTURE_2D,this.emptyTextures[l.TEXTURE_2D].texture),this.boundTextures[n]=null},o.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},o.prototype.unbind=function(e){var l=this.gl,S=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var C=0;C<S.length;C++)S[C]===this.unknownTexture&&this.bind(null,C)}for(C=0;C<S.length;C++)S[C]===e&&(this.currentLocation!==C&&(l.activeTexture(l.TEXTURE0+C),this.currentLocation=C),l.bindTexture(e.target,this.emptyTextures[e.target].texture),S[C]=null)},o.prototype.initTexture=function(e){var n=new Vr(this.gl.createTexture());return n.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),n},o.prototype.initTextureType=function(e,n){if(n.internalFormat=e.format,n.type=e.type,2===this.webGLVersion){var l=this.renderer.gl;e.type===l.FLOAT&&e.format===l.RGBA&&(n.internalFormat=l.RGBA32F),e.type===cn.HALF_FLOAT&&(n.type=l.HALF_FLOAT),n.type===l.HALF_FLOAT&&e.format===l.RGBA&&(n.internalFormat=l.RGBA16F)}},o.prototype.updateTexture=function(e){var n=e._glTextures[this.CONTEXT_UID];if(n){var l=this.renderer;if(this.initTextureType(e,n),!e.resource||!e.resource.upload(l,e,n)){var S=e.realWidth,C=e.realHeight,B=l.gl;(n.width!==S||n.height!==C||n.dirtyId<0)&&(n.width=S,n.height=C,B.texImage2D(e.target,0,n.internalFormat,S,C,0,e.format,n.type,null))}e.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(e),n.dirtyId=e.dirtyId}},o.prototype.destroyTexture=function(e,n){var l=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),l.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!n)){var S=this.managedTextures.indexOf(e);-1!==S&&Zt(this.managedTextures,S,1)}},o.prototype.updateTextureStyle=function(e){var n=e._glTextures[this.CONTEXT_UID];n&&(n.mipmap=!!(e.mipmap!==Et.POW2&&2===this.webGLVersion||e.isPowerOfTwo)&&e.mipmap>=1,n.wrapMode=2===this.webGLVersion||e.isPowerOfTwo?e.wrapMode:on.CLAMP,e.resource&&e.resource.style(this.renderer,e,n)||this.setStyle(e,n),n.dirtyStyleId=e.dirtyStyleId)},o.prototype.setStyle=function(e,n){var l=this.gl;if(n.mipmap&&l.generateMipmap(e.target),l.texParameteri(e.target,l.TEXTURE_WRAP_S,n.wrapMode),l.texParameteri(e.target,l.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){l.texParameteri(e.target,l.TEXTURE_MIN_FILTER,e.scaleMode===En.LINEAR?l.LINEAR_MIPMAP_LINEAR:l.NEAREST_MIPMAP_NEAREST);var S=this.renderer.context.extensions.anisotropicFiltering;if(S&&e.anisotropicLevel>0&&e.scaleMode===En.LINEAR){var C=Math.min(e.anisotropicLevel,l.getParameter(S.MAX_TEXTURE_MAX_ANISOTROPY_EXT));l.texParameterf(e.target,S.TEXTURE_MAX_ANISOTROPY_EXT,C)}}else l.texParameteri(e.target,l.TEXTURE_MIN_FILTER,e.scaleMode===En.LINEAR?l.LINEAR:l.NEAREST);l.texParameteri(e.target,l.TEXTURE_MAG_FILTER,e.scaleMode===En.LINEAR?l.LINEAR:l.NEAREST)},o}(pr),Oo={FilterSystem:we,BatchSystem:Qe,ContextSystem:Dt,FramebufferSystem:en,GeometrySystem:xi,MaskSystem:Ts,ScissorSystem:cs,StencilSystem:Mo,ProjectionSystem:js,RenderTextureSystem:P,ShaderSystem:Pt,StateSystem:Si,TextureGCSystem:ki,TextureSystem:Lr},a=new Ki,v=function(u){function o(e,n){void 0===e&&(e=Ue.UNKNOWN);var l=u.call(this)||this;return(n=Object.assign({},pe.RENDER_OPTIONS,n)).roundPixels&&(pe.ROUND_PIXELS=n.roundPixels,Vt("5.0.0","Renderer roundPixels option is deprecated, please use PIXI.settings.ROUND_PIXELS",2)),l.options=n,l.type=e,l.screen=new Zi(0,0,n.width,n.height),l.view=n.view||document.createElement("canvas"),l.resolution=n.resolution||pe.RESOLUTION,l.transparent=n.transparent,l.autoDensity=n.autoDensity||n.autoResize||!1,l.preserveDrawingBuffer=n.preserveDrawingBuffer,l.clearBeforeRender=n.clearBeforeRender,l._backgroundColor=0,l._backgroundColorRgba=[0,0,0,0],l._backgroundColorString="#000000",l.backgroundColor=n.backgroundColor||l._backgroundColor,l._lastObjectRendered=null,l.plugins={},l}return wn(o,u),o.prototype.initPlugins=function(e){for(var n in e)this.plugins[n]=new e[n](this)},Object.defineProperty(o.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),o.prototype.resize=function(e,n){this.screen.width=e,this.screen.height=n,this.view.width=e*this.resolution,this.view.height=n*this.resolution,this.autoDensity&&(this.view.style.width=e+"px",this.view.style.height=n+"px"),this.emit("resize",e,n)},o.prototype.generateTexture=function(e,n,l,S){0===(S=S||e.getLocalBounds(null,!0)).width&&(S.width=1),0===S.height&&(S.height=1);var C=co.create({width:0|S.width,height:0|S.height,scaleMode:n,resolution:l});return a.tx=-S.x,a.ty=-S.y,this.render(e,C,!1,a,!!e.parent),C},o.prototype.destroy=function(e){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var l=this;l.plugins=null,l.type=Ue.UNKNOWN,l.view=null,l.screen=null,l._tempDisplayObjectParent=null,l.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(o.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=ir(e),Mr(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),o}(Te()),R=function(u){function o(e){var n=u.call(this,Ue.WEBGL,e)||this;return e=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new un("destroy"),contextChange:new un("contextChange"),reset:new un("reset"),update:new un("update"),postrender:new un("postrender"),prerender:new un("prerender"),resize:new un("resize")},n.globalUniforms=new qi({projectionMatrix:new Ki},!0),n.addSystem(Ts,"mask").addSystem(Dt,"context").addSystem(Si,"state").addSystem(Pt,"shader").addSystem(Lr,"texture").addSystem(xi,"geometry").addSystem(en,"framebuffer").addSystem(cs,"scissor").addSystem(Mo,"stencil").addSystem(js,"projection").addSystem(ki,"textureGC").addSystem(we,"filter").addSystem(P,"renderTexture").addSystem(Qe,"batch"),n.initPlugins(o.__plugins),e.context?n.context.initFromContext(e.context):n.context.initFromOptions({alpha:!!n.transparent,antialias:e.antialias,premultipliedAlpha:n.transparent&&"notMultiplied"!==n.transparent,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,er(2===n.context.webGLVersion?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return wn(o,u),o.create=function(e){if(cr())return new o(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},o.prototype.addSystem=function(e,n){n||(n=e.name);var l=new e(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');for(var S in this[n]=l,this.runners)this.runners[S].add(l);return this},o.prototype.render=function(e,n,l,S,C){if(this.renderingToScreen=!n,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=S,!this.context.isLost){if(n||(this._lastObjectRendered=e),!C){var B=e.enableTempParent();e.updateTransform(),e.disableTempParent(B)}this.renderTexture.bind(n),this.batch.currentRenderer.start(),(void 0!==l?l:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),n&&n.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},o.prototype.resize=function(e,n){u.prototype.resize.call(this,e,n),this.runners.resize.emit(e,n)},o.prototype.reset=function(){return this.runners.reset.emit(),this},o.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},o.prototype.destroy=function(e){for(var n in this.runners.destroy.emit(),this.runners)this.runners[n].destroy();u.prototype.destroy.call(this,e),this.gl=null},o.registerPlugin=function(e,n){(o.__plugins=o.__plugins||{})[e]=n},o}(v);function te(u){return R.create(u)}var be="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",qe="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Nt=function u(){this.texArray=null,this.blend=0,this.type=mt.TRIANGLES,this.start=0,this.size=0,this.data=null},dn=function(){function u(){this.elements=[],this.ids=[],this.count=0}return u.prototype.clear=function(){for(var o=0;o<this.count;o++)this.elements[o]=null;this.count=0},u}(),bn=function(){function u(o){this.rawBinaryData=new ArrayBuffer(o),this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(u.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),u.prototype.view=function(o){return this[o+"View"]},u.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},u.sizeOf=function(o){switch(o){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(o+" isn't a valid view type")}},u}(),Rn=function(u){function o(e){var n=u.call(this,e)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=ms.for2d(),n.size=4*pe.SPRITE_BATCH_SIZE,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),e.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return wn(o,u),o.prototype.contextChange=function(){var e=this.renderer.gl;pe.PREFER_ENV===Ce.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),pe.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=io(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},o.prototype.initFlushBuffers=function(){for(var e=o._drawCallPool,n=o._textureArrayPool,l=this.size/4,S=Math.floor(l/this.MAX_TEXTURES)+1;e.length<l;)e.push(new Nt);for(;n.length<S;)n.push(new dn);for(var C=0;C<this.MAX_TEXTURES;C++)this._tempBoundTextures[C]=null},o.prototype.onPrerender=function(){this._flushId=0},o.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},o.prototype.buildTexturesAndDrawCalls=function(){var n=this._bufferedTextures,l=this.MAX_TEXTURES,S=o._textureArrayPool,C=this.renderer.batch,B=this._tempBoundTextures,ae=this.renderer.textureGC.count,Ee=++gi._globalBatch,We=0,$e=S[0],je=0;C.copyBoundTextures(B,l);for(var ht=0;ht<this._bufferSize;++ht){var St=n[ht];n[ht]=null,St._batchEnabled!==Ee&&($e.count>=l&&(C.boundArray($e,B,Ee,l),this.buildDrawCalls($e,je,ht),je=ht,$e=S[++We],++Ee),St._batchEnabled=Ee,St.touched=ae,$e.elements[$e.count++]=St)}for($e.count>0&&(C.boundArray($e,B,Ee,l),this.buildDrawCalls($e,je,this._bufferSize),++We,++Ee),ht=0;ht<B.length;ht++)B[ht]=null;gi._globalBatch=Ee},o.prototype.buildDrawCalls=function(e,n,l){var S=this,C=S._bufferedElements,B=S._attributeBuffer,ae=S._indexBuffer,Ee=S.vertexSize,We=o._drawCallPool,$e=this._dcIndex,je=this._aIndex,ht=this._iIndex,St=We[$e];St.start=this._iIndex,St.texArray=e;for(var It=n;It<l;++It){var rn=C[It],Ai=xt[rn._texture.baseTexture.alphaMode?1:0][rn.blendMode];C[It]=null,n<It&&St.blend!==Ai&&(St.size=ht-St.start,n=It,(St=We[++$e]).texArray=e,St.start=ht),this.packInterleavedGeometry(rn,B,ae,je,ht),je+=rn.vertexData.length/2*Ee,ht+=rn.indices.length,St.blend=Ai}n<l&&(St.size=ht-St.start,++$e),this._dcIndex=$e,this._aIndex=je,this._iIndex=ht},o.prototype.bindAndClearTexArray=function(e){for(var n=this.renderer.texture,l=0;l<e.count;l++)n.bind(e.elements[l],e.ids[l]),e.elements[l]=null;e.count=0},o.prototype.updateGeometry=function(){var e=this,n=e._packedGeometries,l=e._attributeBuffer,S=e._indexBuffer;pe.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(l.rawBinaryData),n[this._flushId]._indexBuffer.update(S),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(l.rawBinaryData),n[this._flushId]._indexBuffer.update(S),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},o.prototype.drawBatches=function(){for(var e=this._dcIndex,n=this.renderer,l=n.gl,S=n.state,C=o._drawCallPool,B=null,ae=0;ae<e;ae++){var Ee=C[ae],We=Ee.texArray,$e=Ee.type,je=Ee.size,ht=Ee.start,St=Ee.blend;B!==We&&(B=We,this.bindAndClearTexArray(We)),this.state.blendMode=St,S.set(this.state),l.drawElements($e,je,l.UNSIGNED_SHORT,2*ht)}},o.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},o.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),pe.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},o.prototype.stop=function(){this.flush()},o.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),u.prototype.destroy.call(this)},o.prototype.getAttributeBuffer=function(e){var n=Kn(Math.ceil(e/8)),l=Qi(n),S=8*n;this._aBuffers.length<=l&&(this._iBuffers.length=l+1);var C=this._aBuffers[S];return C||(this._aBuffers[S]=C=new bn(S*this.vertexSize*4)),C},o.prototype.getIndexBuffer=function(e){var n=Kn(Math.ceil(e/12)),l=Qi(n),S=12*n;this._iBuffers.length<=l&&(this._iBuffers.length=l+1);var C=this._iBuffers[l];return C||(this._iBuffers[l]=C=new Uint16Array(S)),C},o.prototype.packInterleavedGeometry=function(e,n,l,S,C){for(var B=n.uint32View,ae=n.float32View,Ee=S/this.vertexSize,We=e.uvs,$e=e.indices,je=e.vertexData,ht=e._texture.baseTexture._batchLocation,St=Math.min(e.worldAlpha,1),It=St<1&&e._texture.baseTexture.alphaMode?sn(e._tintRGB,St):e._tintRGB+(255*St<<24),rn=0;rn<je.length;rn+=2)ae[S++]=je[rn],ae[S++]=je[rn+1],ae[S++]=We[rn],ae[S++]=We[rn+1],B[S++]=It,ae[S++]=ht;for(rn=0;rn<$e.length;rn++)l[C++]=Ee+$e[rn]},o._drawCallPool=[],o._textureArrayPool=[],o}(Pe),ci=function(){function u(o,e){if(this.vertexSrc=o,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return u.prototype.generateShader=function(o){if(!this.programCache[o]){for(var e=new Int32Array(o),n=0;n<o;n++)e[n]=n;this.defaultGroupCache[o]=qi.from({uSamplers:e},!0);var l=this.fragTemplate;l=(l=l.replace(/%count%/gi,""+o)).replace(/%forloop%/gi,this.generateSampleSrc(o)),this.programCache[o]=new Jo(this.vertexSrc,l)}var S={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ki,default:this.defaultGroupCache[o]};return new as(this.programCache[o],S)},u.prototype.generateSampleSrc=function(o){var e="";e+="\n",e+="\n";for(var n=0;n<o;n++)n>0&&(e+="\nelse "),n<o-1&&(e+="if(vTextureId < "+n+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},u}(),Mi=function(u){function o(e){void 0===e&&(e=!1);var n=u.call(this)||this;return n._buffer=new Pr(null,e,!1),n._indexBuffer=new Pr(null,e,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,cn.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,cn.FLOAT).addAttribute("aColor",n._buffer,4,!0,cn.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,cn.FLOAT).addIndex(n._indexBuffer),n}return wn(o,u),o}($o),Ur="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",pi="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",bi=function(){function u(){}return u.create=function(o){var e=Object.assign({vertex:Ur,fragment:pi,geometryClass:Mi,vertexSize:6},o),n=e.vertex,l=e.fragment,S=e.vertexSize,C=e.geometryClass;return function(B){function ae(Ee){var We=B.call(this,Ee)||this;return We.shaderGenerator=new ci(n,l),We.geometryClass=C,We.vertexSize=S,We}return wn(ae,B),ae}(Rn)},Object.defineProperty(u,"defaultVertexSrc",{get:function(){return Ur},enumerable:!1,configurable:!0}),Object.defineProperty(u,"defaultFragmentTemplate",{get:function(){return pi},enumerable:!1,configurable:!0}),u}(),Ui=bi.create(),Wi=function(){function u(o){var e=this;o=Object.assign({forceCanvas:!1},o),this.renderer=te(o),this.stage=new Qt,u._plugins.forEach(function(n){n.init.call(e,o)})}return u.registerPlugin=function(o){u._plugins.push(o)},u.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(u.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),u.prototype.destroy=function(o,e){var n=this,l=u._plugins.slice(0);l.reverse(),l.forEach(function(S){S.destroy.call(n)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(o),this.renderer=null},u}();Wi._plugins=[];var Io=function(){function u(){}return u.init=function(o){var e=this;Object.defineProperty(this,"resizeTo",{set:function(n){window.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(window.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var n,l;if(e.cancelResize(),e._resizeTo===window)n=window.innerWidth,l=window.innerHeight;else{var S=e._resizeTo;n=S.clientWidth,l=S.clientHeight}e.renderer.resize(n,l)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=o.resizeTo||null},u.destroy=function(){window.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},u}();Wi.registerPlugin(Io);var os=new Zi,hs=function(){function u(o){this.renderer=o,o.extract=this}return u.prototype.image=function(o,e,n){var l=new Image;return l.src=this.base64(o,e,n),l},u.prototype.base64=function(o,e,n){return this.canvas(o).toDataURL(e,n)},u.prototype.canvas=function(o){var n,l,C,e=this.renderer,S=!1,B=!1;o&&(o instanceof co?C=o:(C=this.renderer.generateTexture(o),B=!0)),C?(n=C.baseTexture.resolution,l=C.frame,S=!1,e.renderTexture.bind(C)):(n=this.renderer.resolution,S=!0,(l=os).width=this.renderer.width,l.height=this.renderer.height,e.renderTexture.bind(null));var ae=Math.floor(l.width*n+1e-4),Ee=Math.floor(l.height*n+1e-4),We=new Ot(ae,Ee,1),$e=new Uint8Array(4*ae*Ee),je=e.gl;je.readPixels(l.x*n,l.y*n,ae,Ee,je.RGBA,je.UNSIGNED_BYTE,$e);var ht=We.context.getImageData(0,0,ae,Ee);if(u.arrayPostDivide($e,ht.data),We.context.putImageData(ht,0,0),S){var St=new Ot(We.width,We.height,1);St.context.scale(1,-1),St.context.drawImage(We.canvas,0,-Ee),We.destroy(),We=St}return B&&C.destroy(!0),We.canvas},u.prototype.pixels=function(o){var n,l,S,e=this.renderer,C=!1;o&&(o instanceof co?S=o:(S=this.renderer.generateTexture(o),C=!0)),S?(n=S.baseTexture.resolution,l=S.frame,e.renderTexture.bind(S)):(n=e.resolution,(l=os).width=e.width,l.height=e.height,e.renderTexture.bind(null));var B=l.width*n,ae=l.height*n,Ee=new Uint8Array(4*B*ae),We=e.gl;return We.readPixels(l.x*n,l.y*n,B,ae,We.RGBA,We.UNSIGNED_BYTE,Ee),C&&S.destroy(!0),u.arrayPostDivide(Ee,Ee),Ee},u.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},u.arrayPostDivide=function(o,e){for(var n=0;n<o.length;n+=4){var l=e[n+3]=o[n+3];0!==l?(e[n]=Math.round(Math.min(255*o[n]/l,255)),e[n+1]=Math.round(Math.min(255*o[n+1]/l,255)),e[n+2]=Math.round(Math.min(255*o[n+2]/l,255))):(e[n]=o[n],e[n+1]=o[n+1],e[n+2]=o[n+2])}},u}(),xo=A(9515),xs=A.n(xo),Zs=A(936),vr=A.n(Zs);function qr(){}function ts(u,o,e,n){var l=0,S=u.length;!function C(B){B||l===S?e&&e(B):n?setTimeout(function(){o(u[l++],C)},1):o(u[l++],C)}()}function Ss(u){return function(){if(null===u)throw new Error("Callback was already called.");var e=u;u=null,e.apply(this,arguments)}}var _s={};function Ba(u,o){for(var e=0;e<o.length;e++){var n=o[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(u,n.key,n)}}function Sa(u,o,e){return o&&Ba(u.prototype,o),e&&Ba(u,e),u}var Ws=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),pa=null;function Cs(){}var ar=function(){function u(e,n,l){if("string"!=typeof e||"string"!=typeof n)throw new Error("Both name and url are required for constructing a resource.");l=l||{},this._flags=0,this._setFlag(u.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===l.crossOrigin?"anonymous":l.crossOrigin,this.timeout=l.timeout||0,this.loadType=l.loadType||this._determineLoadType(),this.xhrType=l.xhrType,this.metadata=l.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=u.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Cs,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(vr()),this.onProgress=new(vr()),this.onComplete=new(vr()),this.onAfterMiddleware=new(vr())}u.setExtensionLoadType=function(n,l){qs(u._loadTypeMap,n,l)},u.setExtensionXhrType=function(n,l){qs(u._xhrTypeMap,n,l)};var o=u.prototype;return o.complete=function(){this._clearEvents(),this._finish()},o.abort=function(n){if(!this.error){if(this.error=new Error(n),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=u.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},o.load=function(n){var l=this;if(!this.isLoading){if(this.isComplete)return void(n&&setTimeout(function(){return n(l)},1));switch(n&&this.onComplete.once(n),this._setFlag(u.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case u.LOAD_TYPE.IMAGE:this.type=u.TYPE.IMAGE,this._loadElement("image");break;case u.LOAD_TYPE.AUDIO:this.type=u.TYPE.AUDIO,this._loadSourceElement("audio");break;case u.LOAD_TYPE.VIDEO:this.type=u.TYPE.VIDEO,this._loadSourceElement("video");break;default:Ws&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},o._hasFlag=function(n){return 0!=(this._flags&n)},o._setFlag=function(n,l){this._flags=l?this._flags|n:this._flags&~n},o._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},o._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(u.STATUS_FLAGS.COMPLETE,!0),this._setFlag(u.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},o._loadElement=function(n){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===n&&typeof window.Image<"u"?new Image:document.createElement(n),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},o._loadSourceElement=function(n){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===n&&typeof window.Audio<"u"?new Audio:document.createElement(n),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var l=this.metadata.mimeType,S=0;S<this.url.length;++S)this.data.appendChild(this._createSource(n,this.url[S],Array.isArray(l)?l[S]:l));else{var C=this.metadata.mimeType;this.data.appendChild(this._createSource(n,this.url,Array.isArray(C)?C[0]:C))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+n)},o._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var n=this.xhr=new XMLHttpRequest;n.open("GET",this.url,!0),n.timeout=this.timeout,n.responseType=this.xhrType===u.XHR_RESPONSE_TYPE.JSON||this.xhrType===u.XHR_RESPONSE_TYPE.DOCUMENT?u.XHR_RESPONSE_TYPE.TEXT:this.xhrType,n.addEventListener("error",this._boundXhrOnError,!1),n.addEventListener("timeout",this._boundXhrOnTimeout,!1),n.addEventListener("abort",this._boundXhrOnAbort,!1),n.addEventListener("progress",this._boundOnProgress,!1),n.addEventListener("load",this._boundXhrOnLoad,!1),n.send()},o._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var n=this.xhr=new XDomainRequest;n.timeout=this.timeout||5e3,n.onerror=this._boundXhrOnError,n.ontimeout=this._boundXhrOnTimeout,n.onprogress=this._boundOnProgress,n.onload=this._boundXhrOnLoad,n.open("GET",this.url,!0),setTimeout(function(){return n.send()},1)},o._createSource=function(n,l,S){S||(S=n+"/"+this._getExtension(l));var C=document.createElement("source");return C.src=l,C.type=S,C},o._onError=function(n){this.abort("Failed to load element using: "+n.target.nodeName)},o._onProgress=function(n){n&&n.lengthComputable&&this.onProgress.dispatch(this,n.loaded/n.total)},o._onTimeout=function(){this.abort("Load timed out.")},o._xhrOnError=function(){var n=this.xhr;this.abort(Ta(n)+" Request failed. Status: "+n.status+', text: "'+n.statusText+'"')},o._xhrOnTimeout=function(){this.abort(Ta(this.xhr)+" Request timed out.")},o._xhrOnAbort=function(){this.abort(Ta(this.xhr)+" Request was aborted by the user.")},o._xhrOnLoad=function(){var n=this.xhr,l="",S=typeof n.status>"u"?200:n.status;if((""===n.responseType||"text"===n.responseType||typeof n.responseType>"u")&&(l=n.responseText),0===S&&(l.length>0||n.responseType===u.XHR_RESPONSE_TYPE.BUFFER)?S=200:1223===S&&(S=204),2==(S/100|0)){if(this.xhrType===u.XHR_RESPONSE_TYPE.TEXT)this.data=l,this.type=u.TYPE.TEXT;else if(this.xhrType===u.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(l),this.type=u.TYPE.JSON}catch(Ee){return void this.abort("Error trying to parse loaded json: "+Ee)}else if(this.xhrType===u.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var B=new DOMParser;this.data=B.parseFromString(l,"text/xml")}else{var ae=document.createElement("div");ae.innerHTML=l,this.data=ae}this.type=u.TYPE.XML}catch(Ee){return void this.abort("Error trying to parse loaded xml: "+Ee)}else this.data=n.response||l;this.complete()}else this.abort("["+n.status+"] "+n.statusText+": "+n.responseURL)},o._determineCrossOrigin=function(n,l){return 0===n.indexOf("data:")?"":window.origin!==window.location.origin?"anonymous":(l=l||window.location,pa||(pa=document.createElement("a")),pa.href=n,(n=xs()(pa.href,{strictMode:!0})).host!==l.hostname||(n.port||""!==l.port)&&n.port!==l.port||(n.protocol?n.protocol+":":"")!==l.protocol?"anonymous":"")},o._determineXhrType=function(){return u._xhrTypeMap[this.extension]||u.XHR_RESPONSE_TYPE.TEXT},o._determineLoadType=function(){return u._loadTypeMap[this.extension]||u.LOAD_TYPE.XHR},o._getExtension=function(){var n=this.url,l="";if(this.isDataUrl){var S=n.indexOf("/");l=n.substring(S+1,n.indexOf(";",S))}else{var C=n.indexOf("?"),B=n.indexOf("#"),ae=Math.min(C>-1?C:n.length,B>-1?B:n.length);l=(n=n.substring(0,ae)).substring(n.lastIndexOf(".")+1)}return l.toLowerCase()},o._getMimeFromXhrType=function(n){switch(n){case u.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case u.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case u.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case u.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}},Sa(u,[{key:"isDataUrl",get:function(){return this._hasFlag(u.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(u.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(u.STATUS_FLAGS.LOADING)}}]),u}();function qs(u,o,e){o&&0===o.indexOf(".")&&(o=o.substring(1)),o&&(u[o]=e)}function Ta(u){return u.toString().replace("object ","")}ar.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},ar.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},ar.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},ar.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},ar._loadTypeMap={gif:ar.LOAD_TYPE.IMAGE,png:ar.LOAD_TYPE.IMAGE,bmp:ar.LOAD_TYPE.IMAGE,jpg:ar.LOAD_TYPE.IMAGE,jpeg:ar.LOAD_TYPE.IMAGE,tif:ar.LOAD_TYPE.IMAGE,tiff:ar.LOAD_TYPE.IMAGE,webp:ar.LOAD_TYPE.IMAGE,tga:ar.LOAD_TYPE.IMAGE,svg:ar.LOAD_TYPE.IMAGE,"svg+xml":ar.LOAD_TYPE.IMAGE,mp3:ar.LOAD_TYPE.AUDIO,ogg:ar.LOAD_TYPE.AUDIO,wav:ar.LOAD_TYPE.AUDIO,mp4:ar.LOAD_TYPE.VIDEO,webm:ar.LOAD_TYPE.VIDEO},ar._xhrTypeMap={xhtml:ar.XHR_RESPONSE_TYPE.DOCUMENT,html:ar.XHR_RESPONSE_TYPE.DOCUMENT,htm:ar.XHR_RESPONSE_TYPE.DOCUMENT,xml:ar.XHR_RESPONSE_TYPE.DOCUMENT,tmx:ar.XHR_RESPONSE_TYPE.DOCUMENT,svg:ar.XHR_RESPONSE_TYPE.DOCUMENT,tsx:ar.XHR_RESPONSE_TYPE.DOCUMENT,gif:ar.XHR_RESPONSE_TYPE.BLOB,png:ar.XHR_RESPONSE_TYPE.BLOB,bmp:ar.XHR_RESPONSE_TYPE.BLOB,jpg:ar.XHR_RESPONSE_TYPE.BLOB,jpeg:ar.XHR_RESPONSE_TYPE.BLOB,tif:ar.XHR_RESPONSE_TYPE.BLOB,tiff:ar.XHR_RESPONSE_TYPE.BLOB,webp:ar.XHR_RESPONSE_TYPE.BLOB,tga:ar.XHR_RESPONSE_TYPE.BLOB,json:ar.XHR_RESPONSE_TYPE.JSON,text:ar.XHR_RESPONSE_TYPE.TEXT,txt:ar.XHR_RESPONSE_TYPE.TEXT,ttf:ar.XHR_RESPONSE_TYPE.BUFFER,otf:ar.XHR_RESPONSE_TYPE.BUFFER},ar.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Va=window.URL||window.webkitURL,Qr={caching:function Ea(u,o){var e=this;_s[u.url]?(u.data=_s[u.url],u.complete()):u.onComplete.once(function(){return _s[e.url]=e.data}),o()},parsing:function oa(u,o){if(u.data){if(u.xhr&&u.xhrType===ar.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof u.data){if(0===u.data.type.indexOf("image")){var n=Va.createObjectURL(u.data);return u.blob=u.data,u.data=new Image,u.data.src=n,u.type=ar.TYPE.IMAGE,void(u.data.onload=function(){Va.revokeObjectURL(n),u.data.onload=null,o()})}}else{var e=u.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image"))return u.data=new Image,u.data.src="data:"+e+";base64,"+function Js(u){for(var o="",e=0;e<u.length;){for(var n=[0,0,0],l=[0,0,0,0],S=0;S<n.length;++S)n[S]=e<u.length?255&u.charCodeAt(e++):0;switch(l[0]=n[0]>>2,l[1]=(3&n[0])<<4|n[1]>>4,l[2]=(15&n[1])<<2|n[2]>>6,l[3]=63&n[2],e-(u.length-1)){case 2:l[3]=64,l[2]=64;break;case 1:l[3]=64}for(var B=0;B<l.length;++B)o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l[B])}return o}(u.xhr.responseText),u.type=ar.TYPE.IMAGE,void(u.data.onload=function(){u.data.onload=null,o()})}o()}else o()}},gl=/(#[\w-]+)?$/,Ns=function(){function u(e,n){var l=this;void 0===e&&(e=""),void 0===n&&(n=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(B,ae){return l._loadResource(B,ae)},this._queue=function Gs(u,o){if(null==o)o=1;else if(0===o)throw new Error("Concurrency must not be zero");var e=0,n={_tasks:[],concurrency:o,saturated:qr,unsaturated:qr,buffer:o/4,empty:qr,drain:qr,error:qr,started:!1,paused:!1,push:function(B,ae){l(B,!1,ae)},kill:function(){e=0,n.drain=qr,n.started=!1,n._tasks=[]},unshift:function(B,ae){l(B,!0,ae)},process:function(){for(;!n.paused&&e<n.concurrency&&n._tasks.length;){var B=n._tasks.shift();0===n._tasks.length&&n.empty(),(e+=1)===n.concurrency&&n.saturated(),u(B.data,Ss(S(B)))}},length:function(){return n._tasks.length},running:function(){return e},idle:function(){return n._tasks.length+e===0},pause:function(){!0!==n.paused&&(n.paused=!0)},resume:function(){if(!1!==n.paused){n.paused=!1;for(var B=1;B<=n.concurrency;B++)n.process()}}};function l(C,B,ae){if(null!=ae&&"function"!=typeof ae)throw new Error("task callback must be a function");if(n.started=!0,null==C&&n.idle())setTimeout(function(){return n.drain()},1);else{var Ee={data:C,callback:"function"==typeof ae?ae:qr};B?n._tasks.unshift(Ee):n._tasks.push(Ee),setTimeout(function(){return n.process()},1)}}function S(C){return function(){e-=1,C.callback.apply(C,arguments),null!=arguments[0]&&n.error(arguments[0],C.data),e<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}return n}(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new(vr()),this.onError=new(vr()),this.onLoad=new(vr()),this.onStart=new(vr()),this.onComplete=new(vr());for(var S=0;S<u._defaultBeforeMiddleware.length;++S)this.pre(u._defaultBeforeMiddleware[S]);for(var C=0;C<u._defaultAfterMiddleware.length;++C)this.use(u._defaultAfterMiddleware[C])}var o=u.prototype;return o.add=function(n,l,S,C){if(Array.isArray(n)){for(var B=0;B<n.length;++B)this.add(n[B]);return this}if("object"==typeof n&&(C=l||n.callback||n.onComplete,S=n,l=n.url,n=n.name||n.key||n.url),"string"!=typeof l&&(C=S,S=l,l=n),"string"!=typeof l)throw new Error("No url passed to add resource to loader.");if("function"==typeof S&&(C=S,S=null),this.loading&&(!S||!S.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[n])throw new Error('Resource named "'+n+'" already exists.');if(l=this._prepareUrl(l),this.resources[n]=new ar(n,l,S),"function"==typeof C&&this.resources[n].onAfterMiddleware.once(C),this.loading){for(var ae=S.parentResource,Ee=[],We=0;We<ae.children.length;++We)ae.children[We].isComplete||Ee.push(ae.children[We]);var je=ae.progressChunk*(Ee.length+1)/(Ee.length+2);ae.children.push(this.resources[n]),ae.progressChunk=je;for(var ht=0;ht<Ee.length;++ht)Ee[ht].progressChunk=je;this.resources[n].progressChunk=je}return this._queue.push(this.resources[n]),this},o.pre=function(n){return this._beforeMiddleware.push(n),this},o.use=function(n){return this._afterMiddleware.push(n),this},o.reset=function(){for(var n in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var l=this.resources[n];l._onLoadBinding&&l._onLoadBinding.detach(),l.isLoading&&l.abort()}return this.resources={},this},o.load=function(n){if("function"==typeof n&&this.onComplete.once(n),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var S=100/this._queue._tasks.length,C=0;C<this._queue._tasks.length;++C)this._queue._tasks[C].data.progressChunk=S;this._onStart(),this._queue.resume()}return this},o._prepareUrl=function(n){var S,l=xs()(n,{strictMode:!0});if(S=l.protocol||!l.path||0===n.indexOf("//")?n:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==n.charAt(0)?this.baseUrl+"/"+n:this.baseUrl+n,this.defaultQueryString){var C=gl.exec(S)[0];-1!==(S=S.substr(0,S.length-C.length)).indexOf("?")?S+="&"+this.defaultQueryString:S+="?"+this.defaultQueryString,S+=C}return S},o._loadResource=function(n,l){var S=this;n._dequeue=l,ts(this._beforeMiddleware,function(C,B){C.call(S,n,function(){B(n.isComplete?{}:null)})},function(){n.isComplete?S._onLoad(n):(n._onLoadBinding=n.onComplete.once(S._onLoad,S),n.load())},!0)},o._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},o._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},o._onLoad=function(n){var l=this;n._onLoadBinding=null,this._resourcesParsing.push(n),n._dequeue(),ts(this._afterMiddleware,function(S,C){S.call(l,n,C)},function(){n.onAfterMiddleware.dispatch(n),l.progress=Math.min(100,l.progress+n.progressChunk),l.onProgress.dispatch(l,n),n.error?l.onError.dispatch(n.error,l,n):l.onLoad.dispatch(l,n),l._resourcesParsing.splice(l._resourcesParsing.indexOf(n),1),l._queue.idle()&&0===l._resourcesParsing.length&&l._onComplete()},!0)},Sa(u,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(n){this._queue.concurrency=n}}]),u}();Ns._defaultBeforeMiddleware=[],Ns._defaultAfterMiddleware=[],Ns.pre=function(o){return Ns._defaultBeforeMiddleware.push(o),Ns},Ns.use=function(o){return Ns._defaultAfterMiddleware.push(o),Ns};var xa=ar,ml=function(u,o){return(ml=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)},Ol=function(){function u(){}return u.use=function(o,e){o.data&&o.type===ar.TYPE.IMAGE&&(o.texture=Ti.fromLoader(o.data,o.url,o.name)),e()},u}(),fs=function(u){function o(e,n){for(var l=u.call(this,e,n)||this,S=0;S<o._plugins.length;++S){var C=o._plugins[S],B=C.pre,ae=C.use;B&&l.pre(B),ae&&l.use(ae)}return l._protected=!1,l}return function Al(u,o){function e(){this.constructor=u}ml(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}(o,u),o.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(o,"shared",{get:function(){var e=o._shared;return e||((e=new o)._protected=!0,o._shared=e),e},enumerable:!1,configurable:!0}),o.registerPlugin=function(e){return o._plugins.push(e),e.add&&e.add(),o},o._plugins=[],o}(Ns);fs.registerPlugin({use:Qr.parsing}),fs.registerPlugin(Ol);var Ha=function(){function u(){}return u.init=function(o){o=Object.assign({sharedLoader:!1},o),this.loader=o.sharedLoader?fs.shared:new fs},u.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},u}(),sa=function(u,o){return(sa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)};function Zo(u,o){function e(){this.constructor=u}sa(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}var Pa=function(u){function o(e,n,l,S){void 0===e&&(e=1500),void 0===l&&(l=16384),void 0===S&&(S=!1);var C=u.call(this)||this;return l>16384&&(l=16384),C._properties=[!1,!0,!1,!1,!1],C._maxSize=e,C._batchSize=l,C._buffers=null,C._bufferUpdateIDs=[],C._updateID=0,C.interactiveChildren=!1,C.blendMode=Fe.NORMAL,C.autoResize=S,C.roundPixels=!0,C.baseTexture=null,C.setProperties(n),C._tint=0,C.tintRgb=new Float32Array(4),C.tint=16777215,C}return Zo(o,u),o.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},o.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,Mr(e,this.tintRgb)},enumerable:!1,configurable:!0}),o.prototype.render=function(e){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},o.prototype.onChildrenChange=function(e){for(var n=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},o.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},o.prototype.destroy=function(e){u.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},o}(Qt),aa=function(){function u(o,e,n){this.geometry=new $o,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var l=0;l<o.length;++l){var S=o[l];S={attributeName:S.attributeName,size:S.size,uploadFunction:S.uploadFunction,type:S.type||cn.FLOAT,offset:S.offset},e[l]?this.dynamicProperties.push(S):this.staticProperties.push(S)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return u.prototype.initBuffers=function(){var o=this.geometry,e=0;this.indexBuffer=new Pr(lt(this.size),!0,!0),o.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n)(l=this.dynamicProperties[n]).offset=e,e+=l.size,this.dynamicStride+=l.size;var S=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(S),this.dynamicDataUint32=new Uint32Array(S),this.dynamicBuffer=new Pr(this.dynamicData,!1,!1);var C=0;for(this.staticStride=0,n=0;n<this.staticProperties.length;++n)(l=this.staticProperties[n]).offset=C,C+=l.size,this.staticStride+=l.size;var B=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(B),this.staticDataUint32=new Uint32Array(B),this.staticBuffer=new Pr(this.staticData,!0,!1),n=0;n<this.dynamicProperties.length;++n)o.addAttribute((l=this.dynamicProperties[n]).attributeName,this.dynamicBuffer,0,l.type===cn.UNSIGNED_BYTE,l.type,4*this.dynamicStride,4*l.offset);for(n=0;n<this.staticProperties.length;++n){var l;o.addAttribute((l=this.staticProperties[n]).attributeName,this.staticBuffer,0,l.type===cn.UNSIGNED_BYTE,l.type,4*this.staticStride,4*l.offset)}},u.prototype.uploadDynamic=function(o,e,n){for(var l=0;l<this.dynamicProperties.length;l++){var S=this.dynamicProperties[l];S.uploadFunction(o,e,n,S.type===cn.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,S.offset)}this.dynamicBuffer._updateID++},u.prototype.uploadStatic=function(o,e,n){for(var l=0;l<this.staticProperties.length;l++){var S=this.staticProperties[l];S.uploadFunction(o,e,n,S.type===cn.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,S.offset)}this.staticBuffer._updateID++},u.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},u}(),x="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",f="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",c=function(u){function o(e){var n=u.call(this,e)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Ki,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:cn.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=as.from(f,x,{}),n.state=ms.for2d(),n}return Zo(o,u),o.prototype.render=function(e){var n=e.children,l=e._maxSize,S=e._batchSize,C=this.renderer,B=n.length;if(0!==B){B>l&&!e.autoResize&&(B=l);var ae=e._buffers;ae||(ae=e._buffers=this.generateBuffers(e));var Ee=n[0]._texture.baseTexture;this.state.blendMode=nt(e.blendMode,Ee.alphaMode),C.state.set(this.state);var We=C.gl,$e=e.worldTransform.copyTo(this.tempMatrix);$e.prepend(C.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=$e.toArray(!0),this.shader.uniforms.uColor=ln(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,Ee.alphaMode),this.shader.uniforms.uSampler=Ee,this.renderer.shader.bind(this.shader);for(var je=!1,ht=0,St=0;ht<B;ht+=S,St+=1){var It=B-ht;It>S&&(It=S),St>=ae.length&&ae.push(this._generateOneMoreBuffer(e));var rn=ae[St];rn.uploadDynamic(n,ht,It),(je=je||rn._updateID<(e._bufferUpdateIDs[St]||0))&&(rn._updateID=e._updateID,rn.uploadStatic(n,ht,It)),C.geometry.bind(rn.geometry),We.drawElements(We.TRIANGLES,6*It,We.UNSIGNED_SHORT,0)}}},o.prototype.generateBuffers=function(e){for(var n=[],l=e._maxSize,S=e._batchSize,C=e._properties,B=0;B<l;B+=S)n.push(new aa(this.properties,C,S));return n},o.prototype._generateOneMoreBuffer=function(e){return new aa(this.properties,e._properties,e._batchSize)},o.prototype.uploadVertices=function(e,n,l,S,C,B){for(var ae=0,Ee=0,We=0,$e=0,je=0;je<l;++je){var ht=e[n+je],St=ht._texture,It=ht.scale.x,rn=ht.scale.y,xn=St.trim,Ai=St.orig;xn?(ae=(Ee=xn.x-ht.anchor.x*Ai.width)+xn.width,We=($e=xn.y-ht.anchor.y*Ai.height)+xn.height):(ae=Ai.width*(1-ht.anchor.x),Ee=Ai.width*-ht.anchor.x,We=Ai.height*(1-ht.anchor.y),$e=Ai.height*-ht.anchor.y),S[B]=Ee*It,S[B+1]=$e*rn,S[B+C]=ae*It,S[B+C+1]=$e*rn,S[B+2*C]=ae*It,S[B+2*C+1]=We*rn,S[B+3*C]=Ee*It,S[B+3*C+1]=We*rn,B+=4*C}},o.prototype.uploadPosition=function(e,n,l,S,C,B){for(var ae=0;ae<l;ae++){var Ee=e[n+ae].position;S[B]=Ee.x,S[B+1]=Ee.y,S[B+C]=Ee.x,S[B+C+1]=Ee.y,S[B+2*C]=Ee.x,S[B+2*C+1]=Ee.y,S[B+3*C]=Ee.x,S[B+3*C+1]=Ee.y,B+=4*C}},o.prototype.uploadRotation=function(e,n,l,S,C,B){for(var ae=0;ae<l;ae++){var Ee=e[n+ae].rotation;S[B]=Ee,S[B+C]=Ee,S[B+2*C]=Ee,S[B+3*C]=Ee,B+=4*C}},o.prototype.uploadUvs=function(e,n,l,S,C,B){for(var ae=0;ae<l;++ae){var Ee=e[n+ae]._texture._uvs;Ee?(S[B]=Ee.x0,S[B+1]=Ee.y0,S[B+C]=Ee.x1,S[B+C+1]=Ee.y1,S[B+2*C]=Ee.x2,S[B+2*C+1]=Ee.y2,S[B+3*C]=Ee.x3,S[B+3*C+1]=Ee.y3,B+=4*C):(S[B]=0,S[B+1]=0,S[B+C]=0,S[B+C+1]=0,S[B+2*C]=0,S[B+2*C+1]=0,S[B+3*C]=0,S[B+3*C+1]=0,B+=4*C)}},o.prototype.uploadTint=function(e,n,l,S,C,B){for(var ae=0;ae<l;++ae){var Ee=e[n+ae],$e=Ee.alpha,je=$e<1&&Ee._texture.baseTexture.alphaMode>0?sn(Ee._tintRGB,$e):Ee._tintRGB+(255*$e<<24);S[B]=je,S[B+C]=je,S[B+2*C]=je,S[B+3*C]=je,B+=4*C}},o.prototype.destroy=function(){u.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},o}(Pe),p=(()=>{return(u=p||(p={})).MITER="miter",u.BEVEL="bevel",u.ROUND="round",p;var u})(),E=(()=>{return(u=E||(E={})).BUTT="butt",u.ROUND="round",u.SQUARE="square",E;var u})(),I={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(u,o){if(void 0===o&&(o=20),!this.adaptive||!u||isNaN(u))return o;var e=Math.ceil(u/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},k=function(){function u(){this.color=16777215,this.alpha=1,this.texture=Ti.WHITE,this.matrix=null,this.visible=!1,this.reset()}return u.prototype.clone=function(){var o=new u;return o.color=this.color,o.alpha=this.alpha,o.texture=this.texture,o.matrix=this.matrix,o.visible=this.visible,o},u.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Ti.WHITE,this.matrix=null,this.visible=!1},u.prototype.destroy=function(){this.texture=null,this.matrix=null},u}(),X=function(u,o){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)};function g(u,o){function e(){this.constructor=u}X(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}var w={build:function(u){u.points=u.shape.points.slice()},triangulate:function(u,o){var e=u.points,n=u.holes,l=o.points,S=o.indices;if(e.length>=6){for(var C=[],B=0;B<n.length;B++){var ae=n[B];C.push(e.length/2),e=e.concat(ae.points)}var Ee=De()(e,C,2);if(!Ee)return;var We=l.length/2;for(B=0;B<Ee.length;B+=3)S.push(Ee[B]+We),S.push(Ee[B+1]+We),S.push(Ee[B+2]+We);for(B=0;B<e.length;B++)l.push(e[B])}}},b={build:function(u){var S,C,o=u.shape,e=u.points,n=o.x,l=o.y;if(e.length=0,u.type===Hi.CIRC)S=o.radius,C=o.radius;else{var B=u.shape;S=B.width,C=B.height}if(0!==S&&0!==C){var ae=Math.floor(30*Math.sqrt(o.radius))||Math.floor(15*Math.sqrt(S+C));ae/=2.3;for(var Ee=2*Math.PI/ae,We=0;We<ae-.5;We++)e.push(n+Math.sin(-Ee*We)*S,l+Math.cos(-Ee*We)*C);e.push(e[0],e[1])}},triangulate:function(u,o){var e=u.points,n=o.points,l=o.indices,S=n.length/2,C=S,B=u.shape,ae=u.matrix,Ee=B.x,We=B.y;n.push(u.matrix?ae.a*Ee+ae.c*We+ae.tx:Ee,u.matrix?ae.b*Ee+ae.d*We+ae.ty:We);for(var $e=0;$e<e.length;$e+=2)n.push(e[$e],e[$e+1]),l.push(S++,C,S)}},O={build:function(u){var o=u.shape,e=o.x,n=o.y,l=o.width,S=o.height,C=u.points;C.length=0,C.push(e,n,e+l,n,e+l,n+S,e,n+S)},triangulate:function(u,o){var e=u.points,n=o.points,l=n.length/2;n.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),o.indices.push(l,l+1,l+2,l+1,l+2,l+3)}};function K(u,o,e){return u+(o-u)*e}function re(u,o,e,n,l,S,C){void 0===C&&(C=[]);for(var ae=C,Ee=0,We=0,$e=0,je=0,ht=0,St=0,It=0,rn=0;It<=20;++It)Ee=K(u,e,rn=It/20),We=K(o,n,rn),$e=K(e,l,rn),je=K(n,S,rn),ht=K(Ee,$e,rn),St=K(We,je,rn),ae.push(ht,St);return ae}var ye={build:function(u){var o=u.shape,e=u.points,n=o.x,l=o.y,S=o.width,C=o.height,B=Math.max(0,Math.min(o.radius,Math.min(S,C)/2));e.length=0,B?(re(n,l+B,n,l,n+B,l,e),re(n+S-B,l,n+S,l,n+S,l+B,e),re(n+S,l+C-B,n+S,l+C,n+S-B,l+C,e),re(n+B,l+C,n,l+C,n,l+C-B,e)):e.push(n,l,n+S,l,n+S,l+C,n,l+C)},triangulate:function(u,o){for(var e=u.points,n=o.points,l=o.indices,S=n.length/2,C=De()(e,null,2),B=0,ae=C.length;B<ae;B+=3)l.push(C[B]+S),l.push(C[B+1]+S),l.push(C[B+2]+S);for(B=0,ae=e.length;B<ae;B++)n.push(e[B],e[++B])}};function et(u,o,e,n,l,S,C,B){var je,ht;C?(je=n,ht=-e):(je=-n,ht=e);var rn=u+e*S+je,xn=o+n*S+ht;return B.push(u-e*l+je,o-n*l+ht),B.push(rn,xn),2}function gt(u,o,e,n,l,S,C,B){var ae=e-u,Ee=n-o,We=Math.atan2(ae,Ee),$e=Math.atan2(l-u,S-o);B&&We<$e?We+=2*Math.PI:!B&&We>$e&&($e+=2*Math.PI);var je=We,ht=$e-We,St=Math.abs(ht),It=Math.sqrt(ae*ae+Ee*Ee),rn=1+(15*St*Math.sqrt(It)/Math.PI>>0),xn=ht/rn;if(je+=xn,B){C.push(u,o),C.push(e,n);for(var Ai=1,Gn=je;Ai<rn;Ai++,Gn+=xn)C.push(u,o),C.push(u+Math.sin(Gn)*It,o+Math.cos(Gn)*It);C.push(u,o),C.push(l,S)}else{for(C.push(e,n),C.push(u,o),Ai=1,Gn=je;Ai<rn;Ai++,Gn+=xn)C.push(u+Math.sin(Gn)*It,o+Math.cos(Gn)*It),C.push(u,o);C.push(l,S),C.push(u,o)}return 2*rn}function Dn(u,o){u.lineStyle.native?function Kt(u,o){var e=0,n=u.shape,l=u.points||n.points,S=n.type!==Hi.POLY||n.closeStroke;if(0!==l.length){var C=o.points,B=o.indices,ae=l.length/2,Ee=C.length/2,We=Ee;for(C.push(l[0],l[1]),e=1;e<ae;e++)C.push(l[2*e],l[2*e+1]),B.push(We,We+1),We++;S&&B.push(We,Ee)}}(u,o):function Xt(u,o){var e=u.shape,n=u.points||e.points.slice(),l=o.closePointEps;if(0!==n.length){var S=u.lineStyle,C=new hr(n[0],n[1]),B=new hr(n[n.length-2],n[n.length-1]),ae=e.type!==Hi.POLY||e.closeStroke,Ee=Math.abs(C.x-B.x)<l&&Math.abs(C.y-B.y)<l;if(ae){n=n.slice(),Ee&&(n.pop(),n.pop(),B.set(n[n.length-2],n[n.length-1]));var We=.5*(C.x+B.x),$e=.5*(B.y+C.y);n.unshift(We,$e),n.push(We,$e)}var je=o.points,ht=n.length/2,St=n.length,It=je.length/2,rn=S.width/2,xn=rn*rn,Ai=S.miterLimit*S.miterLimit,Gn=n[0],sr=n[1],ti=n[2],Qn=n[3],ao=0,po=0,Ji=-(sr-Qn),dr=Gn-ti,Ro=0,Vo=0,wo=Math.sqrt(Ji*Ji+dr*dr);Ji/=wo,dr/=wo,Ji*=rn,dr*=rn;var ga=S.alignment,$r=2*(1-ga),jr=2*ga;ae||(S.cap===E.ROUND?St+=gt(Gn-Ji*($r-jr)*.5,sr-dr*($r-jr)*.5,Gn-Ji*$r,sr-dr*$r,Gn+Ji*jr,sr+dr*jr,je,!0)+2:S.cap===E.SQUARE&&(St+=et(Gn,sr,Ji,dr,$r,jr,!0,je))),je.push(Gn-Ji*$r,sr-dr*$r),je.push(Gn+Ji*jr,sr+dr*jr);for(var ur=1;ur<ht-1;++ur){ao=n[2*(ur+1)],po=n[2*(ur+1)+1],Ji=-((sr=n[2*(ur-1)+1])-(Qn=n[2*ur+1])),dr=(Gn=n[2*(ur-1)])-(ti=n[2*ur]),Ji/=wo=Math.sqrt(Ji*Ji+dr*dr),dr/=wo,Ji*=rn,dr*=rn,Ro=-(Qn-po),Vo=ti-ao,Ro/=wo=Math.sqrt(Ro*Ro+Vo*Vo),Vo/=wo,Ro*=rn,Vo*=rn;var sl=ti-Gn,al=sr-Qn,ll=ti-ao,Oa=po-Qn,ta=al*ll-Oa*sl,ul=ta<0;if(Math.abs(ta)<.1)je.push(ti-Ji*$r,Qn-dr*$r),je.push(ti+Ji*jr,Qn+dr*jr);else{var $l=(-Ji+Gn)*(-dr+Qn)-(-Ji+ti)*(-dr+sr),ua=(-Ro+ao)*(-Vo+Qn)-(-Ro+ti)*(-Vo+po),ca=(sl*ua-ll*$l)/ta,da=(Oa*$l-al*ua)/ta,ma=(ca-ti)*(ca-ti)+(da-Qn)*(da-Qn),No=ti+(ca-ti)*$r,Xs=Qn+(da-Qn)*$r,Ps=ti-(ca-ti)*jr,Eo=Qn-(da-Qn)*jr,va=ul?$r:jr;ma<=Math.min(sl*sl+al*al,ll*ll+Oa*Oa)+va*va*xn?S.join===p.BEVEL||ma/xn>Ai?(ul?(je.push(No,Xs),je.push(ti+Ji*jr,Qn+dr*jr),je.push(No,Xs),je.push(ti+Ro*jr,Qn+Vo*jr)):(je.push(ti-Ji*$r,Qn-dr*$r),je.push(Ps,Eo),je.push(ti-Ro*$r,Qn-Vo*$r),je.push(Ps,Eo)),St+=2):S.join===p.ROUND?ul?(je.push(No,Xs),je.push(ti+Ji*jr,Qn+dr*jr),St+=gt(ti,Qn,ti+Ji*jr,Qn+dr*jr,ti+Ro*jr,Qn+Vo*jr,je,!0)+4,je.push(No,Xs),je.push(ti+Ro*jr,Qn+Vo*jr)):(je.push(ti-Ji*$r,Qn-dr*$r),je.push(Ps,Eo),St+=gt(ti,Qn,ti-Ji*$r,Qn-dr*$r,ti-Ro*$r,Qn-Vo*$r,je,!1)+4,je.push(ti-Ro*$r,Qn-Vo*$r),je.push(Ps,Eo)):(je.push(No,Xs),je.push(Ps,Eo)):(je.push(ti-Ji*$r,Qn-dr*$r),je.push(ti+Ji*jr,Qn+dr*jr),S.join===p.BEVEL||ma/xn>Ai||(S.join===p.ROUND?St+=ul?gt(ti,Qn,ti+Ji*jr,Qn+dr*jr,ti+Ro*jr,Qn+Vo*jr,je,!0)+2:gt(ti,Qn,ti-Ji*$r,Qn-dr*$r,ti-Ro*$r,Qn-Vo*$r,je,!1)+2:(ul?(je.push(Ps,Eo),je.push(Ps,Eo)):(je.push(No,Xs),je.push(No,Xs)),St+=2)),je.push(ti-Ro*$r,Qn-Vo*$r),je.push(ti+Ro*jr,Qn+Vo*jr),St+=2)}}Ji=-((sr=n[2*(ht-2)+1])-(Qn=n[2*(ht-1)+1])),dr=(Gn=n[2*(ht-2)])-(ti=n[2*(ht-1)]),Ji/=wo=Math.sqrt(Ji*Ji+dr*dr),dr/=wo,je.push(ti-(Ji*=rn)*$r,Qn-(dr*=rn)*$r),je.push(ti+Ji*jr,Qn+dr*jr),ae||(S.cap===E.ROUND?St+=gt(ti-Ji*($r-jr)*.5,Qn-dr*($r-jr)*.5,ti-Ji*$r,Qn-dr*$r,ti+Ji*jr,Qn+dr*jr,je,!1)+2:S.cap===E.SQUARE&&(St+=et(ti,Qn,Ji,dr,$r,jr,!1,je)));var Gl=o.indices,dl=I.epsilon*I.epsilon;for(ur=It;ur<St+It-2;++ur)Gn=je[2*ur],sr=je[2*ur+1],ti=je[2*(ur+1)],Qn=je[2*(ur+1)+1],ao=je[2*(ur+2)],po=je[2*(ur+2)+1],!(Math.abs(Gn*(Qn-po)+ti*(po-sr)+ao*(sr-Qn))<dl)&&Gl.push(ur,ur+1,ur+2)}}(u,o)}var Yi,Un=function(u){function o(e,n,l,S,C,B){void 0===B&&(B=0),C=C||S/2;for(var Ee=-1*Math.PI/2+B,We=2*l,$e=ei/We,je=[],ht=0;ht<We;ht++){var St=ht%2?C:S,It=ht*$e+Ee;je.push(e+St*Math.cos(It),n+St*Math.sin(It))}return u.call(this,je)||this}return g(o,u),o}(go),An=function(){function u(){}return u.curveTo=function(o,e,n,l,S,C){var Ee=C[C.length-1]-e,We=C[C.length-2]-o,$e=l-e,je=n-o,ht=Math.abs(Ee*je-We*$e);if(ht<1e-8||0===S)return(C[C.length-2]!==o||C[C.length-1]!==e)&&C.push(o,e),null;var St=Ee*Ee+We*We,It=$e*$e+je*je,rn=Ee*$e+We*je,xn=S*Math.sqrt(St)/ht,Ai=S*Math.sqrt(It)/ht,Gn=xn*rn/St,sr=Ai*rn/It,ti=xn*je+Ai*We,Qn=xn*$e+Ai*Ee,Ji=je*(xn+sr),dr=$e*(xn+sr);return{cx:ti+o,cy:Qn+e,radius:S,startAngle:Math.atan2(Ee*(Ai+Gn)-Qn,We*(Ai+Gn)-ti),endAngle:Math.atan2(dr-Qn,Ji-ti),anticlockwise:We*$e>je*Ee}},u.arc=function(o,e,n,l,S,C,B,ae,Ee){for(var We=B-C,$e=I._segmentsCount(Math.abs(We)*S,40*Math.ceil(Math.abs(We)/ei)),je=We/(2*$e),ht=2*je,St=Math.cos(je),It=Math.sin(je),rn=$e-1,xn=rn%1/rn,Ai=0;Ai<=rn;++Ai){var sr=je+C+ht*(Ai+xn*Ai),ti=Math.cos(sr),Qn=-Math.sin(sr);Ee.push((St*ti+It*Qn)*S+n,(St*-Qn+It*ti)*S+l)}},u}(),$n=function(){function u(){}return u.curveLength=function(o,e,n,l,S,C,B,ae){for(var We=0,$e=0,je=0,ht=0,St=0,It=0,rn=0,xn=0,Ai=0,Gn=0,sr=0,ti=o,Qn=e,ao=1;ao<=10;++ao)Gn=ti-(xn=(rn=(It=(St=1-($e=ao/10))*St)*St)*o+3*It*$e*n+3*St*(je=$e*$e)*S+(ht=je*$e)*B),sr=Qn-(Ai=rn*e+3*It*$e*l+3*St*je*C+ht*ae),ti=xn,Qn=Ai,We+=Math.sqrt(Gn*Gn+sr*sr);return We},u.curveTo=function(o,e,n,l,S,C,B){var ae=B[B.length-2],Ee=B[B.length-1];B.length-=2;var We=I._segmentsCount(u.curveLength(ae,Ee,o,e,n,l,S,C)),$e=0,je=0,ht=0,St=0,It=0;B.push(ae,Ee);for(var rn=1,xn=0;rn<=We;++rn)B.push((ht=(je=($e=1-(xn=rn/We))*$e)*$e)*ae+3*je*xn*o+3*$e*(St=xn*xn)*n+(It=St*xn)*S,ht*Ee+3*je*xn*e+3*$e*St*l+It*C)},u}(),Ci=function(){function u(){}return u.curveLength=function(o,e,n,l,S,C){var B=o-2*n+S,ae=e-2*l+C,Ee=2*n-2*o,We=2*l-2*e,$e=4*(B*B+ae*ae),je=4*(B*Ee+ae*We),ht=Ee*Ee+We*We,St=2*Math.sqrt($e+je+ht),It=Math.sqrt($e),rn=2*$e*It,xn=2*Math.sqrt(ht),Ai=je/It;return(rn*St+It*je*(St-xn)+(4*ht*$e-je*je)*Math.log((2*It+Ai+St)/(Ai+xn)))/(4*rn)},u.curveTo=function(o,e,n,l,S){for(var C=S[S.length-2],B=S[S.length-1],ae=I._segmentsCount(u.curveLength(C,B,o,e,n,l)),Ee=0,We=0,$e=1;$e<=ae;++$e){var je=$e/ae;S.push((Ee=C+(o-C)*je)+(o+(n-o)*je-Ee)*je,(We=B+(e-B)*je)+(e+(l-e)*je-We)*je)}},u}(),ri=function(){function u(){this.reset()}return u.prototype.begin=function(o,e,n){this.reset(),this.style=o,this.start=e,this.attribStart=n},u.prototype.end=function(o,e){this.attribSize=e-this.attribStart,this.size=o-this.start},u.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},u}(),Tr=((Yi={})[Hi.POLY]=w,Yi[Hi.CIRC]=b,Yi[Hi.ELIP]=b,Yi[Hi.RECT]=O,Yi[Hi.RREC]=ye,Yi),Hr=[],eo=[],ss={buildPoly:w,buildCircle:b,buildRectangle:O,buildRoundedRectangle:ye,FILL_COMMANDS:Tr,BATCH_POOL:Hr,DRAW_CALL_POOL:eo,buildLine:Dn,Star:Un,ArcUtils:An,BezierUtils:$n,QuadraticUtils:Ci,BatchPart:ri},ps=function(){function u(o,e,n,l){void 0===e&&(e=null),void 0===n&&(n=null),void 0===l&&(l=null),this.shape=o,this.lineStyle=n,this.fillStyle=e,this.matrix=l,this.type=o.type,this.points=[],this.holes=[]}return u.prototype.clone=function(){return new u(this.shape,this.fillStyle,this.lineStyle,this.matrix)},u.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},u}(),Co=new hr,Wo=new Er,ns=function(u){function o(){var e=u.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new Er,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return g(o,u),Object.defineProperty(o.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),o.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),eo.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var n=this.batches[e];n.reset(),Hr.push(n)}this.batches.length=0},o.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},o.prototype.drawShape=function(e,n,l,S){void 0===n&&(n=null),void 0===l&&(l=null),void 0===S&&(S=null);var C=new ps(e,n,l,S);return this.graphicsData.push(C),this.dirty++,this},o.prototype.drawHole=function(e,n){if(void 0===n&&(n=null),!this.graphicsData.length)return null;var l=new ps(e,null,null,n),S=this.graphicsData[this.graphicsData.length-1];return l.lineStyle=S.lineStyle,S.holes.push(l),this.dirty++,this},o.prototype.destroy=function(){u.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},o.prototype.containsPoint=function(e){for(var n=this.graphicsData,l=0;l<n.length;++l){var S=n[l];if(S.fillStyle.visible&&S.shape&&(S.matrix?S.matrix.applyInverse(e,Co):Co.copyFrom(e),S.shape.contains(Co.x,Co.y))){var C=!1;if(S.holes)for(var B=0;B<S.holes.length;B++)if(S.holes[B].shape.contains(Co.x,Co.y)){C=!0;break}if(!C)return!0}}return!1},o.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,l=this.graphicsData,S=null,C=null;this.batches.length>0&&(C=(S=this.batches[this.batches.length-1]).style);for(var B=this.shapeIndex;B<l.length;B++){this.shapeIndex++;var ae=l[B],Ee=ae.fillStyle,We=ae.lineStyle;Tr[ae.type].build(ae),ae.matrix&&this.transformPoints(ae.points,ae.matrix);for(var je=0;je<2;je++){var ht=0===je?Ee:We;if(ht.visible){var It=this.indices.length,rn=this.points.length/2;ht.texture.baseTexture.wrapMode=on.REPEAT,0===je?this.processFill(ae):this.processLine(ae);var xn=this.points.length/2-rn;0!==xn&&(S&&!this._compareStyles(C,ht)&&(S.end(It,rn),S=null),S||((S=Hr.pop()||new ri).begin(ht,It,rn),this.batches.push(S),C=ht),this.addUvs(this.points,n,ht.texture,rn,xn,ht.matrix))}}}var Gn=this.points.length/2;if(S&&S.end(this.indices.length,Gn),0===this.batches.length)return void(this.batchable=!0);this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=Gn>65535&&e?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},o.prototype._compareStyles=function(e,n){return!(!e||!n||e.texture.baseTexture!==n.texture.baseTexture||e.color+e.alpha!==n.color+n.alpha||!!e.native!=!!n.native)},o.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,n=this.graphicsData.length;e<n;e++){var l=this.graphicsData[e],S=l.fillStyle,C=l.lineStyle;if(S&&!S.texture.baseTexture.valid||C&&!C.texture.baseTexture.valid)return!1}return!0},o.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,n=0,l=e.length;n<l;n++)for(var S=e[n],C=0;C<S.size;C++){var B=S.start+C;this.indicesUint16[B]=this.indicesUint16[B]-S.attribStart}},o.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,n=0;n<e.length;n++)if(e[n].style.native)return!1;return this.points.length<2*o.BATCHABLE_SIZE},o.prototype.buildDrawCalls=function(){for(var e=++gi._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),eo.push(this.drawCalls[n]);this.drawCalls.length=0;var l=this.colors,S=this.textureIds,C=eo.pop();C||((C=new Nt).texArray=new dn),C.texArray.count=0,C.start=0,C.size=0,C.type=mt.TRIANGLES;var B=0,ae=null,Ee=0,We=!1,$e=mt.TRIANGLES,je=0;for(this.drawCalls.push(C),n=0;n<this.batches.length;n++){var ht=this.batches[n],It=ht.style,rn=It.texture.baseTexture;We!==!!It.native&&($e=(We=!!It.native)?mt.LINES:mt.TRIANGLES,ae=null,B=8,e++),ae!==rn&&(ae=rn,rn._batchEnabled!==e&&(8===B&&(e++,B=0,C.size>0&&((C=eo.pop())||((C=new Nt).texArray=new dn),this.drawCalls.push(C)),C.start=je,C.size=0,C.texArray.count=0,C.type=$e),rn.touched=1,rn._batchEnabled=e,rn._batchLocation=B,rn.wrapMode=10497,C.texArray.elements[C.texArray.count++]=rn,B++)),C.size+=ht.size,je+=ht.size,Ee=rn._batchLocation,this.addColors(l,It.color,It.alpha,ht.attribSize,ht.attribStart),this.addTextureIds(S,Ee,ht.attribSize,ht.attribStart)}gi._globalBatch=e,this.packAttributes()},o.prototype.packAttributes=function(){for(var e=this.points,n=this.uvs,l=this.colors,S=this.textureIds,C=new ArrayBuffer(3*e.length*4),B=new Float32Array(C),ae=new Uint32Array(C),Ee=0,We=0;We<e.length/2;We++)B[Ee++]=e[2*We],B[Ee++]=e[2*We+1],B[Ee++]=n[2*We],B[Ee++]=n[2*We+1],ae[Ee++]=l[We],B[Ee++]=S[We];this._buffer.update(C),this._indexBuffer.update(this.indicesUint16)},o.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),w.triangulate(e,this)):Tr[e.type].triangulate(e,this)},o.prototype.processLine=function(e){Dn(e,this);for(var n=0;n<e.holes.length;n++)Dn(e.holes[n],this)},o.prototype.processHoles=function(e){for(var n=0;n<e.length;n++){var l=e[n];Tr[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix)}},o.prototype.calculateBounds=function(){var e=this._bounds,n=Wo,l=Ki.IDENTITY;this._bounds.clear(),n.clear();for(var S=0;S<this.graphicsData.length;S++){var C=this.graphicsData[S],B=C.shape,ae=C.type,Ee=C.lineStyle,We=C.matrix||Ki.IDENTITY,$e=0;if(Ee&&Ee.visible){var je=Ee.alignment;$e=Ee.width,$e*=ae===Hi.POLY?.5+Math.abs(.5-je):Math.max(0,je)}l!==We&&(n.isEmpty()||(e.addBoundsMatrix(n,l),n.clear()),l=We),ae===Hi.RECT||ae===Hi.RREC?n.addFramePad(B.x,B.y,B.x+B.width,B.y+B.height,$e,$e):ae===Hi.CIRC?n.addFramePad(B.x,B.y,B.x,B.y,B.radius+$e,B.radius+$e):ae===Hi.ELIP?n.addFramePad(B.x,B.y,B.x,B.y,B.width+$e,B.height+$e):e.addVerticesMatrix(l,B.points,0,B.points.length,$e,$e)}n.isEmpty()||e.addBoundsMatrix(n,l),e.pad(this.boundsPadding,this.boundsPadding)},o.prototype.transformPoints=function(e,n){for(var l=0;l<e.length/2;l++){var S=e[2*l],C=e[2*l+1];e[2*l]=n.a*S+n.c*C+n.tx,e[2*l+1]=n.b*S+n.d*C+n.ty}},o.prototype.addColors=function(e,n,l,S,C){void 0===C&&(C=0);var ae=sn((n>>16)+(65280&n)+((255&n)<<16),l);e.length=Math.max(e.length,C+S);for(var Ee=0;Ee<S;Ee++)e[C+Ee]=ae},o.prototype.addTextureIds=function(e,n,l,S){void 0===S&&(S=0),e.length=Math.max(e.length,S+l);for(var C=0;C<l;C++)e[S+C]=n},o.prototype.addUvs=function(e,n,l,S,C,B){void 0===B&&(B=null);for(var ae=0,Ee=n.length,We=l.frame;ae<C;){var $e=e[2*(S+ae)],je=e[2*(S+ae)+1];if(B){var ht=B.a*$e+B.c*je+B.tx;je=B.b*$e+B.d*je+B.ty,$e=ht}ae++,n.push($e/We.width,je/We.height)}var St=l.baseTexture;(We.width<St.width||We.height<St.height)&&this.adjustUvs(n,l,Ee,C)},o.prototype.adjustUvs=function(e,n,l,S){for(var C=n.baseTexture,B=1e-6,ae=l+2*S,Ee=n.frame,We=Ee.width/C.width,$e=Ee.height/C.height,je=Ee.x/Ee.width,ht=Ee.y/Ee.height,St=Math.floor(e[l]+B),It=Math.floor(e[l+1]+B),rn=l+2;rn<ae;rn+=2)St=Math.min(St,Math.floor(e[rn]+B)),It=Math.min(It,Math.floor(e[rn+1]+B));for(je-=St,ht-=It,rn=l;rn<ae;rn+=2)e[rn]=(e[rn]+je)*We,e[rn+1]=(e[rn+1]+ht)*$e},o.BATCHABLE_SIZE=100,o}(Mi),vs=function(u){function o(){var e=null!==u&&u.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=E.BUTT,e.join=p.MITER,e.miterLimit=10,e}return g(o,u),o.prototype.clone=function(){var e=new o;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},o.prototype.reset=function(){u.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},o}(k),ls=new Float32Array(3),la={},ja=function(u){function o(e){void 0===e&&(e=null);var n=u.call(this)||this;return n._geometry=e||new ns,n._geometry.refCount++,n.shader=null,n.state=ms.for2d(),n._fillStyle=new k,n._lineStyle=new vs,n._matrix=null,n._holeMode=!1,n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n.pluginName="batch",n._transformID=-1,n.tint=16777215,n.blendMode=Fe.NORMAL,n}return g(o,u),Object.defineProperty(o.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),o.prototype.clone=function(){return this.finishPoly(),new o(this._geometry)},Object.defineProperty(o.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),o.prototype.lineStyle=function(e){if(void 0===e&&(e=null),"number"==typeof e){var n=arguments;e={width:n[0]||0,color:n[1]||0,alpha:void 0!==n[2]?n[2]:1,alignment:void 0!==n[3]?n[3]:.5,native:!!n[4]}}return this.lineTextureStyle(e)},o.prototype.lineTextureStyle=function(e){if("number"==typeof e){Vt("v5.2.0","Please use object-based options for Graphics#lineTextureStyle");var n=arguments;e={width:n[0],texture:n[1],color:n[2],alpha:n[3],matrix:n[4],alignment:n[5],native:n[6]},Object.keys(e).forEach(function(je){return void 0===e[je]&&delete e[je]})}e=Object.assign({width:0,texture:Ti.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:E.BUTT,join:p.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var $e=e.width>0&&e.alpha>0;return $e?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:$e},e)):this._lineStyle.reset(),this},o.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new go,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[n-2],e[n-1]))}else this.currentPath=new go,this.currentPath.closeStroke=!1},o.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},o.prototype.moveTo=function(e,n){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=n,this},o.prototype.lineTo=function(e,n){this.currentPath||this.moveTo(0,0);var l=this.currentPath.points;return(l[l.length-2]!==e||l[l.length-1]!==n)&&l.push(e,n),this},o.prototype._initCurve=function(e,n){void 0===e&&(e=0),void 0===n&&(n=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,n]):this.moveTo(e,n)},o.prototype.quadraticCurveTo=function(e,n,l,S){this._initCurve();var C=this.currentPath.points;return 0===C.length&&this.moveTo(0,0),Ci.curveTo(e,n,l,S,C),this},o.prototype.bezierCurveTo=function(e,n,l,S,C,B){return this._initCurve(),$n.curveTo(e,n,l,S,C,B,this.currentPath.points),this},o.prototype.arcTo=function(e,n,l,S,C){this._initCurve(e,n);var ae=An.curveTo(e,n,l,S,C,this.currentPath.points);return ae&&this.arc(ae.cx,ae.cy,ae.radius,ae.startAngle,ae.endAngle,ae.anticlockwise),this},o.prototype.arc=function(e,n,l,S,C,B){if(void 0===B&&(B=!1),S===C)return this;if(!B&&C<=S?C+=ei:B&&S<=C&&(S+=ei),0==C-S)return this;var Ee=e+Math.cos(S)*l,We=n+Math.sin(S)*l,$e=this._geometry.closePointEps,je=this.currentPath?this.currentPath.points:null;if(je){var ht=Math.abs(je[je.length-2]-Ee),St=Math.abs(je[je.length-1]-We);ht<$e&&St<$e||je.push(Ee,We)}else this.moveTo(Ee,We),je=this.currentPath.points;return An.arc(Ee,We,e,n,l,S,C,B,je),this},o.prototype.beginFill=function(e,n){return void 0===e&&(e=0),void 0===n&&(n=1),this.beginTextureFill({texture:Ti.WHITE,color:e,alpha:n})},o.prototype.beginTextureFill=function(e){if(e instanceof Ti){Vt("v5.2.0","Please use object-based options for Graphics#beginTextureFill");var n=arguments;e={texture:n[0],color:n[1],alpha:n[2],matrix:n[3]},Object.keys(e).forEach(function(Ee){return void 0===e[Ee]&&delete e[Ee]})}e=Object.assign({texture:Ti.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var ae=e.alpha>0;return ae?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:ae},e)):this._fillStyle.reset(),this},o.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},o.prototype.drawRect=function(e,n,l,S){return this.drawShape(new Zi(e,n,l,S))},o.prototype.drawRoundedRect=function(e,n,l,S,C){return this.drawShape(new Do(e,n,l,S,C))},o.prototype.drawCircle=function(e,n,l){return this.drawShape(new Rr(e,n,l))},o.prototype.drawEllipse=function(e,n,l,S){return this.drawShape(new Fr(e,n,l,S))},o.prototype.drawPolygon=function(){for(var e=arguments,n=[],l=0;l<arguments.length;l++)n[l]=e[l];var S,C=!0,B=n[0];B.points?(C=B.closeStroke,S=B.points):S=Array.isArray(n[0])?n[0]:n;var ae=new go(S);return ae.closeStroke=C,this.drawShape(ae),this},o.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},o.prototype.drawStar=function(e,n,l,S,C,B){return void 0===B&&(B=0),this.drawPolygon(new Un(e,n,l,S,C,B))},o.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},o.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return 1===e.length&&e[0].shape.type===Hi.RECT&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},o.prototype._render=function(e){this.finishPoly();var n=this._geometry;n.updateBatches(e.context.supports.uint32Indices),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},o.prototype._populateBatches=function(){var e=this._geometry,n=this.blendMode,l=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=l,this.vertexData=new Float32Array(e.points);for(var S=0;S<l;S++){var C=e.batches[S],B=C.style.color,ae=new Float32Array(this.vertexData.buffer,4*C.attribStart*2,2*C.attribSize),Ee=new Float32Array(e.uvsFloat32.buffer,4*C.attribStart*2,2*C.attribSize),$e={vertexData:ae,blendMode:n,indices:new Uint16Array(e.indicesUint16.buffer,2*C.start,C.size),uvs:Ee,_batchRGB:Mr(B),_tintRGB:B,_texture:C.style.texture,alpha:C.style.alpha,worldAlpha:1};this.batches[S]=$e}},o.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,l=this.batches.length;n<l;n++){var S=this.batches[n];S.worldAlpha=this.worldAlpha*S.alpha,e.plugins[this.pluginName].render(S)}}},o.prototype._renderDirect=function(e){var n=this._resolveDirectShader(e),l=this._geometry,S=this.tint,C=this.worldAlpha,B=n.uniforms,ae=l.drawCalls;B.translationMatrix=this.transform.worldTransform,B.tint[0]=(S>>16&255)/255*C,B.tint[1]=(S>>8&255)/255*C,B.tint[2]=(255&S)/255*C,B.tint[3]=C,e.shader.bind(n),e.geometry.bind(l,n),e.state.set(this.state);for(var Ee=0,We=ae.length;Ee<We;Ee++)this._renderDrawCallDirect(e,l.drawCalls[Ee])},o.prototype._renderDrawCallDirect=function(e,n){for(var l=n.texArray,S=n.type,C=n.size,B=n.start,ae=l.count,Ee=0;Ee<ae;Ee++)e.texture.bind(l.elements[Ee],Ee);e.geometry.draw(S,C,B)},o.prototype._resolveDirectShader=function(e){var n=this.shader,l=this.pluginName;if(!n){if(!la[l]){for(var S=e.plugins.batch.MAX_TEXTURES,C=new Int32Array(S),B=0;B<S;B++)C[B]=B;var ae={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ki,default:qi.from({uSamplers:C},!0)};la[l]=new as(e.plugins[l]._shader.program,ae)}n=la[l]}return n},o.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var n=e.bounds;this._bounds.addFrame(this.transform,n.minX,n.minY,n.maxX,n.maxY)}},o.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,o._TEMP_POINT),this._geometry.containsPoint(o._TEMP_POINT)},o.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=Mr(this.tint,ls),n=0;n<this.batches.length;n++){var l=this.batches[n],S=l._batchRGB,Ee=(e[0]*S[0]*255<<16)+(e[1]*S[1]*255<<8)+(0|e[2]*S[2]*255);l._tintRGB=(Ee>>16)+(65280&Ee)+((255&Ee)<<16)}}},o.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var n=this.transform.worldTransform,l=n.a,S=n.b,C=n.c,B=n.d,ae=n.tx,Ee=n.ty,We=this._geometry.points,$e=this.vertexData,je=0,ht=0;ht<We.length;ht+=2){var St=We[ht],It=We[ht+1];$e[je++]=l*St+C*It+ae,$e[je++]=B*It+S*St+Ee}}},o.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0),this},o.prototype.setMatrix=function(e){return this._matrix=e,this},o.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},o.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},o.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,u.prototype.destroy.call(this,e)},o._TEMP_POINT=new hr,o}(Qt),Qs=function(u,o){return(Qs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)},Ys=new hr,$a=new Uint16Array([0,1,2,0,2,3]),ks=function(u){function o(e){var n=u.call(this)||this;return n._anchor=new Nr(n._onAnchorUpdate,n,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=Fe.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=e||Ti.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=$a,n.pluginName="batch",n.isSprite=!0,n._roundPixels=pe.ROUND_PIXELS,n}return function za(u,o){function e(){this.constructor=u}Qs(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}(o,u),o.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=bt(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=bt(this.scale.y)*this._height/this._texture.orig.height)},o.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},o.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var n=this.transform.worldTransform,l=n.a,S=n.b,C=n.c,B=n.d,ae=n.tx,Ee=n.ty,We=this.vertexData,$e=e.trim,je=e.orig,ht=this._anchor,St=0,It=0,rn=0,xn=0;if($e?(St=(It=$e.x-ht._x*je.width)+$e.width,rn=(xn=$e.y-ht._y*je.height)+$e.height):(St=(It=-ht._x*je.width)+je.width,rn=(xn=-ht._y*je.height)+je.height),We[0]=l*It+C*xn+ae,We[1]=B*xn+S*It+Ee,We[2]=l*St+C*xn+ae,We[3]=B*xn+S*St+Ee,We[4]=l*St+C*rn+ae,We[5]=B*rn+S*St+Ee,We[6]=l*It+C*rn+ae,We[7]=B*rn+S*It+Ee,this._roundPixels)for(var Ai=pe.RESOLUTION,Gn=0;Gn<We.length;++Gn)We[Gn]=Math.round((We[Gn]*Ai|0)/Ai)}},o.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var n=this.vertexTrimmedData,l=this._texture.orig,S=this._anchor,C=this.transform.worldTransform,B=C.a,ae=C.b,Ee=C.c,We=C.d,$e=C.tx,je=C.ty,ht=-S._x*l.width,St=ht+l.width,It=-S._y*l.height,rn=It+l.height;n[0]=B*ht+Ee*It+$e,n[1]=We*It+ae*ht+je,n[2]=B*St+Ee*It+$e,n[3]=We*It+ae*St+je,n[4]=B*St+Ee*rn+$e,n[5]=We*rn+ae*St+je,n[6]=B*ht+Ee*rn+$e,n[7]=We*rn+ae*ht+je},o.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},o.prototype._calculateBounds=function(){var e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},o.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Zi),e=this._localBoundsRect),this._bounds.getRectangle(e)):u.prototype.getLocalBounds.call(this,e)},o.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Ys);var n=this._texture.orig.width,l=this._texture.orig.height,S=-n*this.anchor.x,C=0;return Ys.x>=S&&Ys.x<S+n&&Ys.y>=(C=-l*this.anchor.y)&&Ys.y<C+l},o.prototype.destroy=function(e){u.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e&&e.baseTexture)),this._texture=null},o.from=function(e,n){return new o(e instanceof Ti?e:Ti.from(e,n))},Object.defineProperty(o.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var n=bt(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var n=bt(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Ti.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),o}(Qt),fu=function(u,o){return(fu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)},Ma=(()=>{return(u=Ma||(Ma={}))[u.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",u[u.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",Ma;var u})(),pu={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Ma.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},dc=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],el=function(){function u(o){this.styleID=0,this.reset(),mu(this,o,o)}return u.prototype.clone=function(){var o={};return mu(o,this,pu),new u(o)},u.prototype.reset=function(){mu(this,pu,pu)},Object.defineProperty(u.prototype,"align",{get:function(){return this._align},set:function(o){this._align!==o&&(this._align=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"breakWords",{get:function(){return this._breakWords},set:function(o){this._breakWords!==o&&(this._breakWords=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(o){this._dropShadow!==o&&(this._dropShadow=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(o){this._dropShadowAlpha!==o&&(this._dropShadowAlpha=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(o){this._dropShadowAngle!==o&&(this._dropShadowAngle=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(o){this._dropShadowBlur!==o&&(this._dropShadowBlur=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(o){var e=hc(o);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(o){this._dropShadowDistance!==o&&(this._dropShadowDistance=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fill",{get:function(){return this._fill},set:function(o){var e=hc(o);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(o){this._fillGradientType!==o&&(this._fillGradientType=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(o){(function fd(u,o){if(!Array.isArray(u)||!Array.isArray(o)||u.length!==o.length)return!1;for(var e=0;e<u.length;++e)if(u[e]!==o[e])return!1;return!0})(this._fillGradientStops,o)||(this._fillGradientStops=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(o){this.fontFamily!==o&&(this._fontFamily=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontSize",{get:function(){return this._fontSize},set:function(o){this._fontSize!==o&&(this._fontSize=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(o){this._fontStyle!==o&&(this._fontStyle=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(o){this._fontVariant!==o&&(this._fontVariant=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(o){this._fontWeight!==o&&(this._fontWeight=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(o){this._letterSpacing!==o&&(this._letterSpacing=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(o){this._lineHeight!==o&&(this._lineHeight=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"leading",{get:function(){return this._leading},set:function(o){this._leading!==o&&(this._leading=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(o){this._lineJoin!==o&&(this._lineJoin=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(o){this._miterLimit!==o&&(this._miterLimit=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"padding",{get:function(){return this._padding},set:function(o){this._padding!==o&&(this._padding=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"stroke",{get:function(){return this._stroke},set:function(o){var e=hc(o);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(o){this._strokeThickness!==o&&(this._strokeThickness=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(o){this._textBaseline!==o&&(this._textBaseline=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"trim",{get:function(){return this._trim},set:function(o){this._trim!==o&&(this._trim=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(o){this._whiteSpace!==o&&(this._whiteSpace=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(o){this._wordWrap!==o&&(this._wordWrap=o,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(o){this._wordWrapWidth!==o&&(this._wordWrapWidth=o,this.styleID++)},enumerable:!1,configurable:!0}),u.prototype.toFontString=function(){var o="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var n=e.length-1;n>=0;n--){var l=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(l)&&dc.indexOf(l)<0&&(l='"'+l+'"'),e[n]=l}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+o+" "+e.join(",")},u}();function gu(u){return"number"==typeof u?ir(u):("string"==typeof u&&0===u.indexOf("0x")&&(u=u.replace("0x","#")),u)}function hc(u){if(Array.isArray(u)){for(var o=0;o<u.length;++o)u[o]=gu(u[o]);return u}return gu(u)}function mu(u,o,e){for(var n in e)u[n]=Array.isArray(o[n])?o[n].slice():o[n]}var Bs=function(){function u(o,e,n,l,S,C,B,ae,Ee){this.text=o,this.style=e,this.width=n,this.height=l,this.lines=S,this.lineWidths=C,this.lineHeight=B,this.maxLineWidth=ae,this.fontProperties=Ee}return u.measureText=function(o,e,n,l){void 0===l&&(l=u._canvas),n=n??e.wordWrap;var S=e.toFontString(),C=u.measureFont(S);0===C.fontSize&&(C.fontSize=e.fontSize,C.ascent=e.fontSize);var B=l.getContext("2d");B.font=S;for(var Ee=(n?u.wordWrap(o,e,l):o).split(/(?:\r\n|\r|\n)/),We=new Array(Ee.length),$e=0,je=0;je<Ee.length;je++){var ht=B.measureText(Ee[je]).width+(Ee[je].length-1)*e.letterSpacing;We[je]=ht,$e=Math.max($e,ht)}var St=$e+e.strokeThickness;e.dropShadow&&(St+=e.dropShadowDistance);var It=e.lineHeight||C.fontSize+e.strokeThickness,rn=Math.max(It,C.fontSize+e.strokeThickness)+(Ee.length-1)*(It+e.leading);return e.dropShadow&&(rn+=e.dropShadowDistance),new u(o,e,St,rn,Ee,We,It+e.leading,$e,C)},u.wordWrap=function(o,e,n){void 0===n&&(n=u._canvas);for(var l=n.getContext("2d"),S=0,C="",B="",ae=Object.create(null),Ee=e.letterSpacing,We=e.whiteSpace,$e=u.collapseSpaces(We),je=u.collapseNewlines(We),ht=!$e,St=e.wordWrapWidth+Ee,It=u.tokenize(o),rn=0;rn<It.length;rn++){var xn=It[rn];if(u.isNewline(xn)){if(!je){B+=u.addLine(C),ht=!$e,C="",S=0;continue}xn=" "}if($e){var Ai=u.isBreakingSpace(xn),Gn=u.isBreakingSpace(C[C.length-1]);if(Ai&&Gn)continue}var sr=u.getFromCache(xn,Ee,ae,l);if(sr>St)if(""!==C&&(B+=u.addLine(C),C="",S=0),u.canBreakWords(xn,e.breakWords))for(var ti=u.wordWrapSplit(xn),Qn=0;Qn<ti.length;Qn++){for(var ao=ti[Qn],po=1;ti[Qn+po];){var Ji=ti[Qn+po];if(u.canBreakChars(ao[ao.length-1],Ji,xn,Qn,e.breakWords))break;ao+=Ji,po++}Qn+=ao.length-1;var Ro=u.getFromCache(ao,Ee,ae,l);Ro+S>St&&(B+=u.addLine(C),ht=!1,C="",S=0),C+=ao,S+=Ro}else C.length>0&&(B+=u.addLine(C),C="",S=0),B+=u.addLine(xn,!(rn===It.length-1)),ht=!1,C="",S=0;else sr+S>St&&(ht=!1,B+=u.addLine(C),C="",S=0),(C.length>0||!u.isBreakingSpace(xn)||ht)&&(C+=xn,S+=sr)}return B+u.addLine(C,!1)},u.addLine=function(o,e){return void 0===e&&(e=!0),o=u.trimRight(o),e?o+"\n":o},u.getFromCache=function(o,e,n,l){var S=n[o];if("number"!=typeof S){var C=o.length*e;S=l.measureText(o).width+C,n[o]=S}return S},u.collapseSpaces=function(o){return"normal"===o||"pre-line"===o},u.collapseNewlines=function(o){return"normal"===o},u.trimRight=function(o){if("string"!=typeof o)return"";for(var e=o.length-1;e>=0&&u.isBreakingSpace(o[e]);e--)o=o.slice(0,-1);return o},u.isNewline=function(o){return"string"==typeof o&&u._newlines.indexOf(o.charCodeAt(0))>=0},u.isBreakingSpace=function(o){return"string"==typeof o&&u._breakingSpaces.indexOf(o.charCodeAt(0))>=0},u.tokenize=function(o){var e=[],n="";if("string"!=typeof o)return e;for(var l=0;l<o.length;l++){var S=o[l];u.isBreakingSpace(S)||u.isNewline(S)?(""!==n&&(e.push(n),n=""),e.push(S)):n+=S}return""!==n&&e.push(n),e},u.canBreakWords=function(o,e){return e},u.canBreakChars=function(o,e,n,l,S){return!0},u.wordWrapSplit=function(o){return o.split("")},u.measureFont=function(o){if(u._fonts[o])return u._fonts[o];var e={ascent:0,descent:0,fontSize:0},n=u._canvas,l=u._context;l.font=o;var S=u.METRICS_STRING+u.BASELINE_SYMBOL,C=Math.ceil(l.measureText(S).width),B=Math.ceil(l.measureText(u.BASELINE_SYMBOL).width),ae=2*B;B=B*u.BASELINE_MULTIPLIER|0,n.width=C,n.height=ae,l.fillStyle="#f00",l.fillRect(0,0,C,ae),l.font=o,l.textBaseline="alphabetic",l.fillStyle="#000",l.fillText(S,0,B);var Ee=l.getImageData(0,0,C,ae).data,We=Ee.length,$e=4*C,je=0,ht=0,St=!1;for(je=0;je<B;++je){for(var It=0;It<$e;It+=4)if(255!==Ee[ht+It]){St=!0;break}if(St)break;ht+=$e}for(e.ascent=B-je,ht=We-$e,St=!1,je=ae;je>B;--je){for(It=0;It<$e;It+=4)if(255!==Ee[ht+It]){St=!0;break}if(St)break;ht-=$e}return e.descent=je-B,e.fontSize=e.ascent+e.descent,u._fonts[o]=e,e},u.clearMetrics=function(o){void 0===o&&(o=""),o?delete u._fonts[o]:u._fonts={}},u}(),vu=function(){try{var u=new OffscreenCanvas(0,0),o=u.getContext("2d");return o&&o.measureText?u:document.createElement("canvas")}catch{return document.createElement("canvas")}}();vu.width=vu.height=10,Bs._canvas=vu,Bs._context=vu.getContext("2d"),Bs._fonts={},Bs.METRICS_STRING="|\xc9q\xc5",Bs.BASELINE_SYMBOL="M",Bs.BASELINE_MULTIPLIER=1.4,Bs._newlines=[10,13],Bs._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var mf={texture:!0,children:!1,baseTexture:!0},vl=function(u){function o(e,n,l){var S=this,C=!1;l||(l=document.createElement("canvas"),C=!0),l.width=3,l.height=3;var B=Ti.from(l);return B.orig=new Zi,B.trim=new Zi,(S=u.call(this,B)||this)._ownCanvas=C,S.canvas=l,S.context=S.canvas.getContext("2d"),S._resolution=pe.RESOLUTION,S._autoResolution=!0,S._text=null,S._style=null,S._styleListener=null,S._font="",S.text=e,S.style=n,S.localStyleID=-1,S}return function Rl(u,o){function e(){this.constructor=u}fu(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}(o,u),o.prototype.updateText=function(e){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),this.dirty||!e){this._font=this._style.toFontString();var l=this.context,S=Bs.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),B=S.height,ae=S.lines,Ee=S.lineHeight,We=S.lineWidths,$e=S.maxLineWidth,je=S.fontProperties;this.canvas.width=Math.ceil((Math.max(1,S.width)+2*n.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,B)+2*n.padding)*this._resolution),l.scale(this._resolution,this._resolution),l.clearRect(0,0,this.canvas.width,this.canvas.height),l.font=this._font,l.lineWidth=n.strokeThickness,l.textBaseline=n.textBaseline,l.lineJoin=n.lineJoin,l.miterLimit=n.miterLimit;for(var ht,St,It=n.dropShadow?2:1,rn=0;rn<It;++rn){var xn=n.dropShadow&&0===rn,Ai=xn?Math.ceil(Math.max(1,B)+2*n.padding):0,Gn=Ai*this._resolution;if(xn){l.fillStyle="black",l.strokeStyle="black";var sr=n.dropShadowColor,ti=Mr("number"==typeof sr?sr:Sn(sr)),Qn=n.dropShadowBlur*this._resolution,ao=n.dropShadowDistance*this._resolution;l.shadowColor="rgba("+255*ti[0]+","+255*ti[1]+","+255*ti[2]+","+n.dropShadowAlpha+")",l.shadowBlur=Qn,l.shadowOffsetX=Math.cos(n.dropShadowAngle)*ao,l.shadowOffsetY=Math.sin(n.dropShadowAngle)*ao+Gn}else l.fillStyle=this._generateFillStyle(n,ae,S),l.strokeStyle=n.stroke,l.shadowColor="black",l.shadowBlur=0,l.shadowOffsetX=0,l.shadowOffsetY=0;for(var po=0;po<ae.length;po++)ht=n.strokeThickness/2,St=n.strokeThickness/2+po*Ee+je.ascent,"right"===n.align?ht+=$e-We[po]:"center"===n.align&&(ht+=($e-We[po])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(ae[po],ht+n.padding,St+n.padding-Ai,!0),n.fill&&this.drawLetterSpacing(ae[po],ht+n.padding,St+n.padding-Ai)}this.updateTexture()}},o.prototype.drawLetterSpacing=function(e,n,l,S){void 0===S&&(S=!1);var B=this._style.letterSpacing;if(0!==B)for(var ae=n,Ee=Array.from?Array.from(e):e.split(""),We=this.context.measureText(e).width,$e=0,je=0;je<Ee.length;++je){var ht=Ee[je];S?this.context.strokeText(ht,ae,l):this.context.fillText(ht,ae,l),ae+=We-($e=this.context.measureText(e.substring(je+1)).width)+B,We=$e}else S?this.context.strokeText(e,n,l):this.context.fillText(e,n,l)},o.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var n=Ut(e);n.data&&(e.width=n.width,e.height=n.height,this.context.putImageData(n.data,0,0))}var l=this._texture,S=this._style,C=S.trim?0:S.padding,B=l.baseTexture;l.trim.width=l._frame.width=Math.ceil(e.width/this._resolution),l.trim.height=l._frame.height=Math.ceil(e.height/this._resolution),l.trim.x=-C,l.trim.y=-C,l.orig.width=l._frame.width-2*C,l.orig.height=l._frame.height-2*C,this._onTextureUpdate(),B.setRealSize(e.width,e.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},o.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),u.prototype._render.call(this,e)},o.prototype.getLocalBounds=function(e){return this.updateText(!0),u.prototype.getLocalBounds.call(this,e)},o.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},o.prototype._generateFillStyle=function(e,n,l){var S=e.fill;if(!Array.isArray(S))return S;if(1===S.length)return S[0];var C,B=e.dropShadow?e.dropShadowDistance:0,ae=e.padding||0,Ee=Math.ceil(this.canvas.width/this._resolution)-B-2*ae,We=Math.ceil(this.canvas.height/this._resolution)-B-2*ae,$e=S.slice(),je=e.fillGradientStops.slice();if(!je.length)for(var ht=$e.length+1,St=1;St<ht;++St)je.push(St/ht);if($e.unshift(S[0]),je.unshift(0),$e.push(S[S.length-1]),je.push(1),e.fillGradientType===Ma.LINEAR_VERTICAL){C=this.context.createLinearGradient(Ee/2,ae,Ee/2,We+ae);var It=0,xn=(l.fontProperties.fontSize+e.strokeThickness)/We;for(St=0;St<n.length;St++)for(var Ai=l.lineHeight*St,Gn=0;Gn<$e.length;Gn++){var Qn=Math.max(It,Ai/We+("number"==typeof je[Gn]?je[Gn]:Gn/$e.length)*xn);Qn=Math.min(Qn,1),C.addColorStop(Qn,$e[Gn]),It=Qn}}else{C=this.context.createLinearGradient(ae,We/2,Ee+ae,We/2);var ao=$e.length+1,po=1;for(St=0;St<$e.length;St++)C.addColorStop("number"==typeof je[St]?je[St]:po/ao,$e[St]),po++}return C},o.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},mf,e),u.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(o.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var n=bt(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var n=bt(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"style",{get:function(){return this._style},set:function(e){this._style=(e=e||{})instanceof el?e:new el(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"text",{get:function(){return this._text},set:function(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),o}(ks);pe.UPLOADS_PER_FRAME=4;var fc=function(u,o){return(fc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)},pd=function(){function u(o){this.maxItemsPerFrame=o,this.itemsLeft=0}return u.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},u.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},u}();function yf(u,o){var e=!1;if(u&&u._textures&&u._textures.length)for(var n=0;n<u._textures.length;n++)if(u._textures[n]instanceof Ti){var l=u._textures[n].baseTexture;-1===o.indexOf(l)&&(o.push(l),e=!0)}return e}function _f(u,o){if(u.baseTexture instanceof gi){var e=u.baseTexture;return-1===o.indexOf(e)&&o.push(e),!0}return!1}function gd(u,o){if(u._texture&&u._texture instanceof Ti){var e=u._texture.baseTexture;return-1===o.indexOf(e)&&o.push(e),!0}return!1}function pc(u,o){return o instanceof vl&&(o.updateText(!0),!0)}function yu(u,o){if(o instanceof el){var e=o.toFontString();return Bs.measureFont(e),!0}return!1}function gc(u,o){if(u instanceof vl){-1===o.indexOf(u.style)&&o.push(u.style),-1===o.indexOf(u)&&o.push(u);var e=u._texture.baseTexture;return-1===o.indexOf(e)&&o.push(e),!0}return!1}function mc(u,o){return u instanceof el&&(-1===o.indexOf(u)&&o.push(u),!0)}var _u=function(){function u(o){var e=this;this.limiter=new pd(pe.UPLOADS_PER_FRAME),this.renderer=o,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(gc),this.registerFindHook(mc),this.registerFindHook(yf),this.registerFindHook(_f),this.registerFindHook(gd),this.registerUploadHook(pc),this.registerUploadHook(yu)}return u.prototype.upload=function(o,e){"function"==typeof o&&(e=o,o=null),o&&this.add(o),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,fr.system.addOnce(this.tick,this,Ii.UTILITY))):e&&e()},u.prototype.tick=function(){setTimeout(this.delayedTick,0)},u.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var o=this.queue[0],e=!1;if(o&&!o._destroyed)for(var n=0,l=this.uploadHooks.length;n<l;n++)if(this.uploadHooks[n](this.uploadHookHelper,o)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)fr.system.addOnce(this.tick,this,Ii.UTILITY);else{this.ticking=!1;var S=this.completes.slice(0);for(this.completes.length=0,n=0,l=S.length;n<l;n++)S[n]()}},u.prototype.registerFindHook=function(o){return o&&this.addHooks.push(o),this},u.prototype.registerUploadHook=function(o){return o&&this.uploadHooks.push(o),this},u.prototype.add=function(o){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](o,this.queue);e++);if(o instanceof Qt)for(e=o.children.length-1;e>=0;e--)this.add(o.children[e]);return this},u.prototype.destroy=function(){this.ticking&&fr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},u}();function ea(u,o){return o instanceof gi&&(o._glTextures[u.CONTEXT_UID]||u.texture.bind(o),!0)}function md(u,o){if(!(o instanceof ja))return!1;var e=o.geometry;o.finishPoly(),e.updateBatches();for(var n=e.batches,l=0;l<n.length;l++){var S=n[l].style.texture;S&&ea(u,S.baseTexture)}return e.batchable||u.geometry.bind(e,o._resolveDirectShader(u)),!0}function vd(u,o){return u instanceof ja&&(o.push(u),!0)}var vc=function(u){function o(e){var n=u.call(this,e)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(vd),n.registerUploadHook(ea),n.registerUploadHook(md),n}return function vf(u,o){function e(){this.constructor=u}fc(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}(o,u),o}(_u),yc=function(){function u(o){this.maxMilliseconds=o,this.frameStart=0}return u.prototype.beginFrame=function(){this.frameStart=Date.now()},u.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},u}(),Ll=function(){function u(o,e,n){void 0===n&&(n=null),this._texture=o instanceof Ti?o:null,this.baseTexture=o instanceof gi?o:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var l=this.baseTexture.resource;this.resolution=this._updateResolution(n||(l?l.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return u.prototype._updateResolution=function(o){void 0===o&&(o=null);var e=this.data.meta.scale,n=Yn(o,null);return null===n&&(n=void 0!==e?parseFloat(e):1),1!==n&&this.baseTexture.setResolution(n),n},u.prototype.parse=function(o){this._batchIndex=0,this._callback=o,this._frameKeys.length<=u.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},u.prototype._processFrames=function(o){for(var e=o,n=u.BATCH_SIZE;e-o<n&&e<this._frameKeys.length;){var l=this._frameKeys[e],S=this._frames[l],C=S.frame;if(C){var B,ae=null,Ee=!1!==S.trimmed&&S.sourceSize?S.sourceSize:S.frame,We=new Zi(0,0,Math.floor(Ee.w)/this.resolution,Math.floor(Ee.h)/this.resolution);B=S.rotated?new Zi(Math.floor(C.x)/this.resolution,Math.floor(C.y)/this.resolution,Math.floor(C.h)/this.resolution,Math.floor(C.w)/this.resolution):new Zi(Math.floor(C.x)/this.resolution,Math.floor(C.y)/this.resolution,Math.floor(C.w)/this.resolution,Math.floor(C.h)/this.resolution),!1!==S.trimmed&&S.spriteSourceSize&&(ae=new Zi(Math.floor(S.spriteSourceSize.x)/this.resolution,Math.floor(S.spriteSourceSize.y)/this.resolution,Math.floor(C.w)/this.resolution,Math.floor(C.h)/this.resolution)),this.textures[l]=new Ti(this.baseTexture,B,We,ae,S.rotated?2:0,S.anchor),Ti.addToCache(this.textures[l],l)}e++}},u.prototype._processAnimations=function(){var o=this.data.animations||{};for(var e in o){this.animations[e]=[];for(var n=0;n<o[e].length;n++)this.animations[e].push(this.textures[o[e][n]])}},u.prototype._parseComplete=function(){var o=this._callback;this._callback=null,this._batchIndex=0,o.call(this,this.textures)},u.prototype._nextBatch=function(){var o=this;this._processFrames(this._batchIndex*u.BATCH_SIZE),this._batchIndex++,setTimeout(function(){o._batchIndex*u.BATCH_SIZE<o._frameKeys.length?o._nextBatch():(o._processAnimations(),o._parseComplete())},0)},u.prototype.destroy=function(o){var e;for(var n in void 0===o&&(o=!1),this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,o&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},u.BATCH_SIZE=1e3,u}(),_c=function(){function u(){}return u.use=function(o,e){var n=this,l=o.name+"_image";if(o.data&&o.type===xa.TYPE.JSON&&o.data.frames&&!n.resources[l]){var S={crossOrigin:o.crossOrigin,metadata:o.metadata.imageMetadata,parentResource:o},C=u.getResourcePath(o,n.baseUrl);n.add(l,C,S,function(ae){if(ae.error)e(ae.error);else{var Ee=new Ll(ae.texture,o.data,o.url);Ee.parse(function(){o.spritesheet=Ee,o.textures=Ee.textures,e()})}})}else e()},u.getResourcePath=function(o,e){return o.isDataUrl?o.data.meta.image:Ve.resolve(o.url.replace(e,""),o.data.meta.image)},u}(),bu=function(u,o){return(bu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)};function bc(u,o){function e(){this.constructor=u}bu(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}var tl=new hr,yd=function(u){function o(e,n,l){void 0===n&&(n=100),void 0===l&&(l=100);var S=u.call(this,e)||this;return S.tileTransform=new kr,S._width=n,S._height=l,S.uvMatrix=S.texture.uvMatrix||new es(e),S.pluginName="tilingSprite",S.uvRespectAnchor=!1,S}return bc(o,u),Object.defineProperty(o.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),o.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},o.prototype._render=function(e){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},o.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))},o.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Zi),e=this._localBoundsRect),this._bounds.getRectangle(e)):u.prototype.getLocalBounds.call(this,e)},o.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,tl);var n=this._width,l=this._height,S=-n*this.anchor._x;if(tl.x>=S&&tl.x<S+n){var C=-l*this.anchor._y;if(tl.y>=C&&tl.y<C+l)return!0}return!1},o.prototype.destroy=function(e){u.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},o.from=function(e,n){return"number"==typeof n&&(Vt("5.3.0","TilingSprite.from use options instead of width and height args"),n={width:n,height:arguments[2]}),new o(Ti.from(e,n),n.width,n.height)},Object.defineProperty(o.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),o}(ks),wc="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",Vs="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",wu="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",yl=new Ki,Fl=function(u){function o(e){var n=u.call(this,e)||this,l={globals:n.renderer.globalUniforms};return n.shader=as.from(wc,Vs,l),n.simpleShader=as.from(wc,wu,l),n.quad=new Ko,n.state=ms.for2d(),n}return bc(o,u),o.prototype.render=function(e){var n=this.renderer,l=this.quad,S=l.vertices;S[0]=S[6]=e._width*-e.anchor.x,S[1]=S[3]=e._height*-e.anchor.y,S[2]=S[4]=e._width*(1-e.anchor.x),S[5]=S[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&((S=l.uvs)[0]=S[6]=-e.anchor.x,S[1]=S[3]=-e.anchor.y,S[2]=S[4]=1-e.anchor.x,S[5]=S[7]=1-e.anchor.y),l.invalidate();var C=e._texture,B=C.baseTexture,ae=e.tileTransform.localTransform,Ee=e.uvMatrix,We=B.isPowerOfTwo&&C.frame.width===B.width&&C.frame.height===B.height;We&&(B._glTextures[n.CONTEXT_UID]?We=B.wrapMode!==on.CLAMP:B.wrapMode===on.CLAMP&&(B.wrapMode=on.REPEAT));var $e=We?this.simpleShader:this.shader,je=C.width,ht=C.height,St=e._width,It=e._height;yl.set(ae.a*je/St,ae.b*je/It,ae.c*ht/St,ae.d*ht/It,ae.tx/St,ae.ty/It),yl.invert(),We?yl.prepend(Ee.mapCoord):($e.uniforms.uMapCoord=Ee.mapCoord.toArray(!0),$e.uniforms.uClampFrame=Ee.uClampFrame,$e.uniforms.uClampOffset=Ee.uClampOffset),$e.uniforms.uTransform=yl.toArray(!0),$e.uniforms.uColor=At(e.tint,e.worldAlpha,$e.uniforms.uColor,B.alphaMode),$e.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),$e.uniforms.uSampler=C,n.shader.bind($e),n.geometry.bind(l),this.state.blendMode=nt(e.blendMode,B.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},o}(Pe),ws=function(u,o){return(ws=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)};function Ga(u,o){function e(){this.constructor=u}ws(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}var Eu=function(){function u(o,e){this.uvBuffer=o,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return u.prototype.update=function(o){if(o||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},u}(),Nl=new hr,Ec=new go,Wa=function(u){function o(e,n,l,S){void 0===S&&(S=mt.TRIANGLES);var C=u.call(this)||this;return C.geometry=e,e.refCount++,C.shader=n,C.state=l||ms.for2d(),C.drawMode=S,C.start=0,C.size=0,C.uvs=null,C.indices=null,C.vertexData=new Float32Array(1),C.vertexDirty=0,C._transformID=-1,C._roundPixels=pe.ROUND_PIXELS,C.batchUvs=null,C}return Ga(o,u),Object.defineProperty(o.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return this.shader.tint},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),o.prototype._render=function(e){this.shader.batchable&&this.drawMode===mt.TRIANGLES&&this.geometry.buffers[0].data.length<2*o.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},o.prototype._renderDefault=function(e){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),e.batch.flush(),n.program.uniformData.translationMatrix&&(n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),e.shader.bind(n),e.state.set(this.state),e.geometry.bind(this.geometry,n),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},o.prototype._renderToBatch=function(e){var n=this.geometry;this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=this.shader._tintRGB,this._texture=this.shader.texture;var l=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[l]),e.plugins[l].render(this)},o.prototype.calculateVertices=function(){var e=this.geometry,n=e.buffers[0].data;if(e.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==n.length&&(this.vertexData=new Float32Array(n.length));for(var l=this.transform.worldTransform,S=l.a,C=l.b,B=l.c,ae=l.d,Ee=l.tx,We=l.ty,$e=this.vertexData,je=0;je<$e.length/2;je++){var ht=n[2*je],St=n[2*je+1];$e[2*je]=S*ht+B*St+Ee,$e[2*je+1]=C*ht+ae*St+We}if(this._roundPixels){var It=pe.RESOLUTION;for(je=0;je<$e.length;++je)$e[je]=Math.round(($e[je]*It|0)/It)}this.vertexDirty=e.vertexDirtyId}},o.prototype.calculateUvs=function(){var e=this.geometry.buffers[1];this.shader.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new Eu(e,this.shader.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},o.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},o.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Nl);for(var n=this.geometry.getBuffer("aVertexPosition").data,l=Ec.points,S=this.geometry.getIndex().data,C=S.length,B=4===this.drawMode?3:1,ae=0;ae+2<C;ae+=B){var Ee=2*S[ae],We=2*S[ae+1],$e=2*S[ae+2];if(l[0]=n[Ee],l[1]=n[Ee+1],l[2]=n[We],l[3]=n[We+1],l[4]=n[$e],l[5]=n[$e+1],Ec.contains(Nl.x,Nl.y))return!0}return!1},o.prototype.destroy=function(e){u.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},o.BATCHABLE_SIZE=100,o}(Qt),_d="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",Sc="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",_l=function(u){function o(e,n){var l=this,S={uSampler:e,alpha:1,uTextureMatrix:Ki.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n)).uniforms&&Object.assign(S,n.uniforms),(l=u.call(this,n.program||Jo.from(Sc,_d),S)||this)._colorDirty=!1,l.uvMatrix=new es(e),l.batchable=void 0===n.program,l.pluginName=n.pluginName,l.tint=n.tint,l.alpha=n.alpha,l}return Ga(o,u),Object.defineProperty(o.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),o.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,At(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},o}(as),nl=function(u){function o(e,n,l){var S=u.call(this)||this,C=new Pr(e),B=new Pr(n,!0),ae=new Pr(l,!0,!0);return S.addAttribute("aVertexPosition",C,2,!1,cn.FLOAT).addAttribute("aTextureCoord",B,2,!1,cn.FLOAT).addIndex(ae),S._updateId=-1,S}return Ga(o,u),Object.defineProperty(o.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),o}($o),Su=function(u,o){return(Su=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)},Ya=function u(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},Cu=function(){function u(){}return u.test=function(o){return"string"==typeof o&&0===o.indexOf("info face=")},u.parse=function(o){var e=o.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var l in e){var S=e[l].match(/^[a-z]+/gm)[0],C=e[l].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),B={};for(var ae in C){var Ee=C[ae].split("="),We=Ee[0],$e=Ee[1].replace(/"/gm,""),je=parseFloat($e),ht=isNaN(je)?$e:je;B[We]=ht}n[S].push(B)}var St=new Ya;return n.info.forEach(function(It){return St.info.push({face:It.face,size:parseInt(It.size,10)})}),n.common.forEach(function(It){return St.common.push({lineHeight:parseInt(It.lineHeight,10)})}),n.page.forEach(function(It){return St.page.push({id:parseInt(It.id,10),file:It.file})}),n.char.forEach(function(It){return St.char.push({id:parseInt(It.id,10),page:parseInt(It.page,10),x:parseInt(It.x,10),y:parseInt(It.y,10),width:parseInt(It.width,10),height:parseInt(It.height,10),xoffset:parseInt(It.xoffset,10),yoffset:parseInt(It.yoffset,10),xadvance:parseInt(It.xadvance,10)})}),n.kerning.forEach(function(It){return St.kerning.push({first:parseInt(It.first,10),second:parseInt(It.second,10),amount:parseInt(It.amount,10)})}),St},u}(),Du=function(){function u(){}return u.test=function(o){return o instanceof XMLDocument&&o.getElementsByTagName("page").length&&null!==o.getElementsByTagName("info")[0].getAttribute("face")},u.parse=function(o){for(var e=new Ya,n=o.getElementsByTagName("info"),l=o.getElementsByTagName("common"),S=o.getElementsByTagName("page"),C=o.getElementsByTagName("char"),B=o.getElementsByTagName("kerning"),ae=0;ae<n.length;ae++)e.info.push({face:n[ae].getAttribute("face"),size:parseInt(n[ae].getAttribute("size"),10)});for(ae=0;ae<l.length;ae++)e.common.push({lineHeight:parseInt(l[ae].getAttribute("lineHeight"),10)});for(ae=0;ae<S.length;ae++)e.page.push({id:parseInt(S[ae].getAttribute("id"),10)||0,file:S[ae].getAttribute("file")});for(ae=0;ae<C.length;ae++){var Ee=C[ae];e.char.push({id:parseInt(Ee.getAttribute("id"),10),page:parseInt(Ee.getAttribute("page"),10)||0,x:parseInt(Ee.getAttribute("x"),10),y:parseInt(Ee.getAttribute("y"),10),width:parseInt(Ee.getAttribute("width"),10),height:parseInt(Ee.getAttribute("height"),10),xoffset:parseInt(Ee.getAttribute("xoffset"),10),yoffset:parseInt(Ee.getAttribute("yoffset"),10),xadvance:parseInt(Ee.getAttribute("xadvance"),10)})}for(ae=0;ae<B.length;ae++)e.kerning.push({first:parseInt(B[ae].getAttribute("first"),10),second:parseInt(B[ae].getAttribute("second"),10),amount:parseInt(B[ae].getAttribute("amount"),10)});return e},u}(),bl=function(){function u(){}return u.test=function(o){if("string"==typeof o&&o.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(o,"text/xml");return Du.test(e)}return!1},u.parse=function(o){var e=(new window.DOMParser).parseFromString(o,"text/xml");return Du.parse(e)},u}(),Tu=[Cu,Du,bl];function Cc(u){for(var o=0;o<Tu.length;o++)if(Tu[o].test(u))return Tu[o];return null}function Pu(u,o,e,n,l,S,C){var B=e.text,ae=e.fontProperties;o.translate(n,l),o.scale(S,S);var Ee=C.strokeThickness/2,We=-C.strokeThickness/2;if(o.font=C.toFontString(),o.lineWidth=C.strokeThickness,o.textBaseline=C.textBaseline,o.lineJoin=C.lineJoin,o.miterLimit=C.miterLimit,o.fillStyle=function xu(u,o,e,n,l,S){var C=e.fill;if(!Array.isArray(C))return C;if(1===C.length)return C[0];var B,ae=e.dropShadow?e.dropShadowDistance:0,Ee=e.padding||0,We=Math.ceil(u.width/n)-ae-2*Ee,$e=Math.ceil(u.height/n)-ae-2*Ee,je=C.slice(),ht=e.fillGradientStops.slice();if(!ht.length)for(var St=je.length+1,It=1;It<St;++It)ht.push(It/St);if(je.unshift(C[0]),ht.unshift(0),je.push(C[C.length-1]),ht.push(1),e.fillGradientType===Ma.LINEAR_VERTICAL){B=o.createLinearGradient(We/2,Ee,We/2,$e+Ee);var rn=0,Ai=(S.fontProperties.fontSize+e.strokeThickness)/$e;for(It=0;It<l.length;It++)for(var Gn=S.lineHeight*It,sr=0;sr<je.length;sr++){var ao=Math.max(rn,Gn/$e+("number"==typeof ht[sr]?ht[sr]:sr/je.length)*Ai);ao=Math.min(ao,1),B.addColorStop(ao,je[sr]),rn=ao}}else{B=o.createLinearGradient(Ee,$e/2,We+Ee,$e/2);var po=je.length+1,Ji=1;for(It=0;It<je.length;It++)B.addColorStop("number"==typeof ht[It]?ht[It]:Ji/po,je[It]),Ji++}return B}(u,o,C,S,[B],e),o.strokeStyle=C.stroke,C.dropShadow){var $e=C.dropShadowColor,je=Mr("number"==typeof $e?$e:Sn($e)),ht=C.dropShadowBlur*S,St=C.dropShadowDistance*S;o.shadowColor="rgba("+255*je[0]+","+255*je[1]+","+255*je[2]+","+C.dropShadowAlpha+")",o.shadowBlur=ht,o.shadowOffsetX=Math.cos(C.dropShadowAngle)*St,o.shadowOffsetY=Math.sin(C.dropShadowAngle)*St}else o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;C.stroke&&C.strokeThickness&&o.strokeText(B,Ee,We+e.lineHeight-ae.descent),C.fill&&o.fillText(B,Ee,We+e.lineHeight-ae.descent),o.setTransform(1,0,0,1,0,0),o.fillStyle="rgba(0, 0, 0, 0)"}var zs=function(){function u(o,e,n){var l=o.info[0],S=o.common[0],B=Yn(o.page[0].file),ae={};this._ownsTextures=n,this.font=l.face,this.size=l.size,this.lineHeight=S.lineHeight/B,this.chars={},this.pageTextures=ae;for(var Ee=0;Ee<o.page.length;Ee++){var We=o.page[Ee];ae[$e=We.id]=e instanceof Array?e[Ee]:e[We.file]}for(Ee=0;Ee<o.char.length;Ee++){var ht=o.char[Ee],$e=ht.id,St=ht.page,It=o.char[Ee],rn=It.x,xn=It.y,Ai=It.width,Gn=It.height,sr=It.xoffset,ti=It.yoffset,Qn=It.xadvance;sr/=B,ti/=B,Qn/=B;var ao=new Zi((rn/=B)+ae[St].frame.x/B,(xn/=B)+ae[St].frame.y/B,Ai/=B,Gn/=B);this.chars[$e]={xOffset:sr,yOffset:ti,xAdvance:Qn,kerning:{},texture:new Ti(ae[St].baseTexture,ao),page:St}}for(Ee=0;Ee<o.kerning.length;Ee++){var po=o.kerning[Ee],Ji=po.first,dr=po.second,Ro=po.amount;Ji/=B,Ro/=B,this.chars[dr/=B]&&(this.chars[dr].kerning[Ji]=Ro)}}return u.prototype.destroy=function(){for(var o in this.chars)this.chars[o].texture.destroy(),this.chars[o].texture=null;for(var o in this.pageTextures)this._ownsTextures&&this.pageTextures[o].destroy(!0),this.pageTextures[o]=null;this.chars=null,this.pageTextures=null},u.install=function(o,e,n){var l;if(o instanceof Ya)l=o;else{var S=Cc(o);if(!S)throw new Error("Unrecognized data format for font.");l=S.parse(o)}e instanceof Ti&&(e=[e]);var C=new u(l,e,n);return u.available[C.font]=C,C},u.uninstall=function(o){var e=u.available[o];if(!e)throw new Error("No font found named '"+o+"'");e.destroy(),delete u.available[o]},u.from=function(o,e,n){if(!o)throw new Error("[BitmapFont] Property `name` is required.");var l=Object.assign({},u.defaultOptions,n),C=l.padding,B=l.resolution,ae=l.textureWidth,Ee=l.textureHeight,We=function Dc(u){"string"==typeof u&&(u=[u]);for(var o=[],e=0,n=u.length;e<n;e++){var l=u[e];if(Array.isArray(l)){if(2!==l.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+l.length+".");var S=l[0].charCodeAt(0),C=l[1].charCodeAt(0);if(C<S)throw new Error("[BitmapFont]: Invalid character range.");for(var B=S,ae=C;B<=ae;B++)o.push(String.fromCharCode(B))}else o.push.apply(o,l.split(""))}if(0===o.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return o}(l.chars),$e=e instanceof el?e:new el(e),je=ae,ht=new Ya;ht.info[0]={face:$e.fontFamily,size:$e.fontSize},ht.common[0]={lineHeight:$e.fontSize};for(var rn,xn,Ai,St=0,It=0,Gn=0,sr=[],ti=0;ti<We.length;ti++){rn||((rn=document.createElement("canvas")).width=ae,rn.height=Ee,xn=rn.getContext("2d"),Ai=new gi(rn,{resolution:B}),sr.push(new Ti(Ai)),ht.page.push({id:sr.length-1,file:""}));var Qn=Bs.measureText(We[ti],$e,!1,rn),ao=Qn.width,po=Math.ceil(Qn.height),Ji=Math.ceil(("italic"===$e.fontStyle?2:1)*ao);if(It>=Ee-po*B){if(0===It)throw new Error("[BitmapFont] textureHeight "+Ee+"px is too small for "+$e.fontSize+"px fonts");--ti,rn=null,xn=null,Ai=null,It=0,St=0,Gn=0}else if(Gn=Math.max(po+Qn.fontProperties.descent,Gn),Ji*B+St>=je)--ti,It+=Gn*B,It=Math.ceil(It),St=0,Gn=0;else{Pu(rn,xn,Qn,St,It,B,$e);var dr=Qn.text.charCodeAt(0);ht.char.push({id:dr,page:sr.length-1,x:St/B,y:It/B,width:Ji,height:po,xoffset:0,yoffset:0,xadvance:Math.ceil(ao-($e.dropShadow?$e.dropShadowDistance:0)-($e.stroke?$e.strokeThickness:0))}),St+=(Ji+2*C)*B,St=Math.ceil(St)}}var Ro=new u(ht,sr,!0);return void 0!==u.available[o]&&u.uninstall(o),u.available[o]=Ro,Ro},u.ALPHA=[["a","z"],["A","Z"]," "],u.NUMERIC=[["0","9"]],u.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],u.ASCII=[[" ","~"]],u.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:u.ALPHANUMERIC},u.available={},u}(),kl=[],Mu=[],wd=function(u){function o(e,n){void 0===n&&(n={});var l=u.call(this)||this;l._tint=16777215,n.font&&(Vt("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),l._upgradeStyle(n));var S=Object.assign({},o.styleDefaults,n),C=S.align,B=S.tint,ae=S.maxWidth,Ee=S.letterSpacing,We=S.fontName,$e=S.fontSize;if(!zs.available[We])throw new Error('Missing BitmapFont "'+We+'"');return l._activePagesMeshData=[],l._textWidth=0,l._textHeight=0,l._align=C,l._tint=B,l._fontName=We,l._fontSize=$e||zs.available[We].size,l._text=e,l._maxWidth=ae,l._maxLineHeight=0,l._letterSpacing=Ee,l._anchor=new Nr(function(){l.dirty=!0},l,0,0),l._roundPixels=pe.ROUND_PIXELS,l.dirty=!0,l._textureCache={},l}return function bd(u,o){function e(){this.constructor=u}Su(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}(o,u),o.prototype.updateText=function(){for(var e,n=zs.available[this._fontName],l=this._fontSize/n.size,S=new hr,C=[],B=[],ae=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",Ee=ae.length,We=this._maxWidth*n.size/this._fontSize,$e=null,je=0,ht=0,St=0,It=-1,rn=0,xn=0,Ai=0,Gn=0;Gn<Ee;Gn++){var sr=ae.charCodeAt(Gn),ti=ae.charAt(Gn);if(/(?:\s)/.test(ti)&&(It=Gn,rn=je),"\r"!==ti&&"\n"!==ti){var Qn=n.chars[sr];if(Qn){$e&&Qn.kerning[$e]&&(S.x+=Qn.kerning[$e]);var ao=Mu.pop()||{texture:Ti.EMPTY,line:0,charCode:0,position:new hr};ao.texture=Qn.texture,ao.line=St,ao.charCode=sr,ao.position.x=S.x+Qn.xOffset+this._letterSpacing/2,ao.position.y=S.y+Qn.yOffset,C.push(ao),S.x+=Qn.xAdvance+this._letterSpacing,je=S.x,Ai=Math.max(Ai,Qn.yOffset+Qn.texture.height),$e=sr,-1!==It&&We>0&&S.x>We&&(Zt(C,1+It-++xn,1+Gn-It),Gn=It,It=-1,B.push(rn),ht=Math.max(ht,rn),St++,S.x=0,S.y+=n.lineHeight,$e=null)}}else B.push(je),ht=Math.max(ht,je),++St,++xn,S.x=0,S.y+=n.lineHeight,$e=null}var po=ae.charAt(ae.length-1);"\r"!==po&&"\n"!==po&&(/(?:\s)/.test(po)&&(je=rn),B.push(je),ht=Math.max(ht,je));var Ji=[];for(Gn=0;Gn<=St;Gn++){var dr=0;"right"===this._align?dr=ht-B[Gn]:"center"===this._align&&(dr=(ht-B[Gn])/2),Ji.push(dr)}var Ro=C.length,Vo={},wo=[],ga=this._activePagesMeshData;for(Gn=0;Gn<ga.length;Gn++)kl.push(ga[Gn]);for(Gn=0;Gn<Ro;Gn++){var jr=($r=C[Gn].texture).baseTexture.uid;if(!Vo[jr]){if(!(ur=kl.pop())){var sl=new nl,al=new _l(Ti.EMPTY);ur={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new Wa(sl,al),vertices:null,uvs:null,indices:null}}ur.index=0,ur.indexCount=0,ur.vertexCount=0,ur.uvsCount=0,ur.total=0;var Oa=this._textureCache;Oa[jr]=Oa[jr]||new Ti($r.baseTexture),ur.mesh.texture=Oa[jr],ur.mesh.tint=this._tint,wo.push(ur),Vo[jr]=ur}Vo[jr].total++}for(Gn=0;Gn<ga.length;Gn++)-1===wo.indexOf(ga[Gn])&&this.removeChild(ga[Gn].mesh);for(Gn=0;Gn<wo.length;Gn++)wo[Gn].mesh.parent!==this&&this.addChild(wo[Gn].mesh);for(var Gn in this._activePagesMeshData=wo,Vo){var ta=(ur=Vo[Gn]).total;if(!((null===(e=ur.indices)||void 0===e?void 0:e.length)>6*ta)||ur.vertices.length<2*Wa.BATCHABLE_SIZE)ur.vertices=new Float32Array(8*ta),ur.uvs=new Float32Array(8*ta),ur.indices=new Uint16Array(6*ta);else for(var $l=ur.vertices,ua=4*ur.total*2;ua<$l.length;ua++)$l[ua]=0;ur.mesh.size=6*ta}for(Gn=0;Gn<Ro;Gn++){var ca=(ti=C[Gn]).position.x+Ji[ti.line];this._roundPixels&&(ca=Math.round(ca));var $r,da=ca*l,ma=ti.position.y*l,No=Vo[($r=ti.texture).baseTexture.uid],Xs=$r.frame,Ps=$r._uvs,Eo=No.index++;No.indices[6*Eo+0]=0+4*Eo,No.indices[6*Eo+1]=1+4*Eo,No.indices[6*Eo+2]=2+4*Eo,No.indices[6*Eo+3]=0+4*Eo,No.indices[6*Eo+4]=2+4*Eo,No.indices[6*Eo+5]=3+4*Eo,No.vertices[8*Eo+0]=da,No.vertices[8*Eo+1]=ma,No.vertices[8*Eo+2]=da+Xs.width*l,No.vertices[8*Eo+3]=ma,No.vertices[8*Eo+4]=da+Xs.width*l,No.vertices[8*Eo+5]=ma+Xs.height*l,No.vertices[8*Eo+6]=da,No.vertices[8*Eo+7]=ma+Xs.height*l,No.uvs[8*Eo+0]=Ps.x0,No.uvs[8*Eo+1]=Ps.y0,No.uvs[8*Eo+2]=Ps.x1,No.uvs[8*Eo+3]=Ps.y1,No.uvs[8*Eo+4]=Ps.x2,No.uvs[8*Eo+5]=Ps.y2,No.uvs[8*Eo+6]=Ps.x3,No.uvs[8*Eo+7]=Ps.y3}for(var Gn in this._textWidth=ht*l,this._textHeight=(S.y+n.lineHeight)*l,Vo){var ur=Vo[Gn];if(0!==this.anchor.x||0!==this.anchor.y)for(var na=0,va=this._textWidth*this.anchor.x,Sl=this._textHeight*this.anchor.y,cl=0;cl<ur.total;cl++)ur.vertices[na++]-=va,ur.vertices[na++]-=Sl,ur.vertices[na++]-=va,ur.vertices[na++]-=Sl,ur.vertices[na++]-=va,ur.vertices[na++]-=Sl,ur.vertices[na++]-=va,ur.vertices[na++]-=Sl;this._maxLineHeight=Ai*l;var Gl=ur.mesh.geometry.getBuffer("aVertexPosition"),dl=ur.mesh.geometry.getBuffer("aTextureCoord"),Yu=ur.mesh.geometry.getIndex();Gl.data=ur.vertices,dl.data=ur.uvs,Yu.data=ur.indices,Gl.update(),dl.update(),Yu.update()}for(Gn=0;Gn<C.length;Gn++)Mu.push(C[Gn])},o.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},o.prototype.getLocalBounds=function(){return this.validate(),u.prototype.getLocalBounds.call(this)},o.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(o.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!zs.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"text",{get:function(){return this._text},set:function(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),o.prototype._upgradeStyle=function(e){if("string"==typeof e.font){var n=e.font.split(" ");e.fontName=1===n.length?n[0]:n.slice(1).join(" "),n.length>=2&&(e.fontSize=parseInt(n[0],10))}else e.fontName=e.font.name,e.fontSize="number"==typeof e.font.size?e.font.size:parseInt(e.font.size,10)},o.prototype.destroy=function(e){var n=this._textureCache;for(var l in n)n[l].destroy(),delete n[l];this._textureCache=null,u.prototype.destroy.call(this,e)},o.registerFont=function(e,n){return Vt("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),zs.install(e,n)},Object.defineProperty(o,"fonts",{get:function(){return Vt("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),zs.available},enumerable:!1,configurable:!0}),o.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},o}(Qt),Bl=function(){function u(){}return u.add=function(){xa.setExtensionXhrType("fnt",xa.XHR_RESPONSE_TYPE.TEXT)},u.use=function(o,e){var n=Cc(o.data);if(n)for(var l=u.getBaseUrl(this,o),S=n.parse(o.data),C={},B=function(It){C[It.metadata.pageFile]=It.texture,Object.keys(C).length===S.page.length&&(o.bitmapFont=zs.install(S,C,!0),e())},ae=0;ae<S.page.length;++ae){var Ee=S.page[ae].file,We=l+Ee,$e=!1;for(var je in this.resources){var ht=this.resources[je];if(ht.url===We){ht.metadata.pageFile=Ee,ht.texture?B(ht):ht.onAfterMiddleware.add(B),$e=!0;break}}if(!$e){var St={crossOrigin:o.crossOrigin,loadType:xa.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:Ee},o.metadata.imageMetadata),parentResource:o};this.add(We,St,B)}}else e()},u.getBaseUrl=function(o,e){var n=e.isDataUrl?"":u.dirname(e.url);return e.isDataUrl&&("."===n&&(n=""),o.baseUrl&&n&&"/"===o.baseUrl.charAt(o.baseUrl.length-1)&&(n+="/")),(n=n.replace(o.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/"),n},u.dirname=function(o){var e=o.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===o?".":""===e?"/":e},u}(),Iu=function(u,o){return(Iu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)},Sd="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",Cd=function(u){function o(e){void 0===e&&(e=1);var n=u.call(this,be,Sd,{uAlpha:1})||this;return n.alpha=e,n}return function Ed(u,o){function e(){this.constructor=u}Iu(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}(o,u),Object.defineProperty(o.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),o}(Qo),Au=function(u,o){return(Au=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)};function Tc(u,o){function e(){this.constructor=u}Au(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}var xc="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",Pc={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Ru=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),Xa=(()=>{return(u=Xa||(Xa={}))[u.NO=0]="NO",u[u.YES=1]="YES",u[u.AUTO=2]="AUTO",u[u.BLEND=0]="BLEND",u[u.CLEAR=1]="CLEAR",u[u.BLIT=2]="BLIT",Xa;var u})(),Vl=function(u){function o(e,n,l,S,C){void 0===n&&(n=8),void 0===l&&(l=4),void 0===S&&(S=pe.FILTER_RESOLUTION),void 0===C&&(C=5);var B=this,ae=function Ou(u,o){var S,e=Math.ceil(u/2),n=xc,l="";S=o?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var C=0;C<u;C++){var B=S.replace("%index%",C.toString());l+=B=B.replace("%sampleIndex%",C-(e-1)+".0"),l+="\n"}return(n=n.replace("%blur%",l)).replace("%size%",u.toString())}(C,e),Ee=function Dd(u){for(var C,o=Pc[u],e=o.length,n=Ru,l="",B=0;B<u;B++){var ae="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",B.toString());C=B,B>=e&&(C=u-B-1),l+=ae=ae.replace("%value%",o[C].toString()),l+="\n"}return(n=n.replace("%blur%",l)).replace("%size%",u.toString())}(C);return(B=u.call(this,ae,Ee)||this).horizontal=e,B.resolution=S,B._quality=0,B.quality=l,B.blur=n,B}return Tc(o,u),o.prototype.apply=function(e,n,l,S){if(this.uniforms.strength=l?this.horizontal?1/l.width*(l.width/n.width):1/l.height*(l.height/n.height):this.horizontal?1/e.renderer.width*(e.renderer.width/n.width):1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,n,l,S);else{var C=e.getFilterTexture(),B=e.renderer,ae=n,Ee=C;this.state.blend=!1,e.applyFilter(this,ae,Ee,Xa.CLEAR);for(var We=1;We<this.passes-1;We++){e.bindAndClear(ae,Xa.BLIT),this.uniforms.uSampler=Ee;var $e=Ee;Ee=ae,ae=$e,B.shader.bind(this),B.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,Ee,l,S),e.returnFilterTexture(C)}},Object.defineProperty(o.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),o}(Qo),ku=function(u){function o(e,n,l,S){void 0===e&&(e=8),void 0===n&&(n=4),void 0===l&&(l=pe.FILTER_RESOLUTION),void 0===S&&(S=5);var C=u.call(this)||this;return C.blurXFilter=new Vl(!0,e,n,l,S),C.blurYFilter=new Vl(!1,e,n,l,S),C.resolution=l,C.quality=n,C.blur=e,C.repeatEdgePixels=!1,C}return Tc(o,u),o.prototype.apply=function(e,n,l,S){var C=Math.abs(this.blurXFilter.strength),B=Math.abs(this.blurYFilter.strength);if(C&&B){var ae=e.getFilterTexture();this.blurXFilter.apply(e,n,ae,Xa.CLEAR),this.blurYFilter.apply(e,ae,l,S),e.returnFilterTexture(ae)}else B?this.blurYFilter.apply(e,n,l,S):this.blurXFilter.apply(e,n,l,S)},o.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(o.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),o}(Qo),wl=function(u,o){return(wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)},El="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",Vu=function(u){function o(){var e=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=u.call(this,qe,El,n)||this).alpha=1,e}return function Bu(u,o){function e(){this.constructor=u}wl(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}(o,u),o.prototype._loadMatrix=function(e,n){void 0===n&&(n=!1);var l=e;n&&(this._multiply(l,this.uniforms.m,e),l=this._colorMatrix(l)),this.uniforms.m=l},o.prototype._multiply=function(e,n,l){return e[0]=n[0]*l[0]+n[1]*l[5]+n[2]*l[10]+n[3]*l[15],e[1]=n[0]*l[1]+n[1]*l[6]+n[2]*l[11]+n[3]*l[16],e[2]=n[0]*l[2]+n[1]*l[7]+n[2]*l[12]+n[3]*l[17],e[3]=n[0]*l[3]+n[1]*l[8]+n[2]*l[13]+n[3]*l[18],e[4]=n[0]*l[4]+n[1]*l[9]+n[2]*l[14]+n[3]*l[19]+n[4],e[5]=n[5]*l[0]+n[6]*l[5]+n[7]*l[10]+n[8]*l[15],e[6]=n[5]*l[1]+n[6]*l[6]+n[7]*l[11]+n[8]*l[16],e[7]=n[5]*l[2]+n[6]*l[7]+n[7]*l[12]+n[8]*l[17],e[8]=n[5]*l[3]+n[6]*l[8]+n[7]*l[13]+n[8]*l[18],e[9]=n[5]*l[4]+n[6]*l[9]+n[7]*l[14]+n[8]*l[19]+n[9],e[10]=n[10]*l[0]+n[11]*l[5]+n[12]*l[10]+n[13]*l[15],e[11]=n[10]*l[1]+n[11]*l[6]+n[12]*l[11]+n[13]*l[16],e[12]=n[10]*l[2]+n[11]*l[7]+n[12]*l[12]+n[13]*l[17],e[13]=n[10]*l[3]+n[11]*l[8]+n[12]*l[13]+n[13]*l[18],e[14]=n[10]*l[4]+n[11]*l[9]+n[12]*l[14]+n[13]*l[19]+n[14],e[15]=n[15]*l[0]+n[16]*l[5]+n[17]*l[10]+n[18]*l[15],e[16]=n[15]*l[1]+n[16]*l[6]+n[17]*l[11]+n[18]*l[16],e[17]=n[15]*l[2]+n[16]*l[7]+n[17]*l[12]+n[18]*l[17],e[18]=n[15]*l[3]+n[16]*l[8]+n[17]*l[13]+n[18]*l[18],e[19]=n[15]*l[4]+n[16]*l[9]+n[17]*l[14]+n[18]*l[19]+n[19],e},o.prototype._colorMatrix=function(e){var n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},o.prototype.brightness=function(e,n){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],n)},o.prototype.greyscale=function(e,n){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],n)},o.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},o.prototype.hue=function(e,n){e=(e||0)/180*Math.PI;var l=Math.cos(e),S=Math.sin(e),B=1/3,ae=(0,Math.sqrt)(B);this._loadMatrix([l+(1-l)*B,B*(1-l)-ae*S,B*(1-l)+ae*S,0,0,B*(1-l)+ae*S,l+B*(1-l),B*(1-l)-ae*S,0,0,B*(1-l)-ae*S,B*(1-l)+ae*S,l+B*(1-l),0,0,0,0,0,1,0],n)},o.prototype.contrast=function(e,n){var l=(e||0)+1,S=-.5*(l-1);this._loadMatrix([l,0,0,0,S,0,l,0,0,S,0,0,l,0,S,0,0,0,1,0],n)},o.prototype.saturate=function(e,n){void 0===e&&(e=0);var l=2*e/3+1,S=-.5*(l-1);this._loadMatrix([l,S,S,0,0,S,l,S,0,0,S,S,l,0,0,0,0,0,1,0],n)},o.prototype.desaturate=function(){this.saturate(-1)},o.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},o.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},o.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},o.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},o.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},o.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},o.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},o.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},o.prototype.colorTone=function(e,n,l,S,C){var B=((l=l||16770432)>>16&255)/255,ae=(l>>8&255)/255,Ee=(255&l)/255,We=((S=S||3375104)>>16&255)/255,$e=(S>>8&255)/255,je=(255&S)/255;this._loadMatrix([.3,.59,.11,0,0,B,ae,Ee,e=e||.2,0,We,$e,je,n=n||.15,0,B-We,ae-$e,Ee-je,0,0],C)},o.prototype.night=function(e,n){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],n)},o.prototype.predator=function(e,n){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],n)},o.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},o.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(o.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),o}(Qo);Vu.prototype.grayscale=Vu.prototype.greyscale;var Ul=function(u,o){return(Ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)},Ld="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",Fd="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n",Ic=function(u){function o(e,n){var l=this,S=new Ki;return e.renderable=!1,(l=u.call(this,Fd,Ld,{mapSampler:e._texture,filterMatrix:S,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,l.maskMatrix=S,null==n&&(n=20),l.scale=new hr(n,n),l}return function Rd(u,o){function e(){this.constructor=u}Ul(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}(o,u),o.prototype.apply=function(e,n,l,S){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var C=this.maskSprite.worldTransform,B=Math.sqrt(C.a*C.a+C.b*C.b),ae=Math.sqrt(C.c*C.c+C.d*C.d);0!==B&&0!==ae&&(this.uniforms.rotation[0]=C.a/B,this.uniforms.rotation[1]=C.b/B,this.uniforms.rotation[2]=C.c/ae,this.uniforms.rotation[3]=C.d/ae),e.applyFilter(this,n,l,S)},Object.defineProperty(o.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),o}(Qo),Hl=function(u,o){return(Hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)},Uu="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",rl='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n',Nd=function(u){function o(){return u.call(this,Uu,rl)||this}return function jl(u,o){function e(){this.constructor=u}Hl(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}(o,u),o}(Qo),Hu=function(u,o){return(Hu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)},kd="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",ju=function(u){function o(e,n){void 0===e&&(e=.5),void 0===n&&(n=Math.random());var l=u.call(this,qe,kd,{uNoise:0,uSeed:0})||this;return l.noise=e,l.seed=n,l}return function Sf(u,o){function e(){this.constructor=u}Hu(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}(o,u),Object.defineProperty(o.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),o}(Qo),Ac=new Ki;Je.prototype._cacheAsBitmap=!1,Je.prototype._cacheData=null;var Oc=function u(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Je.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(u){var o;this._cacheAsBitmap!==u&&(this._cacheAsBitmap=u,u?(this._cacheData||(this._cacheData=new Oc),(o=this._cacheData).originalRender=this.render,o.originalRenderCanvas=this.renderCanvas,o.originalUpdateTransform=this.updateTransform,o.originalCalculateBounds=this.calculateBounds,o.originalGetLocalBounds=this.getLocalBounds,o.originalDestroy=this.destroy,o.originalContainsPoint=this.containsPoint,o.originalMask=this._mask,o.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((o=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=o.originalRender,this.renderCanvas=o.originalRenderCanvas,this.calculateBounds=o.originalCalculateBounds,this.getLocalBounds=o.originalGetLocalBounds,this.destroy=o.originalDestroy,this.updateTransform=o.originalUpdateTransform,this.containsPoint=o.originalContainsPoint,this._mask=o.originalMask,this.filterArea=o.originalFilterArea))}}}),Je.prototype._renderCached=function(o){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(o),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(o))},Je.prototype._initCachedDisplayObject=function(o){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,o.batch.flush();var n=this.getLocalBounds(null,!0).clone();this.filters&&n.pad(this.filters[0].padding),n.ceil(pe.RESOLUTION);var S=o.renderTexture.current,C=o.renderTexture.sourceFrame.clone(),B=o.renderTexture.destinationFrame.clone(),ae=o.projection.transform,Ee=co.create({width:n.width,height:n.height}),We="cacheAsBitmap_"+vn();this._cacheData.textureCacheId=We,gi.addToCache(Ee.baseTexture,We),Ti.addToCache(Ee,We);var $e=this.transform.localTransform.copyTo(Ac).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,o.render(this,Ee,!0,$e,!1),o.projection.transform=ae,o.renderTexture.bind(S,C,B),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var je=new ks(Ee);je.transform.worldTransform=this.transform.worldTransform,je.anchor.x=-n.x/n.width,je.anchor.y=-n.y/n.height,je.alpha=e,je._bounds=this._bounds,this._cacheData.sprite=je,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=je.containsPoint.bind(je)}},Je.prototype._renderCachedCanvas=function(o){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(o),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(o))},Je.prototype._initCachedDisplayObjectCanvas=function(o){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var l=o.context,S=o._projTransform;e.ceil(pe.RESOLUTION);var C=co.create({width:e.width,height:e.height}),B="cacheAsBitmap_"+vn();this._cacheData.textureCacheId=B,gi.addToCache(C.baseTexture,B),Ti.addToCache(C,B);var ae=Ac;this.transform.localTransform.copyTo(ae),ae.invert(),ae.tx-=e.x,ae.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,o.render(this,C,!0,ae,!1),o.context=l,o._projTransform=S,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var Ee=new ks(C);Ee.transform.worldTransform=this.transform.worldTransform,Ee.anchor.x=-e.x/e.width,Ee.anchor.y=-e.y/e.height,Ee.alpha=n,Ee._bounds=this._bounds,this._cacheData.sprite=Ee,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=o._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=Ee.containsPoint.bind(Ee)}},Je.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Je.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Je.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,gi.removeFromCache(this._cacheData.textureCacheId),Ti.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Je.prototype._cacheAsBitmapDestroy=function(o){this.cacheAsBitmap=!1,this.destroy(o)},Je.prototype.name=null,Qt.prototype.getChildByName=function(o,e){for(var n=0,l=this.children.length;n<l;n++)if(this.children[n].name===o)return this.children[n];if(e)for(n=0,l=this.children.length;n<l;n++)if(this.children[n].getChildByName){var C=this.children[n].getChildByName(o,!0);if(C)return C}return null},Je.prototype.getGlobalPosition=function(o,e){return void 0===o&&(o=new hr),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,o,e):(o.x=this.position.x,o.y=this.position.y),o};var ol=function(u,o){return(ol=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)};function Ia(u,o){function e(){this.constructor=u}ol(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}var zu=function(u){function o(e,n,l,S){void 0===e&&(e=100),void 0===n&&(n=100),void 0===l&&(l=10),void 0===S&&(S=10);var C=u.call(this)||this;return C.segWidth=l,C.segHeight=S,C.width=e,C.height=n,C.build(),C}return Ia(o,u),o.prototype.build=function(){for(var e=this.segWidth*this.segHeight,n=[],l=[],S=[],C=this.segWidth-1,B=this.segHeight-1,ae=this.width/C,Ee=this.height/B,We=0;We<e;We++){var $e=We%this.segWidth,je=We/this.segWidth|0;n.push($e*ae,je*Ee),l.push($e/C,je/B)}var ht=C*B;for(We=0;We<ht;We++){var St=We%C,It=We/C|0,xn=It*this.segWidth+St+1,Ai=(It+1)*this.segWidth+St;S.push(It*this.segWidth+St,xn,Ai,xn,(It+1)*this.segWidth+St+1,Ai)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(l),this.indexBuffer.data=new Uint16Array(S),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},o}(nl),$u=function(u){function o(e,n,l){void 0===e&&(e=200),void 0===l&&(l=0);var S=u.call(this,new Float32Array(4*n.length),new Float32Array(4*n.length),new Uint16Array(6*(n.length-1)))||this;return S.points=n,S._width=e,S.textureScale=l,S.build(),S}return Ia(o,u),Object.defineProperty(o.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),o.prototype.build=function(){var e=this.points;if(e){var n=this.getBuffer("aVertexPosition"),l=this.getBuffer("aTextureCoord"),S=this.getIndex();if(!(e.length<1)){n.data.length/4!==e.length&&(n.data=new Float32Array(4*e.length),l.data=new Float32Array(4*e.length),S.data=new Uint16Array(6*(e.length-1)));var C=l.data,B=S.data;C[0]=0,C[1]=0,C[2]=0,C[3]=1;for(var ae=0,Ee=e[0],We=this._width*this.textureScale,$e=e.length,je=0;je<$e;je++){var ht=4*je;if(this.textureScale>0){var St=Ee.x-e[je].x,It=Ee.y-e[je].y,rn=Math.sqrt(St*St+It*It);Ee=e[je],ae+=rn/We}else ae=je/($e-1);C[ht]=ae,C[ht+1]=0,C[ht+2]=ae,C[ht+3]=1}var xn=0;for(je=0;je<$e-1;je++)B[xn++]=ht=2*je,B[xn++]=ht+1,B[xn++]=ht+2,B[xn++]=ht+2,B[xn++]=ht+1,B[xn++]=ht+3;l.update(),S.update(),this.updateVertices()}}},o.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var l,n=e[0],S=0,C=0,B=this.buffers[0].data,ae=e.length,Ee=0;Ee<ae;Ee++){var We=e[Ee],$e=4*Ee;C=-((l=Ee<e.length-1?e[Ee+1]:We).x-n.x),S=l.y-n.y;var je=Math.sqrt(S*S+C*C),ht=this.textureScale>0?this.textureScale*this._width/2:this._width/2;S/=je,C/=je,C*=ht,B[$e]=We.x+(S*=ht),B[$e+1]=We.y+C,B[$e+2]=We.x-S,B[$e+3]=We.y-C,n=We}this.buffers[0].update()}},o.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},o}(nl),Rc=function(u){function o(e,n,l){void 0===l&&(l=0);var S=this,C=new $u(e.height,n,l),B=new _l(e);return l>0&&(e.baseTexture.wrapMode=on.REPEAT),(S=u.call(this,C,B)||this).autoUpdate=!0,S}return Ia(o,u),o.prototype._render=function(e){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),u.prototype._render.call(this,e)},o}(Wa),Gu=function(u){function o(e,n,l){var S=this,C=new zu(e.width,e.height,n,l),B=new _l(Ti.WHITE);return(S=u.call(this,C,B)||this).texture=e,S}return Ia(o,u),o.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry;e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build()},Object.defineProperty(o.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),o.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),u.prototype._render.call(this,e)},o.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),u.prototype.destroy.call(this,e)},o}(Wa),Bd=function(u){function o(e,n,l,S,C){void 0===e&&(e=Ti.EMPTY);var B=this,ae=new nl(n,l,S);ae.getBuffer("aVertexPosition").static=!1;var Ee=new _l(e);return(B=u.call(this,ae,Ee,null,C)||this).autoUpdate=!0,B}return Ia(o,u),Object.defineProperty(o.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),o.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),u.prototype._render.call(this,e)},o}(Wa),zl=10,Vd=function(u){function o(e,n,l,S,C){void 0===n&&(n=zl),void 0===l&&(l=zl),void 0===S&&(S=zl),void 0===C&&(C=zl);var B=u.call(this,Ti.WHITE,4,4)||this;return B._origWidth=e.orig.width,B._origHeight=e.orig.height,B._width=B._origWidth,B._height=B._origHeight,B._leftWidth=n,B._rightWidth=S,B._topHeight=l,B._bottomHeight=C,B.texture=e,B}return Ia(o,u),o.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(o.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),o.prototype.updateHorizontalVertices=function(){var e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height},o.prototype.updateVerticalVertices=function(){var e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width},o.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,l=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>l?1:this._height/l)},Object.defineProperty(o.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),o.prototype._refresh=function(){var e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var l=1/this._origWidth,S=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=l*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-l*this._rightWidth,n[9]=n[11]=n[13]=n[15]=S*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-S*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},o}(Gu),Wu=function(u,o){return(Wu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)},Aa=function(u){function o(e,n){void 0===n&&(n=!0);var l=u.call(this,e[0]instanceof Ti?e[0]:e[0].texture)||this;return l._textures=null,l._durations=null,l._autoUpdate=n,l._isConnectedToTicker=!1,l.animationSpeed=1,l.loop=!0,l.updateAnchor=!1,l.onComplete=null,l.onFrameChange=null,l.onLoop=null,l._currentTime=0,l._playing=!1,l._previousFrame=null,l.textures=e,l}return function Ud(u,o){function e(){this.constructor=u}Wu(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}(o,u),o.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(fr.shared.remove(this.update,this),this._isConnectedToTicker=!1))},o.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(fr.shared.add(this.update,this,Ii.HIGH),this._isConnectedToTicker=!0))},o.prototype.gotoAndStop=function(e){this.stop();var n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()},o.prototype.gotoAndPlay=function(e){var n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture(),this.play()},o.prototype.update=function(e){if(this._playing){var n=this.animationSpeed*e,l=this.currentFrame;if(null!==this._durations){var S=this._currentTime%1*this._durations[this.currentFrame];for(S+=n/60*1e3;S<0;)this._currentTime--,S+=this._durations[this.currentFrame];var C=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);S>=this._durations[this.currentFrame];)S-=this._durations[this.currentFrame]*C,this._currentTime+=C;this._currentTime+=S/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):l!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<l||this.animationSpeed<0&&this.currentFrame>l)&&this.onLoop(),this.updateTexture())}},o.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},o.prototype.destroy=function(e){this.stop(),u.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},o.fromFrames=function(e){for(var n=[],l=0;l<e.length;++l)n.push(Ti.from(e[l]));return new o(n)},o.fromImages=function(e){for(var n=[],l=0;l<e.length;++l)n.push(Ti.from(e[l]));return new o(n)},Object.defineProperty(o.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Ti)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(fr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(fr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),o}(ks),Za=function(u,o){return(Za=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var l in n)n.hasOwnProperty(l)&&(e[l]=n[l])})(u,o)};function Lc(u,o){function e(){this.constructor=u}Za(u,o),u.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}var Ni="5.0.0";function Cf(){var u=this;Object.defineProperties(u,{SVG_SIZE:{get:function(){return Vt(Ni,"PIXI.utils.SVG_SIZE property has moved to PIXI.resources.SVGResource.SVG_SIZE"),u.SVGResource.SVG_SIZE}},TransformStatic:{get:function(){return Vt(Ni,"PIXI.TransformStatic class has been removed, use PIXI.Transform"),u.Transform}},TransformBase:{get:function(){return Vt(Ni,"PIXI.TransformBase class has been removed, use PIXI.Transform"),u.Transform}},TRANSFORM_MODE:{get:function(){return Vt(Ni,"PIXI.TRANSFORM_MODE property has been removed"),{STATIC:0,DYNAMIC:1}}},WebGLRenderer:{get:function(){return Vt(Ni,"PIXI.WebGLRenderer class has moved to PIXI.Renderer"),u.Renderer}},CanvasRenderTarget:{get:function(){return Vt(Ni,"PIXI.CanvasRenderTarget class has moved to PIXI.utils.CanvasRenderTarget"),u.utils.CanvasRenderTarget}},loader:{get:function(){return Vt(Ni,"PIXI.loader instance has moved to PIXI.Loader.shared"),u.Loader.shared}},FilterManager:{get:function(){return Vt(Ni,"PIXI.FilterManager class has moved to PIXI.systems.FilterSystem"),u.systems.FilterSystem}},CanvasTinter:{get:function(){return Vt("5.2.0","PIXI.CanvasTinter namespace has moved to PIXI.canvasUtils"),u.canvasUtils}},GroupD8:{get:function(){return Vt("5.2.0","PIXI.GroupD8 namespace has moved to PIXI.groupD8"),u.groupD8}}}),u.accessibility={},Object.defineProperties(u.accessibility,{AccessibilityManager:{get:function(){return Vt("5.3.0","PIXI.accessibility.AccessibilityManager moved to PIXI.AccessibilityManager"),u.AccessibilityManager}}}),u.interaction={},Object.defineProperties(u.interaction,{InteractionManager:{get:function(){return Vt("5.3.0","PIXI.interaction.InteractionManager moved to PIXI.InteractionManager"),u.InteractionManager}},InteractionData:{get:function(){return Vt("5.3.0","PIXI.interaction.InteractionData moved to PIXI.InteractionData"),u.InteractionData}},InteractionEvent:{get:function(){return Vt("5.3.0","PIXI.interaction.InteractionEvent moved to PIXI.InteractionEvent"),u.InteractionEvent}}}),u.prepare={},Object.defineProperties(u.prepare,{BasePrepare:{get:function(){return Vt("5.2.1","PIXI.prepare.BasePrepare moved to PIXI.BasePrepare"),u.BasePrepare}},Prepare:{get:function(){return Vt("5.2.1","PIXI.prepare.Prepare moved to PIXI.Prepare"),u.Prepare}},CanvasPrepare:{get:function(){return Vt("5.2.1","PIXI.prepare.CanvasPrepare moved to PIXI.CanvasPrepare"),u.CanvasPrepare}}}),u.extract={},Object.defineProperties(u.extract,{Extract:{get:function(){return Vt("5.2.1","PIXI.extract.Extract moved to PIXI.Extract"),u.Extract}},CanvasExtract:{get:function(){return Vt("5.2.1","PIXI.extract.CanvasExtract moved to PIXI.CanvasExtract"),u.CanvasExtract}}}),u.extras={},Object.defineProperties(u.extras,{TilingSprite:{get:function(){return Vt(Ni,"PIXI.extras.TilingSprite class has moved to PIXI.TilingSprite"),u.TilingSprite}},TilingSpriteRenderer:{get:function(){return Vt(Ni,"PIXI.extras.TilingSpriteRenderer class has moved to PIXI.TilingSpriteRenderer"),u.TilingSpriteRenderer}},AnimatedSprite:{get:function(){return Vt(Ni,"PIXI.extras.AnimatedSprite class has moved to PIXI.AnimatedSprite"),u.AnimatedSprite}},BitmapText:{get:function(){return Vt(Ni,"PIXI.extras.BitmapText class has moved to PIXI.BitmapText"),u.BitmapText}}}),u.TilingSprite.fromFrame=function(je,ht,St){return Vt("5.3.0","TilingSprite.fromFrame is deprecated, use TilingSprite.from"),u.TilingSprite.from(je,{width:ht,height:St})},u.TilingSprite.fromImage=function(je,ht,St,It){return void 0===It&&(It={}),Vt("5.3.0","TilingSprite.fromImage is deprecated, use TilingSprite.from"),It&&"object"!=typeof It&&(It={scaleMode:arguments[4],resourceOptions:{crossorigin:arguments[3]}}),It.width=ht,It.height=St,u.TilingSprite.from(je,It)},Object.defineProperties(u.utils,{getSvgSize:{get:function(){return Vt(Ni,"PIXI.utils.getSvgSize function has moved to PIXI.resources.SVGResource.getSize"),u.resources.SVGResource.getSize}}}),u.mesh={},Object.defineProperties(u.mesh,{Mesh:{get:function(){return Vt(Ni,"PIXI.mesh.Mesh class has moved to PIXI.SimpleMesh"),u.SimpleMesh}},NineSlicePlane:{get:function(){return Vt(Ni,"PIXI.mesh.NineSlicePlane class has moved to PIXI.NineSlicePlane"),u.NineSlicePlane}},Plane:{get:function(){return Vt(Ni,"PIXI.mesh.Plane class has moved to PIXI.SimplePlane"),u.SimplePlane}},Rope:{get:function(){return Vt(Ni,"PIXI.mesh.Rope class has moved to PIXI.SimpleRope"),u.SimpleRope}},RawMesh:{get:function(){return Vt(Ni,"PIXI.mesh.RawMesh class has moved to PIXI.Mesh"),u.Mesh}},CanvasMeshRenderer:{get:function(){return Vt(Ni,"PIXI.mesh.CanvasMeshRenderer class has moved to PIXI.CanvasMeshRenderer"),u.CanvasMeshRenderer}},MeshRenderer:{get:function(){return Vt(Ni,"PIXI.mesh.MeshRenderer class has moved to PIXI.MeshRenderer"),u.MeshRenderer}}}),u.particles={},Object.defineProperties(u.particles,{ParticleContainer:{get:function(){return Vt(Ni,"PIXI.particles.ParticleContainer class has moved to PIXI.ParticleContainer"),u.ParticleContainer}},ParticleRenderer:{get:function(){return Vt(Ni,"PIXI.particles.ParticleRenderer class has moved to PIXI.ParticleRenderer"),u.ParticleRenderer}}}),u.ticker={},Object.defineProperties(u.ticker,{Ticker:{get:function(){return Vt(Ni,"PIXI.ticker.Ticker class has moved to PIXI.Ticker"),u.Ticker}},shared:{get:function(){return Vt(Ni,"PIXI.ticker.shared instance has moved to PIXI.Ticker.shared"),u.Ticker.shared}}}),u.loaders={},Object.defineProperties(u.loaders,{Loader:{get:function(){return Vt(Ni,"PIXI.loaders.Loader class has moved to PIXI.Loader"),u.Loader}},Resource:{get:function(){return Vt(Ni,"PIXI.loaders.Resource class has moved to PIXI.LoaderResource"),u.LoaderResource}},bitmapFontParser:{get:function(){return Vt(Ni,"PIXI.loaders.bitmapFontParser function has moved to PIXI.BitmapFontLoader.use"),u.BitmapFontLoader.use}},parseBitmapFontData:{get:function(){Vt(Ni,"PIXI.loaders.parseBitmapFontData function has removed")}},spritesheetParser:{get:function(){return Vt(Ni,"PIXI.loaders.spritesheetParser function has moved to PIXI.SpritesheetLoader.use"),u.SpritesheetLoader.use}},getResourcePath:{get:function(){return Vt(Ni,"PIXI.loaders.getResourcePath property has moved to PIXI.SpritesheetLoader.getResourcePath"),u.SpritesheetLoader.getResourcePath}}}),u.Loader.addPixiMiddleware=function(je){return Vt(Ni,"PIXI.loaders.Loader.addPixiMiddleware function is deprecated, use PIXI.loaders.Loader.registerPlugin"),u.loaders.Loader.registerPlugin({use:je()})};var o=function($e){return"on"+$e.charAt(0).toUpperCase()+$e.slice(1)};Object.assign(u.Loader.prototype,{on:function($e){var je=o($e);Vt(Ni,"PIXI.Loader#on is completely deprecated, use PIXI.Loader#"+je+".add")},once:function($e){var je=o($e);Vt(Ni,"PIXI.Loader#once is completely deprecated, use PIXI.Loader#"+je+".once")},off:function($e){var je=o($e);Vt(Ni,"PIXI.Loader#off is completely deprecated, use PIXI.Loader#"+je+".detach")}}),Object.defineProperty(u.extract,"WebGLExtract",{get:function(){return Vt(Ni,"PIXI.extract.WebGLExtract method has moved to PIXI.Extract"),u.Extract}}),Object.defineProperty(u.prepare,"WebGLPrepare",{get:function(){return Vt(Ni,"PIXI.prepare.WebGLPrepare class has moved to PIXI.Prepare"),u.Prepare}}),u.Container.prototype._renderWebGL=function(je){Vt(Ni,"PIXI.Container._renderWebGL method has moved to PIXI.Container._render"),this._render(je)},u.Container.prototype.renderWebGL=function(je){Vt(Ni,"PIXI.Container.renderWebGL method has moved to PIXI.Container.render"),this.render(je)},u.DisplayObject.prototype.renderWebGL=function(je){Vt(Ni,"PIXI.DisplayObject.renderWebGL method has moved to PIXI.DisplayObject.render"),this.render(je)},u.Container.prototype.renderAdvancedWebGL=function(je){Vt(Ni,"PIXI.Container.renderAdvancedWebGL method has moved to PIXI.Container.renderAdvanced"),this.renderAdvanced(je)},Object.defineProperties(u.settings,{TRANSFORM_MODE:{get:function(){return Vt(Ni,"PIXI.settings.TRANSFORM_MODE property has been removed"),0},set:function(){Vt(Ni,"PIXI.settings.TRANSFORM_MODE property has been removed")}}});var e=u.BaseTexture;e.prototype.loadSource=function(je){Vt(Ni,"PIXI.BaseTexture.loadSource method has been deprecated");var ht=u.resources.autoDetectResource(je);ht.internal=!0,this.setResource(ht),this.update()};var n=!1;Object.defineProperties(e.prototype,{hasLoaded:{get:function(){return Vt(Ni,"PIXI.BaseTexture.hasLoaded property has been removed, use PIXI.BaseTexture.valid"),this.valid}},imageUrl:{get:function(){var $e;return Vt(Ni,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),null===($e=this.resource)||void 0===$e?void 0:$e.url},set:function($e){Vt(Ni,"PIXI.BaseTexture.imageUrl property has been removed, use PIXI.BaseTexture.resource.url"),this.resource&&(this.resource.url=$e)}},source:{get:function(){return Vt(Ni,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source`"),this.resource.source},set:function($e){Vt(Ni,"PIXI.BaseTexture.source property has been moved, use `PIXI.BaseTexture.resource.source` if you want to set HTMLCanvasElement. Otherwise, create new BaseTexture."),this.resource&&(this.resource.source=$e)}},premultiplyAlpha:{get:function(){return Vt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function($e){Vt("5.2.0","PIXI.BaseTexture.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number($e)}},_id:{get:function(){return n||(Vt("5.2.0","PIXI.BaseTexture._id batch local field has been changed to `_batchLocation`"),n=!0),this._batchLocation},set:function($e){this._batchLocation=$e}}}),e.fromImage=function(je,ht,St,It){return Vt(Ni,"PIXI.BaseTexture.fromImage method has been replaced with PIXI.BaseTexture.from"),e.from(je,{scaleMode:St,resourceOptions:{scale:It,crossorigin:ht}})},e.fromCanvas=function(je,ht){return Vt(Ni,"PIXI.BaseTexture.fromCanvas method has been replaced with PIXI.BaseTexture.from"),e.from(je,{scaleMode:ht})},e.fromSVG=function(je,ht,St,It){return Vt(Ni,"PIXI.BaseTexture.fromSVG method has been replaced with PIXI.BaseTexture.from"),e.from(je,{scaleMode:St,resourceOptions:{scale:It,crossorigin:ht}})},Object.defineProperties(u.resources.ImageResource.prototype,{premultiplyAlpha:{get:function(){return Vt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),0!==this.alphaMode},set:function($e){Vt("5.2.0","PIXI.resources.ImageResource.premultiplyAlpha property has been changed to `alphaMode`, see `PIXI.ALPHA_MODES`"),this.alphaMode=Number($e)}}}),u.Point.prototype.copy=function(je){return Vt(Ni,"PIXI.Point.copy method has been replaced with PIXI.Point.copyFrom"),this.copyFrom(je)},u.ObservablePoint.prototype.copy=function(je){return Vt(Ni,"PIXI.ObservablePoint.copy method has been replaced with PIXI.ObservablePoint.copyFrom"),this.copyFrom(je)},u.Rectangle.prototype.copy=function(je){return Vt(Ni,"PIXI.Rectangle.copy method has been replaced with PIXI.Rectangle.copyFrom"),this.copyFrom(je)},u.Matrix.prototype.copy=function(je){return Vt(Ni,"PIXI.Matrix.copy method has been replaced with PIXI.Matrix.copyTo"),this.copyTo(je)},u.systems.StateSystem.prototype.setState=function(je){return Vt("v5.1.0","StateSystem.setState has been renamed to StateSystem.set"),this.set(je)},Object.assign(u.systems.FilterSystem.prototype,{getRenderTarget:function($e,je){return Vt(Ni,"PIXI.FilterManager.getRenderTarget method has been replaced with PIXI.systems.FilterSystem#getFilterTexture"),this.getFilterTexture(null,je)},returnRenderTarget:function($e){Vt(Ni,"PIXI.FilterManager.returnRenderTarget method has been replaced with PIXI.systems.FilterSystem.returnFilterTexture"),this.returnFilterTexture($e)},calculateScreenSpaceMatrix:function($e){Vt(Ni,"PIXI.systems.FilterSystem.calculateScreenSpaceMatrix method is removed, use `(vTextureCoord * inputSize.xy) + outputFrame.xy` instead");var je=$e.identity(),ht=this.activeState,St=ht.sourceFrame,It=ht.destinationFrame;return je.translate(St.x/It.width,St.y/It.height),je.scale(It.width,It.height),je},calculateNormalizedScreenSpaceMatrix:function($e){Vt(Ni,"PIXI.systems.FilterManager.calculateNormalizedScreenSpaceMatrix method is removed, use `((vTextureCoord * inputSize.xy) + outputFrame.xy) / outputFrame.zw` instead.");var je=this.activeState,ht=je.sourceFrame,St=je.destinationFrame,It=$e.identity();return It.translate(ht.x/St.width,ht.y/St.height),It.scale(St.width/ht.width,St.height/ht.height),It}}),Object.defineProperties(u.RenderTexture.prototype,{sourceFrame:{get:function(){return Vt(Ni,"PIXI.RenderTexture.sourceFrame property has been removed"),this.filterFrame}},size:{get:function(){return Vt(Ni,"PIXI.RenderTexture.size property has been removed"),this._frame}}});var l=function($e){function je(ht,St,It,rn){return Vt(Ni,"PIXI.filters.BlurXFilter class is deprecated, use PIXI.filters.BlurFilterPass"),$e.call(this,!0,ht,St,It,rn)||this}return Lc(je,$e),je}(u.filters.BlurFilterPass),S=function($e){function je(ht,St,It,rn){return Vt(Ni,"PIXI.filters.BlurYFilter class is deprecated, use PIXI.filters.BlurFilterPass"),$e.call(this,!1,ht,St,It,rn)||this}return Lc(je,$e),je}(u.filters.BlurFilterPass);Object.assign(u.filters,{BlurXFilter:l,BlurYFilter:S});var C=u.Sprite,B=u.Texture,ae=u.Graphics;function Ee($e,je,ht,St){return Vt(Ni,"PIXI.Sprite."+$e+" method is deprecated, use PIXI.Sprite.from"),C.from(je,{resourceOptions:{scale:St,crossorigin:ht}})}function We($e,je,ht,St){return Vt(Ni,"PIXI.Texture."+$e+" method is deprecated, use PIXI.Texture.from"),B.from(je,{resourceOptions:{scale:St,crossorigin:ht}})}ae.prototype.generateCanvasTexture||(ae.prototype.generateCanvasTexture=function(){Vt(Ni,'PIXI.Graphics.generateCanvasTexture method is only available in "pixi.js-legacy"')}),Object.defineProperty(ae.prototype,"graphicsData",{get:function(){return Vt(Ni,"PIXI.Graphics.graphicsData property is deprecated, use PIXI.Graphics.geometry.graphicsData"),this.geometry.graphicsData}}),C.fromImage=Ee.bind(null,"fromImage"),C.fromSVG=Ee.bind(null,"fromSVG"),C.fromCanvas=Ee.bind(null,"fromCanvas"),C.fromVideo=Ee.bind(null,"fromVideo"),C.fromFrame=Ee.bind(null,"fromFrame"),B.fromImage=We.bind(null,"fromImage"),B.fromSVG=We.bind(null,"fromSVG"),B.fromCanvas=We.bind(null,"fromCanvas"),B.fromVideo=We.bind(null,"fromVideo"),B.fromFrame=We.bind(null,"fromFrame"),Object.defineProperty(u.AbstractRenderer.prototype,"autoResize",{get:function(){return Vt(Ni,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity},set:function($e){Vt(Ni,"PIXI.AbstractRenderer.autoResize property is deprecated, use PIXI.AbstractRenderer.autoDensity"),this.autoDensity=$e}}),Object.defineProperty(u.Renderer.prototype,"textureManager",{get:function(){return Vt(Ni,"PIXI.Renderer.textureManager property is deprecated, use PIXI.Renderer.texture"),this.texture}}),u.utils.mixins={mixin:function(){Vt(Ni,"PIXI.utils.mixins.mixin function is no longer available")},delayMixin:function(){Vt(Ni,"PIXI.utils.mixins.delayMixin function is no longer available")},performMixins:function(){Vt(Ni,"PIXI.utils.mixins.performMixins function is no longer available")}},Object.defineProperty(u.BitmapText.prototype,"font",{get:function(){return Vt("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),{name:this._fontName,size:this._fontSize,tint:this._tint,align:this._align}},set:function($e){if(Vt("5.3.0","PIXI.BitmapText.font property is deprecated, use fontName, fontSize, tint or align properties"),$e){var je={font:$e};this._upgradeStyle(je),je.fontSize=je.fontSize||u.BitmapFont.available[je.fontName].size,this._fontName=je.fontName,this._fontSize=je.fontSize,this.dirty=!0}}})}R.registerPlugin("accessibility",ho),R.registerPlugin("extract",hs),R.registerPlugin("interaction",Gt),R.registerPlugin("particle",c),R.registerPlugin("prepare",vc),R.registerPlugin("batch",Ui),R.registerPlugin("tilingSprite",Fl),fs.registerPlugin(Bl),fs.registerPlugin(_c),Wi.registerPlugin(Kr),Wi.registerPlugin(Ha);var Df="5.3.12",Tf={AlphaFilter:Cd,BlurFilter:ku,BlurFilterPass:Vl,ColorMatrixFilter:Vu,DisplacementFilter:Ic,FXAAFilter:Nd,NoiseFilter:ju}},6117:function(Ct,H,A){var r;Ct=A.nmd(Ct),function(F){"object"==typeof global&&global;var Y,Z=2147483647,G=36,J=1,ue=26,oe=38,ce=700,le=72,de=128,ke="-",xe=/^xn--/,se=/[^\x20-\x7E]/,_e=/[\x2E\u3002\uFF0E\uFF61]/g,Ie={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Be=G-J,tt=Math.floor,Ae=String.fromCharCode;function Le(De){throw new RangeError(Ie[De])}function Ge(De,Ve){for(var Ce=De.length,Ue=[];Ce--;)Ue[Ce]=Ve(De[Ce]);return Ue}function Ze(De,Ve){var Ce=De.split("@"),Ue="";return Ce.length>1&&(Ue=Ce[0]+"@",De=Ce[1]),Ue+Ge((De=De.replace(_e,".")).split("."),Ve).join(".")}function rt(De){for(var Me,Fe,Ve=[],Ce=0,Ue=De.length;Ce<Ue;)(Me=De.charCodeAt(Ce++))>=55296&&Me<=56319&&Ce<Ue?56320==(64512&(Fe=De.charCodeAt(Ce++)))?Ve.push(((1023&Me)<<10)+(1023&Fe)+65536):(Ve.push(Me),Ce--):Ve.push(Me);return Ve}function ct(De){return Ge(De,function(Ve){var Ce="";return Ve>65535&&(Ce+=Ae((Ve-=65536)>>>10&1023|55296),Ve=56320|1023&Ve),Ce+Ae(Ve)}).join("")}function ze(De){return De-48<10?De-22:De-65<26?De-65:De-97<26?De-97:G}function Ke(De,Ve){return De+22+75*(De<26)-((0!=Ve)<<5)}function ge(De,Ve,Ce){var Ue=0;for(De=Ce?tt(De/ce):De>>1,De+=tt(De/Ve);De>Be*ue>>1;Ue+=G)De=tt(De/Be);return tt(Ue+(Be+1)*De/(De+oe))}function pe(De){var Ue,_t,Mt,cn,En,on,Et,at,tn,Wt,Ve=[],Ce=De.length,Me=0,Fe=de,mt=le;for((_t=De.lastIndexOf(ke))<0&&(_t=0),Mt=0;Mt<_t;++Mt)De.charCodeAt(Mt)>=128&&Le("not-basic"),Ve.push(De.charCodeAt(Mt));for(cn=_t>0?_t+1:0;cn<Ce;){for(En=Me,on=1,Et=G;cn>=Ce&&Le("invalid-input"),((at=ze(De.charCodeAt(cn++)))>=G||at>tt((Z-Me)/on))&&Le("overflow"),Me+=at*on,!(at<(tn=Et<=mt?J:Et>=mt+ue?ue:Et-mt));Et+=G)on>tt(Z/(Wt=G-tn))&&Le("overflow"),on*=Wt;mt=ge(Me-En,Ue=Ve.length+1,0==En),tt(Me/Ue)>Z-Fe&&Le("overflow"),Fe+=tt(Me/Ue),Me%=Ue,Ve.splice(Me++,0,Fe)}return ct(Ve)}function Se(De){var Ve,Ce,Ue,Me,Fe,mt,_t,Mt,cn,En,on,at,tn,Wt,mn,Et=[];for(at=(De=rt(De)).length,Ve=de,Ce=0,Fe=le,mt=0;mt<at;++mt)(on=De[mt])<128&&Et.push(Ae(on));for(Ue=Me=Et.length,Me&&Et.push(ke);Ue<at;){for(_t=Z,mt=0;mt<at;++mt)(on=De[mt])>=Ve&&on<_t&&(_t=on);for(_t-Ve>tt((Z-Ce)/(tn=Ue+1))&&Le("overflow"),Ce+=(_t-Ve)*tn,Ve=_t,mt=0;mt<at;++mt)if((on=De[mt])<Ve&&++Ce>Z&&Le("overflow"),on==Ve){for(Mt=Ce,cn=G;!(Mt<(En=cn<=Fe?J:cn>=Fe+ue?ue:cn-Fe));cn+=G)Et.push(Ae(Ke(En+(mn=Mt-En)%(Wt=G-En),0))),Mt=tt(mn/Wt);Et.push(Ae(Ke(Mt,0))),Fe=ge(Ce,tn,Ue==Me),Ce=0,++Ue}++Ce,++Ve}return Et.join("")}Y={version:"1.4.1",ucs2:{decode:rt,encode:ct},decode:pe,encode:Se,toASCII:function Re(De){return Ze(De,function(Ve){return se.test(Ve)?"xn--"+Se(Ve):Ve})},toUnicode:function Te(De){return Ze(De,function(Ve){return xe.test(Ve)?pe(Ve.slice(4).toLowerCase()):Ve})}},void 0!==(r=function(){return Y}.call(H,A,H,Ct))&&(Ct.exports=r)}()},9165:Ct=>{"use strict";var H=String.prototype.replace,A=/%20/g;Ct.exports={default:"RFC3986",formatters:{RFC1738:function(F){return H.call(F,A,"+")},RFC3986:function(F){return String(F)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},1781:(Ct,H,A)=>{"use strict";var r=A(3726),F=A(6954),q=A(9165);Ct.exports={formats:q,parse:F,stringify:r}},6954:(Ct,H,A)=>{"use strict";var r=A(4393),F=Object.prototype.hasOwnProperty,q=Array.isArray,$={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},Y=function(le,de){return le&&"string"==typeof le&&de.comma&&le.indexOf(",")>-1?le.split(","):le},oe=function(de,ke,xe,se){if(de){var _e=xe.allowDots?de.replace(/\.([^.[]+)/g,"[$1]"):de,Be=/(\[[^[\]]*])/g,tt=xe.depth>0&&/(\[[^[\]]*])/.exec(_e),Ae=tt?_e.slice(0,tt.index):_e,vt=[];if(Ae){if(!xe.plainObjects&&F.call(Object.prototype,Ae)&&!xe.allowPrototypes)return;vt.push(Ae)}for(var Le=0;xe.depth>0&&null!==(tt=Be.exec(_e))&&Le<xe.depth;){if(Le+=1,!xe.plainObjects&&F.call(Object.prototype,tt[1].slice(1,-1))&&!xe.allowPrototypes)return;vt.push(tt[1])}if(tt){if(!0===xe.strictDepth)throw new RangeError("Input depth exceeded depth option of "+xe.depth+" and strictDepth is true");vt.push("["+_e.slice(tt.index)+"]")}return function(le,de,ke,xe){for(var se=xe?de:Y(de,ke),_e=le.length-1;_e>=0;--_e){var Ie,Be=le[_e];if("[]"===Be&&ke.parseArrays)Ie=ke.allowEmptyArrays&&(""===se||ke.strictNullHandling&&null===se)?[]:[].concat(se);else{Ie=ke.plainObjects?Object.create(null):{};var tt="["===Be.charAt(0)&&"]"===Be.charAt(Be.length-1)?Be.slice(1,-1):Be,Ae=ke.decodeDotInKeys?tt.replace(/%2E/g,"."):tt,vt=parseInt(Ae,10);ke.parseArrays||""!==Ae?!isNaN(vt)&&Be!==Ae&&String(vt)===Ae&&vt>=0&&ke.parseArrays&&vt<=ke.arrayLimit?(Ie=[])[vt]=se:"__proto__"!==Ae&&(Ie[Ae]=se):Ie={0:se}}se=Ie}return se}(vt,ke,xe,se)}};Ct.exports=function(le,de){var ke=function(de){if(!de)return $;if(typeof de.allowEmptyArrays<"u"&&"boolean"!=typeof de.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof de.decodeDotInKeys<"u"&&"boolean"!=typeof de.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==de.decoder&&typeof de.decoder<"u"&&"function"!=typeof de.decoder)throw new TypeError("Decoder has to be a function.");if(typeof de.charset<"u"&&"utf-8"!==de.charset&&"iso-8859-1"!==de.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var ke=typeof de.charset>"u"?$.charset:de.charset,xe=typeof de.duplicates>"u"?$.duplicates:de.duplicates;if("combine"!==xe&&"first"!==xe&&"last"!==xe)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof de.allowDots>"u"?!0===de.decodeDotInKeys||$.allowDots:!!de.allowDots,allowEmptyArrays:"boolean"==typeof de.allowEmptyArrays?!!de.allowEmptyArrays:$.allowEmptyArrays,allowPrototypes:"boolean"==typeof de.allowPrototypes?de.allowPrototypes:$.allowPrototypes,allowSparse:"boolean"==typeof de.allowSparse?de.allowSparse:$.allowSparse,arrayLimit:"number"==typeof de.arrayLimit?de.arrayLimit:$.arrayLimit,charset:ke,charsetSentinel:"boolean"==typeof de.charsetSentinel?de.charsetSentinel:$.charsetSentinel,comma:"boolean"==typeof de.comma?de.comma:$.comma,decodeDotInKeys:"boolean"==typeof de.decodeDotInKeys?de.decodeDotInKeys:$.decodeDotInKeys,decoder:"function"==typeof de.decoder?de.decoder:$.decoder,delimiter:"string"==typeof de.delimiter||r.isRegExp(de.delimiter)?de.delimiter:$.delimiter,depth:"number"==typeof de.depth||!1===de.depth?+de.depth:$.depth,duplicates:xe,ignoreQueryPrefix:!0===de.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof de.interpretNumericEntities?de.interpretNumericEntities:$.interpretNumericEntities,parameterLimit:"number"==typeof de.parameterLimit?de.parameterLimit:$.parameterLimit,parseArrays:!1!==de.parseArrays,plainObjects:"boolean"==typeof de.plainObjects?de.plainObjects:$.plainObjects,strictDepth:"boolean"==typeof de.strictDepth?!!de.strictDepth:$.strictDepth,strictNullHandling:"boolean"==typeof de.strictNullHandling?de.strictNullHandling:$.strictNullHandling}}(de);if(""===le||null===le||typeof le>"u")return ke.plainObjects?Object.create(null):{};for(var xe="string"==typeof le?function(de,ke){var tt,xe={__proto__:null},se=ke.ignoreQueryPrefix?de.replace(/^\?/,""):de,Ie=(se=se.replace(/%5B/gi,"[").replace(/%5D/gi,"]")).split(ke.delimiter,ke.parameterLimit===1/0?void 0:ke.parameterLimit),Be=-1,Ae=ke.charset;if(ke.charsetSentinel)for(tt=0;tt<Ie.length;++tt)0===Ie[tt].indexOf("utf8=")&&("utf8=%E2%9C%93"===Ie[tt]?Ae="utf-8":"utf8=%26%2310003%3B"===Ie[tt]&&(Ae="iso-8859-1"),Be=tt,tt=Ie.length);for(tt=0;tt<Ie.length;++tt)if(tt!==Be){var Ze,rt,vt=Ie[tt],Le=vt.indexOf("]="),Ge=-1===Le?vt.indexOf("="):Le+1;-1===Ge?(Ze=ke.decoder(vt,$.decoder,Ae,"key"),rt=ke.strictNullHandling?null:""):(Ze=ke.decoder(vt.slice(0,Ge),$.decoder,Ae,"key"),rt=r.maybeMap(Y(vt.slice(Ge+1),ke),function(ze){return ke.decoder(ze,$.decoder,Ae,"value")})),rt&&ke.interpretNumericEntities&&"iso-8859-1"===Ae&&(rt=rt.replace(/&#(\d+);/g,function(de,ke){return String.fromCharCode(parseInt(ke,10))})),vt.indexOf("[]=")>-1&&(rt=q(rt)?[rt]:rt);var ct=F.call(xe,Ze);ct&&"combine"===ke.duplicates?xe[Ze]=r.combine(xe[Ze],rt):(!ct||"last"===ke.duplicates)&&(xe[Ze]=rt)}return xe}(le,ke):le,se=ke.plainObjects?Object.create(null):{},_e=Object.keys(xe),Ie=0;Ie<_e.length;++Ie){var Be=_e[Ie],tt=oe(Be,xe[Be],ke,"string"==typeof le);se=r.merge(se,tt,ke)}return!0===ke.allowSparse?se:r.compact(se)}},3726:(Ct,H,A)=>{"use strict";var r=A(8475),F=A(4393),q=A(9165),$=Object.prototype.hasOwnProperty,Q={brackets:function(se){return se+"[]"},comma:"comma",indices:function(se,_e){return se+"["+_e+"]"},repeat:function(se){return se}},Y=Array.isArray,Z=Array.prototype.push,G=function(xe,se){Z.apply(xe,Y(se)?se:[se])},J=Date.prototype.toISOString,ue=q.default,oe={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:F.encode,encodeValuesOnly:!1,format:ue,formatter:q.formatters[ue],indices:!1,serializeDate:function(se){return J.call(se)},skipNulls:!1,strictNullHandling:!1},le={},de=function xe(se,_e,Ie,Be,tt,Ae,vt,Le,Ge,Ze,rt,ct,ze,Ke,ge,pe,Se,Te){for(var Re=se,De=Te,Ve=0,Ce=!1;void 0!==(De=De.get(le))&&!Ce;){var Ue=De.get(se);if(Ve+=1,typeof Ue<"u"){if(Ue===Ve)throw new RangeError("Cyclic object value");Ce=!0}typeof De.get(le)>"u"&&(Ve=0)}if("function"==typeof Ze?Re=Ze(_e,Re):Re instanceof Date?Re=ze(Re):"comma"===Ie&&Y(Re)&&(Re=F.maybeMap(Re,function(mn){return mn instanceof Date?ze(mn):mn})),null===Re){if(Ae)return Ge&&!pe?Ge(_e,oe.encoder,Se,"key",Ke):_e;Re=""}if(function(se){return"string"==typeof se||"number"==typeof se||"boolean"==typeof se||"symbol"==typeof se||"bigint"==typeof se}(Re)||F.isBuffer(Re))return Ge?[ge(pe?_e:Ge(_e,oe.encoder,Se,"key",Ke))+"="+ge(Ge(Re,oe.encoder,Se,"value",Ke))]:[ge(_e)+"="+ge(String(Re))];var mt,Fe=[];if(typeof Re>"u")return Fe;if("comma"===Ie&&Y(Re))pe&&Ge&&(Re=F.maybeMap(Re,Ge)),mt=[{value:Re.length>0?Re.join(",")||null:void 0}];else if(Y(Ze))mt=Ze;else{var _t=Object.keys(Re);mt=rt?_t.sort(rt):_t}var Mt=Le?_e.replace(/\./g,"%2E"):_e,cn=Be&&Y(Re)&&1===Re.length?Mt+"[]":Mt;if(tt&&Y(Re)&&0===Re.length)return cn+"[]";for(var En=0;En<mt.length;++En){var on=mt[En],Et="object"==typeof on&&typeof on.value<"u"?on.value:Re[on];if(!vt||null!==Et){var at=ct&&Le?on.replace(/\./g,"%2E"):on,tn=Y(Re)?"function"==typeof Ie?Ie(cn,at):cn:cn+(ct?"."+at:"["+at+"]");Te.set(se,Ve);var Wt=r();Wt.set(le,Te),G(Fe,xe(Et,tn,Ie,Be,tt,Ae,vt,Le,"comma"===Ie&&pe&&Y(Re)?null:Ge,Ze,rt,ct,ze,Ke,ge,pe,Se,Wt))}}return Fe};Ct.exports=function(xe,se){var Be,_e=xe,Ie=function(se){if(!se)return oe;if(typeof se.allowEmptyArrays<"u"&&"boolean"!=typeof se.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof se.encodeDotInKeys<"u"&&"boolean"!=typeof se.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==se.encoder&&typeof se.encoder<"u"&&"function"!=typeof se.encoder)throw new TypeError("Encoder has to be a function.");var _e=se.charset||oe.charset;if(typeof se.charset<"u"&&"utf-8"!==se.charset&&"iso-8859-1"!==se.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var Ie=q.default;if(typeof se.format<"u"){if(!$.call(q.formatters,se.format))throw new TypeError("Unknown format option provided.");Ie=se.format}var Ae,Be=q.formatters[Ie],tt=oe.filter;if(("function"==typeof se.filter||Y(se.filter))&&(tt=se.filter),Ae=se.arrayFormat in Q?se.arrayFormat:"indices"in se?se.indices?"indices":"repeat":oe.arrayFormat,"commaRoundTrip"in se&&"boolean"!=typeof se.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");return{addQueryPrefix:"boolean"==typeof se.addQueryPrefix?se.addQueryPrefix:oe.addQueryPrefix,allowDots:typeof se.allowDots>"u"?!0===se.encodeDotInKeys||oe.allowDots:!!se.allowDots,allowEmptyArrays:"boolean"==typeof se.allowEmptyArrays?!!se.allowEmptyArrays:oe.allowEmptyArrays,arrayFormat:Ae,charset:_e,charsetSentinel:"boolean"==typeof se.charsetSentinel?se.charsetSentinel:oe.charsetSentinel,commaRoundTrip:se.commaRoundTrip,delimiter:typeof se.delimiter>"u"?oe.delimiter:se.delimiter,encode:"boolean"==typeof se.encode?se.encode:oe.encode,encodeDotInKeys:"boolean"==typeof se.encodeDotInKeys?se.encodeDotInKeys:oe.encodeDotInKeys,encoder:"function"==typeof se.encoder?se.encoder:oe.encoder,encodeValuesOnly:"boolean"==typeof se.encodeValuesOnly?se.encodeValuesOnly:oe.encodeValuesOnly,filter:tt,format:Ie,formatter:Be,serializeDate:"function"==typeof se.serializeDate?se.serializeDate:oe.serializeDate,skipNulls:"boolean"==typeof se.skipNulls?se.skipNulls:oe.skipNulls,sort:"function"==typeof se.sort?se.sort:null,strictNullHandling:"boolean"==typeof se.strictNullHandling?se.strictNullHandling:oe.strictNullHandling}}(se);"function"==typeof Ie.filter?_e=(0,Ie.filter)("",_e):Y(Ie.filter)&&(Be=Ie.filter);var Ae=[];if("object"!=typeof _e||null===_e)return"";var vt=Q[Ie.arrayFormat],Le="comma"===vt&&Ie.commaRoundTrip;Be||(Be=Object.keys(_e)),Ie.sort&&Be.sort(Ie.sort);for(var Ge=r(),Ze=0;Ze<Be.length;++Ze){var rt=Be[Ze];Ie.skipNulls&&null===_e[rt]||G(Ae,de(_e[rt],rt,vt,Le,Ie.allowEmptyArrays,Ie.strictNullHandling,Ie.skipNulls,Ie.encodeDotInKeys,Ie.encode?Ie.encoder:null,Ie.filter,Ie.sort,Ie.allowDots,Ie.serializeDate,Ie.format,Ie.formatter,Ie.encodeValuesOnly,Ie.charset,Ge))}var ct=Ae.join(Ie.delimiter),ze=!0===Ie.addQueryPrefix?"?":"";return Ie.charsetSentinel&&(ze+="iso-8859-1"===Ie.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),ct.length>0?ze+ct:""}},4393:(Ct,H,A)=>{"use strict";var r=A(9165),F=Object.prototype.hasOwnProperty,q=Array.isArray,$=function(){for(var se=[],_e=0;_e<256;++_e)se.push("%"+((_e<16?"0":"")+_e.toString(16)).toUpperCase());return se}(),Y=function(_e,Ie){for(var Be=Ie&&Ie.plainObjects?Object.create(null):{},tt=0;tt<_e.length;++tt)typeof _e[tt]<"u"&&(Be[tt]=_e[tt]);return Be};Ct.exports={arrayToObject:Y,assign:function(_e,Ie){return Object.keys(Ie).reduce(function(Be,tt){return Be[tt]=Ie[tt],Be},_e)},combine:function(_e,Ie){return[].concat(_e,Ie)},compact:function(_e){for(var Ie=[{obj:{o:_e},prop:"o"}],Be=[],tt=0;tt<Ie.length;++tt)for(var Ae=Ie[tt],vt=Ae.obj[Ae.prop],Le=Object.keys(vt),Ge=0;Ge<Le.length;++Ge){var Ze=Le[Ge],rt=vt[Ze];"object"==typeof rt&&null!==rt&&-1===Be.indexOf(rt)&&(Ie.push({obj:vt,prop:Ze}),Be.push(rt))}return function(_e){for(;_e.length>1;){var Ie=_e.pop(),Be=Ie.obj[Ie.prop];if(q(Be)){for(var tt=[],Ae=0;Ae<Be.length;++Ae)typeof Be[Ae]<"u"&&tt.push(Be[Ae]);Ie.obj[Ie.prop]=tt}}}(Ie),_e},decode:function(se,_e,Ie){var Be=se.replace(/\+/g," ");if("iso-8859-1"===Ie)return Be.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Be)}catch{return Be}},encode:function(_e,Ie,Be,tt,Ae){if(0===_e.length)return _e;var vt=_e;if("symbol"==typeof _e?vt=Symbol.prototype.toString.call(_e):"string"!=typeof _e&&(vt=String(_e)),"iso-8859-1"===Be)return escape(vt).replace(/%u[0-9a-f]{4}/gi,function(Ke){return"%26%23"+parseInt(Ke.slice(2),16)+"%3B"});for(var Le="",Ge=0;Ge<vt.length;Ge+=1024){for(var Ze=vt.length>=1024?vt.slice(Ge,Ge+1024):vt,rt=[],ct=0;ct<Ze.length;++ct){var ze=Ze.charCodeAt(ct);45===ze||46===ze||95===ze||126===ze||ze>=48&&ze<=57||ze>=65&&ze<=90||ze>=97&&ze<=122||Ae===r.RFC1738&&(40===ze||41===ze)?rt[rt.length]=Ze.charAt(ct):ze<128?rt[rt.length]=$[ze]:ze<2048?rt[rt.length]=$[192|ze>>6]+$[128|63&ze]:ze<55296||ze>=57344?rt[rt.length]=$[224|ze>>12]+$[128|ze>>6&63]+$[128|63&ze]:(ze=65536+((1023&ze)<<10|1023&Ze.charCodeAt(ct+=1)),rt[rt.length]=$[240|ze>>18]+$[128|ze>>12&63]+$[128|ze>>6&63]+$[128|63&ze])}Le+=rt.join("")}return Le},isBuffer:function(_e){return!(!_e||"object"!=typeof _e||!(_e.constructor&&_e.constructor.isBuffer&&_e.constructor.isBuffer(_e)))},isRegExp:function(_e){return"[object RegExp]"===Object.prototype.toString.call(_e)},maybeMap:function(_e,Ie){if(q(_e)){for(var Be=[],tt=0;tt<_e.length;tt+=1)Be.push(Ie(_e[tt]));return Be}return Ie(_e)},merge:function se(_e,Ie,Be){if(!Ie)return _e;if("object"!=typeof Ie){if(q(_e))_e.push(Ie);else{if(!_e||"object"!=typeof _e)return[_e,Ie];(Be&&(Be.plainObjects||Be.allowPrototypes)||!F.call(Object.prototype,Ie))&&(_e[Ie]=!0)}return _e}if(!_e||"object"!=typeof _e)return[_e].concat(Ie);var tt=_e;return q(_e)&&!q(Ie)&&(tt=Y(_e,Be)),q(_e)&&q(Ie)?(Ie.forEach(function(Ae,vt){if(F.call(_e,vt)){var Le=_e[vt];Le&&"object"==typeof Le&&Ae&&"object"==typeof Ae?_e[vt]=se(Le,Ae,Be):_e.push(Ae)}else _e[vt]=Ae}),_e):Object.keys(Ie).reduce(function(Ae,vt){var Le=Ie[vt];return Ae[vt]=F.call(Ae,vt)?se(Ae[vt],Le,Be):Le,Ae},tt)}}},5990:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.CartesianMeasureValue=void 0;const r=A(1788),F=A(4442);class q{constructor(Q){if(!Q?.cartesianValues||!Q?.cartesianPixelWidth)throw new Error("CartesianMeasureValue needs cartesianValues && cartesianPixelWidth");this.setCartesianValuesAsAny(Q.cartesianValues),this.setCartesianPixelWidth(Q.cartesianPixelWidth)}static From(Q){const Y=new q({cartesianValues:[],cartesianPixelWidth:{lat:0,lng:0}});return typeof Q.cartesianValues<"u"&&Y.setCartesianValuesAsAny(Q.cartesianValues),typeof Q.cartesianPixelWidth<"u"&&typeof Q.cartesianPixelWidth.lat<"u"&&typeof Q.cartesianPixelWidth.lng<"u"&&Y.setCartesianPixelWidth(Q.cartesianPixelWidth),Y}getCartesianValuesStringified(){return JSON.stringify({cartesianValues:this.cartesianValues})}getCartesianValues(){return this.cartesianValues}setCartesianValues(Q){this.cartesianValues=Q}setCartesianValuesAsString(Q){let Y=JSON.parse(Q);Y.cartesianValues&&(Y=Y.cartesianValues),Array.isArray(Y)&&(this.cartesianValues=[],Y.forEach(Z=>{this.cartesianValues.push(new r.CartesianValue(Z))}))}toJSON(Q=!1){let Y=this.cartesianValues;return Q&&(Y=JSON.stringify(this.cartesianValues)),{cartesianValues:Y,cartesianPixelWidth:this.cartesianPixelWidth}}toJSONWithCartesianValuesStringified(){return{cartesianValues:JSON.stringify(this.cartesianValues),cartesianPixelWidth:this.cartesianPixelWidth}}getCartesianValue(Q){for(const Y of this.cartesianValues)if(Y.lat===Q.lat&&Y.lng===Q.lng)return Y;return null}getCartesianValueRounded(Q){for(const Y of this.cartesianValues){const Z=Math.round(Q.lat/Q.scale.lat)*Q.scale.lat,G=Math.round(Q.lng/Q.scale.lng)*Q.scale.lng,J=Math.round(Y.lat/Q.scale.lat)*Q.scale.lat,ue=Math.round(Y.lng/Q.scale.lng)*Q.scale.lng;if(Z===J&&G===ue)return Y}return null}setCartesianValue(Q){this.cartesianValues.push(new r.CartesianValue(Q))}getCartesianPixelWidth(){return this.cartesianPixelWidth}setCartesianPixelWidth(Q){this.cartesianPixelWidth=new F.LatLng(Q)}setCartesianValuesAsAny(Q){"string"==typeof Q?this.setCartesianValuesAsString(Q):this.setCartesianValues(Q)}}H.CartesianMeasureValue=q},1788:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.CartesianValue=void 0;const r=A(4442);H.CartesianValue=class F extends r.LatLng{constructor($){super($),this.value=$.value}toJSON(){const $=super.toJSON();return $.value=this.value,$}}},1101:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0})},4442:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.LatLng=void 0;const r=A(7307);H.LatLng=class F{constructor($){if(typeof $?.lat>"u"||typeof $?.lng>"u")throw new Error("LatLng needs valid latitude && longitude");this.lat=$.lat,this.lng=$.lng}equals($){return this.lat===$.lat&&this.lng===$.lng}setPrecision($=12){const Q=Math.pow(10,$);this.lat=Math.round(this.lat*Q)/Q,this.lng=Math.round(this.lng*Q)/Q}rounded($){this.lat=r.QualityTools.RoundLatLng(this.lat,$.lat,!0),this.lng=r.QualityTools.RoundLatLng(this.lng,$.lng,!0)}limitPrecision($=12){this.lat=r.QualityTools.LimitWithPrecision(this.lat,$),this.lng=r.QualityTools.LimitWithPrecision(this.lng,$)}toJSON(){return{lat:this.lat,lng:this.lng}}}},7349:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.RadarCartesianMeasureValue=void 0;const r=A(5990);H.RadarCartesianMeasureValue=class F extends r.CartesianMeasureValue{constructor($){super($),this.angle=$.angle,this.axis=$.axis}toJSON($=!1){const Q=super.toJSON($);return Q.angle=this.angle,Q.axis=this.axis,Q}toJSONWithCartesianValuesStringified(){const $=super.toJSONWithCartesianValuesStringified();return $.angle=this.angle,$.axis=this.axis,$}}},6695:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.RainCartesianMeasureValue=void 0;const r=A(5990);H.RainCartesianMeasureValue=class F extends r.CartesianMeasureValue{constructor($){super($),this.version=$.version}getVersion(){return this.version}toJSON($=!1){const Q=super.toJSON($);return Q.version=this.getVersion(),Q}toJSONWithCartesianValuesStringified(){const $=super.toJSONWithCartesianValuesStringified();return $.version=this.getVersion(),$}}},4749:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.GaugeMeasure=void 0;const r=A(2482),F=A(4376);H.GaugeMeasure=(()=>{class $ extends r.Measure{constructor(Y){super(Y),Y.gauge&&this.addLinks([new F.GaugeNode({id:Y.gauge,latitude:NaN,longitude:NaN,team:null,name:null})])}toJSON(Y){const Z=super.toJSON(Y);return Z.gauge=this.getLinkId(F.GaugeNode.TYPE),Z}getLinkType(){return $.TYPE}}return $.TYPE="gauge-measure",$})()},4376:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.GaugeNode=void 0;const r=A(3975);H.GaugeNode=(()=>{class q extends r.RaainNode{constructor(Q){super(Q),this.latitude=Q.latitude,this.longitude=Q.longitude,this.name=Q.name,this.description=Q.description,this.team=Q.team,this.setConfiguration(Q.configurationAsJSON)}setConfiguration(Q){let Y=Q;try{Y=JSON.parse(Q)}catch{}Y&&(this.configurationAsJSON=JSON.stringify(Y))}getConfiguration(){try{return JSON.parse(this.configurationAsJSON)}catch{}return null}toJSON(){var Q;const Y=super.toJSON();return Y.name=this.name,Y.description=this.description,Y.latitude=this.latitude,Y.longitude=this.longitude,Y.team=(null===(Q=this.team)||void 0===Q?void 0:Q.id)||this.team,Y.configurationAsJSON=this.configurationAsJSON,Y}getLinkType(){return q.TYPE}}return q.TYPE="gauge",q})()},9834:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.GaugeNodeMap=void 0;const r=A(4376);H.GaugeNodeMap=class F extends r.GaugeNode{constructor($){super($),this.setMapData($.map)}toJSON(){const $=super.toJSON();return $.map=this.map,$}setMapData($){if(!$)return;let Q=$;try{"string"!=typeof $&&(Q=JSON.stringify($))}catch{}this.map=Q.toString()}getMapData(){return this.map?JSON.parse(this.map):[]}}},4718:function(Ct,H,A){"use strict";var r=this&&this.__createBinding||(Object.create?function(q,$,Q,Y){void 0===Y&&(Y=Q);var Z=Object.getOwnPropertyDescriptor($,Q);(!Z||("get"in Z?!$.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return $[Q]}}),Object.defineProperty(q,Y,Z)}:function(q,$,Q,Y){void 0===Y&&(Y=Q),q[Y]=$[Q]}),F=this&&this.__exportStar||function(q,$){for(var Q in q)"default"!==Q&&!Object.prototype.hasOwnProperty.call($,Q)&&r($,q,Q)};Object.defineProperty(H,"__esModule",{value:!0}),F(A(2482),H),F(A(6705),H),F(A(8799),H),F(A(3400),H),F(A(3975),H),F(A(2366),H),F(A(4257),H),F(A(6874),H),F(A(2775),H),F(A(9912),H),F(A(7264),H),F(A(8077),H),F(A(7307),H),F(A(3192),H),F(A(4228),H),F(A(4376),H),F(A(4749),H),F(A(9834),H),F(A(3640),H),F(A(7621),H),F(A(156),H),F(A(130),H),F(A(1106),H),F(A(5342),H),F(A(8040),H),F(A(8772),H),F(A(2317),H),F(A(6759),H),F(A(1965),H),F(A(2502),H),F(A(8408),H),F(A(8298),H),F(A(5438),H),F(A(4442),H),F(A(1788),H),F(A(5990),H),F(A(7349),H),F(A(6695),H),F(A(1101),H)},6705:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.EventNode=void 0,H.EventNode=class A{constructor(F){this.id=F.id,this.title=F.title,this.status=F.status,this.red=F.red,this.description=F.description,this.created=F.created,this.modified=F.modified}toJSON(){return{id:this.id,title:this.title,status:this.status,red:this.red,description:this.description,created:this.created,modified:this.modified}}}},3400:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.Link=void 0;class A{constructor(F,q){this.rel=F,this.href=q}static isCloneable(F){return F&&F.rel&&F.href}static clone(F){return new A(F.rel,F.href)}getId(){const F=this.href.split("/");return F[F.length-1]}getLinkType(){return this.rel}}H.Link=A},2482:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.Measure=void 0;const r=A(3975);H.Measure=class F extends r.RaainNode{constructor($){super($),this.values=$.values?$.values:[],this.date=$.date?new Date($.date):void 0,this.validity=$.validity>=0?$.validity:-1,this.setConfiguration($.configurationAsJSON)}setConfiguration($){let Q=$;try{Q=JSON.parse($)}catch{}Q&&(this.configurationAsJSON=JSON.stringify(Q))}toJSON($={}){var Q;const Y=super.toJSON();return Y.date=null===(Q=this.date)||void 0===Q?void 0:Q.toISOString(),Y.validity=this.validity,Y.configurationAsJSON=this.configurationAsJSON,$?.removeValues||(Y.values=this.values),Y}}},8799:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PeopleNode=void 0,H.PeopleNode=class A{constructor(F){this.id=F.id,this.roles=F.roles,this.email=F.email,this.name=F.name}toJSON(){return{id:this.id,roles:this.roles,email:this.email,name:this.name}}hasRole(F){return this.roles.indexOf(F)>=0}addRole(F){this.hasRole(F)||this.roles.push(F)}}},3975:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.RaainNode=void 0;const r=A(3400);class F{constructor($){if(!$?.id)throw new Error("RaainNode needs a valid Object or ID");this.id=$.id,this.setLinks($.links?$.links:[]),this.version=$.version?$.version:void 0}static _getPurifiedLinks($){return $&&0!==$.length?function Y(Z,G){const J={};return Z.filter(ue=>{if(!ue)return!1;const oe=G(ue);return!J.hasOwnProperty(oe)&&(J[oe]=!0)})}($.map(Z=>{if(Z instanceof r.Link||r.Link.isCloneable(Z))return r.Link.clone(Z);if(Z&&Z.getLinkType&&Z.id){let G="../"+Z.getLinkType()+"s";const J=Z;return J.date&&J.date.toISOString&&(G+="/"+J.date.toISOString(),J.version&&(G+="/"+J.version)),G+="/"+Z.id,new r.Link(Z.getLinkType(),G)}}),JSON.stringify):[]}toJSON(){return{id:this.id,links:this.links,version:this.version}}getId(){return this.id.toString()}setLinks($){this.links=F._getPurifiedLinks($)}addLinks($){this.links||(this.links=[]);const Q=this.links.concat($);this.links=F._getPurifiedLinks(Q)}getLinks($){return this.links?$?this.links.filter(Q=>Q.getLinkType()===$):this.links:[]}getLink($,Q){Q=Q||0;const Y=this.getLinks($);return Y.length<=Q?null:Y[Q]}getLinkId($,Q){const Y=this.getLink($,Q=Q||0);return Y?Y.getId():null}getLinkIds($,Q){return this.getLinks($).map(Z=>Z.getId())}getLinksCount($){return this.getLinks($).length}getVersion(){return this.version}getLinkType(){throw new Error("to implement")}}H.RaainNode=F},2366:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.TeamNode=void 0;const r=A(3975);H.TeamNode=(()=>{class q extends r.RaainNode{constructor(Q){super(Q),this.id=Q.id,this.name=Q.name,this.description=Q.description,this.contracts=Q.contracts,this.contacts=Q.contacts}toJSON(){return{id:this.id,name:this.name,description:this.description,contracts:this.contracts,contacts:this.contacts}}getLinkType(){return q.TYPE}}return q.TYPE="team",q})()},5721:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.AbstractPolarMeasureValue=void 0;const r=A(1965);class F{constructor($){if(!$?.polarMeasureValue)throw new Error("PolarMeasureValue needs polarMeasureValue");let Q=$.polarMeasureValue;if("string"==typeof Q){if(!(Q.indexOf("polarMeasureValue")>0))return void this.setPolarsAsString(Q);Q=JSON.parse(Q)}if(Q instanceof F||Q instanceof r.PolarMeasureValue)return void this.setPolarsAsContainer(Q.getPolars());let Y=Q;Q&&typeof Q.polarMeasureValue<"u"&&(Y=Q.polarMeasureValue);let Z=Y;if(Y&&Y.measureValuePolarContainers&&(Z=Y.measureValuePolarContainers),Z instanceof F||Z instanceof r.PolarMeasureValue)this.setPolarsAsContainer(Z.getPolars());else if("string"!=typeof Z){if(!Array.isArray(Z))throw new Error("PolarMeasureValue needs valid typed polarMeasureValue");this.setPolarsAsContainer(Z)}else this.setPolarsAsString(Z)}getPolarsStringified(){return this.polarMeasureValue.getPolarsStringified()}getPolars(){return this.polarMeasureValue.getPolars()}setPolarsAsString($){this.polarMeasureValue=new r.PolarMeasureValue({measureValuePolarContainers:$})}setPolarsAsContainer($){this.polarMeasureValue=new r.PolarMeasureValue({measureValuePolarContainers:$})}getPolarValue($){return this.polarMeasureValue.getPolarValue($)}setPolarValue($){return this.polarMeasureValue.setPolarValue($)}getAzimuthsCount(){return this.polarMeasureValue.getPolars().length}getPolarEdgesCount(){const $=this.polarMeasureValue.getPolars();return $.length>0?$[0].polarEdges.length:0}getDistance(){const $=this.polarMeasureValue.getPolars();return $.length>0?$[0].distance:1}toJSON($=!1){let Q=this.polarMeasureValue;return $&&(Q=JSON.stringify(this.polarMeasureValue.toJSONWithPolarStringified())),{polarMeasureValue:Q}}toJSONWithPolarStringified(){return{polarMeasureValue:JSON.stringify(this.polarMeasureValue.toJSONWithPolarStringified())}}}H.AbstractPolarMeasureValue=F},2317:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.GaugePolarMeasureValue=void 0;const r=A(5721);H.GaugePolarMeasureValue=class F extends r.AbstractPolarMeasureValue{constructor($){super($)}}},5438:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0})},6759:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.MeasureValuePolarContainer=void 0,H.MeasureValuePolarContainer=class A{constructor(F){if(typeof F?.azimuth>"u")throw new Error("MeasureValuePolarContainer needs a valid Object");this.azimuth=F.azimuth,this.distance=F.distance,this.polarEdges=F.polarEdges}toJSON(){return{azimuth:this.azimuth,distance:this.distance,polarEdges:this.polarEdges}}}},1965:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PolarMeasureValue=void 0;const r=A(6759),F=A(2502),q=A(5721);class ${constructor(Y){"string"!=typeof Y.measureValuePolarContainers?this.setPolarsAsContainer(Y.measureValuePolarContainers instanceof q.AbstractPolarMeasureValue||Y.measureValuePolarContainers instanceof $?Y.measureValuePolarContainers.getPolars():Y.measureValuePolarContainers):this.setPolarsAsString(Y.measureValuePolarContainers)}getPolarsStringified(){return JSON.stringify(this.getPolars())}getPolars(){return this.measureValuePolarContainers}setPolarsAsString(Y){try{let Z=JSON.parse(Y);Z&&Z.measureValuePolarContainers&&(Z=Z.measureValuePolarContainers),"string"==typeof Z&&(Z=JSON.parse(Z)),this.measureValuePolarContainers=Z.map(G=>new r.MeasureValuePolarContainer(G))}catch{this.measureValuePolarContainers=[]}}setPolarsAsContainer(Y){let Z=Y||[];"length"in Z||(Z=[]),this.measureValuePolarContainers=Z}getPolarValue(Y){let Z=Y.azimuthIndex;Y.strict||(Z=this.updateIndex(this.measureValuePolarContainers,Y.azimuthIndex));const G=this.measureValuePolarContainers[Z];if(!G)return null;let J=Y.edgeIndex;Y.strict||(J=this.updateIndex(G.polarEdges,Y.edgeIndex));const ue=G.polarEdges[J];return typeof ue>"u"?null:new F.PolarValue({value:ue,polarAzimuthInDegrees:G.azimuth,polarDistanceInMeters:G.distance*J})}setPolarValue(Y){const Z=this.updateIndex(this.measureValuePolarContainers,Y.azimuthIndex),G=this.measureValuePolarContainers[Z];if(!G)return null;const J=this.updateIndex(G.polarEdges,Y.edgeIndex);G.polarEdges[J]=Y.value}toJSON(){return{measureValuePolarContainers:this.measureValuePolarContainers}}toJSONWithPolarStringified(){return{measureValuePolarContainers:this.getPolarsStringified()}}updateIndex(Y,Z){return Y.length<=Z?Z-=Y.length:Z<0&&(Z=Y.length+Z),Z}}H.PolarMeasureValue=$},2502:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PolarValue=void 0,H.PolarValue=class A{constructor(F){this.value=F.value,this.polarAzimuthInDegrees=F.polarAzimuthInDegrees,this.polarDistanceInMeters=F.polarDistanceInMeters}}},8408:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.RadarPolarMeasureValue=void 0;const r=A(5721);class F extends r.AbstractPolarMeasureValue{constructor($){if(super($),$.polarMeasureValue instanceof F)return this.angle=$.polarMeasureValue.angle,void(this.axis=$.polarMeasureValue.axis);if("string"==typeof $.polarMeasureValue){const Q=JSON.parse($.polarMeasureValue);return this.angle=typeof $.angle<"u"?$.angle:Q.angle,void(this.axis=typeof $.axis<"u"?$.axis:Q.axis)}this.angle=$.angle,this.axis=$.axis}static BuildFakeRadarPolarMeasureValues($=0){const Q=[],Y=(Z,G)=>{Math.sin(Z*(Math.PI/180));let oe=0;const ce=Math.abs(Z-$),le=Math.abs(G-100);return ce<20&&le<20&&(oe=56-ce*Math.random()*2),oe};for(let Z=0;Z<=90;Z+=90)for(let G=.4;G<3;G++){const J={polarMeasureValue:null,axis:Z,angle:G},ue=[];for(let ce=0;ce<360;ce+=.5){const le=[];for(let ke=0;ke<250;ke++){const xe=Math.round(G*Y(ce,ke));le.push(xe)}ue.push({azimuth:ce,distance:1e3,polarEdges:le})}J.polarMeasureValue=ue;const oe=new F(J);Q.push(oe)}return Q}toJSON($=!1){const Q=super.toJSON($);return Q.angle=this.angle,Q.axis=this.axis,Q}toJSONWithPolarStringified(){const $=super.toJSONWithPolarStringified();return $.angle=this.angle,$.axis=this.axis,$}}H.RadarPolarMeasureValue=F},8298:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.RainPolarMeasureValue=void 0;const r=A(5721),F=A(1965);class q extends r.AbstractPolarMeasureValue{constructor(Q){super(Q),this.version=Q.polarMeasureValue instanceof q?Q.polarMeasureValue.version:Q.version}static From(Q){let Y,Z;return"string"==typeof Q.version&&(Y=Q.version),typeof Q.polarMeasureValue<"u"&&(Z=Q.polarMeasureValue),typeof Q.measureValuePolarContainers<"u"&&(Z=new F.PolarMeasureValue({measureValuePolarContainers:Q.measureValuePolarContainers})),new q({polarMeasureValue:Z,version:Y})}toJSON(Q=!1){const Y=super.toJSON(Q);return Y.version=this.version,Y}toJSONWithPolarStringified(){const Q=super.toJSONWithPolarStringified();return Q.version=this.version,Q}getVersion(){return this.version}}H.RainPolarMeasureValue=q},4257:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.QualityPoint=void 0;const r=A(1788);class F{constructor($){this.gaugeId=$.gaugeId,this.gaugeLabel=$.gaugeLabel,this.gaugeDate=new Date($.gaugeDate),this.rainDate=new Date($.rainDate),this.gaugeCartesianValue=$.gaugeCartesianValue,this.rainCartesianValues=$.rainCartesianValues,this.speed=$.speed,this.remark=$.remark}static CreateFromJSON($){var Q,Y;return new F({gaugeId:$.gaugeId,gaugeLabel:$.gaugeLabel,gaugeDate:new Date($.gaugeDate),rainDate:new Date($.rainDate),gaugeCartesianValue:new r.CartesianValue($.gaugeCartesianValue),rainCartesianValues:$.rainCartesianValues.map(Z=>new r.CartesianValue(Z)),speed:{x:null===(Q=$.speed)||void 0===Q?void 0:Q.x,y:null===(Y=$.speed)||void 0===Y?void 0:Y.y},remark:$.remark})}getGaugeValue(){var $;return null===($=this.gaugeCartesianValue)||void 0===$?void 0:$.value}getRainValue(){const $=this.rainCartesianValues.reduce((Q,Y)=>Q+Y.value,0);return this.rainCartesianValues.length?$/this.rainCartesianValues.length:0}getRainLat(){var $;return null===($=this.getMiddleValue())||void 0===$?void 0:$.lat}getRainLng(){var $;return null===($=this.getMiddleValue())||void 0===$?void 0:$.lng}getDelta(){return Math.abs(this.getRainValue()-this.getGaugeValue())}getRatio(){let $=0;return 0===this.getRainValue()||($=this.getGaugeValue()>this.getRainValue()?this.getRainValue()/this.getGaugeValue():this.getGaugeValue()/this.getRainValue()),$}getTimeDeltaInMinutes(){const $=this.rainDate.getTime()-this.gaugeDate.getTime();return Math.round($/6e4)}accumulateValues($){this.gaugeCartesianValue.value+=$.getGaugeValue(),0===this.rainCartesianValues.length?this.rainCartesianValues=$.rainCartesianValues.map(Q=>Q):this.rainCartesianValues.forEach(Q=>Q.value+=$.getRainValue())}getMiddleValue(){if(!this.rainCartesianValues||0===this.rainCartesianValues.length)return null;const $=this.rainCartesianValues.sort((Y,Z)=>(Y.lat-Z.lat)*(Y.lng-Z.lng));return $[Math.floor($.length/2)]}}H.QualityPoint=F},6874:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.SpeedMatrix=void 0;const r=A(8077),F=A(4228),q=A(7307),$=A(3192),Q=A(4257),Y=A(1788),Z=A(4442);H.SpeedMatrix=(()=>{class J{constructor(oe,ce,le,de={angleInDegrees:0,pixelsPerPeriod:0},ke=J.DEFAULT_TRUSTED_INDICATOR,xe={xMin:-J.DEFAULT_MATRIX_RANGE,xMax:J.DEFAULT_MATRIX_RANGE,yMin:-J.DEFAULT_MATRIX_RANGE,yMax:J.DEFAULT_MATRIX_RANGE},se=new $.Position({x:q.QualityTools.DEFAULT_SCALE,y:q.QualityTools.DEFAULT_SCALE})){this.name=oe,this.remarks=ce,this.qualityPoints=le,this.speed=de,this.trustedTechnicalIndicator=ke,this.flattenPositionRange=xe,this.roundScale=se}static CreateFromJson(oe){const ce=new J(oe.name,oe.remarks,oe.qualityPoints,oe.speed,oe.trustedTechnicalIndicator,oe.flattenPositionRange,oe.roundScale);return oe.flattenPositionHistory&&(ce.flattenPositionHistory=oe.flattenPositionHistory),ce}static ComputeQualityIndicator(oe){let ce=0;for(const le of oe)ce+=le.getDelta();return oe.length>0&&(ce/=oe.length),ce}static LogPositionValues(oe,ce,le={xMin:-J.DEFAULT_MATRIX_RANGE,xMax:J.DEFAULT_MATRIX_RANGE,yMin:-J.DEFAULT_MATRIX_RANGE,yMax:J.DEFAULT_MATRIX_RANGE},de=console){const ke=Ie=>Ie<0?""+Ie:0===Ie?" 0":"+"+Ie,xe=Ie=>"x"+ke(Ie-le.xMax),se=Ie=>"y"+ke(Ie-le.yMax),_e={};for(let Ie=le.yMax-le.yMin;Ie>=0;Ie--){const Be={};for(let tt=0;tt<=le.xMax-le.xMin;tt++)Be[xe(tt)]=ce(new r.PositionHistory({id:"id",label:"label",date:new Date,x:tt,y:Ie,value:0,valueFromGauge:0,valueFromRain:0}));_e[se(Ie)]=Be}for(let Ie=le.xMin;Ie<=le.xMax;Ie++)for(let Be=le.yMin;Be<=le.yMax;Be++){const tt=oe.filter(Le=>Le.x===Ie&&Le.y===Be)[0],vt=Ie-le.xMin;_e[se(Be-le.yMin)][xe(vt)]=ce(tt)}de.table(_e)}static Normalize(oe){const ce=[];let le=Number.EPSILON;for(const de of oe)le=Math.max(le,de.value);for(const de of oe)ce.push(new F.PositionValue({x:de.x,y:de.y,value:de.value/le}));return ce}renderFlatten(oe){const ce=this.getFlatten();if(0===ce.length)return[];const le=[];let de=0;for(const[ke,xe]of ce.entries())for(const[se,_e]of xe.entries()){const Ie=ke+this.flattenPositionRange.xMin,Be=se+this.flattenPositionRange.yMin;de=Math.max(de,_e),le.push(new F.PositionValue({x:Ie,y:Be,value:_e}))}return de&&oe.normalize&&le.forEach(ke=>{ke.value=ke.value/de}),le}getGaugeIdRelatedValues(oe){const ce=this.qualityPoints.filter(le=>le.gaugeId===oe);return 1===ce.length?ce[0]:null}getQualityPoints(){return this.qualityPoints.map(oe=>new Q.QualityPoint(oe))}getMaxRain(){const oe=this.getQualityPoints();let ce=-1;for(const le of oe)ce=Math.max(ce,le.getRainValue());return ce}getMaxGauge(){const oe=this.getQualityPoints();let ce=-1;for(const le of oe)ce=Math.max(ce,le.getGaugeValue());return ce}getTrustedTechnicalIndicator(){return this.trustedTechnicalIndicator}isConsistent(){return this.trustedTechnicalIndicator>J.DEFAULT_TRUSTED_INDICATOR/2}toJSON(){return{name:this.name,remarks:this.remarks,flattenPositionHistory:this.flattenPositionHistory,flattenPositionRange:this.flattenPositionRange,speed:this.speed,qualityPoints:this.qualityPoints,trustedTechnicalIndicator:this.trustedTechnicalIndicator,roundScale:this.roundScale}}logFlatten(oe={overridingLogger:null,simplify:!1}){let ce=oe.overridingLogger;ce||(ce=console);const de=this.renderFlatten({normalize:!1}).map(xe=>new r.PositionHistory({id:"-",label:"-",date:null,x:xe.x,y:xe.y,value:xe.value,valueFromGauge:-1,valueFromRain:-1}));J.LogPositionValues(de,xe=>{const se=xe.value;return oe.simplify?1===se?"##":se>=.8?"#":se>=.5?"=":se>=.2?"_":" ":""+Math.round(1e3*se)/1e3},this.flattenPositionRange,ce)}getSpeed(){return this.speed?this.speed:{angleInDegrees:0,pixelsPerPeriod:0}}getFlatten(){if(this.flattenPositionHistory)return this.flattenPositionHistory;this.flattenPositionHistory=[];const oe=this.flattenPositionRange.yMax-this.flattenPositionRange.yMin+1,ce=this.flattenPositionRange.xMax-this.flattenPositionRange.xMin+1;for(let le=0;le<oe;le++)this.flattenPositionHistory.push(new Array(ce).fill(0));for(const le of this.qualityPoints){const de=le.getRatio(),ke=le.getRainLat()-le.gaugeCartesianValue.lat,xe=le.getRainLng()-le.gaugeCartesianValue.lng,se=new Y.CartesianValue({value:de,lat:ke,lng:xe}),_e=q.QualityTools.MapLatLngToPosition(se,!1,new Z.LatLng({lat:q.QualityTools.DEFAULT_SCALE,lng:q.QualityTools.DEFAULT_SCALE})),Ie=Math.round(_e.x/this.roundScale.x-this.flattenPositionRange.xMin),Be=Math.round(_e.y/this.roundScale.y-this.flattenPositionRange.yMin);if(!(0<=Ie&&Ie<ce&&0<=Be&&Be<oe))throw new Error("Matrix ranges and positions are not consistent.");this.flattenPositionHistory[Ie][Be]+=se.value}return this.flattenPositionHistory}}return J.DEFAULT_MATRIX_RANGE=16,J.DEFAULT_TRUSTED_INDICATOR=1,J})()},2775:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.SpeedMatrixContainer=void 0;const r=A(6874),F=A(4228),q=A(8077),$=A(4257),Q=A(1788);class Y{constructor(G){this.qualityPoints={},this.trustedIndicators=[],this.flattenMatrices=[],this.matrices=G.matrices}static CreateFromJson(G){const J=new Y({matrices:[]});return G?.qualityPoints&&(J.qualityPoints=G.qualityPoints),G?.matrices&&(J.matrices=G.matrices.map(ue=>r.SpeedMatrix.CreateFromJson(ue))),G?.trustedIndicators&&(J.trustedIndicators=G.trustedIndicators),G?.flattenMatrices&&(J.flattenMatrices=G.flattenMatrices),J}static BuildCompares(G,J=!0){var ue;const oe=G.sort((tt,Ae)=>tt.date.getTime()-Ae.date.getTime()),ce=[],le={name:"cumulative_"+G.reduce((tt,Ae)=>tt+"_"+Ae.date.toISOString(),""),date:null===(ue=G[0])||void 0===ue?void 0:ue.date,qualityPointsLegacy:[],qualityPoints:[],maxValue:0,remarks:""},de={};let ke=new Date,xe=new Date;oe.length>0&&(ke=oe[0].date,xe=oe[oe.length-1].date);for(const tt of oe){const Ae=Y.BuildCompareTimeline(tt,ke,xe);ce.push({date:tt.date,rainComputationQuality:tt,compareTimeline:Ae});const vt=Ae.reduce((Le,Ge)=>Le.concat(Ge.qualityPoints),[]);for(const Le of vt){const Ge=Le.gaugeDate.toISOString()+"_"+Le.gaugeId;de[Ge]||(de[Ge]=Le.getDelta()),de[Ge]=Math.min(de[Ge],Le.getDelta())}}const se={};ce.forEach(tt=>{tt.compareTimeline.forEach(Ae=>{for(let vt=Ae.qualityPoints.length-1;vt>=0;vt--){const Le=Ae.qualityPoints[vt],Ge=Le.gaugeDate.toISOString()+"_"+Le.gaugeId;!se[Ge]&&de[Ge]&&de[Ge]===Le.getDelta()?se[Ge]=Le:J&&Ae.qualityPoints.splice(vt,1)}})});const _e={};for(const tt of Object.values(se)){const Ae=tt;_e[Ae.gaugeId]?_e[Ae.gaugeId].accumulateValues(Ae):_e[Ae.gaugeId]=$.QualityPoint.CreateFromJSON(Ae)}le.qualityPoints=Object.values(_e),le.qualityPointsLegacy=Object.values(_e);const Ie=Math.max(...le.qualityPoints.map(tt=>tt.getRainValue())),Be=Math.max(...le.qualityPoints.map(tt=>tt.getGaugeValue()));return le.maxValue=Math.max(Ie,Be),{comparesPerDate:ce,compareCumulative:le}}static BuildCompareTimeline(G,J,ue){var oe;const ce=[],le=G.qualitySpeedMatrixContainer;if(!le)return ce;const de=le.getMatrices().map(ke=>ke.name).sort((ke,xe)=>parseInt(ke,10)-parseInt(xe,10));for(const[ke,xe]of de.entries()){const se=le.getQualityPoints(xe),_e=Math.max(le.getMaxGauge(),le.getMaxRain()),Ie=null===(oe=le.getMatrix(ke))||void 0===oe?void 0:oe.remarks,Be=parseInt(xe,10),tt=new Date(G.date.getTime()-60*Be*1e3);if(J.getTime()<=tt.getTime()&&tt.getTime()<=ue.getTime()){let Ae=tt.toLocaleString();Ae+=Be>0?" since ":" in ",Ae+=Math.abs(Be)+" minutes";const vt=se.filter(Ge=>Ge);ce.push({name:Ae,date:tt,qualityPointsLegacy:se,qualityPoints:vt,maxValue:_e,remarks:Ie})}}return ce}static mergeStillComputed(G,J){if(G||J)return G?J?null:G:J}static mergeDateMin(G,J){const ue=this.mergeStillComputed(G,J);return null===ue?new Date(Math.min(new Date(G).getTime(),new Date(J).getTime())):void 0!==ue?new Date(ue):ue}static mergeDateMax(G,J){const ue=this.mergeStillComputed(G,J);return null===ue?new Date(Math.max(new Date(G).getTime(),new Date(J).getTime())):void 0!==ue?new Date(ue):ue}static mergeAvg(G,J){if(0===G&&0===J)return 0;const ue=this.mergeStillComputed(G,J);return null===ue?(G+J)/2:ue}static mergeMin(G,J){const ue=this.mergeStillComputed(G,J);return null===ue?Math.min(G,J):ue}static mergeConcat(G,J){const ue=this.mergeStillComputed(G,J);return null===ue?G.concat(J):ue}static mergeReduce(G,J){const ue=this.mergeStillComputed(G,J);if(null===ue){const oe=new Map,ce=G.concat(J);for(const le of ce){const de={gaugeValue:0,rainValue:0};oe.set(le.gaugeId,{gaugeLabel:le.gaugeLabel,gaugeValue:le.getGaugeValue()+de.gaugeValue,gaugeLat:le.gaugeCartesianValue.lat,gaugeLng:le.gaugeCartesianValue.lng,rainValue:le.getRainValue()+de.rainValue,rainLat:le.getRainLat(),rainLng:le.getRainLng(),gaugeDate:le.gaugeDate,rainDate:le.rainDate,rainCartesianValues:le.rainCartesianValues,remark:le.remark})}return[...oe].map(([le,de])=>new $.QualityPoint({gaugeId:le,gaugeLabel:de.gaugeLabel,gaugeDate:de.gaugeDate,rainDate:de.rainDate,gaugeCartesianValue:new Q.CartesianValue({value:de.gaugeValue,lat:de.gaugeLat,lng:de.gaugeLng}),rainCartesianValues:de.rainCartesianValues,speed:null,remark:de.remark}))}return ue}getMatrix(G=0){return this.matrices.length<=G?null:this.matrices[G]}getMatrixByName(G){const J=this.matrices.filter(ue=>ue.name===G);return 1===J.length?J[0]:null}getMatrices(){return this.matrices}getQualityPoints(G){var J;if(0===this.matrices.length)return[];this.storeFlattenMatrices();let ue=[G];if(G){if((null===(J=this.qualityPoints[G])||void 0===J?void 0:J.length)>0&&this.flattenMatrices.length>0)return this.qualityPoints[G]}else ue=this.matrices.map(ce=>ce.name);let oe=[];for(const ce of ue){const le=this.matrices.filter(de=>de.name===ce);if(1===le.length){const de=le[0].getQualityPoints().map(ke=>new $.QualityPoint(ke));oe=oe.concat(de),this.qualityPoints[ce]=de}}return oe}getQualityPointsByHistoricalPosition(G=0){if(this.matrices.length<=1)return[];const J=this.matrices.sort((ue,oe)=>parseInt(ue.name,10)-parseInt(oe.name,10)).filter((ue,oe)=>oe===G);return 1===J.length?this.getQualityPoints(J[0].name):[]}getMaxGauge(G){const J=this.getQualityPoints(G);let ue=-1;for(const oe of J)ue=Math.max(ue,oe.getGaugeValue());return ue}getMaxRain(G){const J=this.getQualityPoints(G);let ue=-1;for(const oe of J)ue=Math.max(ue,oe.getRainValue());return ue}getQuality(G){const J=this.getQualityPoints(G);return r.SpeedMatrix.ComputeQualityIndicator(J)}getTrustedIndicators(){if(this.trustedIndicators.length>0)return this.trustedIndicators;this.trustedIndicators=[];for(const G of this.matrices)this.trustedIndicators.push(G.getTrustedTechnicalIndicator());return this.trustedIndicators}getSpeed(){let G;for(const J of this.matrices)G=G?{angleInDegrees:Y.mergeAvg(G.angleInDegrees,J.getSpeed().angleInDegrees),pixelsPerPeriod:Y.mergeAvg(G.pixelsPerPeriod,J.getSpeed().pixelsPerPeriod)}:J.getSpeed();return G||(G={angleInDegrees:0,pixelsPerPeriod:0}),G}isConsistent(){const G=this.getTrustedIndicators();let J=0;for(const ue of G)J+=ue;return J/=G.length?G.length:1,J>r.SpeedMatrix.DEFAULT_TRUSTED_INDICATOR/2}getFlattenMatrixCount(){return this.flattenMatrices.length}renderFlattenMatrix(G=0,J={normalize:!0}){let ue;return this.flattenMatrices&&this.flattenMatrices[G]||this.getQualityPoints(),ue=this.flattenMatrices[G],J.normalize&&(ue=r.SpeedMatrix.Normalize(ue)),ue}renderMergedMatrix(G={normalize:!0}){var J;const ue=this.flattenMatrices.length,ce=(Math.sqrt(null===(J=this.flattenMatrices[0])||void 0===J?void 0:J.length)-1)/2;let le=0,de=[];for(let ke=-ce;ke<=ce;ke++)for(let xe=-ce;xe<=ce;xe++){let se=0;for(const _e of this.flattenMatrices)se+=_e.filter(Be=>Be.x===ke&&Be.y===xe)[0].value,le=Math.max(le,se);se/=ue,de.push(new F.PositionValue({x:ke,y:xe,value:se}))}return G.normalize&&(de=r.SpeedMatrix.Normalize(de)),de}toJSON(G){const J={qualityPoints:this.getQualityPoints(),trustedIndicators:this.getTrustedIndicators(),flattenMatrices:this.flattenMatrices,speed:this.getSpeed(),matrices:this.matrices.filter(ue=>!!ue).map(ue=>ue.toJSON())};return G?.removeMatrices&&delete J.matrices,G?.removeFlatten&&delete J.flattenMatrices,G?.removeIndicators&&delete J.trustedIndicators,J}merge(G){return this.trustedIndicators=Y.mergeConcat(this.getTrustedIndicators(),G.getTrustedIndicators()),this.matrices=Y.mergeConcat(this.matrices,G.matrices),this.flattenMatrices=Y.mergeConcat(this.flattenMatrices,G.flattenMatrices),this}logMergedMatrix(G={normalize:!0}){const ue=this.renderMergedMatrix(G).map(ce=>new q.PositionHistory({id:"-",label:"-",date:null,x:ce.x,y:ce.y,value:ce.value,valueFromGauge:-1,valueFromRain:-1}));r.SpeedMatrix.LogPositionValues(ue,ce=>ce?""+Math.round(1e3*ce.value)/1e3:"")}storeFlattenMatrices(){if(this.flattenMatrices.length===this.matrices.length)return this.flattenMatrices;const G=[];for(const J of this.matrices)J.isConsistent()&&G.push(J.renderFlatten({normalize:!0}));this.flattenMatrices=G}}H.SpeedMatrixContainer=Y},9912:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.CartesianGaugeHistory=void 0,H.CartesianGaugeHistory=class A{constructor(F){this.gaugeId=F.gaugeId,this.gaugeLabel=F.gaugeLabel,this.date=F.date,this.value=F.value,this.configurationAsJSON=F.configurationAsJSON}}},7264:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.CartesianRainHistory=void 0,H.CartesianRainHistory=class A{constructor(F){this.date=F.date,this.computedValue=F.computedValue}}},8077:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PositionHistory=void 0;const r=A(4228);H.PositionHistory=class F extends r.PositionValue{constructor($){super($),this.id=$.id,this.label=$.label,this.date=$.date,this.valueFromGauge=$.valueFromGauge,this.valueFromRain=$.valueFromRain,this.configurationAsJSON=$.configurationAsJSON}}},3192:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.Position=void 0,H.Position=(()=>{class r{constructor(q){this.x=q.x,this.y=q.y,this.precision=r.DEFAULT_PRECISION}setPrecision(q=r.DEFAULT_PRECISION){Math.pow(10,q);const Q=this.getXY(q);this.x=Q.x,this.y=Q.y}getXY(q){if(typeof q>"u")return{x:this.x,y:this.y};const $=Math.pow(10,q);return{x:Math.round(this.x*$)/$,y:Math.round(this.y*$)/$}}samePosition(q,$){const Q=this.getXY($);return Q.x===q.x&&Q.y===q.y}getPrecision(){return this.precision}getXYScaled(q){const $=Math.round(Math.log10(1/q));return this.getXY($)}}return r.DEFAULT_PRECISION=6,r.uniq=F=>{const q=[];for(const $ of F)q.filter(Y=>Y.x===$.x&&Y.y===$.y).length<=0&&q.push($);return q},r})()},4228:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PositionValue=void 0;const r=A(3192);H.PositionValue=class F extends r.Position{constructor($){super($),this.value=$.value}}},7307:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.QualityTools=void 0;const r=A(4442),F=A(3192);H.QualityTools=(()=>{class ${static IndexOfDualArray(Y,Z){for(const[G,J]of Y.entries())if(J[0]===Z[0]&&J[1]===Z[1])return G;return-1}static Precision(Y){if(!isFinite(Y))return 0;let Z=1,G=0;for(;Math.round(Y*Z)/Z!==Y;)Z*=10,G++;return G}static RoundLatLng(Y,Z=$.DEFAULT_SCALE,G=!1){const J=Math.round(Y/Z)*Z;return G?parseFloat(parseFloat(""+J).toPrecision(12)):J}static LimitWithPrecision(Y,Z=12){return parseFloat(parseFloat(""+Y).toPrecision(Z))}static IsEqualsLatLng(Y,Z,G=$.DEFAULT_SCALE){return $.RoundLatLng(Y,G,!0)===$.RoundLatLng(Z,G,!0)}static IsAroundLatLng(Y,Z,G,J=$.DEFAULT_SCALE){let ue=!1;const oe=-G*J,ce=G*J;for(let le=oe;!ue&&le<=ce;le+=J)for(let de=oe;!ue&&de<=ce;de+=J)ue=$.RoundLatLng(Y.lat,J,!0)===$.RoundLatLng(Z.lat+le,J,!0),ue&&(ue=$.RoundLatLng(Y.lng,J,!0)===$.RoundLatLng(Z.lng+de,J,!0));return ue}static IsNotAroundLatLng(Y,Z,G,J=$.DEFAULT_SCALE){const ue=G*J+Number.EPSILON;let oe=$.RoundLatLng(Y.lat,J)>$.RoundLatLng(Z.lat+ue,J)||$.RoundLatLng(Y.lat,J)<$.RoundLatLng(Z.lat-ue,J);return oe||(oe=$.RoundLatLng(Y.lng,J)>$.RoundLatLng(Z.lng+ue,J)||$.RoundLatLng(Y.lng,J)<$.RoundLatLng(Z.lng-ue,J)),oe}static MapLatLngToPosition(Y,Z,G){let J=Y.lng,ue=Y.lat;if(Z){if(!G)throw new Error("need cartesianPixelWidth to MapLatLngToPosition");J=$.RoundLatLng(J,G.lng,!0),ue=$.RoundLatLng(ue,G.lat,!0)}return new F.Position({x:J,y:ue})}static MapPositionToLatLng(Y){return new r.LatLng({lat:Y.y,lng:Y.x})}static DegToRad(Y){return Y*Math.PI/180}static GetAzimuthRad(Y){return $.DegToRad(90-Y)}static ComputeLatSteps(Y){const Z=Y.map(G=>G.lat).sort((G,J)=>G-J);return $.UniqNum(Z)}static ComputeLngSteps(Y){const Z=Y.map(G=>G.lng).sort((G,J)=>G-J);return $.UniqNum(Z)}static LogCartesianValues(Y,Z=console){Z.log(">> raain-quality ### logCartesianValues with",Y.length,$.DEFAULT_SCALE," in progress...");const G={},J=$.ComputeLatSteps(Y),ue=$.ComputeLngSteps(Y),oe=de=>$.LabelWithSign(de),ce=de=>$.LabelWithSign(de),le=de=>""+Math.round(100*de)/100;for(let de of J){const ke={};for(let xe of ue){const se=new r.LatLng({lat:de,lng:xe});se.setPrecision(12),de=se.lat,xe=se.lng,ke[oe(xe)]=le(0)}G[ce(de)]=ke}for(const[de,ke]of Y.entries()){let xe=le(ke.value);"0"!==G[ce(ke.lat)][oe(ke.lng)]&&(xe=xe+"?"+G[ce(ke.lat)][oe(ke.lng)]),G[ce(ke.lat)][oe(ke.lng)]=xe}Z.table(G)}static UniqNum(Y){return[...new Set(Y)]}static UniqStr(Y){return[...new Set(Y)]}static CreateNDimArray(Y,Z){if(Y.length>0){const G=Y[0],J=Y.slice(1),ue=[];for(let oe=0;oe<G;oe++)ue[oe]=$.CreateNDimArray(J,Z),typeof ue[oe]>"u"&&(ue[oe]=Z&&JSON.parse(JSON.stringify(Z)));return ue}}static LabelWithSign(Y){return Y<0?""+Y:0===Y?" 0":"+"+Y}}return $.DEFAULT_SCALE=.01,$})()},3640:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.RadarMeasure=void 0;const r=A(2482),F=A(156);H.RadarMeasure=(()=>{class $ extends r.Measure{constructor(Y){super(Y),Y.radar&&this.addLinks([new F.RadarNode({id:Y.radar,latitude:NaN,longitude:NaN,team:null,name:null})])}toJSON(Y){const Z=super.toJSON(Y),G=this.getLinkId(F.RadarNode.TYPE);return G&&(Z.radar=G),Z}getLinkType(){return $.TYPE}}return $.TYPE="radar-measure",$})()},156:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.RadarNode=void 0;const r=A(3975);H.RadarNode=(()=>{class q extends r.RaainNode{constructor(Q){super(Q),this.latitude=Q.latitude,this.longitude=Q.longitude,this.name=Q.name,this.description=Q.description,this.technicalInfos=Q.technicalInfos,this.team=Q.team,this.setConfiguration(Q.configurationAsJSON)}toJSON(){var Q;const Y=super.toJSON();return Y.name=this.name,Y.description=this.description,Y.technicalInfos=this.technicalInfos,Y.latitude=this.latitude,Y.longitude=this.longitude,Y.team=(null===(Q=this.team)||void 0===Q?void 0:Q.id)||this.team,Y.configurationAsJSON=this.configurationAsJSON,Y}setConfiguration(Q){let Y=Q;try{Y=JSON.parse(Q)}catch{}Y&&(this.configurationAsJSON=JSON.stringify(Y))}getConfiguration(){try{return JSON.parse(this.configurationAsJSON)}catch{}return null}getLinkType(){return q.TYPE}}return q.TYPE="radar",q})()},7621:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.RadarNodeMap=void 0;const r=A(156);H.RadarNodeMap=class F extends r.RadarNode{constructor($){super($),this.date=new Date($.date),this.setMapData($.map)}toJSON(){const $=super.toJSON();return this.map&&($.map=this.map),$.date=this.date.toISOString(),$}setMapData($){if(!$)return;let Q=$;try{"string"!=typeof $&&(Q=JSON.stringify($))}catch{}this.map=Q.toString()}getMapData(){return this.map?JSON.parse(this.map):[]}}},8040:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.RainComputation=void 0;const r=A(8298),F=A(6695),q=A(7816);H.RainComputation=(()=>{class Q extends q.RainComputationAbstract{constructor(Z){super(Z),this.setResults(Z.results)}toJSON(Z=!1){const G=super.toJSON();return G.results=this.results.map(J=>J.toJSON(Z)),G}getLinkType(){return Q.TYPE}setResults(Z){"string"==typeof Z&&(Z=JSON.parse(Z)),this.results=Z&&0!==Z.length&&Array.isArray(Z)?Z.map(G=>"string"==typeof G&&G.indexOf("polarMeasureValue")>=0?new r.RainPolarMeasureValue(JSON.parse(G)):G.polarMeasureValue?new r.RainPolarMeasureValue(G):"string"==typeof G&&G.indexOf("cartesian")>=0?new F.RainCartesianMeasureValue(JSON.parse(G)):G.cartesianValues?new F.RainCartesianMeasureValue(G):G):[]}}return Q.TYPE="rain-computation",Q})()},7816:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.RainComputationAbstract=void 0;const r=A(3975),F=A(3400),q=A(156),$=A(1106),Q=A(3640);class Y extends r.RaainNode{constructor(G){super(G),this.date=G.date?new Date(G.date):null,this.quality=G.quality>=0?G.quality:-1,this.progressIngest=G.progressIngest>=0?G.progressIngest:-1,this.progressComputing=G.progressComputing>=0?G.progressComputing:-1,this.timeSpentInMs=G.timeSpentInMs,this.isReady=!!G.isReady,this.isDoneDate=G.isDoneDate?new Date(G.isDoneDate):void 0,this.launchedBy=G.launchedBy,this.replaceRainLink(G.links),this.replaceRainLink(G.rain),this.addRadarLinks(G.links),this.addRadarLinks(G.radars)}static _getRadarLinks(G){return G&&0!==G.length?G.map(J=>J instanceof F.Link?J:J&&J._id?new q.RadarNode({id:J._id.toString(),latitude:0,longitude:0,name:J.name,team:J.team}):J&&J.id?new q.RadarNode({id:J.id.toString(),latitude:0,longitude:0,name:J.name,team:J.team}):void 0):[]}static _getRadarMeasureLinks(G){return G&&0!==G.length?G.map(J=>J instanceof F.Link?J:J&&J._id?new Q.RadarMeasure({id:J._id.toString(),values:[]}):J&&J.id?new Q.RadarMeasure({id:J.id.toString(),values:[]}):void 0):[]}static _getRainLink(G){return G&&G.id?new $.RainNode({id:G.id.toString(),name:G.id.toString(),team:null}):null}toJSON(){var G;const J=super.toJSON();return J.date=this.date.toISOString(),J.quality=this.quality,J.progressIngest=this.progressIngest,J.progressComputing=this.progressComputing,J.timeSpentInMs=this.timeSpentInMs,J.isReady=this.isReady,J.isDoneDate=null===(G=this.isDoneDate)||void 0===G?void 0:G.toISOString(),J.launchedBy=this.launchedBy,J.name=this.name,J}addRadarLinks(G){this.addLinks(Y._getRadarLinks(G))}replaceRainLink(G){this.addLinks([Y._getRainLink(G)])}addRadarMeasureLinks(G){this.addLinks(Y._getRadarMeasureLinks(G))}getLinkType(){throw Error("abstract")}}H.RainComputationAbstract=Y},8772:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.RainComputationMap=void 0;const r=A(7816);H.RainComputationMap=class F extends r.RainComputationAbstract{constructor($){super($),this.setMapData($.map)}toJSON(){const $=super.toJSON();return this.map&&($.map=this.map,delete $.results),$}setMapData($){if(!$)return;let Q=$;try{"string"!=typeof $&&(Q=JSON.stringify($))}catch{}this.map=Q.toString()}getMapData(){return this.map?JSON.parse(this.map):[]}}},5342:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.RainComputationQuality=void 0;const r=A(7816),F=A(3400),q=A(8040);class $ extends r.RainComputationAbstract{constructor(Y){super(Y),this.qualitySpeedMatrixContainer=Y.qualitySpeedMatrixContainer,this.addRainComputationLink(Y.rainComputation),this.error=Y.error}static _getRainComputationLinks(Y){return Y?Y instanceof F.Link?[Y]:Y._id?[new q.RainComputation({id:Y._id.toString(),date:Y.date,version:Y.version,isReady:!0,results:[]})]:Y.id?[new q.RainComputation({id:Y.id.toString(),date:Y.date,version:Y.version,isReady:!0,results:[]})]:[]:[]}addRainComputationLink(Y){this.addLinks($._getRainComputationLinks(Y))}merge(Y){this.date=this.mergeDateMin(this.date,Y.date),this.quality=this.mergeAvg(this.quality,Y.quality),this.progressIngest=this.mergeMin(this.progressIngest,Y.progressIngest),this.progressComputing=this.mergeMin(this.progressComputing,Y.progressComputing),this.timeSpentInMs=this.mergeSum(this.timeSpentInMs,Y.timeSpentInMs),this.qualitySpeedMatrixContainer&&this.qualitySpeedMatrixContainer.merge&&(this.qualitySpeedMatrixContainer=this.qualitySpeedMatrixContainer.merge(Y.qualitySpeedMatrixContainer))}toJSON(Y){const Z=super.toJSON();this.qualitySpeedMatrixContainer&&this.qualitySpeedMatrixContainer.toJSON?Z.qualitySpeedMatrixContainer=this.qualitySpeedMatrixContainer.toJSON(Y):this.qualitySpeedMatrixContainer&&(Z.qualitySpeedMatrixContainer=this.qualitySpeedMatrixContainer);const G=this.getLinkId(q.RainComputation.TYPE);return G&&(Z.rainComputation=G),this.error&&(Z.error=this.error),Z}mergeStillComputed(Y,Z){if(Y||Z)return Y?Z?null:Y:Z}mergeDateMin(Y,Z){const G=this.mergeStillComputed(Y,Z);return null===G?new Date(Math.min(new Date(Y).getTime(),new Date(Z).getTime())):void 0!==G?new Date(G):G}mergeDateMax(Y,Z){const G=this.mergeStillComputed(Y,Z);return null===G?new Date(Math.max(new Date(Y).getTime(),new Date(Z).getTime())):void 0!==G?new Date(G):G}mergeAvg(Y,Z){const G=this.mergeStillComputed(Y,Z);return null===G?(Y+Z)/2:G}mergeMin(Y,Z){const G=this.mergeStillComputed(Y,Z);return null===G?Math.min(Y,Z):G}mergeMax(Y,Z){const G=this.mergeStillComputed(Y,Z);return null===G?Math.max(Y,Z):G}mergeSum(Y,Z){const G=this.mergeStillComputed(Y,Z);return null===G?Y+Z:G}mergeConcat(Y,Z){const G=this.mergeStillComputed(Y,Z);return null===G?Y.concat(Z):G}}H.RainComputationQuality=$},130:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.RainMeasure=void 0;const r=A(2482);H.RainMeasure=(()=>{class q extends r.Measure{constructor(Q){super(Q)}getLinkType(){return q.TYPE}}return q.TYPE="rain-measure",q})()},1106:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.RainNode=void 0;const r=A(3975),F=A(3400),q=A(156),$=A(8040),Q=A(4376),Y=A(4442);H.RainNode=(()=>{class G extends r.RaainNode{constructor(ue){super(ue);const oe=ue?.links?ue.links:[];this.name=ue.name,this.description=ue.description,this.team=ue.team,this.status=ue.status>=0?ue.status:-1,this.quality=ue.quality>=0?ue.quality:-1,this.latLngRectsAsJSON=ue.latLngRectsAsJSON,this.addRadars(oe.filter(ce=>ce instanceof q.RadarNode)),this.addRadars(ue.radars),this.addGauges(oe.filter(ce=>ce instanceof Q.GaugeNode)),this.addGauges(ue.gauges),this.setConfiguration(ue.configurationAsJSON),this.addCompletedComputations(oe.filter(ce=>ce instanceof $.RainComputation)),this.addCompletedComputations(ue.lastCompletedComputations)}static _getRadarLinks(ue){return ue&&0!==ue.length?ue.map(ce=>ce instanceof F.Link?ce:ce&&ce._id?new q.RadarNode({id:ce._id.toString(),latitude:ce.latitude,longitude:ce.latitude,name:ce.name,team:ce.team}):ce&&ce.id?new q.RadarNode({id:ce.id.toString(),latitude:ce.latitude,longitude:ce.longitude,name:ce.name,team:ce.team}):void 0).filter(ce=>!!ce):[]}static _getRainComputationLinks(ue){return ue&&0!==ue.length?ue.map(ce=>ce instanceof F.Link?ce:ce&&ce._id?new $.RainComputation({id:ce._id.toString(),date:ce.date,version:ce.version,isReady:null,results:null}):ce&&ce.id?new $.RainComputation({id:ce.id.toString(),date:ce.date,version:ce.version,isReady:null,results:null}):void 0).filter(ce=>!!ce):[]}static _getGaugeLinks(ue){return ue&&0!==ue.length?ue.map(ce=>ce instanceof F.Link?ce:ce&&ce._id?new Q.GaugeNode({id:ce._id.toString(),latitude:ce.latitude,longitude:ce.longitude,name:ce.name,team:ce.team}):ce&&ce.id?new Q.GaugeNode({id:ce.id.toString(),latitude:ce.latitude,longitude:ce.longitude,name:ce.name,team:ce.team}):void 0).filter(ce=>!!ce):[]}setConfiguration(ue){let oe=ue;try{oe=JSON.parse(ue)}catch{}oe&&(this.configurationAsJSON=JSON.stringify(oe))}getConfiguration(){try{return JSON.parse(this.configurationAsJSON)}catch{}return null}toJSON(){var ue;const oe=super.toJSON();return oe.name=this.name,oe.description=this.description,oe.status=this.status,oe.quality=this.quality,oe.team=(null===(ue=this.team)||void 0===ue?void 0:ue.id)||this.team,oe.latLngRectsAsJSON=this.latLngRectsAsJSON,oe.configurationAsJSON=this.configurationAsJSON,oe.radars=this.getLinks().filter(ce=>ce.getLinkType()===q.RadarNode.TYPE).map(ce=>ce.getId()),oe.gauges=this.getLinks().filter(ce=>ce.getLinkType()===Q.GaugeNode.TYPE).map(ce=>ce.getId()),oe.lastCompletedComputations=this.getLinks().filter(ce=>ce.getLinkType()===$.RainComputation.TYPE).map(ce=>ce.getId()),oe}addRadars(ue){this.addLinks(G._getRadarLinks(ue)),this.setDefaultLatLng(ue)}addCompletedComputations(ue){this.addLinks(G._getRainComputationLinks(ue))}addGauges(ue){this.addLinks(G._getGaugeLinks(ue))}getCenter(){let ue=new Y.LatLng({lat:0,lng:0});if(this.setDefaultLatLng(this.radars),this.latLngRectsAsJSON&&"[]"!==this.latLngRectsAsJSON){const oe=JSON.parse(this.latLngRectsAsJSON);let ce,le,de,ke;for(const xe of oe){const se=xe[0],_e=xe[1];ce=typeof ce>"u"?se.lat:Math.max(se.lat,ce),ke=typeof ke>"u"?se.lng:Math.min(se.lng,ke),de=typeof de>"u"?_e.lat:Math.min(_e.lat,de),le=typeof le>"u"?_e.lng:Math.max(_e.lng,le)}ue=new Y.LatLng({lat:(ce-de)/2+de,lng:(le-ke)/2+ke})}return ue}getLinkType(){return G.TYPE}setDefaultLatLng(ue){if(ue?.length&&(!this.latLngRectsAsJSON||"[]"===this.latLngRectsAsJSON)){const oe=[];for(const ce of ue)ce instanceof q.RadarNode&&oe.push([new Y.LatLng({lat:ce.latitude+1,lng:ce.longitude-1}),new Y.LatLng({lat:ce.latitude-1,lng:ce.longitude+1})]);this.latLngRectsAsJSON=JSON.stringify(oe)}}}return G.TYPE="rain",G})()},890:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.CartesianDrawer=void 0;const r=A(8407),F=A(6684),q=A(822),$=A(516);H.CartesianDrawer=class Q{constructor(Z,G,J,ue){this.cartesianMap2Points=Z,this.cartesianMap2Display=G,this.cartesianMapZoom=J,this.type=ue,this.geoValues=[],this.distanceRatio=0,this.centerPoint=new r.Point(0,0),this.optimizations=$.CartesianDrawerOptimization.Defaults()}getVersion(){return this.version}setConfiguration(Z,G,J){this.optimizations=J}getOptimization(){const Z=this.optimizations.filter(G=>this.type.toLowerCase().indexOf(G.type.toLowerCase())>0);return 1===Z.length?Z[0]:(console.warn("no optimization found for cartesian drawer - please consider to use one"),$.CartesianDrawerOptimization.Defaults()[0])}updateValues(Z,G){this.geoValues=Z,this.version=G}hasChanged(Z,G){return!G.equals(this.centerPoint)||this.distanceRatio!==this.getDistanceRatio(Z)}getExecOfVisiblePoints(Z,G){return G(this.getOptimization().filteringValues(this.cartesianMapZoom(),Z,this.cartesianMap2Display))}renderCartesianMapValues(Z,G,J){let ue=0;this.distanceRatio=this.getDistanceRatio(Z),this.centerPoint=G;const oe=this.getOptimization(),ce=oe.filteringValues(this.cartesianMapZoom(),this.geoValues,this.cartesianMap2Display);for(const le of ce){if(ue>oe.hardLimit){console.warn("cartesian hard limit reached ",oe.hardLimit);break}const de=this.cartesianMap2Points(le);J(this.createGridValue(le,de,G))&&ue++}return ue}createGridValue(Z,G,J){return q.CartesianGridValue.Create(Z,G,J,this.distanceRatio,this.getOptimization())}getDistanceRatio(Z){return F.MapTools.getCartesianDistanceRatio(Z,this.geoValues,this.cartesianMap2Points)}}},516:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.CartesianDrawerOptimization=void 0;class A{constructor(F,q,$,Q){this.type=F,this.hardLimit=q,this.bypass=$,this.considerZoom=Q}static Defaults(){return[new A("default",6e4,!1,!1),new A("radar",6e4,!0,!0),new A("rain",6e4,!1,!1),new A("zoom",6e4,!1,!0)]}filteringValues(F,q,$){let Q=q.filter(Y=>Y.value>.4);if($&&(Q=Q.filter($)),this.considerZoom&&F<8){const Z=9-F;let G=0;Q=Q.filter(J=>++G>=Z&&(G=0,!0))}return Q}}H.CartesianDrawerOptimization=A},822:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.CartesianGridValue=void 0;const r=A(7782),F=A(1070);class q extends r.GridValue{constructor(Q,Y,Z,G,J,ue,oe){super(Q,Y,oe),this.x=Z,this.y=G,this.width=J,this.height=ue}static Create(Q,Y,Z,G,J){let{transparency:ue,value:oe}=r.GridValue.translateColor(Q.value);J?.bypass&&.2<=Q.value&&(oe="#000000",ue=.6);const ce=Y.p1.x,le=Y.p1.y,de=Y.p2.x-Y.p1.x,ke=Y.p2.y-Y.p1.y;return new q(F.MapTools.hexStringToNumber(oe),ue,ce,le,de,ke,""+Math.round(100*Q.value)/100)}}H.CartesianGridValue=q},7782:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.GridValue=void 0,H.GridValue=class A{constructor(F,q,$){this.color=F,this.transparency=q,this.id=$}static translateColor(F){let q="#000000",$=1;return 0<F&&F<.4?(q="#000e98",$=.9):F<1?(q="#0013C0",$=.7):F<3?(q="#00CEF9",$=.65):F<10?(q="#009A0F",$=.6):F<20?(q="#6DED00",$=.55):F<30?(q="#FFF300",$=.5):F<50?(q="#ffc022",$=.45):F<100?(q="#fe8a1f",$=.4):F<150?(q="#ff531f",$=.3):F<200?(q="#db1f26",$=.3):F<250?(q="#821d37",$=.3):F<300?(q="#7e0321",$=.3):300<=F&&(q="#000000",$=.3),{value:q,transparency:$}}getColor(F=1){return Math.round(this.color*F)}getTransparency(F=1){return this.transparency*F}}},138:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.IconDrawer=void 0;const r=A(890),F=A(516),q=A(554);H.IconDrawer=class $ extends r.CartesianDrawer{constructor(Y,Z,G,J){super(Y,Z,G,J),this.optimizations=[new F.CartesianDrawerOptimization("default",6e4,!1,!1)]}createGridValue(Y,Z,G){return q.IconGridValue.Create(Y,Z.p1)}}},554:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.IconGridValue=void 0;const r=A(6684),F=A(7782),q=A(4718);class $ extends F.GridValue{constructor(Y,Z,G,J,ue,oe,ce){super(Y,Z,G),this.centerX=J,this.centerY=ue,this.speed=oe,this.angle=ce}static Create(Y,Z){return new $(r.MapTools.hexStringToNumber("#393636"),0,""+Math.round(100*Y.value)/100,Z.x,Z.y,Y.speed,Y.angle)}getPoints(Y=1){const Z=q.QualityTools.GetAzimuthRad(-this.angle),G={x:this.centerX,y:this.centerY};return{start:{x:Y*this.speed*Math.cos(Z),y:Y*this.speed*Math.sin(Z)},end:{x:-Y*this.speed*Math.cos(Z),y:-Y*this.speed*Math.sin(Z)},center:G}}}H.IconGridValue=$},9497:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PolarDrawer=void 0;const r=A(8407),F=A(3673),q=A(6684),$=A(3328);H.PolarDrawer=class Q{constructor(Z,G,J,ue){this.polarMap2Point=Z,this.polarMap2Display=G,this.polarMapZoom=J,this.type=ue,this.geoValues=[],this.possibleDrawing=0,this.distanceRatio=0,this.centerPoint=new r.Point(0,0),this.optimizations=$.PolarDrawerOptimization.Defaults()}getVersion(){return this.version}setConfiguration(Z,G,J){this.optimizations=J}getOptimization(){const Z=this.optimizations.filter(G=>this.type.toLowerCase().indexOf(G.type.toLowerCase())>0);return 1===Z.length?Z[0]:(console.warn("no optimization found for polar drawer - please consider to use one"),$.PolarDrawerOptimization.Defaults()[0])}updateValues(Z,G){this.geoValues=Z,this.version=G}hasChanged(Z,G){return!G.equals(this.centerPoint)||this.distanceRatio!==this.getDistanceRatio(G)||this.possibleDrawing!==this.getPossibleDrawing()}getExecOfVisiblePoints(Z,G){return G(this.getOptimization().filteringValues(this.polarMapZoom(),Z,this.polarMap2Display))}renderPolarMapValues(Z,G,J){let ue=0;const oe=this.getEdgeCount(),ce=this.getDistanceRatio(G),le=this.getAzimuthStepInDegrees(),de={x1:null,x2:null};if(ce<=0)return console.warn("polar distanceRatio is 0 - no sense ? ",Z,G),0;const ke=this.getOptimization();this.possibleDrawing=this.getPossibleDrawing(),this.distanceRatio=ce,this.centerPoint=G;const xe=ke.filteringValues(this.polarMapZoom(),this.geoValues,this.polarMap2Display);for(let[se,_e]of xe.entries()){if(ue>ke.hardLimit){console.warn("polar hard limit reached ",ke.hardLimit);break}if(_e=q.PolarMapValue.Duplicate(_e),_e.setCenter({latitude:Z.lat,longitude:Z.lng}),ke.groupAzimuths()){const Ie=(Be,tt,Ae)=>{if(!Be||!tt)return!1;const vt=F.PolarGridValue.Create(tt,ce,ke);vt.polarAzimuthInDegrees=Be.polarAzimuthInDegrees+le;let Le=!1;return Ae||vt.getTransparency()!==Be.getTransparency()?(Le=!(Be.getTransparency()<1)||J(Be,vt),de.x2=null,Le&&ue++):de.x2=vt,Le};this.polarMap2Display(_e)?se%oe==oe-1?(Ie(de.x1,_e,!0),de.x1=null,se=this._getNextOffset(se,oe)-1):(Ie(de.x1,_e)||!de.x1)&&(de.x1=F.PolarGridValue.Create(_e,ce,ke)):(Ie(de.x1,_e,!0),de.x1=null)}else{const Ie=F.PolarGridValue.Create(_e,ce,ke);ue+=J(Ie)?1:0}}return ue}_getNextOffset(Z,G){const J=(Z+1)/G,ue=Math.floor(J);let oe=(ue+1)*G;return J===ue&&(oe=ue*G),oe}getPossibleDrawing(){let Z=0;const G=this.geoValues.filter(J=>J.value);for(const J of G)this.polarMap2Display(J)&&Z++;return Z}getDistanceRatio(Z){return this.geoValues.length<1?0:q.MapTools.getPolarDistanceRatio(Z,this.geoValues[this.geoValues.length-1],this.polarMap2Point)}getAzimuthStepInDegrees(){if(this.geoValues.length<=1)return 360;let G=360;const J=this.geoValues[0].polarAzimuthInDegrees;for(const ue of this.geoValues)if(J!==ue.polarAzimuthInDegrees){G=ue.polarAzimuthInDegrees-J;break}return G}getEdgeCount(){if(this.geoValues.length<=1)return 1;let Z=0;const G=this.geoValues[0];for(const J of this.geoValues){if(G.polarAzimuthInDegrees!==J.polarAzimuthInDegrees)break;Z++}return Z}}},3328:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PolarDrawerOptimization=void 0;class A{constructor(F,q,$,Q,Y,Z,G){this.type=F,this.hardLimit=q,this.min=$,this.max=Q,this.step=Y,this.bypass=Z,this.considerZoom=G}static Defaults(){return[new A("default",40001,0,100,10,!1,!1),new A("radar",40002,.2,100,5,!0,!0),new A("rain",40003,0,76,10,!1,!0),new A("zoom",40003,0,76,10,!1,!0)]}filteringValues(F,q,$){let Q=q.filter(Y=>Y.value>0);if($&&(Q=Q.filter($)),this.considerZoom&&F<10){const Z=11-F;let G=0;Q=Q.filter(J=>++G>=Z&&(G=0,!0))}return Q}groupAzimuths(){return"???"===this.type}}H.PolarDrawerOptimization=A},3673:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PolarGridValue=void 0;const r=A(8407),F=A(1070),q=A(7782);class $ extends q.GridValue{constructor(Y,Z,G,J,ue){super(Y,Z,ue),this.polarAzimuthInDegrees=G,this.polarDistanceRelative=J}static Create(Y,Z,G){let{transparency:J,value:ue}=q.GridValue.translateColor(Y.value);if("rain"!==G.type){const ce=G.max-G.min+1,le=Math.floor(ce/G.step)+1;for(let de=0;de<le;de++){const ke=G.min+de*G.step;Y.value>=ke&&(J=(ce-ke)/(2*ce))}}G.bypass&&.2<=Y.value&&(ue="#000000",J=Math.min(1,2*J));const oe=Math.round(100*Y.polarDistanceInMeters*Z)/100;return new $(F.MapTools.hexStringToNumber(ue),J,Y.polarAzimuthInDegrees,oe,Y.id)}getPolarDistanceRelative(){return this.polarDistanceRelative}setPolarDistanceRelative(Y){this.polarDistanceRelative=Y}getPositionFrom(Y){const Z=this.polarAzimuthInDegrees*(Math.PI/180),G=Math.sin(Z)*this.polarDistanceRelative,J=Math.cos(Z)*this.polarDistanceRelative,ue=1e5,oe=Math.round((G+Y.x)*ue)/ue,ce=Math.round((Y.y-J)*ue)/ue;return new r.Point(oe,ce)}}H.PolarGridValue=$},9206:function(Ct,H,A){"use strict";var r=this&&this.__createBinding||(Object.create?function(q,$,Q,Y){void 0===Y&&(Y=Q);var Z=Object.getOwnPropertyDescriptor($,Q);(!Z||("get"in Z?!$.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return $[Q]}}),Object.defineProperty(q,Y,Z)}:function(q,$,Q,Y){void 0===Y&&(Y=Q),q[Y]=$[Q]}),F=this&&this.__exportStar||function(q,$){for(var Q in q)"default"!==Q&&!Object.prototype.hasOwnProperty.call($,Q)&&r($,q,Q)};Object.defineProperty(H,"__esModule",{value:!0}),F(A(9497),H),F(A(3328),H),F(A(3673),H),F(A(890),H),F(A(516),H),F(A(822),H),F(A(554),H),F(A(138),H)},7015:function(Ct,H,A){"use strict";var r=this&&this.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(H,"__esModule",{value:!0}),H.CompareElement=H.CompareElementInput=void 0;const F=r(A(3593)),q=A(5101);H.CompareElementInput=class ${constructor(Z=[],G={x:100,y:100},J){this.points=Z,this.topPoint=G,this.clickCallback=J}},H.CompareElement=class Q{constructor(Z=!1){this.addSomeDebugInfos=Z}build(Z,G){const J=[{x:0,y:0},{x:G.topPoint.x,y:G.topPoint.y}],ue={datasets:[{type:"bubble",data:G.points,borderColor:q.Tools.getTransparency(q.ChartColors.grey,.2),backgroundColor:q.Tools.getTransparency(q.ChartColors.grey,.7),pointStyle:"circle",pointHoverRadius:15},{type:"line",data:J,borderColor:q.ChartColors.red,backgroundColor:q.Tools.getTransparency(q.ChartColors.red,.9),pointStyle:!1,borderDash:[2,2]}],selectedPoint:void 0};this.chart=new F.default(Z,{data:ue,options:{responsive:!0,aspectRatio:2,plugins:{legend:{display:!1},tooltip:{callbacks:{label:ce=>{let le="";return ce.dataset.data[ce.dataIndex]&&(ue.selectedPoint=ce.dataset.data[ce.dataIndex],le=ce.dataset.data[ce.dataIndex].name,le||(le="")),le}}}},onClick(ce){ue.selectedPoint&&G.clickCallback&&G.clickCallback(ue.selectedPoint)}}})}}},4754:function(Ct,H,A){"use strict";var r=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(H,"__esModule",{value:!0}),H.ConfigurationElement=H.ConfigurationElementInput=void 0;const F=r(A(3593)),q=r(A(4252)),$=A(5101);H.ConfigurationElementInput=class Q{constructor(G=[],J={x:0,y:0},ue={x:100,y:100},oe){this.points=G,this.minPoint=J,this.maxPoint=ue,this.dragCallback=oe}},H.ConfigurationElement=class Y{constructor(G=!1){this.addSomeDebugInfos=G}build(G,J){const oe={data:{datasets:[{type:"scatter",data:J.points,borderColor:$.Tools.getTransparency($.ChartColors.blue,.5)},{type:"line",data:J.points,borderColor:$.ChartColors.blue,fill:!1,tension:0}]},options:{responsive:!0,plugins:{legend:{display:!1},dragData:{magnet:{to:ce=>({x:ce.x,y:Math.round(10*ce.y)/10})},showTooltip:!1,dragX:!0,onDrag:(ce,le,de,ke)=>(J.dragCallback&&J.dragCallback(ce),!0)},tooltip:{enabled:!0,filter:ce=>0===ce.datasetIndex}},scales:{x:{display:!0,suggestedMin:J.minPoint.x,suggestedMax:J.maxPoint.x},y:{display:!0,suggestedMin:J.minPoint.y,suggestedMax:J.maxPoint.y}}},plugins:[q.default]};this.chart=new F.default(G,oe)}}},3871:function(Ct,H,A){"use strict";var r=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(H,"__esModule",{value:!0}),H.DateStatusElement=H.DateStatusElementInput=void 0;const F=r(A(3593)),q=A(5101),$=A(666);H.DateStatusElementInput=class Q{constructor(G=[],J=new Date,ue=q.DateRange.CENTURY){this.setOfData=G,this.focusDate=J,this.focusRange=ue}};class Y{constructor(G=!1){this.addSomeDebugInfos=G,this.focusReset=()=>{},this.focusPrevious=()=>{},this.focusNext=()=>{}}static filterFocus(G,J,ue){return G.filter(oe=>{let ce=!0;return ce&&ue>=q.DateRange.YEAR&&(ce=oe.date.getFullYear()===J.getFullYear()),ce&&ue>=q.DateRange.MONTH&&(ce=oe.date.getMonth()===J.getMonth()),ce&&ue>=q.DateRange.DAY&&(ce=oe.date.getDate()===J.getDate()),ce&&ue>=q.DateRange.HOUR&&(ce=oe.date.getHours()===J.getHours()),ce}).sort((oe,ce)=>oe.date.getTime()-ce.date.getTime())}static groupFocus(G,J,ue,oe,ce){const le=Y.filterFocus(G,J,ue);if(ue===q.DateRange.CENTURY){const de=[];for(let ke=oe.getFullYear();ke<=ce.getFullYear();ke++){const xe=new Date(J);xe.setFullYear(ke);const se=Y.filterFocus(le,xe,q.DateRange.YEAR).reduce((_e,Ie)=>_e+Ie.value,0);de.push(se)}return de}if(ue===q.DateRange.YEAR){const de=[];for(let ke=0;ke<12;ke++){const xe=new Date(J);xe.setMonth(ke);const se=Y.filterFocus(le,xe,q.DateRange.MONTH).reduce((_e,Ie)=>_e+Ie.value,0);de.push(se)}return de}if(ue===q.DateRange.MONTH){const de=[],ke=new Date(J.getFullYear(),J.getMonth(),0).getDate();for(let xe=0;xe<ke;xe++){const se=new Date(J);se.setDate(xe);const _e=Y.filterFocus(le,se,q.DateRange.DAY).reduce((Ie,Be)=>Ie+Be.value,0);de.push(_e)}return de}if(ue===q.DateRange.DAY){const de=[];for(let ke=0;ke<24;ke++){const xe=new Date(J);xe.setHours(ke);const se=Y.filterFocus(le,xe,q.DateRange.HOUR).reduce((_e,Ie)=>_e+Ie.value,0);de.push(se)}return de}return le.map(de=>de.value)}static focusLabels(G,J,ue,oe,ce){if(J===q.DateRange.CENTURY){const xe=[];for(let se=ue.getFullYear();se<=oe.getFullYear();se++)xe.push(Y.buildLabelYear(new Date(G),se));return xe}if(J===q.DateRange.YEAR){const xe=[];for(let se=0;se<12;se++)xe.push(Y.buildLabelMonth(new Date(G),se));return xe}if(J===q.DateRange.MONTH){const xe=[],se=new Date(G.getFullYear(),G.getMonth(),0).getDate();for(let _e=0;_e<se;_e++)xe.push(Y.buildLabelDay(new Date(G),_e));return xe}if(J===q.DateRange.DAY){const xe=[];for(let se=0;se<24;se++)xe.push(Y.buildLabelHour(new Date(G),se));return xe}let le=[];return ce.forEach(xe=>{le=le.concat(xe.values)}),Y.filterFocus(le,G,q.DateRange.HOUR).map(xe=>Y.buildLabel(xe.date)).filter((xe,se,_e)=>_e.indexOf(xe)===se)}static getFocusDateAndTitle(G,J,ue,oe,ce){const le=new Date(G);let de="...";return J===q.DateRange.YEAR?de=Y.buildLabelYear(le,oe.getFullYear()+ue):J===q.DateRange.MONTH?de=Y.buildLabelMonth(le,ue):J===q.DateRange.DAY?de=Y.buildLabelDay(le,ue):J===q.DateRange.HOUR?de=Y.buildLabelHour(le,ue):J===q.DateRange.MINUTE&&(de=Y.buildLabel(le)),{newFocusDate:le,newTitle:de}}static buildLabel(G){return q.Tools.formatDate(G,q.DateRange.MINUTE)}static buildLabelYear(G,J){return G.setFullYear(J),q.Tools.formatDate(G,q.DateRange.YEAR)}static buildLabelMonth(G,J){return G.setMonth(J),q.Tools.formatDate(G,q.DateRange.MONTH)}static buildLabelDay(G,J){return G.setDate(J+1),q.Tools.formatDate(G,q.DateRange.DAY)}static buildLabelHour(G,J){return G.setHours(J),q.Tools.formatDate(G,q.DateRange.HOUR)}build(G,J){if(J.setOfData.length>7)return null;const ue=[],oe=[q.Tools.getTransparency(q.ChartColors.blue,.5),q.Tools.getTransparency(q.ChartColors.red,.5),q.Tools.getTransparency(q.ChartColors.green,.5),q.Tools.getTransparency(q.ChartColors.grey,.5),q.Tools.getTransparency(q.ChartColors.orange,.5),q.Tools.getTransparency(q.ChartColors.purple,.5),q.Tools.getTransparency(q.ChartColors.yellow,.5)],ce=[];let le,de;J.setOfData.forEach(Ie=>{Ie.values.forEach(Be=>{le=le?Math.min(le,Be.date.getTime()):Be.date.getTime(),de=de?Math.max(de,Be.date.getTime()):Be.date.getTime()})}),le=new Date(le),de=new Date(de);for(const[Ie,Be]of J.setOfData.entries()){const tt=oe[Ie],Ae=Y.groupFocus(Be.values,J.focusDate,J.focusRange,le,de);ue.push({label:Be.label,type:Be.style,data:Ae,borderColor:tt,backgroundColor:tt}),ce.push(Ae)}const ke={datasets:ue,labels:Y.focusLabels(J.focusDate,J.focusRange,le,de,J.setOfData)};this.focusClick=Ie=>{const Be=Ie?.chart?Ie.chart:se,tt=Be.focusRange+1,Ae=this.getFocusPosRelative(Ie,Be),{newFocusDate:vt,newTitle:Le}=Y.getFocusDateAndTitle(Be.focusDate,tt,Ae,Be.focusDateMin,Be.focusDateMax);Be.focusPos=Ae,Be.focusRange=tt,Be.focusDate=new Date(vt),Be.config._config.options.plugins.title.text=""+Le,Be.data.datasets.forEach((Ge,Ze)=>{Ge.data=Y.groupFocus(J.setOfData[Ze].values,Be.focusDate,Be.focusRange,Be.focusDateMin,Be.focusDateMax)}),Be.data.labels=Y.focusLabels(Be.focusDate,Be.focusRange,Be.focusDateMin,Be.focusDateMax,J.setOfData),Be.update()};const se=new F.default(G,{data:ke,options:{responsive:!0,plugins:{legend:{},tooltip:{callbacks:{label:Ie=>{}}},title:{display:!0,text:" "}},onClick:this.focusClick}});se.focusPos=this.getInitialFocusPos(J.focusDate,J.focusRange,le),se.focusDate=J.focusDate,se.focusRange=J.focusRange,se.focusDateMin=le,se.focusDateMax=de,this.focusReset=()=>{se.config._config.options.plugins.title.text="...",se.focusPos=0,se.focusDate=J.focusDate,se.focusRange=q.DateRange.CENTURY,se.data.datasets.forEach((Ie,Be)=>{Ie.data=ce[Be]}),se.data.labels=Y.focusLabels(se.focusDate,se.focusRange,se.focusDateMin,se.focusDateMax,J.setOfData),se.update()};const _e=(Ie,Be,tt,Ae)=>{const{newFocusDate:vt,newTitle:Le}=Y.getFocusDateAndTitle(Ae,Be,tt,Ie.focusDateMin,Ie.focusDateMax);Ie.focusPos=tt,Ie.focusDate=new Date(vt),Ie.config._config.options.plugins.title.text=""+Le,Ie.data.datasets.forEach((Ge,Ze)=>{Ge.data=Y.groupFocus(J.setOfData[Ze].values,Ie.focusDate,Ie.focusRange,Ie.focusDateMin,Ie.focusDateMax)}),Ie.data.labels=Y.focusLabels(Ie.focusDate,Ie.focusRange,Ie.focusDateMin,Ie.focusDateMax,J.setOfData),Ie.update()};this.focusNext=()=>{const Ie=se.focusRange,{pos:Be,newFocusDate:tt}=this.getFocusPosAdded(se,Ie,1,se.focusDate,le);_e(se,Ie,Be,tt)},this.focusPrevious=()=>{const Ie=se.focusRange,{pos:Be,newFocusDate:tt}=this.getFocusPosAdded(se,Ie,-1,se.focusDate,le);_e(se,Ie,Be,tt)},this.chart=se}getFocusPosRelative(G,J){const ue=(0,$.getRelativePosition)(G,J);return J.scales.x.getValueForPixel(ue.x)}getInitialFocusPos(G,J,ue){let oe=0;return J===q.DateRange.YEAR?oe=G.getFullYear()-ue.getFullYear():J===q.DateRange.MONTH?oe=G.getMonth():J===q.DateRange.DAY?oe=G.getDate()-1:J===q.DateRange.HOUR?oe=G.getHours():J===q.DateRange.MINUTE&&(oe=G.getMinutes()),oe}getFocusPosAdded(G,J,ue,oe,ce){let le=G.focusPos||0;const de=new Date(oe);return J===q.DateRange.YEAR?(de.setFullYear(oe.getFullYear()+ue),le=de.getFullYear()-ce.getFullYear()):J===q.DateRange.MONTH?(de.setMonth(oe.getMonth()+ue),le=de.getMonth()):J===q.DateRange.DAY?(de.setDate(oe.getDate()+ue),le=de.getDate()-1):J===q.DateRange.HOUR?(de.setHours(oe.getHours()+ue),le=de.getHours()):J===q.DateRange.MINUTE&&(de.setMinutes(oe.getMinutes()+ue),le=de.getMinutes()),{pos:le,newFocusDate:de}}}H.DateStatusElement=Y},7002:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.ElementsFactory=void 0;const r=A(847),F=A(3342),q=A(7015),$=A(4754),Q=A(3871),Y=A(1988),Z=A(6531),G=A(2046);H.ElementsFactory=class J{constructor(oe={lat:0,lng:0},ce=!1){this.center=oe,this.addSomeDebugInfos=ce,this.center=new r.MapLatLng(typeof this.center.lat<"u"?this.center.lat:this.center.latitude,typeof this.center.lng<"u"?this.center.lng:this.center.longitude)}createMap(oe,ce){const le=new F.MapElement(this.center,this.addSomeDebugInfos);return le.build(oe,ce),le}createCompare(oe,ce){const le=new q.CompareElement(this.addSomeDebugInfos);return le.build(oe,ce),le}createConfiguration(oe,ce){const le=new $.ConfigurationElement(this.addSomeDebugInfos);return le.build(oe,ce),le}createDateStatus(oe,ce){const le=new Q.DateStatusElement(this.addSomeDebugInfos);return le.build(oe,ce),le}createSpeedMatrixIndicator(oe,ce){const le=new Y.SpeedMatrixElement(this.addSomeDebugInfos);return le.build(oe,ce),le}createMonitoringBars(oe,ce){const le=new Z.MonitoringBarsElement(this.addSomeDebugInfos);return le.build(oe,ce),le}createMonitoringLines(oe,ce){const le=new G.MonitoringLinesElement(this.addSomeDebugInfos);return le.build(oe,ce),le}}},3342:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.MapElement=H.MapElementInput=void 0;const r=A(8407),F=A(6684),q=A(7439);H.MapElementInput=class ${constructor(Z,G){this.timeframeContainers=Z,this.markers=G}},H.MapElement=class Q{constructor(Z={lat:0,lng:0},G=!1){this.center=Z,this.addSomeDebugInfos=G,this.center=new F.MapLatLng(typeof this.center.lat<"u"?this.center.lat:this.center.latitude,typeof this.center.lng<"u"?this.center.lng:this.center.longitude)}build(Z,G){var J;let ue,oe;const ce=Z.offsetWidth,le=Z.offsetHeight,de=new q.CompositeLayer("composite1",ce,le);let ke;if(ue=(0,r.map)(Z,{preferCanvas:!0,zoomControl:!0,zoomAnimation:!0,trackResize:!1,boxZoom:!1,scrollWheelZoom:!1,renderer:(0,r.canvas)()}).setView([this.center.lat,this.center.lng],10),(0,r.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy;<a href="https://www.openstreetmap.org/copyright">osm</a>'}).addTo(ue),null!==(J=G.timeframeContainers)&&void 0!==J&&J.containers.length)for(const se of G.timeframeContainers.containers){const _e=this.addCompositeLayer(ue,de,se);!ke&&_e.length&&(ke=_e[0])}de.addToMap(ue),de.showAll();let xe=[];oe=new q.MarkersLayer,oe.setCurrentWidth(ce),oe.setCurrentHeight(le),xe=oe.render(G.markers).markers,oe.addToMap(ue),ue.invalidateSize({animate:!0}),this.mapLeaflet=ue,this.markersLayer=oe,this.compositeLayer=de,this.markersProduced=xe}updateMapTimeframe(Z){if(!this.compositeLayer||!Z?.containers.length)return;let G;this.compositeLayer.removeAllLayers();for(const J of Z.containers){const ue=this.addCompositeLayer(this.mapLeaflet,this.compositeLayer,J);!G&&ue.length&&(G=ue[0])}this.compositeLayer.showAll(),this.compositeLayer.redraw(),this.mapLeaflet.invalidateSize({animate:!0})}addCompositeLayer(Z,G,J){const ue=[];J.setCompositeLayer(G);for(const oe of J.timeframe){const ce=J.getFrameId(oe),le=oe.values;let de;oe.isPolar?(de=new q.PolarLayer(ce,J.name,Z,this.addSomeDebugInfos),de.setValues(this.center,le,new q.PolarLayerConfig,J.version)):oe.isCartesian?(de=new q.CartesianLayer(ce,J.name,Z,this.addSomeDebugInfos),de.setValues(this.center,le,null,J.version)):oe.isIcon&&(de=new q.IconLayer(ce,J.name,Z,this.addSomeDebugInfos),de.setValues(this.center,le,null,J.version)),G.addLayer(de),ue.push(ce)}return ue}}},6531:function(Ct,H,A){"use strict";var r=this&&this.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(H,"__esModule",{value:!0}),H.MonitoringBarsElement=H.MonitoringBarsElementInput=void 0;const F=r(A(3593)),q=A(5101);H.MonitoringBarsElementInput=class ${constructor(Z=[]){this.bars=Z}},H.MonitoringBarsElement=class Q{constructor(Z=!1){this.addSomeDebugInfos=Z}build(Z,G){const J=G.bars.map(ce=>ce.label),ue=G.bars.map(ce=>ce.percentage);this.chart=new F.default(Z,{type:"bar",data:{labels:J,datasets:[{data:ue,borderColor:q.ChartColors.greenCpu,backgroundColor:q.ChartColors.greenCpu}]},options:{responsive:!0,aspectRatio:1,scales:{x:{grid:{display:!1}},y:{min:0,beginAtZero:!0,max:100,display:!1}},grid:{display:!1,drawTicks:!1},plugins:{legend:{display:!1}}}})}add(Z){this.chart.data.datasets[0].data=Z.map(G=>G.percentage),this.chart.update()}}},2046:function(Ct,H,A){"use strict";var r=this&&this.__importDefault||function(Y){return Y&&Y.__esModule?Y:{default:Y}};Object.defineProperty(H,"__esModule",{value:!0}),H.MonitoringLinesElement=H.MonitoringLinesElementInput=void 0;const F=r(A(3593)),q=A(5101);H.MonitoringLinesElementInput=class ${constructor(Z=[],G=100){this.pointsLines=Z,this.limit=G}},H.MonitoringLinesElement=class Q{constructor(Z=!1){this.addSomeDebugInfos=Z}build(Z,G){if(this.limit=G.limit,0===G.pointsLines.length)throw new Error("No point lines found.");const J=G.pointsLines[0].points.map(ce=>ce.date.toISOString()),ue=G.pointsLines.map((ce,le)=>{const de=ce.points.map(ke=>ke.percentage);return{label:ce.label,data:de,borderColor:q.ChartColors[le],tension:.4}});this.chart=new F.default(Z,{type:"line",data:{labels:J,datasets:ue},options:{responsive:!0,scales:{x:{grid:{},ticks:{display:!1}},y:{min:0,beginAtZero:!0,max:100,grid:{},ticks:{display:!1}}},grid:{display:!0},elements:{point:{pointBorderWidth:0,pointRadius:0}},plugins:{legend:{display:!0}}}})}add(Z,G=new Date){let J=JSON.parse(JSON.stringify(this.chart.data.labels));const ue=this.chart.data.datasets;return J.length>=this.limit&&(J=J.slice(1)),J.push(G.toISOString()),ue.forEach((oe,ce)=>{let le=JSON.parse(JSON.stringify(oe.data));le.length>=this.limit&&(le=le.slice(1));const de=Z.filter(ke=>ke.label===oe.label);le.push(1===de.length?de[0].percentage:0),oe.data=le}),this.chart.data.labels=J,this.chart.update(),ue.map(oe=>{const ce=oe.data.map((le,de)=>({date:new Date(J[de]),percentage:le}));return{label:oe.label,points:ce}})}}},1988:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.SpeedMatrixElement=H.SpeedMatrixElementInput=void 0;const r=A(4520),F=A(1070);H.SpeedMatrixElementInput=class q{constructor(Y,Z=1){this.positionValuesMatrix=Y,this.trustIndicator=Z}},H.SpeedMatrixElement=class ${constructor(Y=!1){this.addSomeDebugInfos=Y}build(Y,Z){let J,ue,oe,ce,le,de;for(const Le of Z.positionValuesMatrix)(!J||J!==Math.min(Le.x,J))&&(J=Le.x),(!ue||ue!==Math.max(Le.x,ue))&&(ue=Le.x),(!oe||oe!==Math.min(Le.x,oe))&&(oe=Le.y),(!ce||ce!==Math.max(Le.x,ce))&&(ce=Le.y),(!le||le!==Math.min(Le.value,le))&&(le=Le.value),(!de||de!==Math.max(Le.value,de))&&(de=Le.value);this.pixiApp=new r.Application({width:10*(ue-J+1),height:10*(ce-oe+1),view:Y,backgroundColor:F.MapTools.hexStringToNumber("#FFFFFF")}),this.pixiApp.stage.removeChildren();const _e=Le=>10*(Le-J),Ie=Le=>10*(ce-oe-(Le-oe)),Be=Le=>{const Ge=de?Le/de:0;return Ge>=1?"#01d331":Ge>=.85?"#1bc041":Ge>=.7?"#30a64b":Ge>=.55?"#3f884f":Ge>=.4?"#487953":Ge>=.25?"#4b6751":Ge>=.1?"#48544a":"#484848"},tt=new r.Graphics;tt.lineStyle(0);for(const Le of Z.positionValuesMatrix)tt.beginFill(F.MapTools.hexStringToNumber(Be(Le.value))),tt.drawRect(_e(Le.x),Ie(Le.y),10,10),tt.endFill();let Ae=" ";Z.trustIndicator<.5&&(Ae="No trust in "+Z.trustIndicator);const vt=new r.Text(Ae,{fontFamily:"Arial",fontSize:20,fill:16715792,align:"center"});tt.addChild(vt),this.pixiApp.stage.addChild(tt)}}},5101:function(Ct,H,A){"use strict";var r=this&&this.__importDefault||function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(H,"__esModule",{value:!0}),H.Tools=H.DateRange=H.ChartColors=void 0;const F=r(A(9128));H.ChartColors={red:"rgb(255, 99, 132)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(75, 192, 192)",greenCpu:"rgb(58,241,10)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(163,163,164)",dark:"rgb(68,72,80)"};var q=(()=>{return(Q=q||(H.DateRange=q={}))[Q.CENTURY=0]="CENTURY",Q[Q.YEAR=1]="YEAR",Q[Q.MONTH=2]="MONTH",Q[Q.DAY=3]="DAY",Q[Q.HOUR=4]="HOUR",Q[Q.MINUTE=5]="MINUTE",q;var Q})();H.Tools=class ${static getTransparency(Y,Z){const G=void 0===Z?.5:1-Z;return(0,F.default)(Y).alpha(G).rgbString()}static formatDate(Y,Z){const G=Y.getFullYear(),J=String(Y.getMonth()+1).padStart(2,"0"),ue=String(Y.getDate()).padStart(2,"0"),oe=String(Y.getHours()).padStart(2,"0"),ce=String(Y.getMinutes()).padStart(2,"0");return Z===q.CENTURY||Z===q.YEAR?`${G}`:Z===q.MONTH?`${G}-${J}`:Z===q.DAY?`${G}-${J}-${ue}`:Z===q.HOUR?`${G}-${J}-${ue} ${oe}h`:`${G}-${J}-${ue} ${oe}:${ce}`}}},3517:function(Ct,H,A){"use strict";var r=this&&this.__createBinding||(Object.create?function(q,$,Q,Y){void 0===Y&&(Y=Q);var Z=Object.getOwnPropertyDescriptor($,Q);(!Z||("get"in Z?!$.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return $[Q]}}),Object.defineProperty(q,Y,Z)}:function(q,$,Q,Y){void 0===Y&&(Y=Q),q[Y]=$[Q]}),F=this&&this.__exportStar||function(q,$){for(var Q in q)"default"!==Q&&!Object.prototype.hasOwnProperty.call($,Q)&&r($,q,Q)};Object.defineProperty(H,"__esModule",{value:!0}),F(A(7002),H),F(A(5101),H),F(A(3342),H),F(A(7015),H),F(A(4754),H),F(A(3871),H),F(A(1988),H),F(A(6531),H),F(A(2046),H)},3471:function(Ct,H,A){"use strict";var r=this&&this.__createBinding||(Object.create?function(q,$,Q,Y){void 0===Y&&(Y=Q);var Z=Object.getOwnPropertyDescriptor($,Q);(!Z||("get"in Z?!$.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return $[Q]}}),Object.defineProperty(q,Y,Z)}:function(q,$,Q,Y){void 0===Y&&(Y=Q),q[Y]=$[Q]}),F=this&&this.__exportStar||function(q,$){for(var Q in q)"default"!==Q&&!Object.prototype.hasOwnProperty.call($,Q)&&r($,q,Q)};Object.defineProperty(H,"__esModule",{value:!0}),F(A(6684),H),F(A(3517),H),F(A(9206),H),F(A(7439),H),F(A(9658),H)},3616:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.CartesianLayer=void 0;const r=A(8407),F=A(4520),q=A(6684),$=A(9206);H.CartesianLayer=class Q{constructor(Z,G,J,ue=!1){this.id=Z,this.type=G,this.gridMap=J,this.addSomeDebugInfos=ue,this.mapGraph=new F.Graphics}getId(){return this.id}hide(){this.mapGraph.alpha=0}show(){this.mapGraph.alpha=1}isVisible(){return 1===this.mapGraph.alpha}setValues(Z,G,J,ue){this.center=new q.MapLatLng(Z.lat,Z.lng),this.cartesianDrawer=new $.CartesianDrawer(oe=>{try{const{point1:ce,point2:le}=oe.getPoints();return{p1:this.gridMap.latLngToContainerPoint(ce),p2:this.gridMap.latLngToContainerPoint(le)}}catch{return{p1:new r.Point(0,0),p2:new r.Point(10,10)}}},oe=>this.gridMap.getBounds().contains(oe),()=>this.gridMap.getZoom(),this.type),this.cartesianDrawer.updateValues(G,ue)}render(Z){var G;const J=this.gridMap.latLngToContainerPoint(this.center);if(null===(G=this.cartesianDrawer)||void 0===G||!G.hasChanged(this.center,J))return 0;if(this.mapGraph.removeChildren(),this.cartesianDrawer.renderCartesianMapValues(this.center,J,oe=>{const ce=new F.Graphics;return ce.beginFill(oe.getColor(),1-oe.getTransparency()),ce.drawRect(0,0,oe.width,oe.height),ce.endFill(),ce.x=oe.x,ce.y=oe.y,this.mapGraph.addChild(ce),!0}),Z&&!this.addedInContainer&&(Z.addChild(this.mapGraph),this.addedInContainer=!0),this.addSomeDebugInfos){const oe=this.cartesianDrawer.getOptimization(),ce=new F.Text("Car-"+oe?.type+"-"+this.cartesianDrawer.getVersion(),{fontFamily:"Arial",fontSize:16,fill:q.MapTools.hexStringToNumber("#ff1010"),align:"center"});this.mapGraph.addChild(ce)}return 0}setPixiApp(Z){}getDrawer(){return this.cartesianDrawer}}},6276:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.CompositeLayer=void 0;const r=A(9295);H.CompositeLayer=class F extends r.PixiGridLayer{constructor($,Q,Y){super($),this.id=$,this.removeAllLayers(),this.setCurrentWidth(Q),this.setCurrentHeight(Y),this.setRenderFn(this.renderVisibleLayers.bind(this)),this._initializeLayer()}addToMap($){$.hasLayer(this)||($.addLayer(this),this._update())}removeFromMap($){$.hasLayer(this)&&$.removeLayer(this),this.removeAllLayers()}getId(){return this.id}addLayer($){$.setPixiApp(this.pixiApp),this.layers.push($)}removeAllLayers(){this.layers=[],this._pixiContainer&&this._pixiContainer.removeChildren()}showTheFistMatchingId($){let Q=!1,Y=!1,Z=null;for(const G of this.layers)Q||(Q=G.getId().indexOf($)>=0),Q&&!Y?(G.show(),Y=!0,Z=G):G.hide();return this.renderVisibleLayers(),Z}show($){const Q=this.layers.filter(Y=>Y.getId().indexOf($)>=0);return Q.forEach(Y=>Y.show()),this.renderVisibleLayers(),Q}showAll(){const $=this.layers;return $.forEach(Q=>Q.show()),this.renderVisibleLayers(),$}getFirstDrawer(){for(const $ of this.layers)if($.getDrawer())return $.getDrawer();return null}renderVisibleLayers(){let $=0;for(const Q of this.layers)Q.isVisible()&&($+=Q.render(this._pixiContainer));return $}}},6379:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0})},7527:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0})},4413:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.IconLayer=void 0;const r=A(4520),F=A(6684),q=A(9206);H.IconLayer=class ${constructor(Y,Z,G,J=!1){this.id=Y,this.type=Z,this.gridMap=G,this.addSomeDebugInfos=J,this.mapGraph=new r.Graphics}getId(){return this.id}hide(){this.mapGraph.alpha=0}show(){this.mapGraph.alpha=1}isVisible(){return 1===this.mapGraph.alpha}setValues(Y,Z,G,J){this.center=new F.MapLatLng(Y.lat,Y.lng),this.iconDrawer=new q.IconDrawer(ue=>{try{const oe=this.gridMap.latLngToContainerPoint(ue);return{p1:oe,p2:oe}}catch{return null}},ue=>this.gridMap.getBounds().contains(ue),()=>this.gridMap.getZoom(),this.type),this.iconDrawer.updateValues(Z,J)}render(Y){var Z;if(!this.center)return-1;const G=this.gridMap.latLngToContainerPoint(this.center);return!(null===(Z=this.iconDrawer)||void 0===Z)&&Z.hasChanged(this.center,G)&&(this.mapGraph.removeChildren(),this.iconDrawer.renderCartesianMapValues(this.center,G,ue=>{const oe=new r.Graphics,{center:le,start:de,end:ke}=ue.getPoints(5),xe_x=ke.x-de.x,xe_y=ke.y-de.y;return oe.lineStyle(5,ue.getColor(1),1-ue.getTransparency()),oe.moveTo(de.x,de.y),oe.lineTo(ke.x-xe_x/7,ke.y-xe_y/7),oe.drawCircle(ke.x-xe_x/7,ke.y-xe_y/7,5),oe.lineStyle(2.5,ue.getColor(.9),1-ue.getTransparency()),oe.moveTo(de.x,de.y),oe.lineTo(ke.x,ke.y),oe.x=le.x,oe.y=le.y,this.mapGraph.addChild(oe),!0}),Y&&!this.addedInContainer&&(Y.addChild(this.mapGraph),this.addedInContainer=!0)),0}setPixiApp(Y){}getDrawer(){return this.iconDrawer}}},5633:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.MarkersLayer=void 0;const r=A(8407);H.MarkersLayer=class F{constructor(){this._layerGroup=null,this._width=0,this._height=0}addToMap($){this._layerGroup&&($.hasLayer(this._layerGroup)||$.addLayer(this._layerGroup))}removeFromMap($){this._layerGroup&&$.hasLayer(this._layerGroup)&&$.removeLayer(this._layerGroup)}setCurrentWidth($){this._width=$}setCurrentHeight($){this._height=$}render($){if(this._layerGroup&&this._layerGroup.clearLayers(),!$)return{markers:[]};const Q=[];let Y,Z;for(const G of $){let J;G.iconOptions&&(J=(0,r.icon)(G.iconOptions));for(const ue of G.iconsLatLng)if(Y=ue.lat,Z=ue.lng,void 0===Y||isNaN(Y)||void 0===Z||isNaN(Z))console.error("MARKER ERROR: ",ue.id,"x: ",Y," y: ",Z);else{const oe={title:ue.name,alt:ue.id};J&&(oe.icon=J),Q.push((0,r.marker)([Y,Z],oe))}}return this._layerGroup=(0,r.layerGroup)(Q),{markers:Q}}}},9295:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PixiGridLayer=void 0;const r=A(8407),F=A(4520),q=A(6684);H.PixiGridLayer=class Y extends r.GridLayer{constructor(G){super(),this._id=G,this._lastUpdate=new Date("01-01-01"),this._gridOptions={padding:0,forceCanvas:!0,doubleBuffering:!1,resolution:r.Browser.retina?2:1,projectionZoom:J=>(J.getMaxZoom()+J.getMinZoom())/2,destroyInteractionManager:!1,autoPreventDefault:!0,preserveDrawingBuffer:!1,clearBeforeRender:!0,shouldRedrawOnMove:()=>!1},this.renderFn=J=>{}}onAdd(G){return super.onAdd(G),this._gridMap=G,this._gridZoomAnimated=G._gridZoomAnimated,!this._gridContainer&&this._pixiRenderer&&(this._gridContainer=r.DomUtil.create("div","leaflet-pixi-overlay"),this._gridContainer.appendChild(this._pixiRenderer.view),this._gridMap.getPanes()[this._getPaneName()].appendChild(this._gridContainer),this._setEvents()),this._gridInitialZoom=this._gridOptions.projectionZoom(this._gridMap),this._gridWgsOrigin=new q.MapLatLng(0,0),this._gridWgsInitialShift=this._gridMap.project(this._gridWgsOrigin,this._gridInitialZoom),this._gridMapInitialZoom=this._gridMap.getZoom(),this}onRemove(G){super.onRemove(G);const J=this._gridMap.getPanes()[this._getPaneName()];J&&J.children.length>0&&J.removeChild(this._gridContainer);const ue=this.getEvents();for(const oe in ue)this._gridMap.off(oe,ue[oe],this);return this.pixiApp.destroy(),this.pixiApp=null,this._gridContainer=null,this._pixiContainer=null,this._pixiRenderer=null,this}setCurrentWidth(G){this.currentWidth=G}setCurrentHeight(G){this.currentHeight=G}_initializeLayer(){this._gridRendererOptions={transparent:!0,width:this.currentWidth,height:this.currentHeight,sharedTicker:!0},this._gridDoubleBuffering=!1,this.pixiApp=new F.Application(this._gridRendererOptions),this._pixiContainer=this.pixiApp.stage,this._pixiRenderer=this.pixiApp.renderer}setRenderFn(G){this.renderFn=G}_update(){if(super._update(),!this._gridMap||!this._gridContainer)return;const G=this._gridMap.getPixelBounds().min.subtract(this._gridMap.getPixelOrigin());r.DomUtil.setPosition(this._gridContainer,G),this._layerRedraw()}setMeAsFirst(){for(const G of Object.getOwnPropertyNames(this._gridMap.getPanes())){this._gridMap.getPanes()[G].style.visibility=G===this._getPaneName()?"visible":"hidden"}}isFirst(){return this._gridMap.getPanes()[this._getPaneName()].childNodes[0].nodeName===this._getPaneName()}_addContainer(){}_setEvents(){const G=["zoomend","viewreset"];for(const J in G)this._gridMap.on(J,this._update,this)}_getPaneName(){return this._gridOptions.pane||"overlayPane"}_layerRedraw(G){this.renderFn(this._pixiContainer)}}},6962:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PolarLayer=void 0;const r=A(4520),F=A(9497),q=A(645),$=A(3328),Q=A(1070),Y=A(847);H.PolarLayer=class Z{constructor(J,ue,oe,ce=!1){this.id=J,this.type=ue,this.gridMap=oe,this.addSomeDebugInfos=ce,this.mapGraph=new r.Graphics,this.config=new q.PolarLayerConfig}getId(){return this.id}hide(){this.mapGraph.alpha=0}show(){this.mapGraph.alpha=1}isVisible(){return 1===this.mapGraph.alpha}setValues(J,ue,oe,ce){this.center=new Y.MapLatLng(J.lat,J.lng),this.config.copy(oe),this.polarDrawer=new F.PolarDrawer(de=>{de.setCenter({latitude:J.lat,longitude:J.lng});const ke=new Y.MapLatLng(de.getLatitude(),de.getLongitude());return this.gridMap.latLngToContainerPoint(ke)},de=>{if(this.config.minValueToDisplay>de.value)return!1;de.setCenter({latitude:J.lat,longitude:J.lng});const ke=new Y.MapLatLng(de.getLatitude(),de.getLongitude());return this.gridMap.getBounds().contains(ke)},()=>this.gridMap.getZoom(),this.type);const le=$.PolarDrawerOptimization.Defaults();this.polarDrawer.setConfiguration(this.config.theme,this.config.range,le),this.polarDrawer.updateValues(ue,ce)}render(J){var ue;const oe=this.gridMap.latLngToContainerPoint(this.center);if(null===(ue=this.polarDrawer)||void 0===ue||!ue.hasChanged(this.center,oe))return 0;this.mapGraph.removeChildren();const ce=ke=>{let xe=ke.polarAzimuthInDegrees-90;return xe<0&&(xe+=360),xe*(Math.PI/180)},de=this.polarDrawer.renderPolarMapValues(this.center,oe,(ke,xe)=>{const se=new r.Graphics;if(!xe){const Le=ke.getPositionFrom(oe),Ge=1-ke.getTransparency(this.config.opacity);return se.lineStyle(10,ke.getColor(),Ge),se.drawCircle(Le.x,Le.y,1),this.mapGraph.addChild(se),!0}const _e=ke.getPolarDistanceRelative(),Ie=xe.getPolarDistanceRelative(),Be=Math.abs(Ie-_e);if(Be<=0)return!1;const tt=1-ke.getTransparency(this.config.opacity);se.lineStyle(1,ke.getColor(),tt);let Ae=ce(ke),vt=ce(xe);return(Ae===vt||Ae===vt+2*Math.PI)&&(Ae=0,vt=2*Math.PI),se.arc(0,0,Be/2,Ae,vt),se.position.x=oe.x,se.position.y=oe.y,this.mapGraph.addChild(se),!0});if(J&&!this.addedInContainer&&(J.addChild(this.mapGraph),this.addedInContainer=!0),this.addSomeDebugInfos){const ke=this.polarDrawer.getOptimization(),xe=new r.Text("Pol-"+ke?.type+"-"+this.polarDrawer.getVersion(),{fontFamily:"Arial",fontSize:16,fill:Q.MapTools.hexStringToNumber("#3cff10"),align:"center"});this.mapGraph.addChild(xe)}return de}setPixiApp(J){}getDrawer(){return this.polarDrawer}}},645:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PolarLayerConfig=void 0,H.PolarLayerConfig=class A{constructor(F,q,$,Q,Y){this.optimization=F,this.theme=q,this.range=$,this.opacity=Q,this.minValueToDisplay=Y}copy(F){return typeof F.optimization<"u"&&(this.optimization=F.optimization),typeof F.theme<"u"&&(this.theme=F.theme),typeof F.range<"u"&&(this.range=F.range),typeof F.opacity<"u"&&(this.opacity=F.opacity),typeof F.minValueToDisplay<"u"&&(this.minValueToDisplay=F.minValueToDisplay),this}}},7439:function(Ct,H,A){"use strict";var r=this&&this.__createBinding||(Object.create?function(q,$,Q,Y){void 0===Y&&(Y=Q);var Z=Object.getOwnPropertyDescriptor($,Q);(!Z||("get"in Z?!$.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return $[Q]}}),Object.defineProperty(q,Y,Z)}:function(q,$,Q,Y){void 0===Y&&(Y=Q),q[Y]=$[Q]}),F=this&&this.__exportStar||function(q,$){for(var Q in q)"default"!==Q&&!Object.prototype.hasOwnProperty.call($,Q)&&r($,q,Q)};Object.defineProperty(H,"__esModule",{value:!0}),F(A(6962),H),F(A(645),H),F(A(6276),H),F(A(5633),H),F(A(9295),H),F(A(6379),H),F(A(7527),H),F(A(3616),H),F(A(4413),H)},9177:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.FrameContainer=void 0,H.FrameContainer=class A{constructor(F,q,$=!1,Q=!1,Y=!1){this.date=F,this.values=q,this.isPolar=$,this.isCartesian=Q,this.isIcon=Y}}},6385:(Ct,H)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.TimeframeContainer=void 0,H.TimeframeContainer=class A{constructor(F,q,$){this.name=F,this.timeframe=q,this.version=$}setCompositeLayer(F){this.compositeLayer=F}showTimeframes(F){if(!this.compositeLayer)return[{layers:[],frameContainer:null}];let q=[];return this.timeframe.forEach($=>{q=q.concat({layers:this.compositeLayer.show(F.toISOString()),frameContainer:$})}),q}getFrameId(F){var q;return this.name+"_"+new Date(F.date).toISOString()+"_"+(null===(q=F.values)||void 0===q?void 0:q.length)}}},6604:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.TimeframeContainers=void 0;const r=A(6385),F=A(4718),q=A(9177),$=A(6684);H.TimeframeContainers=class Q{constructor(Z){this.containers=Z}addFromRadarNodeMap(Z,G){const J=Z.getMapData(),ue=this.computeFrames(J,G);this.containers.push(new r.TimeframeContainer(Z.name,ue,Z.getVersion()))}addFromRainComputationMap(Z,G){const J=Z.getMapData(),ue=this.computeFrames(J,G);this.containers.push(new r.TimeframeContainer(Z.name,ue,Z.getVersion()))}showTimeframes(Z,G){let J=[];for(const ue of this.containers)ue.name===Z&&(J=J.concat(ue.showTimeframes(G)));return J}computeFrames(Z,G){let J;return J=Z.map(G?ue=>{let oe=[];return ue.values&&ue.values.forEach(ce=>{const le=F.RainPolarMeasureValue.From(ce);oe=oe.concat($.PolarMapValue.From(le.getPolars()))}),new q.FrameContainer(ue.date,oe,!0,!1)}:ue=>{let oe=[];return ue.values&&ue.values.forEach(ce=>{const le=F.CartesianMeasureValue.From(ce);oe=oe.concat($.CartesianMapValue.From(le.getCartesianValues(),le.getCartesianPixelWidth()))}),new q.FrameContainer(ue.date,oe,!1,!0)}),J}}},9658:function(Ct,H,A){"use strict";var r=this&&this.__createBinding||(Object.create?function(q,$,Q,Y){void 0===Y&&(Y=Q);var Z=Object.getOwnPropertyDescriptor($,Q);(!Z||("get"in Z?!$.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return $[Q]}}),Object.defineProperty(q,Y,Z)}:function(q,$,Q,Y){void 0===Y&&(Y=Q),q[Y]=$[Q]}),F=this&&this.__exportStar||function(q,$){for(var Q in q)"default"!==Q&&!Object.prototype.hasOwnProperty.call($,Q)&&r($,q,Q)};Object.defineProperty(H,"__esModule",{value:!0}),F(A(9177),H),F(A(6385),H),F(A(6604),H)},6238:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.CartesianMapValue=void 0;const r=A(847),F=A(8407);class q extends r.MapLatLng{constructor(Q,Y,Z,G,J,ue,oe){super(Y,Z,void 0,ue,oe,Q),this.lat2=G,this.lng2=J}static Duplicate(Q){return new q(Q.value,Q.lat,Q.lng,Q.lat2,Q.lng2,Q.id,Q.name)}static From(Q,Y){const Z=[];return Q.forEach(G=>{Z.push(new q(G.value,G.lat,G.lng,G.lat+Y.lat,G.lng+Y.lng,""+Math.random(),""))}),Z}getPoints(){return{point1:new F.LatLng(this.lat,this.lng),point2:new F.LatLng(this.lat2,this.lng2)}}}H.CartesianMapValue=q},1393:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.IconMapValue=void 0;const r=A(6238);H.IconMapValue=class F extends r.CartesianMapValue{constructor($,Q,Y,Z,G,J){super(Y,$,Q,$,Q,G,J),this.speed=Y,this.angle=Z}}},847:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.MapLatLng=void 0;const r=A(8407);H.MapLatLng=class F extends r.LatLng{constructor($,Q,Y,Z,G,J){super($,Q,Y),this.lat=$,this.lng=Q,this.alt=Y,this.id=Z,this.name=G,this.value=J}}},1070:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.MapTools=void 0;const r=A(2803),F=A(6238);H.MapTools=class q{static getPolarDistanceRatio(Q,Y,Z){const G=r.PolarMapValue.Duplicate(Y),J=Z(G);return Math.sqrt(Math.pow(Q.x-J.x,2)+Math.pow(Q.y-J.y,2))/G.polarDistanceInMeters}static getCartesianDistanceRatio(Q,Y,Z){if(Y.length<=1)return 1;const J=Z(new F.CartesianMapValue(0,Q.lat,Q.lng,0,0,"","")).p1,ue=Y[Y.length-1],oe=ue.distanceTo(Q),ce=Z(ue);return Math.sqrt(Math.pow(J.x-ce.p1.x,2)+Math.pow(J.y-ce.p1.y,2))/oe}static hexStringToNumber(Q){const Y=Q.substring(1,3)+Q.substring(3,5)+Q.substring(5,7);return parseInt(Y,16)}}},2803:(Ct,H,A)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.PolarMapValue=void 0;const r=A(5175),F=A(847);class q extends F.MapLatLng{constructor(Q,Y,Z,G,J,ue){super(0,0,G,J,ue,Q),this.polarAzimuthInDegrees=Y,this.polarDistanceInMeters=Z,this.altitude=G,this.center=new F.MapLatLng(0,0),this.setLatLngConsistentWithPolar()}static Duplicate(Q){const Y=new q(Q.value,Q.polarAzimuthInDegrees,Q.polarDistanceInMeters,Q.altitude,Q.id,Q.name);return Y.setCenter({latitude:Q.center.lat,longitude:Q.center.lng}),Y}static From(Q){const Y=[];return Q.forEach(Z=>{Z.polarEdges.forEach((G,J)=>{Y.push(new q(G,Z.azimuth,Z.distance*(J+1)))})}),Y}static GetLatLngFromPolar(Q,Y,Z){const G=(0,r.computeDestinationPoint)(Q,Z,Y);return{lat:G.latitude,lng:G.longitude}}setCenter(Q){this.center=new F.MapLatLng(Q.latitude,Q.longitude),this.setLatLngConsistentWithPolar()}setPolarAzimuthInDegrees(Q){this.polarAzimuthInDegrees=Q,this.setLatLngConsistentWithPolar()}setPolarDistanceInMeters(Q){this.polarDistanceInMeters=Q,this.setLatLngConsistentWithPolar()}getLatitude(){return this.setLatLngConsistentWithPolar(),this.lat}getLongitude(){return this.setLatLngConsistentWithPolar(),this.lng}setLatLngConsistentWithPolar(){if(0===this.center.lat&&0===this.center.lng)return;const Q=q.GetLatLngFromPolar(this.center,this.polarAzimuthInDegrees,this.polarDistanceInMeters);this.lat=Q.lat,this.lng=Q.lng}}H.PolarMapValue=q},6684:function(Ct,H,A){"use strict";var r=this&&this.__createBinding||(Object.create?function(q,$,Q,Y){void 0===Y&&(Y=Q);var Z=Object.getOwnPropertyDescriptor($,Q);(!Z||("get"in Z?!$.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return $[Q]}}),Object.defineProperty(q,Y,Z)}:function(q,$,Q,Y){void 0===Y&&(Y=Q),q[Y]=$[Q]}),F=this&&this.__exportStar||function(q,$){for(var Q in q)"default"!==Q&&!Object.prototype.hasOwnProperty.call($,Q)&&r($,q,Q)};Object.defineProperty(H,"__esModule",{value:!0}),F(A(2803),H),F(A(6238),H),F(A(1070),H),F(A(847),H),F(A(1393),H)},1135:(Ct,H,A)=>{"use strict";A.d(H,{X:()=>F});var r=A(7579);class F extends r.x{constructor($){super(),this._value=$}get value(){return this.getValue()}_subscribe($){const Q=super._subscribe($);return!Q.closed&&$.next(this._value),Q}getValue(){const{hasError:$,thrownError:Q,_value:Y}=this;if($)throw Q;return this._throwIfClosed(),Y}next($){super.next(this._value=$)}}},9751:(Ct,H,A)=>{"use strict";A.d(H,{y:()=>G});var r=A(930),F=A(727),q=A(8822),$=A(9635),Q=A(2416),Y=A(576),Z=A(2806);let G=(()=>{class ce{constructor(de){de&&(this._subscribe=de)}lift(de){const ke=new ce;return ke.source=this,ke.operator=de,ke}subscribe(de,ke,xe){const se=function oe(ce){return ce&&ce instanceof r.Lv||function ue(ce){return ce&&(0,Y.m)(ce.next)&&(0,Y.m)(ce.error)&&(0,Y.m)(ce.complete)}(ce)&&(0,F.Nn)(ce)}(de)?de:new r.Hp(de,ke,xe);return(0,Z.x)(()=>{const{operator:_e,source:Ie}=this;se.add(_e?_e.call(se,Ie):Ie?this._subscribe(se):this._trySubscribe(se))}),se}_trySubscribe(de){try{return this._subscribe(de)}catch(ke){de.error(ke)}}forEach(de,ke){return new(ke=J(ke))((xe,se)=>{const _e=new r.Hp({next:Ie=>{try{de(Ie)}catch(Be){se(Be),_e.unsubscribe()}},error:se,complete:xe});this.subscribe(_e)})}_subscribe(de){var ke;return null===(ke=this.source)||void 0===ke?void 0:ke.subscribe(de)}[q.L](){return this}pipe(...de){return(0,$.U)(de)(this)}toPromise(de){return new(de=J(de))((ke,xe)=>{let se;this.subscribe(_e=>se=_e,_e=>xe(_e),()=>ke(se))})}}return ce.create=le=>new ce(le),ce})();function J(ce){var le;return null!==(le=ce??Q.v.Promise)&&void 0!==le?le:Promise}},7579:(Ct,H,A)=>{"use strict";A.d(H,{x:()=>Z});var r=A(9751),F=A(727);const $=(0,A(3888).d)(J=>function(){J(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Q=A(8737),Y=A(2806);let Z=(()=>{class J extends r.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const ce=new G(this,this);return ce.operator=oe,ce}_throwIfClosed(){if(this.closed)throw new $}next(oe){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(oe)}})}error(oe){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:ce}=this;for(;ce.length;)ce.shift().error(oe)}})}complete(){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:ce,isStopped:le,observers:de}=this;return ce||le?F.Lc:(this.currentObservers=null,de.push(oe),new F.w0(()=>{this.currentObservers=null,(0,Q.P)(de,oe)}))}_checkFinalizedStatuses(oe){const{hasError:ce,thrownError:le,isStopped:de}=this;ce?oe.error(le):de&&oe.complete()}asObservable(){const oe=new r.y;return oe.source=this,oe}}return J.create=(ue,oe)=>new G(ue,oe),J})();class G extends Z{constructor(ue,oe){super(),this.destination=ue,this.source=oe}next(ue){var oe,ce;null===(ce=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===ce||ce.call(oe,ue)}error(ue){var oe,ce;null===(ce=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===ce||ce.call(oe,ue)}complete(){var ue,oe;null===(oe=null===(ue=this.destination)||void 0===ue?void 0:ue.complete)||void 0===oe||oe.call(ue)}_subscribe(ue){var oe,ce;return null!==(ce=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(ue))&&void 0!==ce?ce:F.Lc}}},930:(Ct,H,A)=>{"use strict";A.d(H,{Hp:()=>xe,Lv:()=>ce});var r=A(576),F=A(727),q=A(2416),$=A(7849),Q=A(5032);const Y=J("C",void 0,void 0);function J(tt,Ae,vt){return{kind:tt,value:Ae,error:vt}}var ue=A(3410),oe=A(2806);class ce extends F.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,F.Nn)(Ae)&&Ae.add(this)):this.destination=Be}static create(Ae,vt,Le){return new xe(Ae,vt,Le)}next(Ae){this.isStopped?Ie(function G(tt){return J("N",tt,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?Ie(function Z(tt){return J("E",void 0,tt)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?Ie(Y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const le=Function.prototype.bind;function de(tt,Ae){return le.call(tt,Ae)}class ke{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:vt}=this;if(vt.next)try{vt.next(Ae)}catch(Le){se(Le)}}error(Ae){const{partialObserver:vt}=this;if(vt.error)try{vt.error(Ae)}catch(Le){se(Le)}else se(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(vt){se(vt)}}}class xe extends ce{constructor(Ae,vt,Le){let Ge;if(super(),(0,r.m)(Ae)||!Ae)Ge={next:Ae??void 0,error:vt??void 0,complete:Le??void 0};else{let Ze;this&&q.v.useDeprecatedNextContext?(Ze=Object.create(Ae),Ze.unsubscribe=()=>this.unsubscribe(),Ge={next:Ae.next&&de(Ae.next,Ze),error:Ae.error&&de(Ae.error,Ze),complete:Ae.complete&&de(Ae.complete,Ze)}):Ge=Ae}this.destination=new ke(Ge)}}function se(tt){q.v.useDeprecatedSynchronousErrorHandling?(0,oe.O)(tt):(0,$.h)(tt)}function Ie(tt,Ae){const{onStoppedNotification:vt}=q.v;vt&&ue.z.setTimeout(()=>vt(tt,Ae))}const Be={closed:!0,next:Q.Z,error:function _e(tt){throw tt},complete:Q.Z}},727:(Ct,H,A)=>{"use strict";A.d(H,{Lc:()=>Y,w0:()=>Q,Nn:()=>Z});var r=A(576);const q=(0,A(3888).d)(J=>function(oe){J(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((ce,le)=>`${le+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var $=A(8737);class Q{constructor(ue){this.initialTeardown=ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ue;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const de of oe)de.remove(this);else oe.remove(this);const{initialTeardown:ce}=this;if((0,r.m)(ce))try{ce()}catch(de){ue=de instanceof q?de.errors:[de]}const{_finalizers:le}=this;if(le){this._finalizers=null;for(const de of le)try{G(de)}catch(ke){ue=ue??[],ke instanceof q?ue=[...ue,...ke.errors]:ue.push(ke)}}if(ue)throw new q(ue)}}add(ue){var oe;if(ue&&ue!==this)if(this.closed)G(ue);else{if(ue instanceof Q){if(ue.closed||ue._hasParent(this))return;ue._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(ue)}}_hasParent(ue){const{_parentage:oe}=this;return oe===ue||Array.isArray(oe)&&oe.includes(ue)}_addParent(ue){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(ue),oe):oe?[oe,ue]:ue}_removeParent(ue){const{_parentage:oe}=this;oe===ue?this._parentage=null:Array.isArray(oe)&&(0,$.P)(oe,ue)}remove(ue){const{_finalizers:oe}=this;oe&&(0,$.P)(oe,ue),ue instanceof Q&&ue._removeParent(this)}}Q.EMPTY=(()=>{const J=new Q;return J.closed=!0,J})();const Y=Q.EMPTY;function Z(J){return J instanceof Q||J&&"closed"in J&&(0,r.m)(J.remove)&&(0,r.m)(J.add)&&(0,r.m)(J.unsubscribe)}function G(J){(0,r.m)(J)?J():J.unsubscribe()}},2416:(Ct,H,A)=>{"use strict";A.d(H,{v:()=>r});const r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ct,H,A)=>{"use strict";A.d(H,{E:()=>F});const F=new(A(9751).y)(Q=>Q.complete())},2076:(Ct,H,A)=>{"use strict";A.d(H,{D:()=>Le});var r=A(8421),F=A(9672),q=A(4482),$=A(5403);function Q(Ge,Ze=0){return(0,q.e)((rt,ct)=>{rt.subscribe((0,$.x)(ct,ze=>(0,F.f)(ct,Ge,()=>ct.next(ze),Ze),()=>(0,F.f)(ct,Ge,()=>ct.complete(),Ze),ze=>(0,F.f)(ct,Ge,()=>ct.error(ze),Ze)))})}function Y(Ge,Ze=0){return(0,q.e)((rt,ct)=>{ct.add(Ge.schedule(()=>rt.subscribe(ct),Ze))})}var J=A(9751),oe=A(2202),ce=A(576);function de(Ge,Ze){if(!Ge)throw new Error("Iterable cannot be null");return new J.y(rt=>{(0,F.f)(rt,Ze,()=>{const ct=Ge[Symbol.asyncIterator]();(0,F.f)(rt,Ze,()=>{ct.next().then(ze=>{ze.done?rt.complete():rt.next(ze.value)})},0,!0)})})}var ke=A(3670),xe=A(8239),se=A(1144),_e=A(6495),Ie=A(2206),Be=A(4532),tt=A(3260);function Le(Ge,Ze){return Ze?function vt(Ge,Ze){if(null!=Ge){if((0,ke.c)(Ge))return function Z(Ge,Ze){return(0,r.Xf)(Ge).pipe(Y(Ze),Q(Ze))}(Ge,Ze);if((0,se.z)(Ge))return function ue(Ge,Ze){return new J.y(rt=>{let ct=0;return Ze.schedule(function(){ct===Ge.length?rt.complete():(rt.next(Ge[ct++]),rt.closed||this.schedule())})})}(Ge,Ze);if((0,xe.t)(Ge))return function G(Ge,Ze){return(0,r.Xf)(Ge).pipe(Y(Ze),Q(Ze))}(Ge,Ze);if((0,Ie.D)(Ge))return de(Ge,Ze);if((0,_e.T)(Ge))return function le(Ge,Ze){return new J.y(rt=>{let ct;return(0,F.f)(rt,Ze,()=>{ct=Ge[oe.h](),(0,F.f)(rt,Ze,()=>{let ze,Ke;try{({value:ze,done:Ke}=ct.next())}catch(ge){return void rt.error(ge)}Ke?rt.complete():rt.next(ze)},0,!0)}),()=>(0,ce.m)(ct?.return)&&ct.return()})}(Ge,Ze);if((0,tt.L)(Ge))return function Ae(Ge,Ze){return de((0,tt.Q)(Ge),Ze)}(Ge,Ze)}throw(0,Be.z)(Ge)}(Ge,Ze):(0,r.Xf)(Ge)}},8421:(Ct,H,A)=>{"use strict";A.d(H,{Xf:()=>le});var r=A(7582),F=A(1144),q=A(8239),$=A(9751),Q=A(3670),Y=A(2206),Z=A(4532),G=A(6495),J=A(3260),ue=A(576),oe=A(7849),ce=A(8822);function le(tt){if(tt instanceof $.y)return tt;if(null!=tt){if((0,Q.c)(tt))return function de(tt){return new $.y(Ae=>{const vt=tt[ce.L]();if((0,ue.m)(vt.subscribe))return vt.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(tt);if((0,F.z)(tt))return function ke(tt){return new $.y(Ae=>{for(let vt=0;vt<tt.length&&!Ae.closed;vt++)Ae.next(tt[vt]);Ae.complete()})}(tt);if((0,q.t)(tt))return function xe(tt){return new $.y(Ae=>{tt.then(vt=>{Ae.closed||(Ae.next(vt),Ae.complete())},vt=>Ae.error(vt)).then(null,oe.h)})}(tt);if((0,Y.D)(tt))return _e(tt);if((0,G.T)(tt))return function se(tt){return new $.y(Ae=>{for(const vt of tt)if(Ae.next(vt),Ae.closed)return;Ae.complete()})}(tt);if((0,J.L)(tt))return function Ie(tt){return _e((0,J.Q)(tt))}(tt)}throw(0,Z.z)(tt)}function _e(tt){return new $.y(Ae=>{(function Be(tt,Ae){var vt,Le,Ge,Ze;return(0,r.mG)(this,void 0,void 0,function*(){try{for(vt=(0,r.KL)(tt);!(Le=yield vt.next()).done;)if(Ae.next(Le.value),Ae.closed)return}catch(rt){Ge={error:rt}}finally{try{Le&&!Le.done&&(Ze=vt.return)&&(yield Ze.call(vt))}finally{if(Ge)throw Ge.error}}Ae.complete()})})(tt,Ae).catch(vt=>Ae.error(vt))})}},9646:(Ct,H,A)=>{"use strict";A.d(H,{of:()=>q});var r=A(3269),F=A(2076);function q(...$){const Q=(0,r.yG)($);return(0,F.D)($,Q)}},5403:(Ct,H,A)=>{"use strict";A.d(H,{x:()=>F});var r=A(930);function F($,Q,Y,Z,G){return new q($,Q,Y,Z,G)}class q extends r.Lv{constructor(Q,Y,Z,G,J,ue){super(Q),this.onFinalize=J,this.shouldUnsubscribe=ue,this._next=Y?function(oe){try{Y(oe)}catch(ce){Q.error(ce)}}:super._next,this._error=G?function(oe){try{G(oe)}catch(ce){Q.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=Z?function(){try{Z()}catch(oe){Q.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Y}=this;super.unsubscribe(),!Y&&(null===(Q=this.onFinalize)||void 0===Q||Q.call(this))}}}},4351:(Ct,H,A)=>{"use strict";A.d(H,{b:()=>q});var r=A(5577),F=A(576);function q($,Q){return(0,F.m)(Q)?(0,r.z)($,Q,1):(0,r.z)($,1)}},9300:(Ct,H,A)=>{"use strict";A.d(H,{h:()=>q});var r=A(4482),F=A(5403);function q($,Q){return(0,r.e)((Y,Z)=>{let G=0;Y.subscribe((0,F.x)(Z,J=>$.call(Q,J,G++)&&Z.next(J)))})}},4004:(Ct,H,A)=>{"use strict";A.d(H,{U:()=>q});var r=A(4482),F=A(5403);function q($,Q){return(0,r.e)((Y,Z)=>{let G=0;Y.subscribe((0,F.x)(Z,J=>{Z.next($.call(Q,J,G++))}))})}},8189:(Ct,H,A)=>{"use strict";A.d(H,{J:()=>q});var r=A(5577),F=A(4671);function q($=1/0){return(0,r.z)(F.y,$)}},5577:(Ct,H,A)=>{"use strict";A.d(H,{z:()=>G});var r=A(4004),F=A(8421),q=A(4482),$=A(9672),Q=A(5403),Z=A(576);function G(J,ue,oe=1/0){return(0,Z.m)(ue)?G((ce,le)=>(0,r.U)((de,ke)=>ue(ce,de,le,ke))((0,F.Xf)(J(ce,le))),oe):("number"==typeof ue&&(oe=ue),(0,q.e)((ce,le)=>function Y(J,ue,oe,ce,le,de,ke,xe){const se=[];let _e=0,Ie=0,Be=!1;const tt=()=>{Be&&!se.length&&!_e&&ue.complete()},Ae=Le=>_e<ce?vt(Le):se.push(Le),vt=Le=>{de&&ue.next(Le),_e++;let Ge=!1;(0,F.Xf)(oe(Le,Ie++)).subscribe((0,Q.x)(ue,Ze=>{le?.(Ze),de?Ae(Ze):ue.next(Ze)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(_e--;se.length&&_e<ce;){const Ze=se.shift();ke?(0,$.f)(ue,ke,()=>vt(Ze)):vt(Ze)}tt()}catch(Ze){ue.error(Ze)}}))};return J.subscribe((0,Q.x)(ue,Ae,()=>{Be=!0,tt()})),()=>{xe?.()}}(ce,le,J,oe)))}},3900:(Ct,H,A)=>{"use strict";A.d(H,{w:()=>$});var r=A(8421),F=A(4482),q=A(5403);function $(Q,Y){return(0,F.e)((Z,G)=>{let J=null,ue=0,oe=!1;const ce=()=>oe&&!J&&G.complete();Z.subscribe((0,q.x)(G,le=>{J?.unsubscribe();let de=0;const ke=ue++;(0,r.Xf)(Q(le,ke)).subscribe(J=(0,q.x)(G,xe=>G.next(Y?Y(le,xe,ke,de++):xe),()=>{J=null,ce()}))},()=>{oe=!0,ce()}))})}},3410:(Ct,H,A)=>{"use strict";A.d(H,{z:()=>r});const r={setTimeout(F,q,...$){const{delegate:Q}=r;return Q?.setTimeout?Q.setTimeout(F,q,...$):setTimeout(F,q,...$)},clearTimeout(F){const{delegate:q}=r;return(q?.clearTimeout||clearTimeout)(F)},delegate:void 0}},2202:(Ct,H,A)=>{"use strict";A.d(H,{h:()=>F});const F=function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ct,H,A)=>{"use strict";A.d(H,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ct,H,A)=>{"use strict";A.d(H,{_6:()=>Y,jO:()=>$,yG:()=>Q});var r=A(576),F=A(3532);function q(Z){return Z[Z.length-1]}function $(Z){return(0,r.m)(q(Z))?Z.pop():void 0}function Q(Z){return(0,F.K)(q(Z))?Z.pop():void 0}function Y(Z,G){return"number"==typeof q(Z)?Z.pop():G}},4742:(Ct,H,A)=>{"use strict";A.d(H,{D:()=>Q});const{isArray:r}=Array,{getPrototypeOf:F,prototype:q,keys:$}=Object;function Q(Z){if(1===Z.length){const G=Z[0];if(r(G))return{args:G,keys:null};if(function Y(Z){return Z&&"object"==typeof Z&&F(Z)===q}(G)){const J=$(G);return{args:J.map(ue=>G[ue]),keys:J}}}return{args:Z,keys:null}}},8737:(Ct,H,A)=>{"use strict";function r(F,q){if(F){const $=F.indexOf(q);0<=$&&F.splice($,1)}}A.d(H,{P:()=>r})},3888:(Ct,H,A)=>{"use strict";function r(F){const $=F(Q=>{Error.call(Q),Q.stack=(new Error).stack});return $.prototype=Object.create(Error.prototype),$.prototype.constructor=$,$}A.d(H,{d:()=>r})},1810:(Ct,H,A)=>{"use strict";function r(F,q){return F.reduce(($,Q,Y)=>($[Q]=q[Y],$),{})}A.d(H,{n:()=>r})},2806:(Ct,H,A)=>{"use strict";A.d(H,{O:()=>$,x:()=>q});var r=A(2416);let F=null;function q(Q){if(r.v.useDeprecatedSynchronousErrorHandling){const Y=!F;if(Y&&(F={errorThrown:!1,error:null}),Q(),Y){const{errorThrown:Z,error:G}=F;if(F=null,Z)throw G}}else Q()}function $(Q){r.v.useDeprecatedSynchronousErrorHandling&&F&&(F.errorThrown=!0,F.error=Q)}},9672:(Ct,H,A)=>{"use strict";function r(F,q,$,Q=0,Y=!1){const Z=q.schedule(function(){$(),Y?F.add(this.schedule(null,Q)):this.unsubscribe()},Q);if(F.add(Z),!Y)return Z}A.d(H,{f:()=>r})},4671:(Ct,H,A)=>{"use strict";function r(F){return F}A.d(H,{y:()=>r})},1144:(Ct,H,A)=>{"use strict";A.d(H,{z:()=>r});const r=F=>F&&"number"==typeof F.length&&"function"!=typeof F},2206:(Ct,H,A)=>{"use strict";A.d(H,{D:()=>F});var r=A(576);function F(q){return Symbol.asyncIterator&&(0,r.m)(q?.[Symbol.asyncIterator])}},576:(Ct,H,A)=>{"use strict";function r(F){return"function"==typeof F}A.d(H,{m:()=>r})},3670:(Ct,H,A)=>{"use strict";A.d(H,{c:()=>q});var r=A(8822),F=A(576);function q($){return(0,F.m)($[r.L])}},6495:(Ct,H,A)=>{"use strict";A.d(H,{T:()=>q});var r=A(2202),F=A(576);function q($){return(0,F.m)($?.[r.h])}},8239:(Ct,H,A)=>{"use strict";A.d(H,{t:()=>F});var r=A(576);function F(q){return(0,r.m)(q?.then)}},3260:(Ct,H,A)=>{"use strict";A.d(H,{L:()=>$,Q:()=>q});var r=A(7582),F=A(576);function q(Q){return(0,r.FC)(this,arguments,function*(){const Z=Q.getReader();try{for(;;){const{value:G,done:J}=yield(0,r.qq)(Z.read());if(J)return yield(0,r.qq)(void 0);yield yield(0,r.qq)(G)}}finally{Z.releaseLock()}})}function $(Q){return(0,F.m)(Q?.getReader)}},3532:(Ct,H,A)=>{"use strict";A.d(H,{K:()=>F});var r=A(576);function F(q){return q&&(0,r.m)(q.schedule)}},4482:(Ct,H,A)=>{"use strict";A.d(H,{A:()=>F,e:()=>q});var r=A(576);function F($){return(0,r.m)($?.lift)}function q($){return Q=>{if(F(Q))return Q.lift(function(Y){try{return $(Y,this)}catch(Z){this.error(Z)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Ct,H,A)=>{"use strict";A.d(H,{Z:()=>$});var r=A(4004);const{isArray:F}=Array;function $(Q){return(0,r.U)(Y=>function q(Q,Y){return F(Y)?Q(...Y):Q(Y)}(Q,Y))}},5032:(Ct,H,A)=>{"use strict";function r(){}A.d(H,{Z:()=>r})},9635:(Ct,H,A)=>{"use strict";A.d(H,{U:()=>q,z:()=>F});var r=A(4671);function F(...$){return q($)}function q($){return 0===$.length?r.y:1===$.length?$[0]:function(Y){return $.reduce((Z,G)=>G(Z),Y)}}},7849:(Ct,H,A)=>{"use strict";A.d(H,{h:()=>q});var r=A(2416),F=A(3410);function q($){F.z.setTimeout(()=>{const{onUnhandledError:Q}=r.v;if(!Q)throw $;Q($)})}},4532:(Ct,H,A)=>{"use strict";function r(F){return new TypeError(`You provided ${null!==F&&"object"==typeof F?"an invalid object":`'${F}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(H,{z:()=>r})},9511:(Ct,H,A)=>{"use strict";var r=A(5203),F=A(7484),q=A(7027)(),$=A(7378),Q=A(2844),Y=r("%Math.floor%");Ct.exports=function(G,J){if("function"!=typeof G)throw new Q("`fn` is not a function");if("number"!=typeof J||J<0||J>4294967295||Y(J)!==J)throw new Q("`length` must be a positive 32-bit integer");var ue=arguments.length>2&&!!arguments[2],oe=!0,ce=!0;if("length"in G&&$){var le=$(G,"length");le&&!le.configurable&&(oe=!1),le&&!le.writable&&(ce=!1)}return(oe||ce||!ue)&&(q?F(G,"length",J,!0,!0):F(G,"length",J)),G}},8475:(Ct,H,A)=>{"use strict";var r=A(5203),F=A(5834),q=A(7024),$=A(2844),Q=r("%WeakMap%",!0),Y=r("%Map%",!0),Z=F("WeakMap.prototype.get",!0),G=F("WeakMap.prototype.set",!0),J=F("WeakMap.prototype.has",!0),ue=F("Map.prototype.get",!0),oe=F("Map.prototype.set",!0),ce=F("Map.prototype.has",!0),le=function(se,_e){for(var Be,Ie=se;null!==(Be=Ie.next);Ie=Be)if(Be.key===_e)return Ie.next=Be.next,Be.next=se.next,se.next=Be,Be};Ct.exports=function(){var _e,Ie,Be,tt={assert:function(Ae){if(!tt.has(Ae))throw new $("Side channel does not contain "+q(Ae))},get:function(Ae){if(Q&&Ae&&("object"==typeof Ae||"function"==typeof Ae)){if(_e)return Z(_e,Ae)}else if(Y){if(Ie)return ue(Ie,Ae)}else if(Be)return function(se,_e){var Ie=le(se,_e);return Ie&&Ie.value}(Be,Ae)},has:function(Ae){if(Q&&Ae&&("object"==typeof Ae||"function"==typeof Ae)){if(_e)return J(_e,Ae)}else if(Y){if(Ie)return ce(Ie,Ae)}else if(Be)return function(se,_e){return!!le(se,_e)}(Be,Ae);return!1},set:function(Ae,vt){Q&&Ae&&("object"==typeof Ae||"function"==typeof Ae)?(_e||(_e=new Q),G(_e,Ae,vt)):Y?(Ie||(Ie=new Y),oe(Ie,Ae,vt)):(Be||(Be={key:{},next:null}),function(se,_e,Ie){var Be=le(se,_e);Be?Be.value=Ie:se.next={key:_e,next:se.next,value:Ie}}(Be,Ae,vt))}};return tt}},3692:function(Ct,H,A){var r,F,Q;Q=function(){return function(){return function q($){var Q=[];if(0===$.length)return"";if("string"!=typeof $[0])throw new TypeError("Url must be a string. Received "+$[0]);if($[0].match(/^[^/:]+:\/*$/)&&$.length>1){var Y=$.shift();$[0]=Y+$[0]}$[0]=$[0].match(/^file:\/\/\//)?$[0].replace(/^([^/:]+):\/*/,"$1:///"):$[0].replace(/^([^/:]+):\/*/,"$1://");for(var Z=0;Z<$.length;Z++){var G=$[Z];if("string"!=typeof G)throw new TypeError("Url must be a string. Received "+G);""!==G&&(Z>0&&(G=G.replace(/^[\/]+/,"")),G=G.replace(/[\/]+$/,Z<$.length-1?"":"/"),Q.push(G))}var J=Q.join("/"),ue=(J=J.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return ue.shift()+(ue.length>0?"?":"")+ue.join("&")}("object"==typeof arguments[0]?arguments[0]:[].slice.call(arguments))}},Ct.exports?Ct.exports=Q():void 0!==(F="function"==typeof(r=Q)?r.call(H,A,H,Ct):r)&&(Ct.exports=F)},8762:(Ct,H,A)=>{"use strict";var r=A(6117);function F(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var q=/^([a-z0-9.+-]+:)/i,$=/:[0-9]*$/,Q=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Z=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),G=["'"].concat(Z),J=["%","/","?",";","#"].concat(G),ue=["/","?","#"],ce=/^[+a-z0-9A-Z_-]{0,63}$/,le=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,de={javascript:!0,"javascript:":!0},ke={javascript:!0,"javascript:":!0},xe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},se=A(1781);function _e(Ae,vt,Le){if(Ae&&"object"==typeof Ae&&Ae instanceof F)return Ae;var Ge=new F;return Ge.parse(Ae,vt,Le),Ge}F.prototype.parse=function(Ae,vt,Le){if("string"!=typeof Ae)throw new TypeError("Parameter 'url' must be a string, not "+typeof Ae);var Ge=Ae.indexOf("?"),Ze=-1!==Ge&&Ge<Ae.indexOf("#")?"?":"#",rt=Ae.split(Ze);rt[0]=rt[0].replace(/\\/g,"/");var ze=Ae=rt.join(Ze);if(ze=ze.trim(),!Le&&1===Ae.split("#").length){var Ke=Q.exec(ze);if(Ke)return this.path=ze,this.href=ze,this.pathname=Ke[1],Ke[2]?(this.search=Ke[2],this.query=vt?se.parse(this.search.substr(1)):this.search.substr(1)):vt&&(this.search="",this.query={}),this}var ge=q.exec(ze);if(ge){var pe=(ge=ge[0]).toLowerCase();this.protocol=pe,ze=ze.substr(ge.length)}if(Le||ge||ze.match(/^\/\/[^@/]+@[^@/]+/)){var Se="//"===ze.substr(0,2);Se&&(!ge||!ke[ge])&&(ze=ze.substr(2),this.slashes=!0)}if(!ke[ge]&&(Se||ge&&!xe[ge])){for(var Te=-1,Re=0;Re<ue.length;Re++)-1!==(De=ze.indexOf(ue[Re]))&&(-1===Te||De<Te)&&(Te=De);var Ve,Ce;for(-1!==(Ce=-1===Te?ze.lastIndexOf("@"):ze.lastIndexOf("@",Te))&&(Ve=ze.slice(0,Ce),ze=ze.slice(Ce+1),this.auth=decodeURIComponent(Ve)),Te=-1,Re=0;Re<J.length;Re++){var De;-1!==(De=ze.indexOf(J[Re]))&&(-1===Te||De<Te)&&(Te=De)}-1===Te&&(Te=ze.length),this.host=ze.slice(0,Te),ze=ze.slice(Te),this.parseHost(),this.hostname=this.hostname||"";var Ue="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Ue)for(var Me=this.hostname.split(/\./),Fe=(Re=0,Me.length);Re<Fe;Re++){var mt=Me[Re];if(mt&&!mt.match(ce)){for(var _t="",Mt=0,cn=mt.length;Mt<cn;Mt++)mt.charCodeAt(Mt)>127?_t+="x":_t+=mt[Mt];if(!_t.match(ce)){var En=Me.slice(0,Re),on=Me.slice(Re+1),Et=mt.match(le);Et&&(En.push(Et[1]),on.unshift(Et[2])),on.length&&(ze="/"+on.join(".")+ze),this.hostname=En.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Ue||(this.hostname=r.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Ue&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==ze[0]&&(ze="/"+ze))}if(!de[pe])for(Re=0,Fe=G.length;Re<Fe;Re++){var Wt=G[Re];if(-1!==ze.indexOf(Wt)){var mn=encodeURIComponent(Wt);mn===Wt&&(mn=escape(Wt)),ze=ze.split(Wt).join(mn)}}var Cn=ze.indexOf("#");-1!==Cn&&(this.hash=ze.substr(Cn),ze=ze.slice(0,Cn));var _n=ze.indexOf("?");return-1!==_n?(this.search=ze.substr(_n),this.query=ze.substr(_n+1),vt&&(this.query=se.parse(this.query)),ze=ze.slice(0,_n)):vt&&(this.search="",this.query={}),ze&&(this.pathname=ze),xe[pe]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},F.prototype.format=function(){var Ae=this.auth||"";Ae&&(Ae=(Ae=encodeURIComponent(Ae)).replace(/%3A/i,":"),Ae+="@");var vt=this.protocol||"",Le=this.pathname||"",Ge=this.hash||"",Ze=!1,rt="";this.host?Ze=Ae+this.host:this.hostname&&(Ze=Ae+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Ze+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(rt=se.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var ct=this.search||rt&&"?"+rt||"";return vt&&":"!==vt.substr(-1)&&(vt+=":"),this.slashes||(!vt||xe[vt])&&!1!==Ze?(Ze="//"+(Ze||""),Le&&"/"!==Le.charAt(0)&&(Le="/"+Le)):Ze||(Ze=""),Ge&&"#"!==Ge.charAt(0)&&(Ge="#"+Ge),ct&&"?"!==ct.charAt(0)&&(ct="?"+ct),vt+Ze+(Le=Le.replace(/[?#]/g,function(ze){return encodeURIComponent(ze)}))+(ct=ct.replace("#","%23"))+Ge},F.prototype.resolve=function(Ae){return this.resolveObject(_e(Ae,!1,!0)).format()},F.prototype.resolveObject=function(Ae){if("string"==typeof Ae){var vt=new F;vt.parse(Ae,!1,!0),Ae=vt}for(var Le=new F,Ge=Object.keys(this),Ze=0;Ze<Ge.length;Ze++){var rt=Ge[Ze];Le[rt]=this[rt]}if(Le.hash=Ae.hash,""===Ae.href)return Le.href=Le.format(),Le;if(Ae.slashes&&!Ae.protocol){for(var ct=Object.keys(Ae),ze=0;ze<ct.length;ze++){var Ke=ct[ze];"protocol"!==Ke&&(Le[Ke]=Ae[Ke])}return xe[Le.protocol]&&Le.hostname&&!Le.pathname&&(Le.pathname="/",Le.path=Le.pathname),Le.href=Le.format(),Le}if(Ae.protocol&&Ae.protocol!==Le.protocol){if(!xe[Ae.protocol]){for(var ge=Object.keys(Ae),pe=0;pe<ge.length;pe++){var Se=ge[pe];Le[Se]=Ae[Se]}return Le.href=Le.format(),Le}if(Le.protocol=Ae.protocol,Ae.host||ke[Ae.protocol])Le.pathname=Ae.pathname;else{for(var Fe=(Ae.pathname||"").split("/");Fe.length&&!(Ae.host=Fe.shift()););Ae.host||(Ae.host=""),Ae.hostname||(Ae.hostname=""),""!==Fe[0]&&Fe.unshift(""),Fe.length<2&&Fe.unshift(""),Le.pathname=Fe.join("/")}return Le.search=Ae.search,Le.query=Ae.query,Le.host=Ae.host||"",Le.auth=Ae.auth,Le.hostname=Ae.hostname||Ae.host,Le.port=Ae.port,(Le.pathname||Le.search)&&(Le.path=(Le.pathname||"")+(Le.search||"")),Le.slashes=Le.slashes||Ae.slashes,Le.href=Le.format(),Le}var De=Le.pathname&&"/"===Le.pathname.charAt(0),Ve=Ae.host||Ae.pathname&&"/"===Ae.pathname.charAt(0),Ce=Ve||De||Le.host&&Ae.pathname,Ue=Ce,Me=Le.pathname&&Le.pathname.split("/")||[],mt=(Fe=Ae.pathname&&Ae.pathname.split("/")||[],Le.protocol&&!xe[Le.protocol]);if(mt&&(Le.hostname="",Le.port=null,Le.host&&(""===Me[0]?Me[0]=Le.host:Me.unshift(Le.host)),Le.host="",Ae.protocol&&(Ae.hostname=null,Ae.port=null,Ae.host&&(""===Fe[0]?Fe[0]=Ae.host:Fe.unshift(Ae.host)),Ae.host=null),Ce=Ce&&(""===Fe[0]||""===Me[0])),Ve)Le.host=Ae.host||""===Ae.host?Ae.host:Le.host,Le.hostname=Ae.hostname||""===Ae.hostname?Ae.hostname:Le.hostname,Le.search=Ae.search,Le.query=Ae.query,Me=Fe;else if(Fe.length)Me||(Me=[]),Me.pop(),Me=Me.concat(Fe),Le.search=Ae.search,Le.query=Ae.query;else if(null!=Ae.search)return mt&&(Le.host=Me.shift(),Le.hostname=Le.host,(_t=!!(Le.host&&Le.host.indexOf("@")>0)&&Le.host.split("@"))&&(Le.auth=_t.shift(),Le.hostname=_t.shift(),Le.host=Le.hostname)),Le.search=Ae.search,Le.query=Ae.query,(null!==Le.pathname||null!==Le.search)&&(Le.path=(Le.pathname?Le.pathname:"")+(Le.search?Le.search:"")),Le.href=Le.format(),Le;if(!Me.length)return Le.pathname=null,Le.path=Le.search?"/"+Le.search:null,Le.href=Le.format(),Le;for(var Mt=Me.slice(-1)[0],cn=(Le.host||Ae.host||Me.length>1)&&("."===Mt||".."===Mt)||""===Mt,En=0,on=Me.length;on>=0;on--)"."===(Mt=Me[on])?Me.splice(on,1):".."===Mt?(Me.splice(on,1),En++):En&&(Me.splice(on,1),En--);if(!Ce&&!Ue)for(;En--;En)Me.unshift("..");Ce&&""!==Me[0]&&(!Me[0]||"/"!==Me[0].charAt(0))&&Me.unshift(""),cn&&"/"!==Me.join("/").substr(-1)&&Me.push("");var _t,Et=""===Me[0]||Me[0]&&"/"===Me[0].charAt(0);return mt&&(Le.hostname=Et?"":Me.length?Me.shift():"",Le.host=Le.hostname,(_t=!!(Le.host&&Le.host.indexOf("@")>0)&&Le.host.split("@"))&&(Le.auth=_t.shift(),Le.hostname=_t.shift(),Le.host=Le.hostname)),(Ce=Ce||Le.host&&Me.length)&&!Et&&Me.unshift(""),Me.length>0?Le.pathname=Me.join("/"):(Le.pathname=null,Le.path=null),(null!==Le.pathname||null!==Le.search)&&(Le.path=(Le.pathname?Le.pathname:"")+(Le.search?Le.search:"")),Le.auth=Ae.auth||Le.auth,Le.slashes=Le.slashes||Ae.slashes,Le.href=Le.format(),Le},F.prototype.parseHost=function(){var Ae=this.host,vt=$.exec(Ae);vt&&(":"!==(vt=vt[0])&&(this.port=vt.substr(1)),Ae=Ae.substr(0,Ae.length-vt.length)),Ae&&(this.hostname=Ae)},H.parse=_e,H.resolve=function Be(Ae,vt){return _e(Ae,!1,!0).resolve(vt)},H.resolveObject=function tt(Ae,vt){return Ae?_e(Ae,!1,!0).resolveObject(vt):vt},H.format=function Ie(Ae){return"string"==typeof Ae&&(Ae=_e(Ae)),Ae instanceof F?Ae.format():F.prototype.format.call(Ae)},H.Url=F},863:(Ct,H,A)=>{var r={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,7206,9230],"./ion-datetime_3.entry.js":[4959,7206,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[7336,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function F(q){if(!A.o(r,q))return Promise.resolve().then(()=>{var Y=new Error("Cannot find module '"+q+"'");throw Y.code="MODULE_NOT_FOUND",Y});var $=r[q],Q=$[0];return Promise.all($.slice(1).map(A.e)).then(()=>A(Q))}F.keys=()=>Object.keys(r),F.id=863,Ct.exports=F},4654:()=>{},9128:function(Ct){Ct.exports=function(){"use strict";function H(Et){return Et+.5|0}const A=(Et,at,tn)=>Math.max(Math.min(Et,tn),at);function r(Et){return A(H(2.55*Et),0,255)}function q(Et){return A(H(255*Et),0,255)}function $(Et){return A(H(Et/2.55)/100,0,1)}function Q(Et){return A(H(100*Et),0,100)}const Y={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Z=[..."0123456789ABCDEF"],G=Et=>Z[15&Et],J=Et=>Z[(240&Et)>>4]+Z[15&Et],ue=Et=>(240&Et)>>4==(15&Et),oe=Et=>ue(Et.r)&&ue(Et.g)&&ue(Et.b)&&ue(Et.a);function ce(Et){var tn,at=Et.length;return"#"===Et[0]&&(4===at||5===at?tn={r:255&17*Y[Et[1]],g:255&17*Y[Et[2]],b:255&17*Y[Et[3]],a:5===at?17*Y[Et[4]]:255}:(7===at||9===at)&&(tn={r:Y[Et[1]]<<4|Y[Et[2]],g:Y[Et[3]]<<4|Y[Et[4]],b:Y[Et[5]]<<4|Y[Et[6]],a:9===at?Y[Et[7]]<<4|Y[Et[8]]:255})),tn}const le=(Et,at)=>Et<255?at(Et):"";function de(Et){var at=oe(Et)?G:J;return Et?"#"+at(Et.r)+at(Et.g)+at(Et.b)+le(Et.a,at):void 0}const ke=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xe(Et,at,tn){const Wt=at*Math.min(tn,1-tn),mn=(Cn,_n=(Cn+Et/30)%12)=>tn-Wt*Math.max(Math.min(_n-3,9-_n,1),-1);return[mn(0),mn(8),mn(4)]}function se(Et,at,tn){const Wt=(mn,Cn=(mn+Et/60)%6)=>tn-tn*at*Math.max(Math.min(Cn,4-Cn,1),0);return[Wt(5),Wt(3),Wt(1)]}function _e(Et,at,tn){const Wt=xe(Et,1,.5);let mn;for(at+tn>1&&(mn=1/(at+tn),at*=mn,tn*=mn),mn=0;mn<3;mn++)Wt[mn]*=1-at-tn,Wt[mn]+=at;return Wt}function Be(Et){const tn=Et.r/255,Wt=Et.g/255,mn=Et.b/255,Cn=Math.max(tn,Wt,mn),_n=Math.min(tn,Wt,mn),ui=(Cn+_n)/2;let wi,Oi,er;return Cn!==_n&&(er=Cn-_n,Oi=ui>.5?er/(2-Cn-_n):er/(Cn+_n),wi=function Ie(Et,at,tn,Wt,mn){return Et===mn?(at-tn)/Wt+(at<tn?6:0):at===mn?(tn-Et)/Wt+2:(Et-at)/Wt+4}(tn,Wt,mn,er,Cn),wi=60*wi+.5),[0|wi,Oi||0,ui]}function tt(Et,at,tn,Wt){return(Array.isArray(at)?Et(at[0],at[1],at[2]):Et(at,tn,Wt)).map(q)}function Ae(Et,at,tn){return tt(xe,Et,at,tn)}function vt(Et,at,tn){return tt(_e,Et,at,tn)}function Le(Et,at,tn){return tt(se,Et,at,tn)}function Ge(Et){return(Et%360+360)%360}function Ze(Et){const at=ke.exec(Et);let Wt,tn=255;if(!at)return;at[5]!==Wt&&(tn=at[6]?r(+at[5]):q(+at[5]));const mn=Ge(+at[2]),Cn=+at[3]/100,_n=+at[4]/100;return Wt="hwb"===at[1]?vt(mn,Cn,_n):"hsv"===at[1]?Le(mn,Cn,_n):Ae(mn,Cn,_n),{r:Wt[0],g:Wt[1],b:Wt[2],a:tn}}function rt(Et,at){var tn=Be(Et);tn[0]=Ge(tn[0]+at),tn=Ae(tn),Et.r=tn[0],Et.g=tn[1],Et.b=tn[2]}function ct(Et){if(!Et)return;const at=Be(Et),tn=at[0],Wt=Q(at[1]),mn=Q(at[2]);return Et.a<255?`hsla(${tn}, ${Wt}%, ${mn}%, ${$(Et.a)})`:`hsl(${tn}, ${Wt}%, ${mn}%)`}const ze={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ke={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let pe;function Se(Et){pe||(pe=function ge(){const Et={},at=Object.keys(Ke),tn=Object.keys(ze);let Wt,mn,Cn,_n,ui;for(Wt=0;Wt<at.length;Wt++){for(_n=ui=at[Wt],mn=0;mn<tn.length;mn++)Cn=tn[mn],ui=ui.replace(Cn,ze[Cn]);Cn=parseInt(Ke[_n],16),Et[ui]=[Cn>>16&255,Cn>>8&255,255&Cn]}return Et}(),pe.transparent=[0,0,0,0]);const at=pe[Et.toLowerCase()];return at&&{r:at[0],g:at[1],b:at[2],a:4===at.length?at[3]:255}}const Te=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Re(Et){const at=Te.exec(Et);let Wt,mn,Cn,tn=255;if(at){if(at[7]!==Wt){const _n=+at[7];tn=at[8]?r(_n):A(255*_n,0,255)}return Wt=+at[1],mn=+at[3],Cn=+at[5],Wt=255&(at[2]?r(Wt):A(Wt,0,255)),mn=255&(at[4]?r(mn):A(mn,0,255)),Cn=255&(at[6]?r(Cn):A(Cn,0,255)),{r:Wt,g:mn,b:Cn,a:tn}}}function De(Et){return Et&&(Et.a<255?`rgba(${Et.r}, ${Et.g}, ${Et.b}, ${$(Et.a)})`:`rgb(${Et.r}, ${Et.g}, ${Et.b})`)}const Ve=Et=>Et<=.0031308?12.92*Et:1.055*Math.pow(Et,1/2.4)-.055,Ce=Et=>Et<=.04045?Et/12.92:Math.pow((Et+.055)/1.055,2.4);function Me(Et,at,tn){if(Et){let Wt=Be(Et);Wt[at]=Math.max(0,Math.min(Wt[at]+Wt[at]*tn,0===at?360:1)),Wt=Ae(Wt),Et.r=Wt[0],Et.g=Wt[1],Et.b=Wt[2]}}function Fe(Et,at){return Et&&Object.assign(at||{},Et)}function mt(Et){var at={r:0,g:0,b:0,a:255};return Array.isArray(Et)?Et.length>=3&&(at={r:Et[0],g:Et[1],b:Et[2],a:255},Et.length>3&&(at.a=q(Et[3]))):(at=Fe(Et,{r:0,g:0,b:0,a:1})).a=q(at.a),at}class Mt{constructor(at){if(at instanceof Mt)return at;const tn=typeof at;let Wt;"object"===tn?Wt=mt(at):"string"===tn&&(Wt=ce(at)||Se(at)||function _t(Et){return"r"===Et.charAt(0)?Re(Et):Ze(Et)}(at)),this._rgb=Wt,this._valid=!!Wt}get valid(){return this._valid}get rgb(){var at=Fe(this._rgb);return at&&(at.a=$(at.a)),at}set rgb(at){this._rgb=mt(at)}rgbString(){return this._valid?De(this._rgb):void 0}hexString(){return this._valid?de(this._rgb):void 0}hslString(){return this._valid?ct(this._rgb):void 0}mix(at,tn){if(at){const Wt=this.rgb,mn=at.rgb;let Cn;const _n=tn===Cn?.5:tn,ui=2*_n-1,wi=Wt.a-mn.a,Oi=((ui*wi==-1?ui:(ui+wi)/(1+ui*wi))+1)/2;Cn=1-Oi,Wt.r=255&Oi*Wt.r+Cn*mn.r+.5,Wt.g=255&Oi*Wt.g+Cn*mn.g+.5,Wt.b=255&Oi*Wt.b+Cn*mn.b+.5,Wt.a=_n*Wt.a+(1-_n)*mn.a,this.rgb=Wt}return this}interpolate(at,tn){return at&&(this._rgb=function Ue(Et,at,tn){const Wt=Ce($(Et.r)),mn=Ce($(Et.g)),Cn=Ce($(Et.b));return{r:q(Ve(Wt+tn*(Ce($(at.r))-Wt))),g:q(Ve(mn+tn*(Ce($(at.g))-mn))),b:q(Ve(Cn+tn*(Ce($(at.b))-Cn))),a:Et.a+tn*(at.a-Et.a)}}(this._rgb,at._rgb,tn)),this}clone(){return new Mt(this.rgb)}alpha(at){return this._rgb.a=q(at),this}clearer(at){return this._rgb.a*=1-at,this}greyscale(){const at=this._rgb,tn=H(.3*at.r+.59*at.g+.11*at.b);return at.r=at.g=at.b=tn,this}opaquer(at){return this._rgb.a*=1+at,this}negate(){const at=this._rgb;return at.r=255-at.r,at.g=255-at.g,at.b=255-at.b,this}lighten(at){return Me(this._rgb,2,at),this}darken(at){return Me(this._rgb,2,-at),this}saturate(at){return Me(this._rgb,1,at),this}desaturate(at){return Me(this._rgb,1,-at),this}rotate(at){return rt(this._rgb,at),this}}function cn(Et){return new Mt(Et)}return Object.assign(cn,Object.freeze({__proto__:null,Color:Mt,default:cn,round:H,lim:A,p2b:r,b2p:function F(Et){return A(H(Et/2.55),0,100)},n2b:q,b2n:$,n2p:Q,hexParse:ce,hexString:de,rgb2hsl:Be,hsl2rgb:Ae,hwb2rgb:vt,hsv2rgb:Le,hueParse:Ze,rotate:rt,hslString:ct,nameParse:Se,rgbParse:Re,rgbString:De}))}()},3593:(Ct,H,A)=>{const r=A(3977),{Chart:F,registerables:q}=r;F.register(...q),Ct.exports=Object.assign(F,r)},3977:(Ct,H,A)=>{"use strict";var r=A(250);A(9128);class F{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(f,c,p,E){const k=c.duration;c.listeners[E].forEach(X=>X({chart:f,initial:c.initial,numSteps:k,currentStep:Math.min(p-c.start,k)}))}_refresh(){this._request||(this._running=!0,this._request=r.requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(f=Date.now()){let c=0;this._charts.forEach((p,E)=>{if(!p.running||!p.items.length)return;const I=p.items;let g,k=I.length-1,X=!1;for(;k>=0;--k)g=I[k],g._active?(g._total>p.duration&&(p.duration=g._total),g.tick(f),X=!0):(I[k]=I[I.length-1],I.pop());X&&(E.draw(),this._notify(E,p,f,"progress")),I.length||(p.running=!1,this._notify(E,p,f,"complete"),p.initial=!1),c+=I.length}),this._lastDate=f,0===c&&(this._running=!1)}_getAnims(f){const c=this._charts;let p=c.get(f);return p||(p={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},c.set(f,p)),p}listen(f,c,p){this._getAnims(f).listeners[c].push(p)}add(f,c){!c||!c.length||this._getAnims(f).items.push(...c)}has(f){return this._getAnims(f).items.length>0}start(f){const c=this._charts.get(f);c&&(c.running=!0,c.start=Date.now(),c.duration=c.items.reduce((p,E)=>Math.max(p,E._duration),0),this._refresh())}running(f){if(!this._running)return!1;const c=this._charts.get(f);return!(!c||!c.running||!c.items.length)}stop(f){const c=this._charts.get(f);if(!c||!c.items.length)return;const p=c.items;let E=p.length-1;for(;E>=0;--E)p[E].cancel();c.items=[],this._notify(f,c,Date.now(),"complete")}remove(f){return this._charts.delete(f)}}var q=new F;const $="transparent",Q={boolean:(x,f,c)=>c>.5?f:x,color(x,f,c){const p=r.color(x||$),E=p.valid&&r.color(f||$);return E&&E.valid?E.mix(p,c).hexString():f},number:(x,f,c)=>x+(f-x)*c};class Y{constructor(f,c,p,E){const I=c[p];E=r.resolve([f.to,E,I,f.from]);const k=r.resolve([f.from,I,E]);this._active=!0,this._fn=f.fn||Q[f.type||typeof k],this._easing=r.effects[f.easing]||r.effects.linear,this._start=Math.floor(Date.now()+(f.delay||0)),this._duration=this._total=Math.floor(f.duration),this._loop=!!f.loop,this._target=c,this._prop=p,this._from=k,this._to=E,this._promises=void 0}active(){return this._active}update(f,c,p){if(this._active){this._notify(!1);const E=this._target[this._prop],I=p-this._start,k=this._duration-I;this._start=p,this._duration=Math.floor(Math.max(k,f.duration)),this._total+=I,this._loop=!!f.loop,this._to=r.resolve([f.to,c,E,f.from]),this._from=r.resolve([f.from,E,c])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(f){const c=f-this._start,p=this._duration,E=this._prop,I=this._from,k=this._loop,X=this._to;let g;if(this._active=I!==X&&(k||c<p),!this._active)return this._target[E]=X,void this._notify(!0);c<0?this._target[E]=I:(g=c/p%2,g=k&&g>1?2-g:g,g=this._easing(Math.min(1,Math.max(0,g))),this._target[E]=this._fn(I,X,g))}wait(){const f=this._promises||(this._promises=[]);return new Promise((c,p)=>{f.push({res:c,rej:p})})}_notify(f){const c=f?"res":"rej",p=this._promises||[];for(let E=0;E<p.length;E++)p[E][c]()}}class Z{constructor(f,c){this._chart=f,this._properties=new Map,this.configure(c)}configure(f){if(!r.isObject(f))return;const c=Object.keys(r.defaults.animation),p=this._properties;Object.getOwnPropertyNames(f).forEach(E=>{const I=f[E];if(!r.isObject(I))return;const k={};for(const X of c)k[X]=I[X];(r.isArray(I.properties)&&I.properties||[E]).forEach(X=>{(X===E||!p.has(X))&&p.set(X,k)})})}_animateOptions(f,c){const p=c.options,E=function J(x,f){if(!f)return;let c=x.options;if(c)return c.$shared&&(x.options=c=Object.assign({},c,{$shared:!1,$animations:{}})),c;x.options=f}(f,p);if(!E)return[];const I=this._createAnimations(E,p);return p.$shared&&function G(x,f){const c=[],p=Object.keys(f);for(let E=0;E<p.length;E++){const I=x[p[E]];I&&I.active()&&c.push(I.wait())}return Promise.all(c)}(f.options.$animations,p).then(()=>{f.options=p},()=>{}),I}_createAnimations(f,c){const p=this._properties,E=[],I=f.$animations||(f.$animations={}),k=Object.keys(c),X=Date.now();let g;for(g=k.length-1;g>=0;--g){const w=k[g];if("$"===w.charAt(0))continue;if("options"===w){E.push(...this._animateOptions(f,c));continue}const b=c[w];let O=I[w];const K=p.get(w);if(O){if(K&&O.active()){O.update(K,b,X);continue}O.cancel()}K&&K.duration?(I[w]=O=new Y(K,f,w,b),E.push(O)):f[w]=b}return E}update(f,c){if(0===this._properties.size)return void Object.assign(f,c);const p=this._createAnimations(f,c);return p.length?(q.add(this._chart,p),!0):void 0}}function ue(x,f){const c=x&&x.options||{},p=c.reverse,E=void 0===c.min?f:0,I=void 0===c.max?f:0;return{start:p?I:E,end:p?E:I}}function le(x,f){const c=[],p=x._getSortedDatasetMetas(f);let E,I;for(E=0,I=p.length;E<I;++E)c.push(p[E].index);return c}function de(x,f,c,p={}){const E=x.keys,I="single"===p.mode;let k,X,g,w;if(null===f)return;let b=!1;for(k=0,X=E.length;k<X;++k){if(g=+E[k],g===c){if(b=!0,p.all)continue;break}w=x.values[g],r.isNumberFinite(w)&&(I||0===f||r.sign(f)===r.sign(w))&&(f+=w)}return b||p.all?f:0}function xe(x,f){const c=x&&x.options.stacked;return c||void 0===c&&void 0!==f.stack}function Ie(x,f,c){const p=x[f]||(x[f]={});return p[c]||(p[c]={})}function Be(x,f,c,p){for(const E of f.getMatchingVisibleMetas(p).reverse()){const I=x[E.index];if(c&&I>0||!c&&I<0)return E.index}return null}function tt(x,f){const{chart:c,_cachedMeta:p}=x,E=c._stacks||(c._stacks={}),{iScale:I,vScale:k,index:X}=p,g=I.axis,w=k.axis,b=function se(x,f,c){return`${x.id}.${f.id}.${c.stack||c.type}`}(I,k,p),O=f.length;let K;for(let re=0;re<O;++re){const ye=f[re],{[g]:et,[w]:gt}=ye;K=(ye._stacks||(ye._stacks={}))[w]=Ie(E,b,et),K[X]=gt,K._top=Be(K,k,!0,p.type),K._bottom=Be(K,k,!1,p.type),(K._visualValues||(K._visualValues={}))[X]=gt}}function Ae(x,f){const c=x.scales;return Object.keys(c).filter(p=>c[p].axis===f).shift()}function Ge(x,f){const c=x.controller.index,p=x.vScale&&x.vScale.axis;if(p){f=f||x._parsed;for(const E of f){const I=E._stacks;if(!I||void 0===I[p]||void 0===I[p][c])return;delete I[p][c],void 0!==I[p]._visualValues&&void 0!==I[p]._visualValues[c]&&delete I[p]._visualValues[c]}}}const Ze=x=>"reset"===x||"none"===x,rt=(x,f)=>f?x:Object.assign({},x);let ze=(()=>class x{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(c,p){this.chart=c,this._ctx=c.ctx,this.index=p,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const c=this._cachedMeta;this.configure(),this.linkScales(),c._stacked=xe(c.vScale,c),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(c){this.index!==c&&Ge(this._cachedMeta),this.index=c}linkScales(){const c=this.chart,p=this._cachedMeta,E=this.getDataset(),I=(K,re,ye,et)=>"x"===K?re:"r"===K?et:ye,k=p.xAxisID=r.valueOrDefault(E.xAxisID,Ae(c,"x")),X=p.yAxisID=r.valueOrDefault(E.yAxisID,Ae(c,"y")),g=p.rAxisID=r.valueOrDefault(E.rAxisID,Ae(c,"r")),w=p.indexAxis,b=p.iAxisID=I(w,k,X,g),O=p.vAxisID=I(w,X,k,g);p.xScale=this.getScaleForId(k),p.yScale=this.getScaleForId(X),p.rScale=this.getScaleForId(g),p.iScale=this.getScaleForId(b),p.vScale=this.getScaleForId(O)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(c){return this.chart.scales[c]}_getOtherScale(c){const p=this._cachedMeta;return c===p.iScale?p.vScale:p.iScale}reset(){this._update("reset")}_destroy(){const c=this._cachedMeta;this._data&&r.unlistenArrayEvents(this._data,this),c._stacked&&Ge(c)}_dataCheck(){const c=this.getDataset(),p=c.data||(c.data=[]),E=this._data;if(r.isObject(p))this._data=function ke(x,f){const{iScale:c,vScale:p}=f,E="x"===c.axis?"x":"y",I="x"===p.axis?"x":"y",k=Object.keys(x),X=new Array(k.length);let g,w,b;for(g=0,w=k.length;g<w;++g)b=k[g],X[g]={[E]:b,[I]:x[b]};return X}(p,this._cachedMeta);else if(E!==p){if(E){r.unlistenArrayEvents(E,this);const I=this._cachedMeta;Ge(I),I._parsed=[]}p&&Object.isExtensible(p)&&r.listenArrayEvents(p,this),this._syncList=[],this._data=p}}addElements(){const c=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(c.dataset=new this.datasetElementType)}buildOrUpdateElements(c){const p=this._cachedMeta,E=this.getDataset();let I=!1;this._dataCheck();const k=p._stacked;p._stacked=xe(p.vScale,p),p.stack!==E.stack&&(I=!0,Ge(p),p.stack=E.stack),this._resyncElements(c),(I||k!==p._stacked)&&(tt(this,p._parsed),p._stacked=xe(p.vScale,p))}configure(){const c=this.chart.config,p=c.datasetScopeKeys(this._type),E=c.getOptionScopes(this.getDataset(),p,!0);this.options=c.createResolver(E,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(c,p){const{_cachedMeta:E,_data:I}=this,{iScale:k,_stacked:X}=E,g=k.axis;let O,K,re,w=0===c&&p===I.length||E._sorted,b=c>0&&E._parsed[c-1];if(!1===this._parsing)E._parsed=I,E._sorted=!0,re=I;else{re=r.isArray(I[c])?this.parseArrayData(E,I,c,p):r.isObject(I[c])?this.parseObjectData(E,I,c,p):this.parsePrimitiveData(E,I,c,p);const ye=()=>null===K[g]||b&&K[g]<b[g];for(O=0;O<p;++O)E._parsed[O+c]=K=re[O],w&&(ye()&&(w=!1),b=K);E._sorted=w}X&&tt(this,re)}parsePrimitiveData(c,p,E,I){const{iScale:k,vScale:X}=c,g=k.axis,w=X.axis,b=k.getLabels(),O=k===X,K=new Array(I);let re,ye,et;for(re=0,ye=I;re<ye;++re)et=re+E,K[re]={[g]:O||k.parse(b[et],et),[w]:X.parse(p[et],et)};return K}parseArrayData(c,p,E,I){const{xScale:k,yScale:X}=c,g=new Array(I);let w,b,O,K;for(w=0,b=I;w<b;++w)O=w+E,K=p[O],g[w]={x:k.parse(K[0],O),y:X.parse(K[1],O)};return g}parseObjectData(c,p,E,I){const{xScale:k,yScale:X}=c,{xAxisKey:g="x",yAxisKey:w="y"}=this._parsing,b=new Array(I);let O,K,re,ye;for(O=0,K=I;O<K;++O)re=O+E,ye=p[re],b[O]={x:k.parse(r.resolveObjectKey(ye,g),re),y:X.parse(r.resolveObjectKey(ye,w),re)};return b}getParsed(c){return this._cachedMeta._parsed[c]}getDataElement(c){return this._cachedMeta.data[c]}applyStack(c,p,E){const k=this._cachedMeta,X=p[c.axis];return de({keys:le(this.chart,!0),values:p._stacks[c.axis]._visualValues},X,k.index,{mode:E})}updateRangeFromParsed(c,p,E,I){const k=E[p.axis];let X=null===k?NaN:k;const g=I&&E._stacks[p.axis];I&&g&&(I.values=g,X=de(I,k,this._cachedMeta.index)),c.min=Math.min(c.min,X),c.max=Math.max(c.max,X)}getMinMax(c,p){const E=this._cachedMeta,I=E._parsed,k=E._sorted&&c===E.iScale,X=I.length,g=this._getOtherScale(c),w=((x,f,c)=>x&&!f.hidden&&f._stacked&&{keys:le(this.chart,!0),values:null})(p,E),b={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:O,max:K}=function _e(x){const{min:f,max:c,minDefined:p,maxDefined:E}=x.getUserBounds();return{min:p?f:Number.NEGATIVE_INFINITY,max:E?c:Number.POSITIVE_INFINITY}}(g);let re,ye;function et(){ye=I[re];const gt=ye[g.axis];return!r.isNumberFinite(ye[c.axis])||O>gt||K<gt}for(re=0;re<X&&(et()||(this.updateRangeFromParsed(b,c,ye,w),!k));++re);if(k)for(re=X-1;re>=0;--re)if(!et()){this.updateRangeFromParsed(b,c,ye,w);break}return b}getAllParsedValues(c){const p=this._cachedMeta._parsed,E=[];let I,k,X;for(I=0,k=p.length;I<k;++I)X=p[I][c.axis],r.isNumberFinite(X)&&E.push(X);return E}getMaxOverflow(){return!1}getLabelAndValue(c){const p=this._cachedMeta,E=p.iScale,I=p.vScale,k=this.getParsed(c);return{label:E?""+E.getLabelForValue(k[E.axis]):"",value:I?""+I.getLabelForValue(k[I.axis]):""}}_update(c){const p=this._cachedMeta;this.update(c||"default"),p._clip=function ce(x){let f,c,p,E;return r.isObject(x)?(f=x.top,c=x.right,p=x.bottom,E=x.left):f=c=p=E=x,{top:f,right:c,bottom:p,left:E,disabled:!1===x}}(r.valueOrDefault(this.options.clip,function oe(x,f,c){if(!1===c)return!1;const p=ue(x,c),E=ue(f,c);return{top:E.end,right:p.end,bottom:E.start,left:p.start}}(p.xScale,p.yScale,this.getMaxOverflow())))}update(c){}draw(){const c=this._ctx,E=this._cachedMeta,I=E.data||[],k=this.chart.chartArea,X=[],g=this._drawStart||0,w=this._drawCount||I.length-g,b=this.options.drawActiveElementsOnTop;let O;for(E.dataset&&E.dataset.draw(c,k,g,w),O=g;O<g+w;++O){const K=I[O];K.hidden||(K.active&&b?X.push(K):K.draw(c,k))}for(O=0;O<X.length;++O)X[O].draw(c,k)}getStyle(c,p){const E=p?"active":"default";return void 0===c&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(E):this.resolveDataElementOptions(c||0,E)}getContext(c,p,E){const I=this.getDataset();let k;if(c>=0&&c<this._cachedMeta.data.length){const X=this._cachedMeta.data[c];k=X.$context||(X.$context=function Le(x,f,c){return r.createContext(x,{active:!1,dataIndex:f,parsed:void 0,raw:void 0,element:c,index:f,mode:"default",type:"data"})}(this.getContext(),c,X)),k.parsed=this.getParsed(c),k.raw=I.data[c],k.index=k.dataIndex=c}else k=this.$context||(this.$context=function vt(x,f){return r.createContext(x,{active:!1,dataset:void 0,datasetIndex:f,index:f,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),k.dataset=I,k.index=k.datasetIndex=this.index;return k.active=!!p,k.mode=E,k}resolveDatasetElementOptions(c){return this._resolveElementOptions(this.datasetElementType.id,c)}resolveDataElementOptions(c,p){return this._resolveElementOptions(this.dataElementType.id,p,c)}_resolveElementOptions(c,p="default",E){const I="active"===p,k=this._cachedDataOpts,X=c+"-"+p,g=k[X],w=this.enableOptionSharing&&r.defined(E);if(g)return rt(g,w);const b=this.chart.config,O=b.datasetElementScopeKeys(this._type,c),K=I?[`${c}Hover`,"hover",c,""]:[c,""],re=b.getOptionScopes(this.getDataset(),O),ye=Object.keys(r.defaults.elements[c]),gt=b.resolveNamedOptions(re,ye,()=>this.getContext(E,I,p),K);return gt.$shared&&(gt.$shared=w,k[X]=Object.freeze(rt(gt,w))),gt}_resolveAnimations(c,p,E){const I=this.chart,k=this._cachedDataOpts,X=`animation-${p}`,g=k[X];if(g)return g;let w;if(!1!==I.options.animation){const O=this.chart.config,K=O.datasetAnimationScopeKeys(this._type,p),re=O.getOptionScopes(this.getDataset(),K);w=O.createResolver(re,this.getContext(c,E,p))}const b=new Z(I,w&&w.animations);return w&&w._cacheable&&(k[X]=Object.freeze(b)),b}getSharedOptions(c){if(c.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},c))}includeOptions(c,p){return!p||Ze(c)||this.chart._animationsDisabled}_getSharedOptions(c,p){const E=this.resolveDataElementOptions(c,p),I=this._sharedOptions,k=this.getSharedOptions(E),X=this.includeOptions(p,k)||k!==I;return this.updateSharedOptions(k,p,E),{sharedOptions:k,includeOptions:X}}updateElement(c,p,E,I){Ze(I)?Object.assign(c,E):this._resolveAnimations(p,I).update(c,E)}updateSharedOptions(c,p,E){c&&!Ze(p)&&this._resolveAnimations(void 0,p).update(c,E)}_setStyle(c,p,E,I){c.active=I;const k=this.getStyle(p,I);this._resolveAnimations(p,E,I).update(c,{options:!I&&this.getSharedOptions(k)||k})}removeHoverStyle(c,p,E){this._setStyle(c,E,"active",!1)}setHoverStyle(c,p,E){this._setStyle(c,E,"active",!0)}_removeDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!1)}_setDatasetHoverStyle(){const c=this._cachedMeta.dataset;c&&this._setStyle(c,void 0,"active",!0)}_resyncElements(c){const p=this._data,E=this._cachedMeta.data;for(const[g,w,b]of this._syncList)this[g](w,b);this._syncList=[];const I=E.length,k=p.length,X=Math.min(k,I);X&&this.parse(0,X),k>I?this._insertElements(I,k-I,c):k<I&&this._removeElements(k,I-k)}_insertElements(c,p,E=!0){const I=this._cachedMeta,k=I.data,X=c+p;let g;const w=b=>{for(b.length+=p,g=b.length-1;g>=X;g--)b[g]=b[g-p]};for(w(k),g=c;g<X;++g)k[g]=new this.dataElementType;this._parsing&&w(I._parsed),this.parse(c,p),E&&this.updateElements(k,c,p,"reset")}updateElements(c,p,E,I){}_removeElements(c,p){const E=this._cachedMeta;if(this._parsing){const I=E._parsed.splice(c,p);E._stacked&&Ge(E,I)}E.data.splice(c,p)}_sync(c){if(this._parsing)this._syncList.push(c);else{const[p,E,I]=c;this[p](E,I)}this.chart._dataChanges.push([this.index,...c])}_onDataPush(){const c=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-c,c])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(c,p){p&&this._sync(["_removeElements",c,p]);const E=arguments.length-2;E&&this._sync(["_insertElements",c,E])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}})();function ge(x){const f=x.iScale,c=function Ke(x,f){if(!x._cache.$bar){const c=x.getMatchingVisibleMetas(f);let p=[];for(let E=0,I=c.length;E<I;E++)p=p.concat(c[E].controller.getAllParsedValues(x));x._cache.$bar=r._arrayUnique(p.sort((E,I)=>E-I))}return x._cache.$bar}(f,x.type);let E,I,k,X,p=f._length;const g=()=>{32767===k||-32768===k||(r.defined(X)&&(p=Math.min(p,Math.abs(k-X)||p)),X=k)};for(E=0,I=c.length;E<I;++E)k=f.getPixelForValue(c[E]),g();for(X=void 0,E=0,I=f.ticks.length;E<I;++E)k=f.getPixelForTick(E),g();return p}function Re(x,f,c,p){return r.isArray(x)?function Te(x,f,c,p){const E=c.parse(x[0],p),I=c.parse(x[1],p),k=Math.min(E,I),X=Math.max(E,I);let g=k,w=X;Math.abs(k)>Math.abs(X)&&(g=X,w=k),f[c.axis]=w,f._custom={barStart:g,barEnd:w,start:E,end:I,min:k,max:X}}(x,f,c,p):f[c.axis]=c.parse(x,p),f}function De(x,f,c,p){const E=x.iScale,I=x.vScale,k=E.getLabels(),X=E===I,g=[];let w,b,O,K;for(w=c,b=c+p;w<b;++w)K=f[w],O={},O[E.axis]=X||E.parse(k[w],w),g.push(Re(K,O,I,w));return g}function Ve(x){return x&&void 0!==x.barStart&&void 0!==x.barEnd}function Me(x,f,c,p){let E=f.borderSkipped;const I={};if(!E)return void(x.borderSkipped=I);if(!0===E)return void(x.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:k,end:X,reverse:g,top:w,bottom:b}=function Ue(x){let f,c,p,E,I;return x.horizontal?(f=x.base>x.x,c="left",p="right"):(f=x.base<x.y,c="bottom",p="top"),f?(E="end",I="start"):(E="start",I="end"),{start:c,end:p,reverse:f,top:E,bottom:I}}(x);"middle"===E&&c&&(x.enableBorderRadius=!0,(c._top||0)===p?E=w:(c._bottom||0)===p?E=b:(I[Fe(b,k,X,g)]=!0,E=w)),I[Fe(E,k,X,g)]=!0,x.borderSkipped=I}function Fe(x,f,c,p){return p?(x=function mt(x,f,c){return x===f?c:x===c?f:x}(x,f,c),x=_t(x,c,f)):x=_t(x,f,c),x}function _t(x,f,c){return"start"===x?f:"end"===x?c:x}function Mt(x,{inflateAmount:f},c){x.inflateAmount="auto"===f?1===c?.33:0:f}let cn=(()=>class x extends ze{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(c,p,E,I){return De(c,p,E,I)}parseArrayData(c,p,E,I){return De(c,p,E,I)}parseObjectData(c,p,E,I){const{iScale:k,vScale:X}=c,{xAxisKey:g="x",yAxisKey:w="y"}=this._parsing,b="x"===k.axis?g:w,O="x"===X.axis?g:w,K=[];let re,ye,et,gt;for(re=E,ye=E+I;re<ye;++re)gt=p[re],et={},et[k.axis]=k.parse(r.resolveObjectKey(gt,b),re),K.push(Re(r.resolveObjectKey(gt,O),et,X,re));return K}updateRangeFromParsed(c,p,E,I){super.updateRangeFromParsed(c,p,E,I);const k=E._custom;k&&p===this._cachedMeta.vScale&&(c.min=Math.min(c.min,k.min),c.max=Math.max(c.max,k.max))}getMaxOverflow(){return 0}getLabelAndValue(c){const p=this._cachedMeta,{iScale:E,vScale:I}=p,k=this.getParsed(c),X=k._custom,g=Ve(X)?"["+X.start+", "+X.end+"]":""+I.getLabelForValue(k[I.axis]);return{label:""+E.getLabelForValue(k[E.axis]),value:g}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(c){const p=this._cachedMeta;this.updateElements(p.data,0,p.data.length,c)}updateElements(c,p,E,I){const k="reset"===I,{index:X,_cachedMeta:{vScale:g}}=this,w=g.getBasePixel(),b=g.isHorizontal(),O=this._getRuler(),{sharedOptions:K,includeOptions:re}=this._getSharedOptions(p,I);for(let ye=p;ye<p+E;ye++){const et=this.getParsed(ye),gt=k||r.isNullOrUndef(et[g.axis])?{base:w,head:w}:this._calculateBarValuePixels(ye),Xt=this._calculateBarIndexPixels(ye,O),Kt=(et._stacks||{})[g.axis],Dn={horizontal:b,base:gt.base,enableBorderRadius:!Kt||Ve(et._custom)||X===Kt._top||X===Kt._bottom,x:b?gt.head:Xt.center,y:b?Xt.center:gt.head,height:b?Xt.size:Math.abs(gt.size),width:b?Math.abs(gt.size):Xt.size};re&&(Dn.options=K||this.resolveDataElementOptions(ye,c[ye].active?"active":I));const Un=Dn.options||c[ye].options;Me(Dn,Un,Kt,X),Mt(Dn,Un,O.ratio),this.updateElement(c[ye],ye,Dn,I)}}_getStacks(c,p){const{iScale:E}=this._cachedMeta,I=E.getMatchingVisibleMetas(this._type).filter(O=>O.controller.options.grouped),k=E.options.stacked,X=[],g=this._cachedMeta.controller.getParsed(p),w=g&&g[E.axis],b=O=>{const K=O._parsed.find(ye=>ye[E.axis]===w),re=K&&K[O.vScale.axis];if(r.isNullOrUndef(re)||isNaN(re))return!0};for(const O of I)if((void 0===p||!b(O))&&((!1===k||-1===X.indexOf(O.stack)||void 0===k&&void 0===O.stack)&&X.push(O.stack),O.index===c))break;return X.length||X.push(void 0),X}_getStackCount(c){return this._getStacks(void 0,c).length}_getStackIndex(c,p,E){const I=this._getStacks(c,E),k=void 0!==p?I.indexOf(p):-1;return-1===k?I.length-1:k}_getRuler(){const c=this.options,p=this._cachedMeta,E=p.iScale,I=[];let k,X;for(k=0,X=p.data.length;k<X;++k)I.push(E.getPixelForValue(this.getParsed(k)[E.axis],k));const g=c.barThickness;return{min:g||ge(p),pixels:I,start:E._startPixel,end:E._endPixel,stackCount:this._getStackCount(),scale:E,grouped:c.grouped,ratio:g?1:c.categoryPercentage*c.barPercentage}}_calculateBarValuePixels(c){const{_cachedMeta:{vScale:p,_stacked:E,index:I},options:{base:k,minBarLength:X}}=this,g=k||0,w=this.getParsed(c),b=w._custom,O=Ve(b);let et,gt,K=w[p.axis],re=0,ye=E?this.applyStack(p,w,E):K;ye!==K&&(re=ye-K,ye=K),O&&(K=b.barStart,ye=b.barEnd-b.barStart,0!==K&&r.sign(K)!==r.sign(b.barEnd)&&(re=0),re+=K);const Xt=r.isNullOrUndef(k)||O?re:k;let Kt=p.getPixelForValue(Xt);if(et=this.chart.getDataVisibility(c)?p.getPixelForValue(re+ye):Kt,gt=et-Kt,Math.abs(gt)<X){gt=function Ce(x,f,c){return 0!==x?r.sign(x):(f.isHorizontal()?1:-1)*(f.min>=c?1:-1)}(gt,p,g)*X,K===g&&(Kt-=gt/2);const Dn=p.getPixelForDecimal(0),Un=p.getPixelForDecimal(1),An=Math.min(Dn,Un),$n=Math.max(Dn,Un);Kt=Math.max(Math.min(Kt,$n),An),et=Kt+gt,E&&!O&&(w._stacks[p.axis]._visualValues[I]=p.getValueForPixel(et)-p.getValueForPixel(Kt))}if(Kt===p.getPixelForValue(g)){const Dn=r.sign(gt)*p.getLineWidthForValue(g)/2;Kt+=Dn,gt-=Dn}return{size:gt,base:Kt,head:et,center:et+gt/2}}_calculateBarIndexPixels(c,p){const E=p.scale,I=this.options,k=I.skipNull,X=r.valueOrDefault(I.maxBarThickness,1/0);let g,w;if(p.grouped){const b=k?this._getStackCount(c):p.stackCount,O="flex"===I.barThickness?function Se(x,f,c,p){const E=f.pixels,I=E[x];let k=x>0?E[x-1]:null,X=x<E.length-1?E[x+1]:null;const g=c.categoryPercentage;null===k&&(k=I-(null===X?f.end-f.start:X-I)),null===X&&(X=I+I-k);const w=I-(I-Math.min(k,X))/2*g;return{chunk:Math.abs(X-k)/2*g/p,ratio:c.barPercentage,start:w}}(c,p,I,b):function pe(x,f,c,p){const E=c.barThickness;let I,k;return r.isNullOrUndef(E)?(I=f.min*c.categoryPercentage,k=c.barPercentage):(I=E*p,k=1),{chunk:I/p,ratio:k,start:f.pixels[x]-I/2}}(c,p,I,b),K=this._getStackIndex(this.index,this._cachedMeta.stack,k?c:void 0);g=O.start+O.chunk*K+O.chunk/2,w=Math.min(X,O.chunk*O.ratio)}else g=E.getPixelForValue(this.getParsed(c)[E.axis],c),w=Math.min(X,p.min*p.ratio);return{base:g-w/2,head:g+w/2,center:g,size:w}}draw(){const c=this._cachedMeta,p=c.vScale,E=c.data,I=E.length;let k=0;for(;k<I;++k)null!==this.getParsed(k)[p.axis]&&!E[k].hidden&&E[k].draw(this._ctx)}})(),En=(()=>class x extends ze{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(c,p,E,I){const k=super.parsePrimitiveData(c,p,E,I);for(let X=0;X<k.length;X++)k[X]._custom=this.resolveDataElementOptions(X+E).radius;return k}parseArrayData(c,p,E,I){const k=super.parseArrayData(c,p,E,I);for(let X=0;X<k.length;X++)k[X]._custom=r.valueOrDefault(p[E+X][2],this.resolveDataElementOptions(X+E).radius);return k}parseObjectData(c,p,E,I){const k=super.parseObjectData(c,p,E,I);for(let X=0;X<k.length;X++){const g=p[E+X];k[X]._custom=r.valueOrDefault(g&&g.r&&+g.r,this.resolveDataElementOptions(X+E).radius)}return k}getMaxOverflow(){const c=this._cachedMeta.data;let p=0;for(let E=c.length-1;E>=0;--E)p=Math.max(p,c[E].size(this.resolveDataElementOptions(E))/2);return p>0&&p}getLabelAndValue(c){const p=this._cachedMeta,E=this.chart.data.labels||[],{xScale:I,yScale:k}=p,X=this.getParsed(c),g=I.getLabelForValue(X.x),w=k.getLabelForValue(X.y),b=X._custom;return{label:E[c]||"",value:"("+g+", "+w+(b?", "+b:"")+")"}}update(c){const p=this._cachedMeta.data;this.updateElements(p,0,p.length,c)}updateElements(c,p,E,I){const k="reset"===I,{iScale:X,vScale:g}=this._cachedMeta,{sharedOptions:w,includeOptions:b}=this._getSharedOptions(p,I),O=X.axis,K=g.axis;for(let re=p;re<p+E;re++){const ye=c[re],et=!k&&this.getParsed(re),gt={},Xt=gt[O]=k?X.getPixelForDecimal(.5):X.getPixelForValue(et[O]),Kt=gt[K]=k?g.getBasePixel():g.getPixelForValue(et[K]);gt.skip=isNaN(Xt)||isNaN(Kt),b&&(gt.options=w||this.resolveDataElementOptions(re,ye.active?"active":I),k&&(gt.options.radius=0)),this.updateElement(ye,re,gt,I)}}resolveDataElementOptions(c,p){const E=this.getParsed(c);let I=super.resolveDataElementOptions(c,p);I.$shared&&(I=Object.assign({},I,{$shared:!1}));const k=I.radius;return"active"!==p&&(I.radius=0),I.radius+=r.valueOrDefault(E&&E._custom,k),I}})(),Et=(()=>class x extends ze{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:c=>"spacing"!==c,_indexable:c=>"spacing"!==c&&!c.startsWith("borderDash")&&!c.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(c){const p=c.data;if(p.labels.length&&p.datasets.length){const{labels:{pointStyle:E,color:I}}=c.legend.options;return p.labels.map((k,X)=>{const w=c.getDatasetMeta(0).controller.getStyle(X);return{text:k,fillStyle:w.backgroundColor,strokeStyle:w.borderColor,fontColor:I,lineWidth:w.borderWidth,pointStyle:E,hidden:!c.getDataVisibility(X),index:X}})}return[]}},onClick(c,p,E){E.chart.toggleDataVisibility(p.index),E.chart.update()}}}};constructor(c,p){super(c,p),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(c,p){const E=this.getDataset().data,I=this._cachedMeta;if(!1===this._parsing)I._parsed=E;else{let X,g,k=w=>+E[w];if(r.isObject(E[c])){const{key:w="value"}=this._parsing;k=b=>+r.resolveObjectKey(E[b],w)}for(X=c,g=c+p;X<g;++X)I._parsed[X]=k(X)}}_getRotation(){return r.toRadians(this.options.rotation-90)}_getCircumference(){return r.toRadians(this.options.circumference)}_getRotationExtents(){let c=r.TAU,p=-r.TAU;for(let E=0;E<this.chart.data.datasets.length;++E)if(this.chart.isDatasetVisible(E)&&this.chart.getDatasetMeta(E).type===this._type){const I=this.chart.getDatasetMeta(E).controller,k=I._getRotation(),X=I._getCircumference();c=Math.min(c,k),p=Math.max(p,k+X)}return{rotation:c,circumference:p-c}}update(c){const p=this.chart,{chartArea:E}=p,I=this._cachedMeta,k=I.data,X=this.getMaxBorderWidth()+this.getMaxOffset(k)+this.options.spacing,g=Math.max((Math.min(E.width,E.height)-X)/2,0),w=Math.min(r.toPercentage(this.options.cutout,g),1),b=this._getRingWeight(this.index),{circumference:O,rotation:K}=this._getRotationExtents(),{ratioX:re,ratioY:ye,offsetX:et,offsetY:gt}=function on(x,f,c){let p=1,E=1,I=0,k=0;if(f<r.TAU){const X=x,g=X+f,w=Math.cos(X),b=Math.sin(X),O=Math.cos(g),K=Math.sin(g),re=(Dn,Un,An)=>r._angleBetween(Dn,X,g,!0)?1:Math.max(Un,Un*c,An,An*c),ye=(Dn,Un,An)=>r._angleBetween(Dn,X,g,!0)?-1:Math.min(Un,Un*c,An,An*c),et=re(0,w,O),gt=re(r.HALF_PI,b,K),Xt=ye(r.PI,w,O),Kt=ye(r.PI+r.HALF_PI,b,K);p=(et-Xt)/2,E=(gt-Kt)/2,I=-(et+Xt)/2,k=-(gt+Kt)/2}return{ratioX:p,ratioY:E,offsetX:I,offsetY:k}}(K,O,w),Dn=Math.max(Math.min((E.width-X)/re,(E.height-X)/ye)/2,0),Un=r.toDimension(this.options.radius,Dn),$n=(Un-Math.max(Un*w,0))/this._getVisibleDatasetWeightTotal();this.offsetX=et*Un,this.offsetY=gt*Un,I.total=this.calculateTotal(),this.outerRadius=Un-$n*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$n*b,0),this.updateElements(k,0,k.length,c)}_circumference(c,p){const E=this.options,I=this._cachedMeta,k=this._getCircumference();return p&&E.animation.animateRotate||!this.chart.getDataVisibility(c)||null===I._parsed[c]||I.data[c].hidden?0:this.calculateCircumference(I._parsed[c]*k/r.TAU)}updateElements(c,p,E,I){const k="reset"===I,X=this.chart,g=X.chartArea,O=(g.left+g.right)/2,K=(g.top+g.bottom)/2,re=k&&X.options.animation.animateScale,ye=re?0:this.innerRadius,et=re?0:this.outerRadius,{sharedOptions:gt,includeOptions:Xt}=this._getSharedOptions(p,I);let Dn,Kt=this._getRotation();for(Dn=0;Dn<p;++Dn)Kt+=this._circumference(Dn,k);for(Dn=p;Dn<p+E;++Dn){const Un=this._circumference(Dn,k),An=c[Dn],$n={x:O+this.offsetX,y:K+this.offsetY,startAngle:Kt,endAngle:Kt+Un,circumference:Un,outerRadius:et,innerRadius:ye};Xt&&($n.options=gt||this.resolveDataElementOptions(Dn,An.active?"active":I)),Kt+=Un,this.updateElement(An,Dn,$n,I)}}calculateTotal(){const c=this._cachedMeta,p=c.data;let I,E=0;for(I=0;I<p.length;I++){const k=c._parsed[I];null!==k&&!isNaN(k)&&this.chart.getDataVisibility(I)&&!p[I].hidden&&(E+=Math.abs(k))}return E}calculateCircumference(c){const p=this._cachedMeta.total;return p>0&&!isNaN(c)?r.TAU*(Math.abs(c)/p):0}getLabelAndValue(c){const E=this.chart,I=E.data.labels||[],k=r.formatNumber(this._cachedMeta._parsed[c],E.options.locale);return{label:I[c]||"",value:k}}getMaxBorderWidth(c){let p=0;const E=this.chart;let I,k,X,g,w;if(!c)for(I=0,k=E.data.datasets.length;I<k;++I)if(E.isDatasetVisible(I)){X=E.getDatasetMeta(I),c=X.data,g=X.controller;break}if(!c)return 0;for(I=0,k=c.length;I<k;++I)w=g.resolveDataElementOptions(I),"inner"!==w.borderAlign&&(p=Math.max(p,w.borderWidth||0,w.hoverBorderWidth||0));return p}getMaxOffset(c){let p=0;for(let E=0,I=c.length;E<I;++E){const k=this.resolveDataElementOptions(E);p=Math.max(p,k.offset||0,k.hoverOffset||0)}return p}_getRingWeightOffset(c){let p=0;for(let E=0;E<c;++E)this.chart.isDatasetVisible(E)&&(p+=this._getRingWeight(E));return p}_getRingWeight(c){return Math.max(r.valueOrDefault(this.chart.data.datasets[c].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}})(),at=(()=>class x extends ze{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(c){const p=this._cachedMeta,{dataset:E,data:I=[],_dataset:k}=p,X=this.chart._animationsDisabled;let{start:g,count:w}=r._getStartAndCountOfVisiblePoints(p,I,X);this._drawStart=g,this._drawCount=w,r._scaleRangesChanged(p)&&(g=0,w=I.length),E._chart=this.chart,E._datasetIndex=this.index,E._decimated=!!k._decimated,E.points=I;const b=this.resolveDatasetElementOptions(c);this.options.showLine||(b.borderWidth=0),b.segment=this.options.segment,this.updateElement(E,void 0,{animated:!X,options:b},c),this.updateElements(I,g,w,c)}updateElements(c,p,E,I){const k="reset"===I,{iScale:X,vScale:g,_stacked:w,_dataset:b}=this._cachedMeta,{sharedOptions:O,includeOptions:K}=this._getSharedOptions(p,I),re=X.axis,ye=g.axis,{spanGaps:et,segment:gt}=this.options,Xt=r.isNumber(et)?et:Number.POSITIVE_INFINITY,Kt=this.chart._animationsDisabled||k||"none"===I,Dn=p+E,Un=c.length;let An=p>0&&this.getParsed(p-1);for(let $n=0;$n<Un;++$n){const Ci=c[$n],ri=Kt?Ci:{};if($n<p||$n>=Dn){ri.skip=!0;continue}const Yi=this.getParsed($n),Tr=r.isNullOrUndef(Yi[ye]),Hr=ri[re]=X.getPixelForValue(Yi[re],$n),eo=ri[ye]=k||Tr?g.getBasePixel():g.getPixelForValue(w?this.applyStack(g,Yi,w):Yi[ye],$n);ri.skip=isNaN(Hr)||isNaN(eo)||Tr,ri.stop=$n>0&&Math.abs(Yi[re]-An[re])>Xt,gt&&(ri.parsed=Yi,ri.raw=b.data[$n]),K&&(ri.options=O||this.resolveDataElementOptions($n,Ci.active?"active":I)),Kt||this.updateElement(Ci,$n,ri,I),An=Yi}}getMaxOverflow(){const c=this._cachedMeta,p=c.dataset,E=p.options&&p.options.borderWidth||0,I=c.data||[];if(!I.length)return E;const k=I[0].size(this.resolveDataElementOptions(0)),X=I[I.length-1].size(this.resolveDataElementOptions(I.length-1));return Math.max(E,k,X)/2}draw(){const c=this._cachedMeta;c.dataset.updateControlPoints(this.chart.chartArea,c.iScale.axis),super.draw()}})(),tn=(()=>class x extends ze{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(c){const p=c.data;if(p.labels.length&&p.datasets.length){const{labels:{pointStyle:E,color:I}}=c.legend.options;return p.labels.map((k,X)=>{const w=c.getDatasetMeta(0).controller.getStyle(X);return{text:k,fillStyle:w.backgroundColor,strokeStyle:w.borderColor,fontColor:I,lineWidth:w.borderWidth,pointStyle:E,hidden:!c.getDataVisibility(X),index:X}})}return[]}},onClick(c,p,E){E.chart.toggleDataVisibility(p.index),E.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(c,p){super(c,p),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(c){const E=this.chart,I=E.data.labels||[],k=r.formatNumber(this._cachedMeta._parsed[c].r,E.options.locale);return{label:I[c]||"",value:k}}parseObjectData(c,p,E,I){return r._parseObjectDataRadialScale.bind(this)(c,p,E,I)}update(c){const p=this._cachedMeta.data;this._updateRadius(),this.updateElements(p,0,p.length,c)}getMinMax(){const p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((E,I)=>{const k=this.getParsed(I).r;!isNaN(k)&&this.chart.getDataVisibility(I)&&(k<p.min&&(p.min=k),k>p.max&&(p.max=k))}),p}_updateRadius(){const c=this.chart,p=c.chartArea,E=c.options,I=Math.min(p.right-p.left,p.bottom-p.top),k=Math.max(I/2,0),g=(k-Math.max(E.cutoutPercentage?k/100*E.cutoutPercentage:1,0))/c.getVisibleDatasetCount();this.outerRadius=k-g*this.index,this.innerRadius=this.outerRadius-g}updateElements(c,p,E,I){const k="reset"===I,X=this.chart,w=X.options.animation,b=this._cachedMeta.rScale,O=b.xCenter,K=b.yCenter,re=b.getIndexAngle(0)-.5*r.PI;let et,ye=re;const gt=360/this.countVisibleElements();for(et=0;et<p;++et)ye+=this._computeAngle(et,I,gt);for(et=p;et<p+E;et++){const Xt=c[et];let Kt=ye,Dn=ye+this._computeAngle(et,I,gt),Un=X.getDataVisibility(et)?b.getDistanceFromCenterForValue(this.getParsed(et).r):0;ye=Dn,k&&(w.animateScale&&(Un=0),w.animateRotate&&(Kt=Dn=re));const An={x:O,y:K,innerRadius:0,outerRadius:Un,startAngle:Kt,endAngle:Dn,options:this.resolveDataElementOptions(et,Xt.active?"active":I)};this.updateElement(Xt,et,An,I)}}countVisibleElements(){let p=0;return this._cachedMeta.data.forEach((E,I)=>{!isNaN(this.getParsed(I).r)&&this.chart.getDataVisibility(I)&&p++}),p}_computeAngle(c,p,E){return this.chart.getDataVisibility(c)?r.toRadians(this.resolveDataElementOptions(c,p).angle||E):0}})(),Wt=(()=>class x extends Et{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}})(),mn=(()=>class x extends ze{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(c){const p=this._cachedMeta.vScale,E=this.getParsed(c);return{label:p.getLabels()[c],value:""+p.getLabelForValue(E[p.axis])}}parseObjectData(c,p,E,I){return r._parseObjectDataRadialScale.bind(this)(c,p,E,I)}update(c){const p=this._cachedMeta,E=p.dataset,I=p.data||[],k=p.iScale.getLabels();if(E.points=I,"resize"!==c){const X=this.resolveDatasetElementOptions(c);this.options.showLine||(X.borderWidth=0),this.updateElement(E,void 0,{_loop:!0,_fullLoop:k.length===I.length,options:X},c)}this.updateElements(I,0,I.length,c)}updateElements(c,p,E,I){const k=this._cachedMeta.rScale,X="reset"===I;for(let g=p;g<p+E;g++){const w=c[g],b=this.resolveDataElementOptions(g,w.active?"active":I),O=k.getPointPositionForValue(g,this.getParsed(g).r),K=X?k.xCenter:O.x,re=X?k.yCenter:O.y,ye={x:K,y:re,angle:O.angle,skip:isNaN(K)||isNaN(re),options:b};this.updateElement(w,g,ye,I)}}})(),Cn=(()=>class x extends ze{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(c){const p=this._cachedMeta,E=this.chart.data.labels||[],{xScale:I,yScale:k}=p,X=this.getParsed(c),g=I.getLabelForValue(X.x),w=k.getLabelForValue(X.y);return{label:E[c]||"",value:"("+g+", "+w+")"}}update(c){const p=this._cachedMeta,{data:E=[]}=p,I=this.chart._animationsDisabled;let{start:k,count:X}=r._getStartAndCountOfVisiblePoints(p,E,I);if(this._drawStart=k,this._drawCount=X,r._scaleRangesChanged(p)&&(k=0,X=E.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:g,_dataset:w}=p;g._chart=this.chart,g._datasetIndex=this.index,g._decimated=!!w._decimated,g.points=E;const b=this.resolveDatasetElementOptions(c);b.segment=this.options.segment,this.updateElement(g,void 0,{animated:!I,options:b},c)}else this.datasetElementType&&(delete p.dataset,this.datasetElementType=!1);this.updateElements(E,k,X,c)}addElements(){const{showLine:c}=this.options;!this.datasetElementType&&c&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(c,p,E,I){const k="reset"===I,{iScale:X,vScale:g,_stacked:w,_dataset:b}=this._cachedMeta,O=this.resolveDataElementOptions(p,I),K=this.getSharedOptions(O),re=this.includeOptions(I,K),ye=X.axis,et=g.axis,{spanGaps:gt,segment:Xt}=this.options,Kt=r.isNumber(gt)?gt:Number.POSITIVE_INFINITY,Dn=this.chart._animationsDisabled||k||"none"===I;let Un=p>0&&this.getParsed(p-1);for(let An=p;An<p+E;++An){const $n=c[An],Ci=this.getParsed(An),ri=Dn?$n:{},Yi=r.isNullOrUndef(Ci[et]),Tr=ri[ye]=X.getPixelForValue(Ci[ye],An),Hr=ri[et]=k||Yi?g.getBasePixel():g.getPixelForValue(w?this.applyStack(g,Ci,w):Ci[et],An);ri.skip=isNaN(Tr)||isNaN(Hr)||Yi,ri.stop=An>0&&Math.abs(Ci[ye]-Un[ye])>Kt,Xt&&(ri.parsed=Ci,ri.raw=b.data[An]),re&&(ri.options=K||this.resolveDataElementOptions(An,$n.active?"active":I)),Dn||this.updateElement($n,An,ri,I),Un=Ci}this.updateSharedOptions(K,I,O)}getMaxOverflow(){const c=this._cachedMeta,p=c.data||[];if(!this.options.showLine){let g=0;for(let w=p.length-1;w>=0;--w)g=Math.max(g,p[w].size(this.resolveDataElementOptions(w))/2);return g>0&&g}const E=c.dataset,I=E.options&&E.options.borderWidth||0;if(!p.length)return I;const k=p[0].size(this.resolveDataElementOptions(0)),X=p[p.length-1].size(this.resolveDataElementOptions(p.length-1));return Math.max(I,k,X)/2}})();var _n=Object.freeze({__proto__:null,BarController:cn,BubbleController:En,DoughnutController:Et,LineController:at,PieController:Wt,PolarAreaController:tn,RadarController:mn,ScatterController:Cn});function ui(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class wi{static override(f){Object.assign(wi.prototype,f)}options;constructor(f){this.options=f||{}}init(){}formats(){return ui()}parse(){return ui()}format(){return ui()}add(){return ui()}diff(){return ui()}startOf(){return ui()}endOf(){return ui()}}var Oi={_date:wi};function er(x,f,c,p){const{controller:E,data:I,_sorted:k}=x,X=E._cachedMeta.iScale;if(X&&f===X.axis&&"r"!==f&&k&&I.length){const g=X._reversePixels?r._rlookupByKey:r._lookupByKey;if(!p)return g(I,f,c);if(E._sharedOptions){const w=I[0],b="function"==typeof w.getRange&&w.getRange(f);if(b){const O=g(I,f,c-b),K=g(I,f,c+b);return{lo:O.lo,hi:K.hi}}}}return{lo:0,hi:I.length-1}}function br(x,f,c,p,E){const I=x.getSortedVisibleDatasetMetas(),k=c[f];for(let X=0,g=I.length;X<g;++X){const{index:w,data:b}=I[X],{lo:O,hi:K}=er(I[X],f,k,E);for(let re=O;re<=K;++re){const ye=b[re];ye.skip||p(ye,w,re)}}}function Mr(x,f,c,p,E){const I=[];return!E&&!x.isPointInArea(f)||br(x,c,f,function(X,g,w){!E&&!r._isPointInArea(X,x.chartArea,0)||X.inRange(f.x,f.y,p)&&I.push({element:X,datasetIndex:g,index:w})},!0),I}function Bn(x,f,c,p,E,I){return I||x.isPointInArea(f)?"r"!==c||p?function Sn(x,f,c,p,E,I){let k=[];const X=function cr(x){const f=-1!==x.indexOf("x"),c=-1!==x.indexOf("y");return function(p,E){const I=f?Math.abs(p.x-E.x):0,k=c?Math.abs(p.y-E.y):0;return Math.sqrt(Math.pow(I,2)+Math.pow(k,2))}}(c);let g=Number.POSITIVE_INFINITY;return br(x,c,f,function w(b,O,K){const re=b.inRange(f.x,f.y,E);if(p&&!re)return;const ye=b.getCenterPoint(E);if(!I&&!x.isPointInArea(ye)&&!re)return;const gt=X(f,ye);gt<g?(k=[{element:b,datasetIndex:O,index:K}],g=gt):gt===g&&k.push({element:b,datasetIndex:O,index:K})}),k}(x,f,c,p,E,I):function ir(x,f,c,p){let E=[];return br(x,c,f,function I(k,X,g){const{startAngle:w,endAngle:b}=k.getProps(["startAngle","endAngle"],p),{angle:O}=r.getAngleFromPoint(k,{x:f.x,y:f.y});r._angleBetween(O,w,b)&&E.push({element:k,datasetIndex:X,index:g})}),E}(x,f,c,E):[]}function Tt(x,f,c,p,E){const I=[],k="x"===c?"inXRange":"inYRange";let X=!1;return br(x,c,f,(g,w,b)=>{g[k]&&g[k](f[c],E)&&(I.push({element:g,datasetIndex:w,index:b}),X=X||g.inRange(f.x,f.y,E))}),p&&!X?[]:I}var xt={evaluateInteractionItems:br,modes:{index(x,f,c,p){const E=r.getRelativePosition(f,x),I=c.axis||"x",k=c.includeInvisible||!1,X=c.intersect?Mr(x,E,I,p,k):Bn(x,E,I,!1,p,k),g=[];return X.length?(x.getSortedVisibleDatasetMetas().forEach(w=>{const b=X[0].index,O=w.data[b];O&&!O.skip&&g.push({element:O,datasetIndex:w.index,index:b})}),g):[]},dataset(x,f,c,p){const E=r.getRelativePosition(f,x),I=c.axis||"xy",k=c.includeInvisible||!1;let X=c.intersect?Mr(x,E,I,p,k):Bn(x,E,I,!1,p,k);if(X.length>0){const g=X[0].datasetIndex,w=x.getDatasetMeta(g).data;X=[];for(let b=0;b<w.length;++b)X.push({element:w[b],datasetIndex:g,index:b})}return X},point:(x,f,c,p)=>Mr(x,r.getRelativePosition(f,x),c.axis||"xy",p,c.includeInvisible||!1),nearest:(x,f,c,p)=>Bn(x,r.getRelativePosition(f,x),c.axis||"xy",c.intersect,p,c.includeInvisible||!1),x:(x,f,c,p)=>Tt(x,r.getRelativePosition(f,x),"x",c.intersect,p),y:(x,f,c,p)=>Tt(x,r.getRelativePosition(f,x),"y",c.intersect,p)}};const nt=["left","top","right","bottom"];function ln(x,f){return x.filter(c=>c.pos===f)}function sn(x,f){return x.filter(c=>-1===nt.indexOf(c.pos)&&c.box.axis===f)}function At(x,f){return x.sort((c,p)=>{const E=f?p:c,I=f?c:p;return E.weight===I.weight?E.index-I.index:E.weight-I.weight})}function Kn(x,f,c,p){return Math.max(x[c],f[c])+Math.max(x[p],f[p])}function lr(x,f){x.top=Math.max(x.top,f.top),x.left=Math.max(x.left,f.left),x.bottom=Math.max(x.bottom,f.bottom),x.right=Math.max(x.right,f.right)}function Qi(x,f,c,p){const{pos:E,box:I}=c,k=x.maxPadding;if(!r.isObject(E)){c.size&&(x[E]-=c.size);const O=p[c.stack]||{size:0,count:1};O.size=Math.max(O.size,c.horizontal?I.height:I.width),c.size=O.size/O.count,x[E]+=c.size}I.getPadding&&lr(k,I.getPadding());const X=Math.max(0,f.outerWidth-Kn(k,x,"left","right")),g=Math.max(0,f.outerHeight-Kn(k,x,"top","bottom")),w=X!==x.w,b=g!==x.h;return x.w=X,x.h=g,c.horizontal?{same:w,other:b}:{same:b,other:w}}function bt(x,f){const c=f.maxPadding;return function p(E){const I={left:0,top:0,right:0,bottom:0};return E.forEach(k=>{I[k]=Math.max(f[k],c[k])}),I}(x?["left","right"]:["top","bottom"])}function kt(x,f,c,p){const E=[];let I,k,X,g,w,b;for(I=0,k=x.length,w=0;I<k;++I){X=x[I],g=X.box,g.update(X.width||f.w,X.height||f.h,bt(X.horizontal,f));const{same:O,other:K}=Qi(f,c,X,p);w|=O&&E.length,b=b||K,g.fullSize||E.push(X)}return w&&kt(E,f,c,p)||b}function vn(x,f,c,p,E){x.top=c,x.left=f,x.right=f+p,x.bottom=c+E,x.width=p,x.height=E}function yn(x,f,c,p){const E=c.padding;let{x:I,y:k}=f;for(const X of x){const g=X.box,w=p[X.stack]||{count:1,placed:0,weight:1},b=X.stackWeight/w.weight||1;if(X.horizontal){const O=f.w*b,K=w.size||g.height;r.defined(w.start)&&(k=w.start),g.fullSize?vn(g,E.left,k,c.outerWidth-E.right-E.left,K):vn(g,f.left+w.placed,k,O,K),w.start=k,w.placed+=O,k=g.bottom}else{const O=f.h*b,K=w.size||g.width;r.defined(w.start)&&(I=w.start),g.fullSize?vn(g,I,E.top,K,c.outerHeight-E.bottom-E.top):vn(g,I,f.top+w.placed,K,O),w.start=I,w.placed+=O,I=g.right}}f.x=I,f.y=k}var Vt={addBox(x,f){x.boxes||(x.boxes=[]),f.fullSize=f.fullSize||!1,f.position=f.position||"top",f.weight=f.weight||0,f._layers=f._layers||function(){return[{z:0,draw(c){f.draw(c)}}]},x.boxes.push(f)},removeBox(x,f){const c=x.boxes?x.boxes.indexOf(f):-1;-1!==c&&x.boxes.splice(c,1)},configure(x,f,c){f.fullSize=c.fullSize,f.position=c.position,f.weight=c.weight},update(x,f,c,p){if(!x)return;const E=r.toPadding(x.options.layout.padding),I=Math.max(f-E.width,0),k=Math.max(c-E.height,0),X=function Di(x){const f=function lt(x){const f=[];let c,p,E,I,k,X;for(c=0,p=(x||[]).length;c<p;++c)E=x[c],({position:I,options:{stack:k,stackWeight:X=1}}=E),f.push({index:c,box:E,pos:I,horizontal:E.isHorizontal(),weight:E.weight,stack:k&&I+k,stackWeight:X});return f}(x),c=At(f.filter(w=>w.box.fullSize),!0),p=At(ln(f,"left"),!0),E=At(ln(f,"right")),I=At(ln(f,"top"),!0),k=At(ln(f,"bottom")),X=sn(f,"x"),g=sn(f,"y");return{fullSize:c,leftAndTop:p.concat(I),rightAndBottom:E.concat(g).concat(k).concat(X),chartArea:ln(f,"chartArea"),vertical:p.concat(E).concat(g),horizontal:I.concat(k).concat(X)}}(x.boxes),g=X.vertical,w=X.horizontal;r.each(x.boxes,et=>{"function"==typeof et.beforeLayout&&et.beforeLayout()});const b=g.reduce((et,gt)=>gt.box.options&&!1===gt.box.options.display?et:et+1,0)||1,O=Object.freeze({outerWidth:f,outerHeight:c,padding:E,availableWidth:I,availableHeight:k,vBoxMaxWidth:I/2/b,hBoxMaxHeight:k/2}),K=Object.assign({},E);lr(K,r.toPadding(p));const re=Object.assign({maxPadding:K,w:I,h:k,x:E.left,y:E.top},E),ye=function Nn(x,f){const c=function Xn(x){const f={};for(const c of x){const{stack:p,pos:E,stackWeight:I}=c;if(!p||!nt.includes(E))continue;const k=f[p]||(f[p]={count:0,placed:0,weight:0,size:0});k.count++,k.weight+=I}return f}(x),{vBoxMaxWidth:p,hBoxMaxHeight:E}=f;let I,k,X;for(I=0,k=x.length;I<k;++I){X=x[I];const{fullSize:g}=X.box,w=c[X.stack],b=w&&X.stackWeight/w.weight;X.horizontal?(X.width=b?b*p:g&&f.availableWidth,X.height=E):(X.width=p,X.height=b?b*E:g&&f.availableHeight)}return c}(g.concat(w),O);kt(X.fullSize,re,O,ye),kt(g,re,O,ye),kt(w,re,O,ye)&&kt(g,re,O,ye),function Zt(x){const f=x.maxPadding;function c(p){const E=Math.max(f[p]-x[p],0);return x[p]+=E,E}x.y+=c("top"),x.x+=c("left"),c("right"),c("bottom")}(re),yn(X.leftAndTop,re,O,ye),re.x+=re.w,re.y+=re.h,yn(X.rightAndBottom,re,O,ye),x.chartArea={left:re.left,top:re.top,right:re.left+re.w,bottom:re.top+re.h,height:re.h,width:re.w},r.each(X.chartArea,et=>{const gt=et.box;Object.assign(gt,x.chartArea),gt.update(re.w,re.h,{left:0,top:0,right:0,bottom:0})})}};class ai{acquireContext(f,c){}releaseContext(f){return!1}addEventListener(f,c,p){}removeEventListener(f,c,p){}getDevicePixelRatio(){return 1}getMaximumSize(f,c,p,E){return c=Math.max(0,c||f.width),p=p||f.height,{width:c,height:Math.max(0,E?Math.floor(c/E):p)}}isAttached(f){return!0}updateConfig(f){}}class si extends ai{acquireContext(f){return f&&f.getContext&&f.getContext("2d")||null}updateConfig(f){f.options.animation=!1}}const Jn="$chartjs",Xi={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tr=x=>null===x||""===x,Ut=!!r.supportsEventListenerOptions&&{passive:!0};function Yt(x,f,c){x&&x.canvas&&x.canvas.removeEventListener(f,c,Ut)}function kn(x,f){for(const c of x)if(c===f||c.contains(f))return!0}function Yn(x,f,c){const p=x.canvas,E=new MutationObserver(I=>{let k=!1;for(const X of I)k=k||kn(X.addedNodes,p),k=k&&!kn(X.removedNodes,p);k&&c()});return E.observe(document,{childList:!0,subtree:!0}),E}function ei(x,f,c){const p=x.canvas,E=new MutationObserver(I=>{let k=!1;for(const X of I)k=k||kn(X.removedNodes,p),k=k&&!kn(X.addedNodes,p);k&&c()});return E.observe(document,{childList:!0,subtree:!0}),E}const mr=new Map;let rr=0;function Hi(){const x=window.devicePixelRatio;x!==rr&&(rr=x,mr.forEach((f,c)=>{c.currentDevicePixelRatio!==x&&f()}))}function Fr(x,f,c){const p=x.canvas,E=p&&r._getParentNode(p);if(!E)return;const I=r.throttled((X,g)=>{const w=E.clientWidth;c(X,g),w<E.clientWidth&&c()},window),k=new ResizeObserver(X=>{const g=X[0],w=g.contentRect.width,b=g.contentRect.height;0===w&&0===b||I(w,b)});return k.observe(E),function Zi(x,f){mr.size||window.addEventListener("resize",Hi),mr.set(x,f)}(x,I),k}function go(x,f,c){c&&c.disconnect(),"resize"===f&&function Rr(x){mr.delete(x),mr.size||window.removeEventListener("resize",Hi)}(x)}function Do(x,f,c){const p=x.canvas,E=r.throttled(I=>{null!==x.ctx&&c(function hn(x,f){const c=Xi[x.type]||x.type,{x:p,y:E}=r.getRelativePosition(x,f);return{type:c,chart:f,native:x,x:void 0!==p?p:null,y:void 0!==E?E:null}}(I,x))},x);return function ft(x,f,c){x&&x.addEventListener(f,c,Ut)}(p,f,E),E}class hr extends ai{acquireContext(f,c){const p=f&&f.getContext&&f.getContext("2d");return p&&p.canvas===f?(function Ot(x,f){const c=x.style,p=x.getAttribute("height"),E=x.getAttribute("width");if(x[Jn]={initial:{height:p,width:E,style:{display:c.display,height:c.height,width:c.width}}},c.display=c.display||"block",c.boxSizing=c.boxSizing||"border-box",tr(E)){const I=r.readUsedSize(x,"width");void 0!==I&&(x.width=I)}if(tr(p))if(""===x.style.height)x.height=x.width/(f||2);else{const I=r.readUsedSize(x,"height");void 0!==I&&(x.height=I)}}(f,c),p):null}releaseContext(f){const c=f.canvas;if(!c[Jn])return!1;const p=c[Jn].initial;["height","width"].forEach(I=>{const k=p[I];r.isNullOrUndef(k)?c.removeAttribute(I):c.setAttribute(I,k)});const E=p.style||{};return Object.keys(E).forEach(I=>{c.style[I]=E[I]}),c.width=c.width,delete c[Jn],!0}addEventListener(f,c,p){this.removeEventListener(f,c),(f.$proxies||(f.$proxies={}))[c]=({attach:Yn,detach:ei,resize:Fr}[c]||Do)(f,c,p)}removeEventListener(f,c){const p=f.$proxies||(f.$proxies={}),E=p[c];E&&(({attach:go,detach:go,resize:go}[c]||Yt)(f,c,E),p[c]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(f,c,p,E){return r.getMaximumSize(f,c,p,E)}isAttached(f){const c=f&&r._getParentNode(f);return!(!c||!c.isConnected)}}function Nr(x){return!r._isDomSupported()||typeof OffscreenCanvas<"u"&&x instanceof OffscreenCanvas?si:hr}class Ki{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(f){const{x:c,y:p}=this.getProps(["x","y"],f);return{x:c,y:p}}hasValue(){return r.isNumber(this.x)&&r.isNumber(this.y)}getProps(f,c){const p=this.$animations;if(!c||!p)return this;const E={};return f.forEach(I=>{E[I]=p[I]&&p[I].active()?p[I]._to:this[I]}),E}}function zi(x,f,c,p,E){const I=r.valueOrDefault(p,0),k=Math.min(r.valueOrDefault(E,x.length),x.length);let g,w,b,X=0;for(c=Math.ceil(c),E&&(g=E-p,c=g/Math.floor(g/c)),b=I;b<0;)X++,b=Math.round(I+X*c);for(w=Math.max(I,0);w<k;w++)w===b&&(f.push(x[w]),X++,b=Math.round(I+X*c))}const _i=x=>"left"===x?"right":"right"===x?"left":x,di=(x,f,c)=>"top"===f||"left"===f?x[f]+c:x[f]-c,kr=(x,f)=>Math.min(f||x,x);function Er(x,f){const c=[],p=x.length/f,E=x.length;let I=0;for(;I<E;I+=p)c.push(x[Math.floor(I)]);return c}function oo(x,f,c){const p=x.ticks.length,E=Math.min(f,p-1),I=x._startPixel,k=x._endPixel,X=1e-6;let w,g=x.getPixelForTick(E);if(!(c&&(w=1===p?Math.max(g-I,k-g):0===f?(x.getPixelForTick(1)-g)/2:(g-x.getPixelForTick(E-1))/2,g+=E<f?w:-w,g<I-X||g>k+X)))return g}function Je(x){return x.drawTicks?x.tickLength:0}function dt(x,f){if(!x.display)return 0;const c=r.toFont(x.font,f),p=r.toPadding(x.padding);return(r.isArray(x.text)?x.text.length:1)*c.lineHeight+p.height}function ot(x,f,c){let p=r._toLeftRightCenter(x);return(c&&"right"!==f||!c&&"right"===f)&&(p=_i(p)),p}class zt extends Ki{constructor(f){super(),this.id=f.id,this.type=f.type,this.options=void 0,this.ctx=f.ctx,this.chart=f.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(f){this.options=f.setContext(this.getContext()),this.axis=f.axis,this._userMin=this.parse(f.min),this._userMax=this.parse(f.max),this._suggestedMin=this.parse(f.suggestedMin),this._suggestedMax=this.parse(f.suggestedMax)}parse(f,c){return f}getUserBounds(){let{_userMin:f,_userMax:c,_suggestedMin:p,_suggestedMax:E}=this;return f=r.finiteOrDefault(f,Number.POSITIVE_INFINITY),c=r.finiteOrDefault(c,Number.NEGATIVE_INFINITY),p=r.finiteOrDefault(p,Number.POSITIVE_INFINITY),E=r.finiteOrDefault(E,Number.NEGATIVE_INFINITY),{min:r.finiteOrDefault(f,p),max:r.finiteOrDefault(c,E),minDefined:r.isNumberFinite(f),maxDefined:r.isNumberFinite(c)}}getMinMax(f){let k,{min:c,max:p,minDefined:E,maxDefined:I}=this.getUserBounds();if(E&&I)return{min:c,max:p};const X=this.getMatchingVisibleMetas();for(let g=0,w=X.length;g<w;++g)k=X[g].controller.getMinMax(this,f),E||(c=Math.min(c,k.min)),I||(p=Math.max(p,k.max));return c=I&&c>p?p:c,p=E&&c>p?c:p,{min:r.finiteOrDefault(c,r.finiteOrDefault(p,c)),max:r.finiteOrDefault(p,r.finiteOrDefault(c,p))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const f=this.chart.data;return this.options.labels||(this.isHorizontal()?f.xLabels:f.yLabels)||f.labels||[]}getLabelItems(f=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(f))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){r.callback(this.options.beforeUpdate,[this])}update(f,c,p){const{beginAtZero:E,grace:I,ticks:k}=this.options,X=k.sampleSize;this.beforeUpdate(),this.maxWidth=f,this.maxHeight=c,this._margins=p=Object.assign({left:0,right:0,top:0,bottom:0},p),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+p.left+p.right:this.height+p.top+p.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=r._addGrace(this,I,E),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const g=X<this.ticks.length;this._convertTicksToLabels(g?Er(this.ticks,X):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),k.display&&(k.autoSkip||"auto"===k.source)&&(this.ticks=function wr(x,f){const c=x.options.ticks,p=function lo(x){const f=x.options.offset,c=x._tickSize();return Math.floor(Math.min(x._length/c+(f?0:1),x._maxLength/c))}(x),E=Math.min(c.maxTicksLimit||p,p),I=c.major.enabled?function Gr(x){const f=[];let c,p;for(c=0,p=x.length;c<p;c++)x[c].major&&f.push(c);return f}(f):[],k=I.length,X=I[0],g=I[k-1],w=[];if(k>E)return function uo(x,f,c,p){let k,E=0,I=c[0];for(p=Math.ceil(p),k=0;k<x.length;k++)k===I&&(f.push(x[k]),E++,I=c[E*p])}(f,w,I,k/E),w;const b=function no(x,f,c){const p=function Bi(x){const f=x.length;let c,p;if(f<2)return!1;for(p=x[0],c=1;c<f;++c)if(x[c]-x[c-1]!==p)return!1;return p}(x),E=f.length/c;if(!p)return Math.max(E,1);const I=r._factorize(p);for(let k=0,X=I.length-1;k<X;k++){const g=I[k];if(g>E)return g}return Math.max(E,1)}(I,f,E);if(k>0){let O,K;const re=k>1?Math.round((g-X)/(k-1)):null;for(zi(f,w,b,r.isNullOrUndef(re)?0:X-re,X),O=0,K=k-1;O<K;O++)zi(f,w,b,I[O],I[O+1]);return zi(f,w,b,g,r.isNullOrUndef(re)?f.length:g+re),w}return zi(f,w,b),w}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),g&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let c,p,f=this.options.reverse;this.isHorizontal()?(c=this.left,p=this.right):(c=this.top,p=this.bottom,f=!f),this._startPixel=c,this._endPixel=p,this._reversePixels=f,this._length=p-c,this._alignToPixels=this.options.alignToPixels}afterUpdate(){r.callback(this.options.afterUpdate,[this])}beforeSetDimensions(){r.callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){r.callback(this.options.afterSetDimensions,[this])}_callHooks(f){this.chart.notifyPlugins(f,this.getContext()),r.callback(this.options[f],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){r.callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(f){const c=this.options.ticks;let p,E,I;for(p=0,E=f.length;p<E;p++)I=f[p],I.label=r.callback(c.callback,[I.value,p,f],this)}afterTickToLabelConversion(){r.callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){r.callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const f=this.options,c=f.ticks,p=kr(this.ticks.length,f.ticks.maxTicksLimit),E=c.minRotation||0,I=c.maxRotation;let X,g,w,k=E;if(!this._isVisible()||!c.display||E>=I||p<=1||!this.isHorizontal())return void(this.labelRotation=E);const b=this._getLabelSizes(),O=b.widest.width,K=b.highest.height,re=r._limitValue(this.chart.width-O,0,this.maxWidth);X=f.offset?this.maxWidth/p:re/(p-1),O+6>X&&(X=re/(p-(f.offset?.5:1)),g=this.maxHeight-Je(f.grid)-c.padding-dt(f.title,this.chart.options.font),w=Math.sqrt(O*O+K*K),k=r.toDegrees(Math.min(Math.asin(r._limitValue((b.highest.height+6)/X,-1,1)),Math.asin(r._limitValue(g/w,-1,1))-Math.asin(r._limitValue(K/w,-1,1)))),k=Math.max(E,Math.min(I,k))),this.labelRotation=k}afterCalculateLabelRotation(){r.callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){r.callback(this.options.beforeFit,[this])}fit(){const f={width:0,height:0},{chart:c,options:{ticks:p,title:E,grid:I}}=this,k=this._isVisible(),X=this.isHorizontal();if(k){const g=dt(E,c.options.font);if(X?(f.width=this.maxWidth,f.height=Je(I)+g):(f.height=this.maxHeight,f.width=Je(I)+g),p.display&&this.ticks.length){const{first:w,last:b,widest:O,highest:K}=this._getLabelSizes(),re=2*p.padding,ye=r.toRadians(this.labelRotation),et=Math.cos(ye),gt=Math.sin(ye);X?f.height=Math.min(this.maxHeight,f.height+(p.mirror?0:gt*O.width+et*K.height)+re):f.width=Math.min(this.maxWidth,f.width+(p.mirror?0:et*O.width+gt*K.height)+re),this._calculatePadding(w,b,gt,et)}}this._handleMargins(),X?(this.width=this._length=c.width-this._margins.left-this._margins.right,this.height=f.height):(this.width=f.width,this.height=this._length=c.height-this._margins.top-this._margins.bottom)}_calculatePadding(f,c,p,E){const{ticks:{align:I,padding:k},position:X}=this.options,g=0!==this.labelRotation,w="top"!==X&&"x"===this.axis;if(this.isHorizontal()){const b=this.getPixelForTick(0)-this.left,O=this.right-this.getPixelForTick(this.ticks.length-1);let K=0,re=0;g?w?(K=E*f.width,re=p*c.height):(K=p*f.height,re=E*c.width):"start"===I?re=c.width:"end"===I?K=f.width:"inner"!==I&&(K=f.width/2,re=c.width/2),this.paddingLeft=Math.max((K-b+k)*this.width/(this.width-b),0),this.paddingRight=Math.max((re-O+k)*this.width/(this.width-O),0)}else{let b=c.height/2,O=f.height/2;"start"===I?(b=0,O=f.height):"end"===I&&(b=c.height,O=0),this.paddingTop=b+k,this.paddingBottom=O+k}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){r.callback(this.options.afterFit,[this])}isHorizontal(){const{axis:f,position:c}=this.options;return"top"===c||"bottom"===c||"x"===f}isFullSize(){return this.options.fullSize}_convertTicksToLabels(f){let c,p;for(this.beforeTickToLabelConversion(),this.generateTickLabels(f),c=0,p=f.length;c<p;c++)r.isNullOrUndef(f[c].label)&&(f.splice(c,1),p--,c--);this.afterTickToLabelConversion()}_getLabelSizes(){let f=this._labelSizes;if(!f){const c=this.options.ticks.sampleSize;let p=this.ticks;c<p.length&&(p=Er(p,c)),this._labelSizes=f=this._computeLabelSizes(p,p.length,this.options.ticks.maxTicksLimit)}return f}_computeLabelSizes(f,c,p){const{ctx:E,_longestTextCache:I}=this,k=[],X=[],g=Math.floor(c/kr(c,p));let O,K,re,ye,et,gt,Xt,Kt,Dn,Un,An,w=0,b=0;for(O=0;O<c;O+=g){if(ye=f[O].label,et=this._resolveTickFontOptions(O),E.font=gt=et.string,Xt=I[gt]=I[gt]||{data:{},gc:[]},Kt=et.lineHeight,Dn=Un=0,r.isNullOrUndef(ye)||r.isArray(ye)){if(r.isArray(ye))for(K=0,re=ye.length;K<re;++K)An=ye[K],!r.isNullOrUndef(An)&&!r.isArray(An)&&(Dn=r._measureText(E,Xt.data,Xt.gc,Dn,An),Un+=Kt)}else Dn=r._measureText(E,Xt.data,Xt.gc,Dn,ye),Un=Kt;k.push(Dn),X.push(Un),w=Math.max(Dn,w),b=Math.max(Un,b)}!function Ye(x,f){r.each(x,c=>{const p=c.gc,E=p.length/2;let I;if(E>f){for(I=0;I<E;++I)delete c.data[p[I]];p.splice(0,E)}})}(I,c);const $n=k.indexOf(w),Ci=X.indexOf(b),ri=Yi=>({width:k[Yi]||0,height:X[Yi]||0});return{first:ri(0),last:ri(c-1),widest:ri($n),highest:ri(Ci),widths:k,heights:X}}getLabelForValue(f){return f}getPixelForValue(f,c){return NaN}getValueForPixel(f){}getPixelForTick(f){const c=this.ticks;return f<0||f>c.length-1?null:this.getPixelForValue(c[f].value)}getPixelForDecimal(f){this._reversePixels&&(f=1-f);const c=this._startPixel+f*this._length;return r._int16Range(this._alignToPixels?r._alignPixel(this.chart,c,0):c)}getDecimalForPixel(f){const c=(f-this._startPixel)/this._length;return this._reversePixels?1-c:c}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:f,max:c}=this;return f<0&&c<0?c:f>0&&c>0?f:0}getContext(f){const c=this.ticks||[];if(f>=0&&f<c.length){const p=c[f];return p.$context||(p.$context=function Qt(x,f,c){return r.createContext(x,{tick:c,index:f,type:"tick"})}(this.getContext(),f,p))}return this.$context||(this.$context=function Lt(x,f){return r.createContext(x,{scale:f,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const f=this.options.ticks,c=r.toRadians(this.labelRotation),p=Math.abs(Math.cos(c)),E=Math.abs(Math.sin(c)),I=this._getLabelSizes(),k=f.autoSkipPadding||0,X=I?I.widest.width+k:0,g=I?I.highest.height+k:0;return this.isHorizontal()?g*p>X*E?X/p:g/E:g*E<X*p?g/p:X/E}_isVisible(){const f=this.options.display;return"auto"!==f?!!f:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(f){const c=this.axis,p=this.chart,E=this.options,{grid:I,position:k,border:X}=E,g=I.offset,w=this.isHorizontal(),O=this.ticks.length+(g?1:0),K=Je(I),re=[],ye=X.setContext(this.getContext()),et=ye.display?ye.width:0,gt=et/2,Xt=function(Wo){return r._alignPixel(p,Wo,et)};let Kt,Dn,Un,An,$n,Ci,ri,Yi,Tr,Hr,eo,ss;if("top"===k)Kt=Xt(this.bottom),Ci=this.bottom-K,Yi=Kt-gt,Hr=Xt(f.top)+gt,ss=f.bottom;else if("bottom"===k)Kt=Xt(this.top),Hr=f.top,ss=Xt(f.bottom)-gt,Ci=Kt+gt,Yi=this.top+K;else if("left"===k)Kt=Xt(this.right),$n=this.right-K,ri=Kt-gt,Tr=Xt(f.left)+gt,eo=f.right;else if("right"===k)Kt=Xt(this.left),Tr=f.left,eo=Xt(f.right)-gt,$n=Kt+gt,ri=this.left+K;else if("x"===c){if("center"===k)Kt=Xt((f.top+f.bottom)/2+.5);else if(r.isObject(k)){const Wo=Object.keys(k)[0];Kt=Xt(this.chart.scales[Wo].getPixelForValue(k[Wo]))}Hr=f.top,ss=f.bottom,Ci=Kt+gt,Yi=Ci+K}else if("y"===c){if("center"===k)Kt=Xt((f.left+f.right)/2);else if(r.isObject(k)){const Wo=Object.keys(k)[0];Kt=Xt(this.chart.scales[Wo].getPixelForValue(k[Wo]))}$n=Kt-gt,ri=$n-K,Tr=f.left,eo=f.right}const ps=r.valueOrDefault(E.ticks.maxTicksLimit,O),Co=Math.max(1,Math.ceil(O/ps));for(Dn=0;Dn<O;Dn+=Co){const Wo=this.getContext(Dn),ns=I.setContext(Wo),vs=X.setContext(Wo),ls=ns.lineWidth,la=ns.color,ja=vs.dash||[],Qs=vs.dashOffset,za=ns.tickWidth,Ys=ns.tickColor,$a=ns.tickBorderDash||[],ks=ns.tickBorderDashOffset;Un=oo(this,Dn,g),void 0!==Un&&(An=r._alignPixel(p,Un,ls),w?$n=ri=Tr=eo=An:Ci=Yi=Hr=ss=An,re.push({tx1:$n,ty1:Ci,tx2:ri,ty2:Yi,x1:Tr,y1:Hr,x2:eo,y2:ss,width:ls,color:la,borderDash:ja,borderDashOffset:Qs,tickWidth:za,tickColor:Ys,tickBorderDash:$a,tickBorderDashOffset:ks}))}return this._ticksLength=O,this._borderValue=Kt,re}_computeLabelItems(f){const c=this.axis,p=this.options,{position:E,ticks:I}=p,k=this.isHorizontal(),X=this.ticks,{align:g,crossAlign:w,padding:b,mirror:O}=I,K=Je(p.grid),re=K+b,ye=O?-b:re,et=-r.toRadians(this.labelRotation),gt=[];let Xt,Kt,Dn,Un,An,$n,Ci,ri,Yi,Tr,Hr,eo,ss="middle";if("top"===E)$n=this.bottom-ye,Ci=this._getXAxisLabelAlignment();else if("bottom"===E)$n=this.top+ye,Ci=this._getXAxisLabelAlignment();else if("left"===E){const Co=this._getYAxisLabelAlignment(K);Ci=Co.textAlign,An=Co.x}else if("right"===E){const Co=this._getYAxisLabelAlignment(K);Ci=Co.textAlign,An=Co.x}else if("x"===c){if("center"===E)$n=(f.top+f.bottom)/2+re;else if(r.isObject(E)){const Co=Object.keys(E)[0];$n=this.chart.scales[Co].getPixelForValue(E[Co])+re}Ci=this._getXAxisLabelAlignment()}else if("y"===c){if("center"===E)An=(f.left+f.right)/2-re;else if(r.isObject(E)){const Co=Object.keys(E)[0];An=this.chart.scales[Co].getPixelForValue(E[Co])}Ci=this._getYAxisLabelAlignment(K).textAlign}"y"===c&&("start"===g?ss="top":"end"===g&&(ss="bottom"));const ps=this._getLabelSizes();for(Xt=0,Kt=X.length;Xt<Kt;++Xt){Dn=X[Xt],Un=Dn.label;const Co=I.setContext(this.getContext(Xt));ri=this.getPixelForTick(Xt)+I.labelOffset,Yi=this._resolveTickFontOptions(Xt),Tr=Yi.lineHeight,Hr=r.isArray(Un)?Un.length:1;const Wo=Hr/2,ns=Co.color,vs=Co.textStrokeColor,ls=Co.textStrokeWidth;let ja,la=Ci;if(k?(An=ri,"inner"===Ci&&(la=Xt===Kt-1?this.options.reverse?"left":"right":0===Xt?this.options.reverse?"right":"left":"center"),eo="top"===E?"near"===w||0!==et?-Hr*Tr+Tr/2:"center"===w?-ps.highest.height/2-Wo*Tr+Tr:Tr/2-ps.highest.height:"near"===w||0!==et?Tr/2:"center"===w?ps.highest.height/2-Wo*Tr:ps.highest.height-Hr*Tr,O&&(eo*=-1),0!==et&&!Co.showLabelBackdrop&&(An+=Tr/2*Math.sin(et))):($n=ri,eo=(1-Hr)*Tr/2),Co.showLabelBackdrop){const Qs=r.toPadding(Co.backdropPadding),za=ps.heights[Xt],Ys=ps.widths[Xt];let $a=eo-Qs.top,ks=0-Qs.left;switch(ss){case"middle":$a-=za/2;break;case"bottom":$a-=za}switch(Ci){case"center":ks-=Ys/2;break;case"right":ks-=Ys;break;case"inner":Xt===Kt-1?ks-=Ys:Xt>0&&(ks-=Ys/2)}ja={left:ks,top:$a,width:Ys+Qs.width,height:za+Qs.height,color:Co.backdropColor}}gt.push({label:Un,font:Yi,textOffset:eo,options:{rotation:et,color:ns,strokeColor:vs,strokeWidth:ls,textAlign:la,textBaseline:ss,translation:[An,$n],backdrop:ja}})}return gt}_getXAxisLabelAlignment(){const{position:f,ticks:c}=this.options;if(-r.toRadians(this.labelRotation))return"top"===f?"left":"right";let E="center";return"start"===c.align?E="left":"end"===c.align?E="right":"inner"===c.align&&(E="inner"),E}_getYAxisLabelAlignment(f){const{position:c,ticks:{crossAlign:p,mirror:E,padding:I}}=this.options,X=f+I,g=this._getLabelSizes().widest.width;let w,b;return"left"===c?E?(b=this.right+I,"near"===p?w="left":"center"===p?(w="center",b+=g/2):(w="right",b+=g)):(b=this.right-X,"near"===p?w="right":"center"===p?(w="center",b-=g/2):(w="left",b=this.left)):"right"===c?E?(b=this.left+I,"near"===p?w="right":"center"===p?(w="center",b-=g/2):(w="left",b-=g)):(b=this.left+X,"near"===p?w="left":"center"===p?(w="center",b+=g/2):(w="right",b=this.right)):w="right",{textAlign:w,x:b}}_computeLabelArea(){if(this.options.ticks.mirror)return;const f=this.chart,c=this.options.position;return"left"===c||"right"===c?{top:0,left:this.left,bottom:f.height,right:this.right}:"top"===c||"bottom"===c?{top:this.top,left:0,bottom:this.bottom,right:f.width}:void 0}drawBackground(){const{ctx:f,options:{backgroundColor:c},left:p,top:E,width:I,height:k}=this;c&&(f.save(),f.fillStyle=c,f.fillRect(p,E,I,k),f.restore())}getLineWidthForValue(f){const c=this.options.grid;if(!this._isVisible()||!c.display)return 0;const E=this.ticks.findIndex(I=>I.value===f);return E>=0?c.setContext(this.getContext(E)).lineWidth:0}drawGrid(f){const c=this.options.grid,p=this.ctx,E=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(f));let I,k;const X=(g,w,b)=>{!b.width||!b.color||(p.save(),p.lineWidth=b.width,p.strokeStyle=b.color,p.setLineDash(b.borderDash||[]),p.lineDashOffset=b.borderDashOffset,p.beginPath(),p.moveTo(g.x,g.y),p.lineTo(w.x,w.y),p.stroke(),p.restore())};if(c.display)for(I=0,k=E.length;I<k;++I){const g=E[I];c.drawOnChartArea&&X({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),c.drawTicks&&X({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}drawBorder(){const{chart:f,ctx:c,options:{border:p,grid:E}}=this,I=p.setContext(this.getContext()),k=p.display?I.width:0;if(!k)return;const X=E.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let w,b,O,K;this.isHorizontal()?(w=r._alignPixel(f,this.left,k)-k/2,b=r._alignPixel(f,this.right,X)+X/2,O=K=g):(O=r._alignPixel(f,this.top,k)-k/2,K=r._alignPixel(f,this.bottom,X)+X/2,w=b=g),c.save(),c.lineWidth=I.width,c.strokeStyle=I.color,c.beginPath(),c.moveTo(w,O),c.lineTo(b,K),c.stroke(),c.restore()}drawLabels(f){if(!this.options.ticks.display)return;const p=this.ctx,E=this._computeLabelArea();E&&r.clipArea(p,E);const I=this.getLabelItems(f);for(const k of I)r.renderText(p,k.label,0,k.textOffset,k.font,k.options);E&&r.unclipArea(p)}drawTitle(){const{ctx:f,options:{position:c,title:p,reverse:E}}=this;if(!p.display)return;const I=r.toFont(p.font),k=r.toPadding(p.padding),X=p.align;let g=I.lineHeight/2;"bottom"===c||"center"===c||r.isObject(c)?(g+=k.bottom,r.isArray(p.text)&&(g+=I.lineHeight*(p.text.length-1))):g+=k.top;const{titleX:w,titleY:b,maxWidth:O,rotation:K}=function Ht(x,f,c,p){const{top:E,left:I,bottom:k,right:X,chart:g}=x,{chartArea:w,scales:b}=g;let K,re,ye,O=0;const et=k-E,gt=X-I;if(x.isHorizontal()){if(re=r._alignStartEnd(p,I,X),r.isObject(c)){const Xt=Object.keys(c)[0];ye=b[Xt].getPixelForValue(c[Xt])+et-f}else ye="center"===c?(w.bottom+w.top)/2+et-f:di(x,c,f);K=X-I}else{if(r.isObject(c)){const Xt=Object.keys(c)[0];re=b[Xt].getPixelForValue(c[Xt])-gt+f}else re="center"===c?(w.left+w.right)/2-gt+f:di(x,c,f);ye=r._alignStartEnd(p,k,E),O="left"===c?-r.HALF_PI:r.HALF_PI}return{titleX:re,titleY:ye,maxWidth:K,rotation:O}}(this,g,c,X);r.renderText(f,p.text,0,0,I,{color:p.color,maxWidth:O,rotation:K,textAlign:ot(X,c,E),textBaseline:"middle",translation:[w,b]})}draw(f){this._isVisible()&&(this.drawBackground(),this.drawGrid(f),this.drawBorder(),this.drawTitle(),this.drawLabels(f))}_layers(){const f=this.options,c=f.ticks&&f.ticks.z||0,p=r.valueOrDefault(f.grid&&f.grid.z,-1),E=r.valueOrDefault(f.border&&f.border.z,0);return this._isVisible()&&this.draw===zt.prototype.draw?[{z:p,draw:I=>{this.drawBackground(),this.drawGrid(I),this.drawTitle()}},{z:E,draw:()=>{this.drawBorder()}},{z:c,draw:I=>{this.drawLabels(I)}}]:[{z:c,draw:I=>{this.draw(I)}}]}getMatchingVisibleMetas(f){const c=this.chart.getSortedVisibleDatasetMetas(),p=this.axis+"AxisID",E=[];let I,k;for(I=0,k=c.length;I<k;++I){const X=c[I];X[p]===this.id&&(!f||X.type===f)&&E.push(X)}return E}_resolveTickFontOptions(f){const c=this.options.ticks.setContext(this.getContext(f));return r.toFont(c.font)}_maxDigits(){const f=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/f}}class gn{constructor(f,c,p){this.type=f,this.scope=c,this.override=p,this.items=Object.create(null)}isForType(f){return Object.prototype.isPrototypeOf.call(this.type.prototype,f.prototype)}register(f){const c=Object.getPrototypeOf(f);let p;(function ii(x){return"id"in x&&"defaults"in x})(c)&&(p=this.register(c));const E=this.items,I=f.id,k=this.scope+"."+I;if(!I)throw new Error("class does not have id: "+f);return I in E||(E[I]=f,function an(x,f,c){const p=r.merge(Object.create(null),[c?r.defaults.get(c):{},r.defaults.get(f),x.defaults]);r.defaults.set(f,p),x.defaultRoutes&&function Hn(x,f){Object.keys(f).forEach(c=>{const p=c.split("."),E=p.pop(),I=[x].concat(p).join("."),k=f[c].split("."),X=k.pop(),g=k.join(".");r.defaults.route(I,E,g,X)})}(f,x.defaultRoutes),x.descriptors&&r.defaults.describe(f,x.descriptors)}(f,k,p),this.override&&r.defaults.override(f.id,f.overrides)),k}get(f){return this.items[f]}unregister(f){const c=this.items,p=f.id,E=this.scope;p in c&&delete c[p],E&&p in r.defaults[E]&&(delete r.defaults[E][p],this.override&&delete r.overrides[p])}}class In{constructor(){this.controllers=new gn(ze,"datasets",!0),this.elements=new gn(Ki,"elements"),this.plugins=new gn(Object,"plugins"),this.scales=new gn(zt,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...f){this._each("register",f)}remove(...f){this._each("unregister",f)}addControllers(...f){this._each("register",f,this.controllers)}addElements(...f){this._each("register",f,this.elements)}addPlugins(...f){this._each("register",f,this.plugins)}addScales(...f){this._each("register",f,this.scales)}getController(f){return this._get(f,this.controllers,"controller")}getElement(f){return this._get(f,this.elements,"element")}getPlugin(f){return this._get(f,this.plugins,"plugin")}getScale(f){return this._get(f,this.scales,"scale")}removeControllers(...f){this._each("unregister",f,this.controllers)}removeElements(...f){this._each("unregister",f,this.elements)}removePlugins(...f){this._each("unregister",f,this.plugins)}removeScales(...f){this._each("unregister",f,this.scales)}_each(f,c,p){[...c].forEach(E=>{const I=p||this._getRegistryForType(E);p||I.isForType(E)||I===this.plugins&&E.id?this._exec(f,I,E):r.each(E,k=>{const X=p||this._getRegistryForType(k);this._exec(f,X,k)})})}_exec(f,c,p){const E=r._capitalize(f);r.callback(p["before"+E],[],p),c[f](p),r.callback(p["after"+E],[],p)}_getRegistryForType(f){for(let c=0;c<this._typedRegistries.length;c++){const p=this._typedRegistries[c];if(p.isForType(f))return p}return this.plugins}_get(f,c,p){const E=c.get(f);if(void 0===E)throw new Error('"'+f+'" is not a registered '+p+".");return E}}var $i=new In;class Ir{constructor(){this._init=[]}notify(f,c,p,E){"beforeInit"===c&&(this._init=this._createDescriptors(f,!0),this._notify(this._init,f,"install"));const I=E?this._descriptors(f).filter(E):this._descriptors(f),k=this._notify(I,f,c,p);return"afterDestroy"===c&&(this._notify(I,f,"stop"),this._notify(this._init,f,"uninstall")),k}_notify(f,c,p,E){E=E||{};for(const I of f){const k=I.plugin;if(!1===r.callback(k[p],[c,E,I.options],k)&&E.cancelable)return!1}return!0}invalidate(){r.isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(f){if(this._cache)return this._cache;const c=this._cache=this._createDescriptors(f);return this._notifyStateChanges(f),c}_createDescriptors(f,c){const p=f&&f.config,E=r.valueOrDefault(p.options&&p.options.plugins,{}),I=function ho(x){const f={},c=[],p=Object.keys($i.plugins.items);for(let I=0;I<p.length;I++)c.push($i.getPlugin(p[I]));const E=x.plugins||[];for(let I=0;I<E.length;I++){const k=E[I];-1===c.indexOf(k)&&(c.push(k),f[k.id]=!0)}return{plugins:c,localIds:f}}(p);return!1!==E||c?function xr(x,{plugins:f,localIds:c},p,E){const I=[],k=x.getContext();for(const X of f){const g=X.id,w=Ii(p[g],E);null!==w&&I.push({plugin:X,options:fr(x.config,{plugin:X,local:c[g]},w,k)})}return I}(f,I,E,c):[]}_notifyStateChanges(f){const c=this._oldCache||[],p=this._cache,E=(I,k)=>I.filter(X=>!k.some(g=>X.plugin.id===g.plugin.id));this._notify(E(c,p),f,"stop"),this._notify(E(p,c),f,"start")}}function Ii(x,f){return f||!1!==x?!0===x?{}:x:null}function fr(x,{plugin:f,local:c},p,E){const I=x.pluginScopeKeys(f),k=x.getOptionScopes(p,I);return c&&f.defaults&&k.push(f.defaults),x.createResolver(k,E,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Kr(x,f){return((f.datasets||{})[x]||{}).indexAxis||f.indexAxis||(r.defaults.datasets[x]||{}).indexAxis||"x"}function jo(x){if("x"===x||"y"===x||"r"===x)return x}function zr(x){return"top"===x||"bottom"===x?"x":"left"===x||"right"===x?"y":void 0}function Vi(x,...f){if(jo(x))return x;for(const c of f){const p=c.axis||zr(c.position)||x.length>1&&jo(x[0].toLowerCase());if(p)return p}throw new Error(`Cannot determine type of '${x}' axis. Please provide 'axis' or 'position' option.`)}function He(x,f,c){if(c[f+"AxisID"]===x)return{axis:f}}function $t(x){const f=x.options||(x.options={});f.plugins=r.valueOrDefault(f.plugins,{}),f.scales=function wt(x,f){const c=r.overrides[x.type]||{scales:{}},p=f.scales||{},E=Kr(x.type,f),I=Object.create(null);return Object.keys(p).forEach(k=>{const X=p[k];if(!r.isObject(X))return console.error(`Invalid scale configuration for scale: ${k}`);if(X._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${k}`);const g=Vi(k,X,function st(x,f){if(f.data&&f.data.datasets){const c=f.data.datasets.filter(p=>p.xAxisID===x||p.yAxisID===x);if(c.length)return He(x,"x",c[0])||He(x,"y",c[0])}return{}}(k,x),r.defaults.scales[X.type]),w=function Po(x,f){return x===f?"_index_":"_value_"}(g,E),b=c.scales||{};I[k]=r.mergeIf(Object.create(null),[{axis:g},X,b[g],b[w]])}),x.data.datasets.forEach(k=>{const X=k.type||x.type,g=k.indexAxis||Kr(X,f),b=(r.overrides[X]||{}).scales||{};Object.keys(b).forEach(O=>{const K=function fo(x,f){let c=x;return"_index_"===x?c=f:"_value_"===x&&(c="x"===f?"y":"x"),c}(O,g),re=k[K+"AxisID"]||K;I[re]=I[re]||Object.create(null),r.mergeIf(I[re],[{axis:K},p[re],b[O]])})}),Object.keys(I).forEach(k=>{const X=I[k];r.mergeIf(X,[r.defaults.scales[X.type],r.defaults.scale])}),I}(x,f)}function Gt(x){return(x=x||{}).datasets=x.datasets||[],x.labels=x.labels||[],x}const Ln=new Map,Tn=new Set;function Vn(x,f){let c=Ln.get(x);return c||(c=f(),Ln.set(x,c),Tn.add(c)),c}const wn=(x,f,c)=>{const p=r.resolveObjectKey(f,c);void 0!==p&&x.add(p)};class oi{constructor(f){this._config=function un(x){return(x=x||{}).data=Gt(x.data),$t(x),x}(f),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(f){this._config.type=f}get data(){return this._config.data}set data(f){this._config.data=Gt(f)}get options(){return this._config.options}set options(f){this._config.options=f}get plugins(){return this._config.plugins}update(){const f=this._config;this.clearCache(),$t(f)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(f){return Vn(f,()=>[[`datasets.${f}`,""]])}datasetAnimationScopeKeys(f,c){return Vn(`${f}.transition.${c}`,()=>[[`datasets.${f}.transitions.${c}`,`transitions.${c}`],[`datasets.${f}`,""]])}datasetElementScopeKeys(f,c){return Vn(`${f}-${c}`,()=>[[`datasets.${f}.elements.${c}`,`datasets.${f}`,`elements.${c}`,""]])}pluginScopeKeys(f){const c=f.id;return Vn(`${this.type}-plugin-${c}`,()=>[[`plugins.${c}`,...f.additionalOptionScopes||[]]])}_cachedScopes(f,c){const p=this._scopeCache;let E=p.get(f);return(!E||c)&&(E=new Map,p.set(f,E)),E}getOptionScopes(f,c,p){const{options:E,type:I}=this,k=this._cachedScopes(f,p),X=k.get(c);if(X)return X;const g=new Set;c.forEach(b=>{f&&(g.add(f),b.forEach(O=>wn(g,f,O))),b.forEach(O=>wn(g,E,O)),b.forEach(O=>wn(g,r.overrides[I]||{},O)),b.forEach(O=>wn(g,r.defaults,O)),b.forEach(O=>wn(g,r.descriptors,O))});const w=Array.from(g);return 0===w.length&&w.push(Object.create(null)),Tn.has(c)&&k.set(c,w),w}chartOptionScopes(){const{options:f,type:c}=this;return[f,r.overrides[c]||{},r.defaults.datasets[c]||{},{type:c},r.defaults,r.descriptors]}resolveNamedOptions(f,c,p,E=[""]){const I={$shared:!0},{resolver:k,subPrefixes:X}=Gi(this._resolverCache,f,E);let g=k;if(function gi(x,f){const{isScriptable:c,isIndexable:p}=r._descriptors(x);for(const E of f){const I=c(E),k=p(E),X=(k||I)&&x[E];if(I&&(r.isFunction(X)||vi(X))||k&&r.isArray(X))return!0}return!1}(k,c)){I.$shared=!1,p=r.isFunction(p)?p():p;const w=this.createResolver(f,p,X);g=r._attachContext(k,p,w)}for(const w of c)I[w]=g[w];return I}createResolver(f,c,p=[""],E){const{resolver:I}=Gi(this._resolverCache,f,p);return r.isObject(c)?r._attachContext(I,c,void 0,E):I}}function Gi(x,f,c){let p=x.get(f);p||(p=new Map,x.set(f,p));const E=c.join();let I=p.get(E);return I||(I={resolver:r._createResolver(f,c),subPrefixes:c.filter(X=>!X.toLowerCase().includes("hover"))},p.set(E,I)),I}const vi=x=>r.isObject(x)&&Object.getOwnPropertyNames(x).some(f=>r.isFunction(x[f])),Br=["top","bottom","left","right","chartArea"];function or(x,f){return"top"===x||"bottom"===x||-1===Br.indexOf(x)&&"x"===f}function Cr(x,f){return function(c,p){return c[x]===p[x]?c[f]-p[f]:c[x]-p[x]}}function yi(x){const f=x.chart,c=f.options.animation;f.notifyPlugins("afterRender"),r.callback(c&&c.onComplete,[x],f)}function yr(x){const f=x.chart,c=f.options.animation;r.callback(c&&c.onProgress,[x],f)}function jn(x){return r._isDomSupported()&&"string"==typeof x?x=document.getElementById(x):x&&x.length&&(x=x[0]),x&&x.canvas&&(x=x.canvas),x}const Li={},Ar=x=>{const f=jn(x);return Object.values(Li).filter(c=>c.canvas===f).pop()};function Wr(x,f,c){const p=Object.keys(x);for(const E of p){const I=+E;if(I>=f){const k=x[E];delete x[E],(c>0||I>f)&&(x[I+c]=k)}}}function so(x,f,c){return x.options.clip?x[c]:f[c]}class yo{static defaults=r.defaults;static instances=Li;static overrides=r.overrides;static registry=$i;static version="4.4.6";static getChart=Ar;static register(...f){$i.add(...f),_o()}static unregister(...f){$i.remove(...f),_o()}constructor(f,c){const p=this.config=new oi(c),E=jn(f),I=Ar(E);if(I)throw new Error("Canvas is already in use. Chart with ID '"+I.id+"' must be destroyed before the canvas with ID '"+I.canvas.id+"' can be reused.");const k=p.createResolver(p.chartOptionScopes(),this.getContext());this.platform=new(p.platform||Nr(E)),this.platform.updateConfig(p);const X=this.platform.acquireContext(E,k.aspectRatio),g=X&&X.canvas,w=g&&g.height,b=g&&g.width;this.id=r.uid(),this.ctx=X,this.canvas=g,this.width=b,this.height=w,this._options=k,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ir,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=r.debounce(O=>this.update(O),k.resizeDelay||0),this._dataChanges=[],Li[this.id]=this,X&&g?(q.listen(this,"complete",yi),q.listen(this,"progress",yr),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:f,maintainAspectRatio:c},width:p,height:E,_aspectRatio:I}=this;return r.isNullOrUndef(f)?c&&I?I:E?p/E:null:f}get data(){return this.config.data}set data(f){this.config.data=f}get options(){return this._options}set options(f){this.config.options=f}get registry(){return $i}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():r.retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return r.clearCanvas(this.canvas,this.ctx),this}stop(){return q.stop(this),this}resize(f,c){q.running(this)?this._resizeBeforeDraw={width:f,height:c}:this._resize(f,c)}_resize(f,c){const p=this.options,k=this.platform.getMaximumSize(this.canvas,f,c,p.maintainAspectRatio&&this.aspectRatio),X=p.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=k.width,this.height=k.height,this._aspectRatio=this.aspectRatio,r.retinaScale(this,X,!0)&&(this.notifyPlugins("resize",{size:k}),r.callback(p.onResize,[this,k],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){r.each(this.options.scales||{},(p,E)=>{p.id=E})}buildOrUpdateScales(){const f=this.options,c=f.scales,p=this.scales,E=Object.keys(p).reduce((k,X)=>(k[X]=!1,k),{});let I=[];c&&(I=I.concat(Object.keys(c).map(k=>{const X=c[k],g=Vi(k,X),w="r"===g,b="x"===g;return{options:X,dposition:w?"chartArea":b?"bottom":"left",dtype:w?"radialLinear":b?"category":"linear"}}))),r.each(I,k=>{const X=k.options,g=X.id,w=Vi(g,X),b=r.valueOrDefault(X.type,k.dtype);(void 0===X.position||or(X.position,w)!==or(k.dposition))&&(X.position=k.dposition),E[g]=!0;let O=null;g in p&&p[g].type===b?O=p[g]:(O=new($i.getScale(b))({id:g,type:b,ctx:this.ctx,chart:this}),p[O.id]=O),O.init(X,f)}),r.each(E,(k,X)=>{k||delete p[X]}),r.each(p,k=>{Vt.configure(this,k,k.options),Vt.addBox(this,k)})}_updateMetasets(){const f=this._metasets,c=this.data.datasets.length,p=f.length;if(f.sort((E,I)=>E.index-I.index),p>c){for(let E=c;E<p;++E)this._destroyDatasetMeta(E);f.splice(c,p-c)}this._sortedMetasets=f.slice(0).sort(Cr("order","index"))}_removeUnreferencedMetasets(){const{_metasets:f,data:{datasets:c}}=this;f.length>c.length&&delete this._stacks,f.forEach((p,E)=>{0===c.filter(I=>I===p._dataset).length&&this._destroyDatasetMeta(E)})}buildOrUpdateControllers(){const f=[],c=this.data.datasets;let p,E;for(this._removeUnreferencedMetasets(),p=0,E=c.length;p<E;p++){const I=c[p];let k=this.getDatasetMeta(p);const X=I.type||this.config.type;if(k.type&&k.type!==X&&(this._destroyDatasetMeta(p),k=this.getDatasetMeta(p)),k.type=X,k.indexAxis=I.indexAxis||Kr(X,this.options),k.order=I.order||0,k.index=p,k.label=""+I.label,k.visible=this.isDatasetVisible(p),k.controller)k.controller.updateIndex(p),k.controller.linkScales();else{const g=$i.getController(X),{datasetElementType:w,dataElementType:b}=r.defaults.datasets[X];Object.assign(g,{dataElementType:$i.getElement(b),datasetElementType:w&&$i.getElement(w)}),k.controller=new g(this,p),f.push(k.controller)}}return this._updateMetasets(),f}_resetElements(){r.each(this.data.datasets,(f,c)=>{this.getDatasetMeta(c).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(f){const c=this.config;c.update();const p=this._options=c.createResolver(c.chartOptionScopes(),this.getContext()),E=this._animationsDisabled=!p.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:f,cancelable:!0}))return;const I=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let k=0;for(let w=0,b=this.data.datasets.length;w<b;w++){const{controller:O}=this.getDatasetMeta(w),K=!E&&-1===I.indexOf(O);O.buildOrUpdateElements(K),k=Math.max(+O.getMaxOverflow(),k)}k=this._minPadding=p.layout.autoPadding?k:0,this._updateLayout(k),E||r.each(I,w=>{w.reset()}),this._updateDatasets(f),this.notifyPlugins("afterUpdate",{mode:f}),this._layers.sort(Cr("z","_idx"));const{_active:X,_lastEvent:g}=this;g?this._eventHandler(g,!0):X.length&&this._updateHoverStyles(X,X,!0),this.render()}_updateScales(){r.each(this.scales,f=>{Vt.removeBox(this,f)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const f=this.options,c=new Set(Object.keys(this._listeners)),p=new Set(f.events);(!r.setsEqual(c,p)||!!this._responsiveListeners!==f.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:f}=this,c=this._getUniformDataChanges()||[];for(const{method:p,start:E,count:I}of c)Wr(f,E,"_removeElements"===p?-I:I)}_getUniformDataChanges(){const f=this._dataChanges;if(!f||!f.length)return;this._dataChanges=[];const c=this.data.datasets.length,p=I=>new Set(f.filter(k=>k[0]===I).map((k,X)=>X+","+k.splice(1).join(","))),E=p(0);for(let I=1;I<c;I++)if(!r.setsEqual(E,p(I)))return;return Array.from(E).map(I=>I.split(",")).map(I=>({method:I[1],start:+I[2],count:+I[3]}))}_updateLayout(f){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Vt.update(this,this.width,this.height,f);const c=this.chartArea,p=c.width<=0||c.height<=0;this._layers=[],r.each(this.boxes,E=>{p&&"chartArea"===E.position||(E.configure&&E.configure(),this._layers.push(...E._layers()))},this),this._layers.forEach((E,I)=>{E._idx=I}),this.notifyPlugins("afterLayout")}_updateDatasets(f){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:f,cancelable:!0})){for(let c=0,p=this.data.datasets.length;c<p;++c)this.getDatasetMeta(c).controller.configure();for(let c=0,p=this.data.datasets.length;c<p;++c)this._updateDataset(c,r.isFunction(f)?f({datasetIndex:c}):f);this.notifyPlugins("afterDatasetsUpdate",{mode:f})}}_updateDataset(f,c){const p=this.getDatasetMeta(f),E={meta:p,index:f,mode:c,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",E)&&(p.controller._update(c),E.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",E))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(q.has(this)?this.attached&&!q.running(this)&&q.start(this):(this.draw(),yi({chart:this})))}draw(){let f;if(this._resizeBeforeDraw){const{width:p,height:E}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(p,E)}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const c=this._layers;for(f=0;f<c.length&&c[f].z<=0;++f)c[f].draw(this.chartArea);for(this._drawDatasets();f<c.length;++f)c[f].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(f){const c=this._sortedMetasets,p=[];let E,I;for(E=0,I=c.length;E<I;++E){const k=c[E];(!f||k.visible)&&p.push(k)}return p}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const f=this.getSortedVisibleDatasetMetas();for(let c=f.length-1;c>=0;--c)this._drawDataset(f[c]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(f){const c=this.ctx,p=f._clip,E=!p.disabled,I=function mo(x,f){const{xScale:c,yScale:p}=x;return c&&p?{left:so(c,f,"left"),right:so(c,f,"right"),top:so(p,f,"top"),bottom:so(p,f,"bottom")}:f}(f,this.chartArea),k={meta:f,index:f.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",k)&&(E&&r.clipArea(c,{left:!1===p.left?0:I.left-p.left,right:!1===p.right?this.width:I.right+p.right,top:!1===p.top?0:I.top-p.top,bottom:!1===p.bottom?this.height:I.bottom+p.bottom}),f.controller.draw(),E&&r.unclipArea(c),k.cancelable=!1,this.notifyPlugins("afterDatasetDraw",k))}isPointInArea(f){return r._isPointInArea(f,this.chartArea,this._minPadding)}getElementsAtEventForMode(f,c,p,E){const I=xt.modes[c];return"function"==typeof I?I(this,f,p,E):[]}getDatasetMeta(f){const c=this.data.datasets[f],p=this._metasets;let E=p.filter(I=>I&&I._dataset===c).pop();return E||(E={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:c&&c.order||0,index:f,_dataset:c,_parsed:[],_sorted:!1},p.push(E)),E}getContext(){return this.$context||(this.$context=r.createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(f){const c=this.data.datasets[f];if(!c)return!1;const p=this.getDatasetMeta(f);return"boolean"==typeof p.hidden?!p.hidden:!c.hidden}setDatasetVisibility(f,c){this.getDatasetMeta(f).hidden=!c}toggleDataVisibility(f){this._hiddenIndices[f]=!this._hiddenIndices[f]}getDataVisibility(f){return!this._hiddenIndices[f]}_updateVisibility(f,c,p){const E=p?"show":"hide",I=this.getDatasetMeta(f),k=I.controller._resolveAnimations(void 0,E);r.defined(c)?(I.data[c].hidden=!p,this.update()):(this.setDatasetVisibility(f,p),k.update(I,{visible:p}),this.update(X=>X.datasetIndex===f?E:void 0))}hide(f,c){this._updateVisibility(f,c,!1)}show(f,c){this._updateVisibility(f,c,!0)}_destroyDatasetMeta(f){const c=this._metasets[f];c&&c.controller&&c.controller._destroy(),delete this._metasets[f]}_stop(){let f,c;for(this.stop(),q.remove(this),f=0,c=this.data.datasets.length;f<c;++f)this._destroyDatasetMeta(f)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:f,ctx:c}=this;this._stop(),this.config.clearCache(),f&&(this.unbindEvents(),r.clearCanvas(f,c),this.platform.releaseContext(c),this.canvas=null,this.ctx=null),delete Li[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...f){return this.canvas.toDataURL(...f)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const f=this._listeners,c=this.platform,p=(I,k)=>{c.addEventListener(this,I,k),f[I]=k},E=(I,k,X)=>{I.offsetX=k,I.offsetY=X,this._eventHandler(I)};r.each(this.options.events,I=>p(I,E))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const f=this._responsiveListeners,c=this.platform,p=(g,w)=>{c.addEventListener(this,g,w),f[g]=w},E=(g,w)=>{f[g]&&(c.removeEventListener(this,g,w),delete f[g])},I=(g,w)=>{this.canvas&&this.resize(g,w)};let k;const X=()=>{E("attach",X),this.attached=!0,this.resize(),p("resize",I),p("detach",k)};k=()=>{this.attached=!1,E("resize",I),this._stop(),this._resize(0,0),p("attach",X)},c.isAttached(this.canvas)?X():k()}unbindEvents(){r.each(this._listeners,(f,c)=>{this.platform.removeEventListener(this,c,f)}),this._listeners={},r.each(this._responsiveListeners,(f,c)=>{this.platform.removeEventListener(this,c,f)}),this._responsiveListeners=void 0}updateHoverStyle(f,c,p){const E=p?"set":"remove";let I,k,X,g;for("dataset"===c&&(I=this.getDatasetMeta(f[0].datasetIndex),I.controller["_"+E+"DatasetHoverStyle"]()),X=0,g=f.length;X<g;++X){k=f[X];const w=k&&this.getDatasetMeta(k.datasetIndex).controller;w&&w[E+"HoverStyle"](k.element,k.datasetIndex,k.index)}}getActiveElements(){return this._active||[]}setActiveElements(f){const c=this._active||[],p=f.map(({datasetIndex:I,index:k})=>{const X=this.getDatasetMeta(I);if(!X)throw new Error("No dataset found at index "+I);return{datasetIndex:I,element:X.data[k],index:k}});!r._elementsEqual(p,c)&&(this._active=p,this._lastEvent=null,this._updateHoverStyles(p,c))}notifyPlugins(f,c,p){return this._plugins.notify(this,f,c,p)}isPluginEnabled(f){return 1===this._plugins._cache.filter(c=>c.plugin.id===f).length}_updateHoverStyles(f,c,p){const E=this.options.hover,I=(g,w)=>g.filter(b=>!w.some(O=>b.datasetIndex===O.datasetIndex&&b.index===O.index)),k=I(c,f),X=p?f:I(f,c);k.length&&this.updateHoverStyle(k,E.mode,!1),X.length&&E.mode&&this.updateHoverStyle(X,E.mode,!0)}_eventHandler(f,c){const p={event:f,replay:c,cancelable:!0,inChartArea:this.isPointInArea(f)},E=k=>(k.options.events||this.options.events).includes(f.native.type);if(!1===this.notifyPlugins("beforeEvent",p,E))return;const I=this._handleEvent(f,c,p.inChartArea);return p.cancelable=!1,this.notifyPlugins("afterEvent",p,E),(I||p.changed)&&this.render(),this}_handleEvent(f,c,p){const{_active:E=[],options:I}=this,X=this._getActiveElements(f,E,p,c),g=r._isClickEvent(f),w=function pr(x,f,c,p){return c&&"mouseout"!==x.type?p?f:x:null}(f,this._lastEvent,p,g);p&&(this._lastEvent=null,r.callback(I.onHover,[f,X,this],this),g&&r.callback(I.onClick,[f,X,this],this));const b=!r._elementsEqual(X,E);return(b||c)&&(this._active=X,this._updateHoverStyles(X,E,c)),this._lastEvent=w,b}_getActiveElements(f,c,p,E){if("mouseout"===f.type)return[];if(!p)return c;const I=this.options.hover;return this.getElementsAtEventForMode(f,I.mode,I,E)}}function _o(){return r.each(yo.instances,x=>x._plugins.invalidate())}function Dr(x,f,c,p){return{x:c+x*Math.cos(f),y:p+x*Math.sin(f)}}function co(x,f,c,p,E,I){const{x:k,y:X,startAngle:g,pixelMargin:w,innerRadius:b}=f,O=Math.max(f.outerRadius+p+c-w,0),K=b>0?b+p+c+w:0;let re=0;const ye=E-g;if(p){const ns=((b>0?b-p:0)+(O>0?O-p:0))/2;re=(ye-(0!==ns?ye*ns/(ns+p):ye))/2}const gt=(ye-Math.max(.001,ye*O-c/r.PI)/O)/2,Xt=g+gt+re,Kt=E-gt-re,{outerStart:Dn,outerEnd:Un,innerStart:An,innerEnd:$n}=function bo(x,f,c,p){const E=function Ti(x){return r._readValueToProps(x,["outerStart","outerEnd","innerStart","innerEnd"])}(x.options.borderRadius),I=(c-f)/2,k=Math.min(I,p*f/2),X=g=>{const w=(c-Math.min(I,g))*p/2;return r._limitValue(g,0,Math.min(I,w))};return{outerStart:X(E.outerStart),outerEnd:X(E.outerEnd),innerStart:r._limitValue(E.innerStart,0,k),innerEnd:r._limitValue(E.innerEnd,0,k)}}(f,K,O,Kt-Xt),Ci=O-Dn,ri=O-Un,Yi=Xt+Dn/Ci,Tr=Kt-Un/ri,Hr=K+An,eo=K+$n,ss=Xt+An/Hr,ps=Kt-$n/eo;if(x.beginPath(),I){const Co=(Yi+Tr)/2;if(x.arc(k,X,O,Yi,Co),x.arc(k,X,O,Co,Tr),Un>0){const ls=Dr(ri,Tr,k,X);x.arc(ls.x,ls.y,Un,Tr,Kt+r.HALF_PI)}const Wo=Dr(eo,Kt,k,X);if(x.lineTo(Wo.x,Wo.y),$n>0){const ls=Dr(eo,ps,k,X);x.arc(ls.x,ls.y,$n,Kt+r.HALF_PI,ps+Math.PI)}const ns=(Kt-$n/K+(Xt+An/K))/2;if(x.arc(k,X,K,Kt-$n/K,ns,!0),x.arc(k,X,K,ns,Xt+An/K,!0),An>0){const ls=Dr(Hr,ss,k,X);x.arc(ls.x,ls.y,An,ss+Math.PI,Xt-r.HALF_PI)}const vs=Dr(Ci,Xt,k,X);if(x.lineTo(vs.x,vs.y),Dn>0){const ls=Dr(Ci,Yi,k,X);x.arc(ls.x,ls.y,Dn,Xt-r.HALF_PI,Yi)}}else{x.moveTo(k,X);const Co=Math.cos(Yi)*O+k,Wo=Math.sin(Yi)*O+X;x.lineTo(Co,Wo);const ns=Math.cos(Tr)*O+k,vs=Math.sin(Tr)*O+X;x.lineTo(ns,vs)}x.closePath()}class Lo extends Ki{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:f=>"borderDash"!==f};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(f){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,f&&Object.assign(this,f)}inRange(f,c,p){const E=this.getProps(["x","y"],p),{angle:I,distance:k}=r.getAngleFromPoint(E,{x:f,y:c}),{startAngle:X,endAngle:g,innerRadius:w,outerRadius:b,circumference:O}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],p),K=(this.options.spacing+this.options.borderWidth)/2,re=r.valueOrDefault(O,g-X),ye=r._angleBetween(I,X,g)&&X!==g,et=re>=r.TAU||ye,gt=r._isBetween(k,w+K,b+K);return et&&gt}getCenterPoint(f){const{x:c,y:p,startAngle:E,endAngle:I,innerRadius:k,outerRadius:X}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],f),{offset:g,spacing:w}=this.options,b=(E+I)/2,O=(k+X+w+g)/2;return{x:c+Math.cos(b)*O,y:p+Math.sin(b)*O}}tooltipPosition(f){return this.getCenterPoint(f)}draw(f){const{options:c,circumference:p}=this,E=(c.offset||0)/4,I=(c.spacing||0)/2,k=c.circular;if(this.pixelMargin="inner"===c.borderAlign?.33:0,this.fullCircles=p>r.TAU?Math.floor(p/r.TAU):0,0===p||this.innerRadius<0||this.outerRadius<0)return;f.save();const X=(this.startAngle+this.endAngle)/2;f.translate(Math.cos(X)*E,Math.sin(X)*E);const w=E*(1-Math.sin(Math.min(r.PI,p||0)));f.fillStyle=c.backgroundColor,f.strokeStyle=c.borderColor,function Yr(x,f,c,p,E){const{fullCircles:I,startAngle:k,circumference:X}=f;let g=f.endAngle;if(I){co(x,f,c,p,g,E);for(let w=0;w<I;++w)x.fill();isNaN(X)||(g=k+(X%r.TAU||r.TAU))}co(x,f,c,p,g,E),x.fill()}(f,this,w,I,k),function Ao(x,f,c,p,E){const{fullCircles:I,startAngle:k,circumference:X,options:g}=f,{borderWidth:w,borderJoinStyle:b,borderDash:O,borderDashOffset:K}=g,re="inner"===g.borderAlign;if(!w)return;x.setLineDash(O||[]),x.lineDashOffset=K,re?(x.lineWidth=2*w,x.lineJoin=b||"round"):(x.lineWidth=w,x.lineJoin=b||"bevel");let ye=f.endAngle;if(I){co(x,f,c,p,ye,E);for(let et=0;et<I;++et)x.stroke();isNaN(X)||(ye=k+(X%r.TAU||r.TAU))}re&&function Jr(x,f,c){const{startAngle:p,pixelMargin:E,x:I,y:k,outerRadius:X,innerRadius:g}=f;let w=E/X;x.beginPath(),x.arc(I,k,X,p-w,c+w),g>E?(w=E/g,x.arc(I,k,g,c+w,p-w,!0)):x.arc(I,k,E,c+r.HALF_PI,p-r.HALF_PI),x.closePath(),x.clip()}(x,f,ye),I||(co(x,f,c,p,ye,E),x.stroke())}(f,this,w,I,k),f.restore()}}function Pr(x,f,c=f){x.lineCap=r.valueOrDefault(c.borderCapStyle,f.borderCapStyle),x.setLineDash(r.valueOrDefault(c.borderDash,f.borderDash)),x.lineDashOffset=r.valueOrDefault(c.borderDashOffset,f.borderDashOffset),x.lineJoin=r.valueOrDefault(c.borderJoinStyle,f.borderJoinStyle),x.lineWidth=r.valueOrDefault(c.borderWidth,f.borderWidth),x.strokeStyle=r.valueOrDefault(c.borderColor,f.borderColor)}function zo(x,f,c){x.lineTo(c.x,c.y)}function Ho(x,f,c={}){const p=x.length,{start:E=0,end:I=p-1}=c,{start:k,end:X}=f,g=Math.max(E,k),w=Math.min(I,X);return{count:p,start:g,loop:f.loop,ilen:w<g&&!(E<k&&I<k||E>X&&I>X)?p+w-g:w-g}}function Uo(x,f,c,p){const{points:E,options:I}=f,{count:k,start:X,loop:g,ilen:w}=Ho(E,c,p),b=function Bo(x){return x.stepped?r._steppedLineTo:x.tension||"monotone"===x.cubicInterpolationMode?r._bezierCurveTo:zo}(I);let re,ye,et,{move:O=!0,reverse:K}=p||{};for(re=0;re<=w;++re)ye=E[(X+(K?w-re:re))%k],!ye.skip&&(O?(x.moveTo(ye.x,ye.y),O=!1):b(x,et,ye,K,I.stepped),et=ye);return g&&(ye=E[(X+(K?w:0))%k],b(x,et,ye,K,I.stepped)),!!g}function Xr(x,f,c,p){const E=f.points,{count:I,start:k,ilen:X}=Ho(E,c,p),{move:g=!0,reverse:w}=p||{};let K,re,ye,et,gt,Xt,b=0,O=0;const Kt=Un=>(k+(w?X-Un:Un))%I,Dn=()=>{et!==gt&&(x.lineTo(b,gt),x.lineTo(b,et),x.lineTo(b,Xt))};for(g&&(re=E[Kt(0)],x.moveTo(re.x,re.y)),K=0;K<=X;++K){if(re=E[Kt(K)],re.skip)continue;const Un=re.x,An=re.y,$n=0|Un;$n===ye?(An<et?et=An:An>gt&&(gt=An),b=(O*b+Un)/++O):(Dn(),x.lineTo(Un,An),ye=$n,O=0,et=gt=An),Xt=An}Dn()}function Fo(x){const f=x.options;return x._decimated||x._loop||f.tension||"monotone"===f.cubicInterpolationMode||f.stepped||f.borderDash&&f.borderDash.length?Uo:Xr}const Go="function"==typeof Path2D;let z=(()=>class x extends Ki{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:c=>"borderDash"!==c&&"fill"!==c};constructor(c){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,c&&Object.assign(this,c)}updateControlPoints(c,p){const E=this.options;!E.tension&&"monotone"!==E.cubicInterpolationMode||E.stepped||this._pointsUpdated||(r._updateBezierControlPoints(this._points,E,c,E.spanGaps?this._loop:this._fullLoop,p),this._pointsUpdated=!0)}set points(c){this._points=c,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=r._computeSegments(this,this.options.segment))}first(){const c=this.segments;return c.length&&this.points[c[0].start]}last(){const c=this.segments,E=c.length;return E&&this.points[c[E-1].end]}interpolate(c,p){const E=this.options,I=c[p],k=this.points,X=r._boundSegments(this,{property:p,start:I,end:I});if(!X.length)return;const g=[],w=function $o(x){return x.stepped?r._steppedInterpolation:x.tension||"monotone"===x.cubicInterpolationMode?r._bezierInterpolation:r._pointInLine}(E);let b,O;for(b=0,O=X.length;b<O;++b){const{start:K,end:re}=X[b],ye=k[K],et=k[re];if(ye===et){g.push(ye);continue}const Xt=w(ye,et,Math.abs((I-ye[p])/(et[p]-ye[p])),E.stepped);Xt[p]=c[p],g.push(Xt)}return 1===g.length?g[0]:g}pathSegment(c,p,E){return Fo(this)(c,this,p,E)}path(c,p,E){const I=this.segments,k=Fo(this);let X=this._loop;p=p||0,E=E||this.points.length-p;for(const g of I)X&=k(c,this,g,{start:p,end:p+E-1});return!!X}draw(c,p,E,I){(this.points||[]).length&&(this.options||{}).borderWidth&&(c.save(),function qi(x,f,c,p){Go&&!f.options.segment?function Zr(x,f,c,p){let E=f._path;E||(E=f._path=new Path2D,f.path(E,c,p)&&E.closePath()),Pr(x,f.options),x.stroke(E)}(x,f,c,p):function Ko(x,f,c,p){const{segments:E,options:I}=f,k=Fo(f);for(const X of E)Pr(x,I,X.style),x.beginPath(),k(x,f,X,{start:c,end:c+p-1})&&x.closePath(),x.stroke()}(x,f,c,p)}(c,this,E,I),c.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}})();function we(x,f,c,p){const E=x.options,{[c]:I}=x.getProps([c],p);return Math.abs(f-I)<E.radius+E.hitRadius}let Pe=(()=>class x extends Ki{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(c){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,c&&Object.assign(this,c)}inRange(c,p,E){const I=this.options,{x:k,y:X}=this.getProps(["x","y"],E);return Math.pow(c-k,2)+Math.pow(p-X,2)<Math.pow(I.hitRadius+I.radius,2)}inXRange(c,p){return we(this,c,"x",p)}inYRange(c,p){return we(this,c,"y",p)}getCenterPoint(c){const{x:p,y:E}=this.getProps(["x","y"],c);return{x:p,y:E}}size(c){let p=(c=c||this.options||{}).radius||0;return p=Math.max(p,p&&c.hoverRadius||0),2*(p+(p&&c.borderWidth||0))}draw(c,p){const E=this.options;this.skip||E.radius<.1||!r._isPointInArea(this,p,this.size(E)/2)||(c.strokeStyle=E.borderColor,c.lineWidth=E.borderWidth,c.fillStyle=E.backgroundColor,r.drawPoint(c,E,this.x,this.y))}getRange(){const c=this.options||{};return c.radius+c.hitRadius}})();function Qe(x,f){const{x:c,y:p,base:E,width:I,height:k}=x.getProps(["x","y","base","width","height"],f);let X,g,w,b,O;return x.horizontal?(O=k/2,X=Math.min(c,E),g=Math.max(c,E),w=p-O,b=p+O):(O=I/2,X=c-O,g=c+O,w=Math.min(p,E),b=Math.max(p,E)),{left:X,top:w,right:g,bottom:b}}function ut(x,f,c,p){return x?0:r._limitValue(f,c,p)}function en(x,f,c,p){const E=null===f,I=null===c,X=x&&!(E&&I)&&Qe(x,p);return X&&(E||r._isBetween(f,X.left,X.right))&&(I||r._isBetween(c,X.top,X.bottom))}function Fn(x,f){x.rect(f.x,f.y,f.w,f.h)}function xi(x,f,c={}){const p=x.x!==c.x?-f:0,E=x.y!==c.y?-f:0;return{x:x.x+p,y:x.y+E,w:x.w+((x.x+x.w!==c.x+c.w?f:0)-p),h:x.h+((x.y+x.h!==c.y+c.h?f:0)-E),radius:x.radius}}class hi extends Ki{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(f){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,f&&Object.assign(this,f)}draw(f){const{inflateAmount:c,options:{borderColor:p,backgroundColor:E}}=this,{inner:I,outer:k}=function jt(x){const f=Qe(x),c=f.right-f.left,p=f.bottom-f.top,E=function Dt(x,f,c){const E=x.borderSkipped,I=r.toTRBL(x.options.borderWidth);return{t:ut(E.top,I.top,0,c),r:ut(E.right,I.right,0,f),b:ut(E.bottom,I.bottom,0,c),l:ut(E.left,I.left,0,f)}}(x,c/2,p/2),I=function Ft(x,f,c){const{enableBorderRadius:p}=x.getProps(["enableBorderRadius"]),E=x.options.borderRadius,I=r.toTRBLCorners(E),k=Math.min(f,c),X=x.borderSkipped,g=p||r.isObject(E);return{topLeft:ut(!g||X.top||X.left,I.topLeft,0,k),topRight:ut(!g||X.top||X.right,I.topRight,0,k),bottomLeft:ut(!g||X.bottom||X.left,I.bottomLeft,0,k),bottomRight:ut(!g||X.bottom||X.right,I.bottomRight,0,k)}}(x,c/2,p/2);return{outer:{x:f.left,y:f.top,w:c,h:p,radius:I},inner:{x:f.left+E.l,y:f.top+E.t,w:c-E.l-E.r,h:p-E.t-E.b,radius:{topLeft:Math.max(0,I.topLeft-Math.max(E.t,E.l)),topRight:Math.max(0,I.topRight-Math.max(E.t,E.r)),bottomLeft:Math.max(0,I.bottomLeft-Math.max(E.b,E.l)),bottomRight:Math.max(0,I.bottomRight-Math.max(E.b,E.r))}}}}(this),X=function Mn(x){return x.topLeft||x.topRight||x.bottomLeft||x.bottomRight}(k.radius)?r.addRoundedRectPath:Fn;f.save(),(k.w!==I.w||k.h!==I.h)&&(f.beginPath(),X(f,xi(k,c,I)),f.clip(),X(f,xi(I,-c,k)),f.fillStyle=p,f.fill("evenodd")),f.beginPath(),X(f,xi(I,c)),f.fillStyle=E,f.fill(),f.restore()}inRange(f,c,p){return en(this,f,c,p)}inXRange(f,c){return en(this,f,null,c)}inYRange(f,c){return en(this,null,f,c)}getCenterPoint(f){const{x:c,y:p,base:E,horizontal:I}=this.getProps(["x","y","base","horizontal"],f);return{x:I?(c+E)/2:c,y:I?p:(p+E)/2}}getRange(f){return"x"===f?this.width/2:this.height/2}}var Zn=Object.freeze({__proto__:null,ArcElement:Lo,BarElement:hi,LineElement:z,PointElement:Pe});const ve=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],fe=ve.map(x=>x.replace("rgb(","rgba(").replace(")",", 0.5)"));function M(x){return ve[x%ve.length]}function N(x){return fe[x%fe.length]}function ee(x){let f;for(f in x)if(x[f].borderColor||x[f].backgroundColor)return!0;return!1}var Bt={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(x,f,c){if(!c.enabled)return;const{data:{datasets:p},options:E}=x.config,{elements:I}=E,k=ee(p)||function Xe(x){return x&&(x.borderColor||x.backgroundColor)}(E)||I&&ee(I)||function Rt(){return"rgba(0,0,0,0.1)"!==r.defaults.borderColor||"rgba(0,0,0,0.1)"!==r.defaults.backgroundColor}();if(!c.forceOverride&&k)return;const X=function V(x){let f=0;return(c,p)=>{const E=x.getDatasetMeta(p).controller;E instanceof Et?f=function T(x,f){return x.backgroundColor=x.data.map(()=>M(f++)),f}(c,f):E instanceof tn?f=function _(x,f){return x.backgroundColor=x.data.map(()=>N(f++)),f}(c,f):E&&(f=function h(x,f){return x.borderColor=M(f),x.backgroundColor=N(f),++f}(c,f))}}(x);p.forEach(X)}};function fi(x){if(x._decimated){const f=x._data;delete x._decimated,delete x._data,Object.defineProperty(x,"data",{configurable:!0,enumerable:!0,writable:!0,value:f})}}function Ei(x){x.data.datasets.forEach(f=>{fi(f)})}var nr={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(x,f,c)=>{if(!c.enabled)return void Ei(x);const p=x.width;x.data.datasets.forEach((E,I)=>{const{_data:k,indexAxis:X}=E,g=x.getDatasetMeta(I),w=k||E.data;if("y"===r.resolve([X,x.options.indexAxis])||!g.controller.supportsDecimation)return;const b=x.scales[g.xAxisID];if("linear"!==b.type&&"time"!==b.type||x.options.parsing)return;let ye,{start:O,count:K}=function mi(x,f){const c=f.length;let E,p=0;const{iScale:I}=x,{min:k,max:X,minDefined:g,maxDefined:w}=I.getUserBounds();return g&&(p=r._limitValue(r._lookupByKey(f,I.axis,k).lo,0,c-1)),E=w?r._limitValue(r._lookupByKey(f,I.axis,X).hi+1,p,c)-p:c-p,{start:p,count:E}}(g,w);if(K<=(c.threshold||4*p))fi(E);else{switch(r.isNullOrUndef(k)&&(E._data=w,delete E.data,Object.defineProperty(E,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(et){this._data=et}})),c.algorithm){case"lttb":ye=function Jt(x,f,c,p,E){const I=E.samples||p;if(I>=c)return x.slice(f,f+c);const k=[],X=(c-2)/(I-2);let g=0;const w=f+c-1;let O,K,re,ye,et,b=f;for(k[g++]=x[b],O=0;O<I-2;O++){let Kt,gt=0,Xt=0;const Dn=Math.floor((O+1)*X)+1+f,Un=Math.min(Math.floor((O+2)*X)+1,c)+f,An=Un-Dn;for(Kt=Dn;Kt<Un;Kt++)gt+=x[Kt].x,Xt+=x[Kt].y;gt/=An,Xt/=An;const $n=Math.floor(O*X)+1+f,Ci=Math.min(Math.floor((O+1)*X)+1,c)+f,{x:ri,y:Yi}=x[b];for(re=ye=-1,Kt=$n;Kt<Ci;Kt++)ye=.5*Math.abs((ri-gt)*(x[Kt].y-Yi)-(ri-x[Kt].x)*(Xt-Yi)),ye>re&&(re=ye,K=x[Kt],et=Kt);k[g++]=K,b=et}return k[g++]=x[w],k}(w,O,K,p,c);break;case"min-max":ye=function zn(x,f,c,p){let k,X,g,w,b,O,K,re,ye,et,E=0,I=0;const gt=[],Kt=x[f].x,Un=x[f+c-1].x-Kt;for(k=f;k<f+c;++k){X=x[k],g=(X.x-Kt)/Un*p,w=X.y;const An=0|g;if(An===b)w<ye?(ye=w,O=k):w>et&&(et=w,K=k),E=(I*E+X.x)/++I;else{const $n=k-1;if(!r.isNullOrUndef(O)&&!r.isNullOrUndef(K)){const Ci=Math.min(O,K),ri=Math.max(O,K);Ci!==re&&Ci!==$n&&gt.push({...x[Ci],x:E}),ri!==re&&ri!==$n&&gt.push({...x[ri],x:E})}k>0&&$n!==re&&gt.push(x[$n]),gt.push(X),b=An,I=0,ye=et=w,O=K=re=k}}return gt}(w,O,K,p);break;default:throw new Error(`Unsupported decimation algorithm '${c.algorithm}'`)}E._decimated=ye}})},destroy(x){Ei(x)}};function vo(x,f,c,p){if(p)return;let E=f[x],I=c[x];return"angle"===x&&(E=r._normalizeAngle(E),I=r._normalizeAngle(I)),{property:x,start:E,end:I}}function gr(x,f,c){for(;f>x;f--){const p=c[f];if(!isNaN(p.x)&&!isNaN(p.y))break}return f}function So(x,f,c,p){return x&&f?p(x[c],f[c]):x?x[c]:f?f[c]:0}function qo(x,f){let c=[],p=!1;return r.isArray(x)?(p=!0,c=x):c=function io(x,f){const{x:c=null,y:p=null}=x||{},E=f.points,I=[];return f.segments.forEach(({start:k,end:X})=>{X=gr(k,X,E);const g=E[k],w=E[X];null!==p?(I.push({x:g.x,y:p}),I.push({x:w.x,y:p})):null!==c&&(I.push({x:c,y:g.y}),I.push({x:c,y:w.y}))}),I}(x,f),c.length?new z({points:c,options:{tension:0},_loop:p,_fullLoop:p}):null}function ko(x){return x&&!1!==x.fill}function To(x,f,c){let E=x[f].fill;const I=[f];let k;if(!c)return E;for(;!1!==E&&-1===I.indexOf(E);){if(!r.isNumberFinite(E))return E;if(k=x[E],!k)return!1;if(k.visible)return E;I.push(E),E=k.fill}return!1}function ds(x,f,c){const p=function is(x){const f=x.options,c=f.fill;let p=r.valueOrDefault(c&&c.target,c);return void 0===p&&(p=!!f.backgroundColor),!1!==p&&null!==p&&(!0===p?"origin":p)}(x);if(r.isObject(p))return!isNaN(p.value)&&p;let E=parseFloat(p);return r.isNumberFinite(E)&&Math.floor(E)===E?function Jo(x,f,c,p){return("-"===x||"+"===x)&&(c=f+c),!(c===f||c<0||c>=p)&&c}(p[0],f,E,c):["origin","start","end","stack","shape"].indexOf(p)>=0&&p}function As(x,f,c){const p=[];for(let E=0;E<c.length;E++){const I=c[E],{first:k,last:X,point:g}=ms(I,f,"x");if(!(!g||k&&X))if(k)p.unshift(g);else if(x.push(g),!X)break}x.push(...p)}function ms(x,f,c){const p=x.interpolate(f,c);if(!p)return{};const E=p[c],I=x.segments,k=x.points;let X=!1,g=!1;for(let w=0;w<I.length;w++){const b=I[w],O=k[b.start][c],K=k[b.end][c];if(r._isBetween(E,O,K)){X=E===O,g=E===K;break}}return{first:X,last:g,point:p}}class Os{constructor(f){this.x=f.x,this.y=f.y,this.radius=f.radius}pathSegment(f,c,p){const{x:E,y:I,radius:k}=this;return f.arc(E,I,k,(c=c||{start:0,end:r.TAU}).end,c.start,!0),!p.bounds}interpolate(f){const{x:c,y:p,radius:E}=this,I=f.angle;return{x:c+Math.cos(I)*E,y:p+Math.sin(I)*E,angle:I}}}function es(x,f,c){const p=function rs(x){const{chart:f,fill:c,line:p}=x;if(r.isNumberFinite(c))return function Qo(x,f){const c=x.getDatasetMeta(f);return c&&x.isDatasetVisible(f)?c.dataset:null}(f,c);if("stack"===c)return function Is(x){const{scale:f,index:c,line:p}=x,E=[],I=p.segments,k=p.points,X=function Rs(x,f){const c=[],p=x.getMatchingVisibleMetas("line");for(let E=0;E<p.length;E++){const I=p[E];if(I.index===f)break;I.hidden||c.unshift(I.dataset)}return c}(f,c);X.push(qo({x:null,y:f.bottom},p));for(let g=0;g<I.length;g++){const w=I[g];for(let b=w.start;b<=w.end;b++)As(E,k[b],X)}return new z({points:E,options:{}})}(x);if("shape"===c)return!0;const E=function Ls(x){return(x.scale||{}).getPointPositionForValue?function Fs(x){const{scale:f,fill:c}=x,p=f.options,E=f.getLabels().length,I=p.reverse?f.max:f.min,k=function Ms(x,f,c){let p;return p="start"===x?c:"end"===x?f.options.reverse?f.min:f.max:r.isObject(x)?x.value:f.getBaseValue(),p}(c,f,I),X=[];if(p.grid.circular){const g=f.getPointPositionForValue(0,I);return new Os({x:g.x,y:g.y,radius:f.getDistanceFromCenterForValue(k)})}for(let g=0;g<E;++g)X.push(f.getPointPositionForValue(g,k));return X}(x):function Es(x){const{scale:f={},fill:c}=x,p=function as(x,f){let c=null;return"start"===x?c=f.bottom:"end"===x?c=f.top:r.isObject(x)?c=f.getPixelForValue(x.value):f.getBasePixel&&(c=f.getBasePixel()),c}(c,f);if(r.isNumberFinite(p)){const E=f.isHorizontal();return{x:E?p:null,y:E?null:p}}return null}(x)}(x);return E instanceof Os?E:qo(E,p)}(f),{line:E,scale:I,axis:k}=f,X=E.options,g=X.fill,w=X.backgroundColor,{above:b=w,below:O=w}=g||{};p&&E.points.length&&(r.clipArea(x,c),function Hs(x,f){const{line:c,target:p,above:E,below:I,area:k,scale:X}=f,g=c._loop?"angle":f.axis;x.save(),"x"===g&&I!==E&&(Ts(x,p,k.top),Yo(x,{line:c,target:p,color:E,scale:X,property:g}),x.restore(),x.save(),Ts(x,p,k.bottom)),Yo(x,{line:c,target:p,color:I,scale:X,property:g}),x.restore()}(x,{line:E,target:p,above:b,below:O,area:c,scale:I,axis:k}),r.unclipArea(x))}function Ts(x,f,c){const{segments:p,points:E}=f;let I=!0,k=!1;x.beginPath();for(const X of p){const{start:g,end:w}=X,b=E[g],O=E[gr(g,w,E)];I?(x.moveTo(b.x,b.y),I=!1):(x.lineTo(b.x,c),x.lineTo(b.x,b.y)),k=!!f.pathSegment(x,X,{move:k}),k?x.closePath():x.lineTo(O.x,c)}x.lineTo(f.first().x,c),x.closePath(),x.clip()}function Yo(x,f){const{line:c,target:p,property:E,color:I,scale:k}=f,X=function li(x,f,c){const p=x.segments,E=x.points,I=f.points,k=[];for(const X of p){let{start:g,end:w}=X;w=gr(g,w,E);const b=vo(c,E[g],E[w],X.loop);if(!f.segments){k.push({source:X,target:b,start:E[g],end:E[w]});continue}const O=r._boundSegments(f,b);for(const K of O){const re=vo(c,I[K.start],I[K.end],K.loop),ye=r._boundSegment(X,E,re);for(const et of ye)k.push({source:et,target:K,start:{[c]:So(b,re,"start",Math.max)},end:{[c]:So(b,re,"end",Math.min)}})}}return k}(c,p,E);for(const{source:g,target:w,start:b,end:O}of X){const{style:{backgroundColor:K=I}={}}=g,re=!0!==p;x.save(),x.fillStyle=K,cs(x,k,re&&vo(E,b,O)),x.beginPath();const ye=!!c.pathSegment(x,g);let et;if(re){ye?x.closePath():Mo(x,p,O,E);const gt=!!p.pathSegment(x,w,{move:ye,reverse:!0});et=ye&&gt,et||Mo(x,p,b,E)}x.closePath(),x.fill(et?"evenodd":"nonzero"),x.restore()}}function cs(x,f,c){const{top:p,bottom:E}=f.chart.chartArea,{property:I,start:k,end:X}=c||{};"x"===I&&(x.beginPath(),x.rect(k,p,X-k,E-p),x.clip())}function Mo(x,f,c,p){const E=f.interpolate(c,p);E&&x.lineTo(E.x,E.y)}var js={id:"filler",afterDatasetsUpdate(x,f,c){const p=(x.data.datasets||[]).length,E=[];let I,k,X,g;for(k=0;k<p;++k)I=x.getDatasetMeta(k),X=I.dataset,g=null,X&&X.options&&X instanceof z&&(g={visible:x.isDatasetVisible(k),index:k,fill:ds(X,k,p),chart:x,axis:I.controller.options.indexAxis,scale:I.vScale,line:X}),I.$filler=g,E.push(g);for(k=0;k<p;++k)g=E[k],g&&!1!==g.fill&&(g.fill=To(E,k,c.propagate))},beforeDraw(x,f,c){const p="beforeDraw"===c.drawTime,E=x.getSortedVisibleDatasetMetas(),I=x.chartArea;for(let k=E.length-1;k>=0;--k){const X=E[k].$filler;X&&(X.line.updateControlPoints(I,X.axis),p&&X.fill&&es(x.ctx,X,I))}},beforeDatasetsDraw(x,f,c){if("beforeDatasetsDraw"!==c.drawTime)return;const p=x.getSortedVisibleDatasetMetas();for(let E=p.length-1;E>=0;--E){const I=p[E].$filler;ko(I)&&es(x.ctx,I,x.chartArea)}},beforeDatasetDraw(x,f,c){const p=f.meta.$filler;!ko(p)||"beforeDatasetDraw"!==c.drawTime||es(x.ctx,p,x.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ie=(x,f)=>{let{boxHeight:c=f,boxWidth:p=f}=x;return x.usePointStyle&&(c=Math.min(c,f),p=x.pointStyleWidth||Math.min(p,f)),{boxWidth:p,boxHeight:c,itemHeight:Math.max(f,c)}};class m extends Ki{constructor(f){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=f.chart,this.options=f.options,this.ctx=f.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(f,c,p){this.maxWidth=f,this.maxHeight=c,this._margins=p,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const f=this.options.labels||{};let c=r.callback(f.generateLabels,[this.chart],this)||[];f.filter&&(c=c.filter(p=>f.filter(p,this.chart.data))),f.sort&&(c=c.sort((p,E)=>f.sort(p,E,this.chart.data))),this.options.reverse&&c.reverse(),this.legendItems=c}fit(){const{options:f,ctx:c}=this;if(!f.display)return void(this.width=this.height=0);const p=f.labels,E=r.toFont(p.font),I=E.size,k=this._computeTitleHeight(),{boxWidth:X,itemHeight:g}=ie(p,I);let w,b;c.font=E.string,this.isHorizontal()?(w=this.maxWidth,b=this._fitRows(k,I,X,g)+10):(b=this.maxHeight,w=this._fitCols(k,E,X,g)+10),this.width=Math.min(w,f.maxWidth||this.maxWidth),this.height=Math.min(b,f.maxHeight||this.maxHeight)}_fitRows(f,c,p,E){const{ctx:I,maxWidth:k,options:{labels:{padding:X}}}=this,g=this.legendHitBoxes=[],w=this.lineWidths=[0],b=E+X;let O=f;I.textAlign="left",I.textBaseline="middle";let K=-1,re=-b;return this.legendItems.forEach((ye,et)=>{const gt=p+c/2+I.measureText(ye.text).width;(0===et||w[w.length-1]+gt+2*X>k)&&(O+=b,w[w.length-(et>0?0:1)]=0,re+=b,K++),g[et]={left:0,top:re,row:K,width:gt,height:E},w[w.length-1]+=gt+X}),O}_fitCols(f,c,p,E){const{ctx:I,maxHeight:k,options:{labels:{padding:X}}}=this,g=this.legendHitBoxes=[],w=this.columnSizes=[],b=k-f;let O=X,K=0,re=0,ye=0,et=0;return this.legendItems.forEach((gt,Xt)=>{const{itemWidth:Kt,itemHeight:Dn}=function P(x,f,c,p,E){const I=function W(x,f,c,p){let E=x.text;return E&&"string"!=typeof E&&(E=E.reduce((I,k)=>I.length>k.length?I:k)),f+c.size/2+p.measureText(E).width}(p,x,f,c),k=function me(x,f,c){let p=x;return"string"!=typeof f.text&&(p=Ne(f,c)),p}(E,p,f.lineHeight);return{itemWidth:I,itemHeight:k}}(p,c,I,gt,E);Xt>0&&re+Dn+2*X>b&&(O+=K+X,w.push({width:K,height:re}),ye+=K+X,et++,K=re=0),g[Xt]={left:ye,top:re,col:et,width:Kt,height:Dn},K=Math.max(K,Kt),re+=Dn+X}),O+=K,w.push({width:K,height:re}),O}adjustHitBoxes(){if(!this.options.display)return;const f=this._computeTitleHeight(),{legendHitBoxes:c,options:{align:p,labels:{padding:E},rtl:I}}=this,k=r.getRtlAdapter(I,this.left,this.width);if(this.isHorizontal()){let X=0,g=r._alignStartEnd(p,this.left+E,this.right-this.lineWidths[X]);for(const w of c)X!==w.row&&(X=w.row,g=r._alignStartEnd(p,this.left+E,this.right-this.lineWidths[X])),w.top+=this.top+f+E,w.left=k.leftForLtr(k.x(g),w.width),g+=w.width+E}else{let X=0,g=r._alignStartEnd(p,this.top+f+E,this.bottom-this.columnSizes[X].height);for(const w of c)w.col!==X&&(X=w.col,g=r._alignStartEnd(p,this.top+f+E,this.bottom-this.columnSizes[X].height)),w.top=g,w.left+=this.left+E,w.left=k.leftForLtr(k.x(w.left),w.width),g+=w.height+E}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const f=this.ctx;r.clipArea(f,this),this._draw(),r.unclipArea(f)}}_draw(){const{options:f,columnSizes:c,lineWidths:p,ctx:E}=this,{align:I,labels:k}=f,X=r.defaults.color,g=r.getRtlAdapter(f.rtl,this.left,this.width),w=r.toFont(k.font),{padding:b}=k,O=w.size,K=O/2;let re;this.drawTitle(),E.textAlign=g.textAlign("left"),E.textBaseline="middle",E.lineWidth=.5,E.font=w.string;const{boxWidth:ye,boxHeight:et,itemHeight:gt}=ie(k,O),Dn=this.isHorizontal(),Un=this._computeTitleHeight();re=Dn?{x:r._alignStartEnd(I,this.left+b,this.right-p[0]),y:this.top+b+Un,line:0}:{x:this.left+b,y:r._alignStartEnd(I,this.top+Un+b,this.bottom-c[0].height),line:0},r.overrideTextDirection(this.ctx,f.textDirection);const An=gt+b;this.legendItems.forEach(($n,Ci)=>{E.strokeStyle=$n.fontColor,E.fillStyle=$n.fontColor;const ri=E.measureText($n.text).width,Yi=g.textAlign($n.textAlign||($n.textAlign=k.textAlign)),Tr=ye+K+ri;let Hr=re.x,eo=re.y;g.setWidth(this.width),Dn?Ci>0&&Hr+Tr+b>this.right&&(eo=re.y+=An,re.line++,Hr=re.x=r._alignStartEnd(I,this.left+b,this.right-p[re.line])):Ci>0&&eo+An>this.bottom&&(Hr=re.x=Hr+c[re.line].width+b,re.line++,eo=re.y=r._alignStartEnd(I,this.top+Un+b,this.bottom-c[re.line].height)),function($n,Ci,ri){if(isNaN(ye)||ye<=0||isNaN(et)||et<0)return;E.save();const Yi=r.valueOrDefault(ri.lineWidth,1);if(E.fillStyle=r.valueOrDefault(ri.fillStyle,X),E.lineCap=r.valueOrDefault(ri.lineCap,"butt"),E.lineDashOffset=r.valueOrDefault(ri.lineDashOffset,0),E.lineJoin=r.valueOrDefault(ri.lineJoin,"miter"),E.lineWidth=Yi,E.strokeStyle=r.valueOrDefault(ri.strokeStyle,X),E.setLineDash(r.valueOrDefault(ri.lineDash,[])),k.usePointStyle){const Tr={radius:et*Math.SQRT2/2,pointStyle:ri.pointStyle,rotation:ri.rotation,borderWidth:Yi},Hr=g.xPlus($n,ye/2);r.drawPointLegend(E,Tr,Hr,Ci+K,k.pointStyleWidth&&ye)}else{const Tr=Ci+Math.max((O-et)/2,0),Hr=g.leftForLtr($n,ye),eo=r.toTRBLCorners(ri.borderRadius);E.beginPath(),Object.values(eo).some(ss=>0!==ss)?r.addRoundedRectPath(E,{x:Hr,y:Tr,w:ye,h:et,radius:eo}):E.rect(Hr,Tr,ye,et),E.fill(),0!==Yi&&E.stroke()}E.restore()}(g.x(Hr),eo,$n),Hr=r._textX(Yi,Hr+ye+K,Dn?Hr+Tr:this.right,f.rtl),function($n,Ci,ri){r.renderText(E,ri.text,$n,Ci+gt/2,w,{strikethrough:ri.hidden,textAlign:g.textAlign(ri.textAlign)})}(g.x(Hr),eo,$n),Dn?re.x+=Tr+b:re.y+="string"!=typeof $n.text?Ne($n,w.lineHeight)+b:An}),r.restoreTextDirection(this.ctx,f.textDirection)}drawTitle(){const f=this.options,c=f.title,p=r.toFont(c.font),E=r.toPadding(c.padding);if(!c.display)return;const I=r.getRtlAdapter(f.rtl,this.left,this.width),k=this.ctx,X=c.position,w=E.top+p.size/2;let b,O=this.left,K=this.width;if(this.isHorizontal())K=Math.max(...this.lineWidths),b=this.top+w,O=r._alignStartEnd(f.align,O,this.right-K);else{const ye=this.columnSizes.reduce((et,gt)=>Math.max(et,gt.height),0);b=w+r._alignStartEnd(f.align,this.top,this.bottom-ye-f.labels.padding-this._computeTitleHeight())}const re=r._alignStartEnd(X,O,O+K);k.textAlign=I.textAlign(r._toLeftRightCenter(X)),k.textBaseline="middle",k.strokeStyle=c.color,k.fillStyle=c.color,k.font=p.string,r.renderText(k,c.text,re,b,p)}_computeTitleHeight(){const f=this.options.title,c=r.toFont(f.font),p=r.toPadding(f.padding);return f.display?c.lineHeight+p.height:0}_getLegendItemAt(f,c){let p,E,I;if(r._isBetween(f,this.left,this.right)&&r._isBetween(c,this.top,this.bottom))for(I=this.legendHitBoxes,p=0;p<I.length;++p)if(E=I[p],r._isBetween(f,E.left,E.left+E.width)&&r._isBetween(c,E.top,E.top+E.height))return this.legendItems[p];return null}handleEvent(f){const c=this.options;if(!function pt(x,f){return!(("mousemove"!==x&&"mouseout"!==x||!f.onHover&&!f.onLeave)&&(!f.onClick||"click"!==x&&"mouseup"!==x))}(f.type,c))return;const p=this._getLegendItemAt(f.x,f.y);if("mousemove"===f.type||"mouseout"===f.type){const E=this._hoveredItem,I=((x,f)=>null!==x&&null!==f&&x.datasetIndex===f.datasetIndex&&x.index===f.index)(E,p);E&&!I&&r.callback(c.onLeave,[f,E,this],this),this._hoveredItem=p,p&&!I&&r.callback(c.onHover,[f,p,this],this)}else p&&r.callback(c.onClick,[f,p,this],this)}}function Ne(x,f){return f*(x.text?x.text.length:0)}var Pt={id:"legend",_element:m,start(x,f,c){const p=x.legend=new m({ctx:x.ctx,options:c,chart:x});Vt.configure(x,p,c),Vt.addBox(x,p)},stop(x){Vt.removeBox(x,x.legend),delete x.legend},beforeUpdate(x,f,c){const p=x.legend;Vt.configure(x,p,c),p.options=c},afterUpdate(x){const f=x.legend;f.buildLabels(),f.adjustHitBoxes()},afterEvent(x,f){f.replay||x.legend.handleEvent(f.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(x,f,c){const p=f.datasetIndex,E=c.chart;E.isDatasetVisible(p)?(E.hide(p),f.hidden=!0):(E.show(p),f.hidden=!1)},onHover:null,onLeave:null,labels:{color:x=>x.chart.options.color,boxWidth:40,padding:10,generateLabels(x){const f=x.data.datasets,{labels:{usePointStyle:c,pointStyle:p,textAlign:E,color:I,useBorderRadius:k,borderRadius:X}}=x.legend.options;return x._getSortedDatasetMetas().map(g=>{const w=g.controller.getStyle(c?0:void 0),b=r.toPadding(w.borderWidth);return{text:f[g.index].label,fillStyle:w.backgroundColor,fontColor:I,hidden:!g.visible,lineCap:w.borderCapStyle,lineDash:w.borderDash,lineDashOffset:w.borderDashOffset,lineJoin:w.borderJoinStyle,lineWidth:(b.width+b.height)/4,strokeStyle:w.borderColor,pointStyle:p||w.pointStyle,rotation:w.rotation,textAlign:E||w.textAlign,borderRadius:k&&(X||w.borderRadius),datasetIndex:g.index}},this)}},title:{color:x=>x.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:x=>!x.startsWith("on"),labels:{_scriptable:x=>!["generateLabels","filter","sort"].includes(x)}}};class nn extends Ki{constructor(f){super(),this.chart=f.chart,this.options=f.options,this.ctx=f.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(f,c){const p=this.options;if(this.left=0,this.top=0,!p.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=f,this.height=this.bottom=c;const E=r.isArray(p.text)?p.text.length:1;this._padding=r.toPadding(p.padding);const I=E*r.toFont(p.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=I:this.width=I}isHorizontal(){const f=this.options.position;return"top"===f||"bottom"===f}_drawArgs(f){const{top:c,left:p,bottom:E,right:I,options:k}=this,X=k.align;let w,b,O,g=0;return this.isHorizontal()?(b=r._alignStartEnd(X,p,I),O=c+f,w=I-p):("left"===k.position?(b=p+f,O=r._alignStartEnd(X,E,c),g=-.5*r.PI):(b=I-f,O=r._alignStartEnd(X,c,E),g=.5*r.PI),w=E-c),{titleX:b,titleY:O,maxWidth:w,rotation:g}}draw(){const f=this.ctx,c=this.options;if(!c.display)return;const p=r.toFont(c.font),I=p.lineHeight/2+this._padding.top,{titleX:k,titleY:X,maxWidth:g,rotation:w}=this._drawArgs(I);r.renderText(f,c.text,0,0,p,{color:c.color,maxWidth:g,rotation:w,textAlign:r._toLeftRightCenter(c.align),textBaseline:"middle",translation:[k,X]})}}var Pn={id:"title",_element:nn,start(x,f,c){!function pn(x,f){const c=new nn({ctx:x.ctx,options:f,chart:x});Vt.configure(x,c,f),Vt.addBox(x,c),x.titleBlock=c}(x,c)},stop(x){Vt.removeBox(x,x.titleBlock),delete x.titleBlock},beforeUpdate(x,f,c){const p=x.titleBlock;Vt.configure(x,p,c),p.options=c},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wn=new WeakMap;var Ri={id:"subtitle",start(x,f,c){const p=new nn({ctx:x.ctx,options:c,chart:x});Vt.configure(x,p,c),Vt.addBox(x,p),Wn.set(x,p)},stop(x){Vt.removeBox(x,Wn.get(x)),Wn.delete(x)},beforeUpdate(x,f,c){const p=Wn.get(x);Vt.configure(x,p,c),p.options=c},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Fi={average(x){if(!x.length)return!1;let f,c,p=new Set,E=0,I=0;for(f=0,c=x.length;f<c;++f){const X=x[f].element;if(X&&X.hasValue()){const g=X.tooltipPosition();p.add(g.x),E+=g.y,++I}}return 0!==I&&0!==p.size&&{x:[...p].reduce((X,g)=>X+g)/p.size,y:E/I}},nearest(x,f){if(!x.length)return!1;let I,k,X,c=f.x,p=f.y,E=Number.POSITIVE_INFINITY;for(I=0,k=x.length;I<k;++I){const g=x[I].element;if(g&&g.hasValue()){const w=g.getCenterPoint(),b=r.distanceBetweenPoints(f,w);b<E&&(E=b,X=g)}}if(X){const g=X.tooltipPosition();c=g.x,p=g.y}return{x:c,y:p}}};function Si(x,f){return f&&(r.isArray(f)?Array.prototype.push.apply(x,f):x.push(f)),x}function ki(x){return("string"==typeof x||x instanceof String)&&x.indexOf("\n")>-1?x.split("\n"):x}function Vr(x,f){const{element:c,datasetIndex:p,index:E}=f,I=x.getDatasetMeta(p).controller,{label:k,value:X}=I.getLabelAndValue(E);return{chart:x,label:k,parsed:I.getParsed(E),raw:x.data.datasets[p].data[E],formattedValue:X,dataset:I.getDataset(),dataIndex:E,datasetIndex:p,element:c}}function Lr(x,f){const c=x.chart.ctx,{body:p,footer:E,title:I}=x,{boxWidth:k,boxHeight:X}=f,g=r.toFont(f.bodyFont),w=r.toFont(f.titleFont),b=r.toFont(f.footerFont),O=I.length,K=E.length,re=p.length,ye=r.toPadding(f.padding);let et=ye.height,gt=0,Xt=p.reduce((Un,An)=>Un+An.before.length+An.lines.length+An.after.length,0);Xt+=x.beforeBody.length+x.afterBody.length,O&&(et+=O*w.lineHeight+(O-1)*f.titleSpacing+f.titleMarginBottom),Xt&&(et+=re*(f.displayColors?Math.max(X,g.lineHeight):g.lineHeight)+(Xt-re)*g.lineHeight+(Xt-1)*f.bodySpacing),K&&(et+=f.footerMarginTop+K*b.lineHeight+(K-1)*f.footerSpacing);let Kt=0;const Dn=function(Un){gt=Math.max(gt,c.measureText(Un).width+Kt)};return c.save(),c.font=w.string,r.each(x.title,Dn),c.font=g.string,r.each(x.beforeBody.concat(x.afterBody),Dn),Kt=f.displayColors?k+2+f.boxPadding:0,r.each(p,Un=>{r.each(Un.before,Dn),r.each(Un.lines,Dn),r.each(Un.after,Dn)}),Kt=0,c.font=b.string,r.each(x.footer,Dn),c.restore(),gt+=ye.width,{width:gt,height:et}}function v(x,f,c,p){const{x:E,width:I}=c,{width:k,chartArea:{left:X,right:g}}=x;let w="center";return"center"===p?w=E<=(X+g)/2?"left":"right":E<=I/2?w="left":E>=k-I/2&&(w="right"),function a(x,f,c,p){const{x:E,width:I}=p,k=c.caretSize+c.caretPadding;if("left"===x&&E+I+k>f.width||"right"===x&&E-I-k<0)return!0}(w,x,f,c)&&(w="center"),w}function R(x,f,c){const p=c.yAlign||f.yAlign||function Oo(x,f){const{y:c,height:p}=f;return c<p/2?"top":c>x.height-p/2?"bottom":"center"}(x,c);return{xAlign:c.xAlign||f.xAlign||v(x,f,c,p),yAlign:p}}function qe(x,f,c,p){const{caretSize:E,caretPadding:I,cornerRadius:k}=x,{xAlign:X,yAlign:g}=c,w=E+I,{topLeft:b,topRight:O,bottomLeft:K,bottomRight:re}=r.toTRBLCorners(k);let ye=function te(x,f){let{x:c,width:p}=x;return"right"===f?c-=p:"center"===f&&(c-=p/2),c}(f,X);const et=function be(x,f,c){let{y:p,height:E}=x;return"top"===f?p+=c:p-="bottom"===f?E+c:E/2,p}(f,g,w);return"center"===g?"left"===X?ye+=w:"right"===X&&(ye-=w):"left"===X?ye-=Math.max(b,K)+E:"right"===X&&(ye+=Math.max(O,re)+E),{x:r._limitValue(ye,0,p.width-f.width),y:r._limitValue(et,0,p.height-f.height)}}function Nt(x,f,c){const p=r.toPadding(c.padding);return"center"===f?x.x+x.width/2:"right"===f?x.x+x.width-p.right:x.x+p.left}function dn(x){return Si([],ki(x))}function Rn(x,f){const c=f&&f.dataset&&f.dataset.tooltip&&f.dataset.tooltip.callbacks;return c?x.override(c):x}const ci={beforeTitle:r.noop,title(x){if(x.length>0){const f=x[0],c=f.chart.data.labels,p=c?c.length:0;if(this&&this.options&&"dataset"===this.options.mode)return f.dataset.label||"";if(f.label)return f.label;if(p>0&&f.dataIndex<p)return c[f.dataIndex]}return""},afterTitle:r.noop,beforeBody:r.noop,beforeLabel:r.noop,label(x){if(this&&this.options&&"dataset"===this.options.mode)return x.label+": "+x.formattedValue||x.formattedValue;let f=x.dataset.label||"";f&&(f+=": ");const c=x.formattedValue;return r.isNullOrUndef(c)||(f+=c),f},labelColor(x){const c=x.chart.getDatasetMeta(x.datasetIndex).controller.getStyle(x.dataIndex);return{borderColor:c.borderColor,backgroundColor:c.backgroundColor,borderWidth:c.borderWidth,borderDash:c.borderDash,borderDashOffset:c.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(x){const c=x.chart.getDatasetMeta(x.datasetIndex).controller.getStyle(x.dataIndex);return{pointStyle:c.pointStyle,rotation:c.rotation}},afterLabel:r.noop,afterBody:r.noop,beforeFooter:r.noop,footer:r.noop,afterFooter:r.noop};function Mi(x,f,c,p){const E=x[f].call(c,p);return typeof E>"u"?ci[f].call(c,p):E}let Ur=(()=>class x extends Ki{static positioners=Fi;constructor(c){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=c.chart,this.options=c.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(c){this.options=c,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const c=this._cachedAnimations;if(c)return c;const p=this.chart,E=this.options.setContext(this.getContext()),I=E.enabled&&p.options.animation&&E.animations,k=new Z(this.chart,I);return I._cacheable&&(this._cachedAnimations=Object.freeze(k)),k}getContext(){return this.$context||(this.$context=function bn(x,f,c){return r.createContext(x,{tooltip:f,tooltipItems:c,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(c,p){const{callbacks:E}=p,I=Mi(E,"beforeTitle",this,c),k=Mi(E,"title",this,c),X=Mi(E,"afterTitle",this,c);let g=[];return g=Si(g,ki(I)),g=Si(g,ki(k)),g=Si(g,ki(X)),g}getBeforeBody(c,p){return dn(Mi(p.callbacks,"beforeBody",this,c))}getBody(c,p){const{callbacks:E}=p,I=[];return r.each(c,k=>{const X={before:[],lines:[],after:[]},g=Rn(E,k);Si(X.before,ki(Mi(g,"beforeLabel",this,k))),Si(X.lines,Mi(g,"label",this,k)),Si(X.after,ki(Mi(g,"afterLabel",this,k))),I.push(X)}),I}getAfterBody(c,p){return dn(Mi(p.callbacks,"afterBody",this,c))}getFooter(c,p){const{callbacks:E}=p,I=Mi(E,"beforeFooter",this,c),k=Mi(E,"footer",this,c),X=Mi(E,"afterFooter",this,c);let g=[];return g=Si(g,ki(I)),g=Si(g,ki(k)),g=Si(g,ki(X)),g}_createItems(c){const p=this._active,E=this.chart.data,I=[],k=[],X=[];let w,b,g=[];for(w=0,b=p.length;w<b;++w)g.push(Vr(this.chart,p[w]));return c.filter&&(g=g.filter((O,K,re)=>c.filter(O,K,re,E))),c.itemSort&&(g=g.sort((O,K)=>c.itemSort(O,K,E))),r.each(g,O=>{const K=Rn(c.callbacks,O);I.push(Mi(K,"labelColor",this,O)),k.push(Mi(K,"labelPointStyle",this,O)),X.push(Mi(K,"labelTextColor",this,O))}),this.labelColors=I,this.labelPointStyles=k,this.labelTextColors=X,this.dataPoints=g,g}update(c,p){const E=this.options.setContext(this.getContext()),I=this._active;let k,X=[];if(I.length){const g=Fi[E.position].call(this,I,this._eventPosition);X=this._createItems(E),this.title=this.getTitle(X,E),this.beforeBody=this.getBeforeBody(X,E),this.body=this.getBody(X,E),this.afterBody=this.getAfterBody(X,E),this.footer=this.getFooter(X,E);const w=this._size=Lr(this,E),b=Object.assign({},g,w),O=R(this.chart,E,b),K=qe(E,b,O,this.chart);this.xAlign=O.xAlign,this.yAlign=O.yAlign,k={opacity:1,x:K.x,y:K.y,width:w.width,height:w.height,caretX:g.x,caretY:g.y}}else 0!==this.opacity&&(k={opacity:0});this._tooltipItems=X,this.$context=void 0,k&&this._resolveAnimations().update(this,k),c&&E.external&&E.external.call(this,{chart:this.chart,tooltip:this,replay:p})}drawCaret(c,p,E,I){const k=this.getCaretPosition(c,E,I);p.lineTo(k.x1,k.y1),p.lineTo(k.x2,k.y2),p.lineTo(k.x3,k.y3)}getCaretPosition(c,p,E){const{xAlign:I,yAlign:k}=this,{caretSize:X,cornerRadius:g}=E,{topLeft:w,topRight:b,bottomLeft:O,bottomRight:K}=r.toTRBLCorners(g),{x:re,y:ye}=c,{width:et,height:gt}=p;let Xt,Kt,Dn,Un,An,$n;return"center"===k?(An=ye+gt/2,"left"===I?(Xt=re,Kt=Xt-X,Un=An+X,$n=An-X):(Xt=re+et,Kt=Xt+X,Un=An-X,$n=An+X),Dn=Xt):(Kt="left"===I?re+Math.max(w,O)+X:"right"===I?re+et-Math.max(b,K)-X:this.caretX,"top"===k?(Un=ye,An=Un-X,Xt=Kt-X,Dn=Kt+X):(Un=ye+gt,An=Un+X,Xt=Kt+X,Dn=Kt-X),$n=Un),{x1:Xt,x2:Kt,x3:Dn,y1:Un,y2:An,y3:$n}}drawTitle(c,p,E){const I=this.title,k=I.length;let X,g,w;if(k){const b=r.getRtlAdapter(E.rtl,this.x,this.width);for(c.x=Nt(this,E.titleAlign,E),p.textAlign=b.textAlign(E.titleAlign),p.textBaseline="middle",X=r.toFont(E.titleFont),g=E.titleSpacing,p.fillStyle=E.titleColor,p.font=X.string,w=0;w<k;++w)p.fillText(I[w],b.x(c.x),c.y+X.lineHeight/2),c.y+=X.lineHeight+g,w+1===k&&(c.y+=E.titleMarginBottom-g)}}_drawColorBox(c,p,E,I,k){const X=this.labelColors[E],g=this.labelPointStyles[E],{boxHeight:w,boxWidth:b}=k,O=r.toFont(k.bodyFont),K=Nt(this,"left",k),re=I.x(K),et=p.y+(w<O.lineHeight?(O.lineHeight-w)/2:0);if(k.usePointStyle){const gt={radius:Math.min(b,w)/2,pointStyle:g.pointStyle,rotation:g.rotation,borderWidth:1},Xt=I.leftForLtr(re,b)+b/2,Kt=et+w/2;c.strokeStyle=k.multiKeyBackground,c.fillStyle=k.multiKeyBackground,r.drawPoint(c,gt,Xt,Kt),c.strokeStyle=X.borderColor,c.fillStyle=X.backgroundColor,r.drawPoint(c,gt,Xt,Kt)}else{c.lineWidth=r.isObject(X.borderWidth)?Math.max(...Object.values(X.borderWidth)):X.borderWidth||1,c.strokeStyle=X.borderColor,c.setLineDash(X.borderDash||[]),c.lineDashOffset=X.borderDashOffset||0;const gt=I.leftForLtr(re,b),Xt=I.leftForLtr(I.xPlus(re,1),b-2),Kt=r.toTRBLCorners(X.borderRadius);Object.values(Kt).some(Dn=>0!==Dn)?(c.beginPath(),c.fillStyle=k.multiKeyBackground,r.addRoundedRectPath(c,{x:gt,y:et,w:b,h:w,radius:Kt}),c.fill(),c.stroke(),c.fillStyle=X.backgroundColor,c.beginPath(),r.addRoundedRectPath(c,{x:Xt,y:et+1,w:b-2,h:w-2,radius:Kt}),c.fill()):(c.fillStyle=k.multiKeyBackground,c.fillRect(gt,et,b,w),c.strokeRect(gt,et,b,w),c.fillStyle=X.backgroundColor,c.fillRect(Xt,et+1,b-2,w-2))}c.fillStyle=this.labelTextColors[E]}drawBody(c,p,E){const{body:I}=this,{bodySpacing:k,bodyAlign:X,displayColors:g,boxHeight:w,boxWidth:b,boxPadding:O}=E,K=r.toFont(E.bodyFont);let re=K.lineHeight,ye=0;const et=r.getRtlAdapter(E.rtl,this.x,this.width),gt=function(Yi){p.fillText(Yi,et.x(c.x+ye),c.y+re/2),c.y+=re+k},Xt=et.textAlign(X);let Kt,Dn,Un,An,$n,Ci,ri;for(p.textAlign=X,p.textBaseline="middle",p.font=K.string,c.x=Nt(this,Xt,E),p.fillStyle=E.bodyColor,r.each(this.beforeBody,gt),ye=g&&"right"!==Xt?"center"===X?b/2+O:b+2+O:0,An=0,Ci=I.length;An<Ci;++An){for(Kt=I[An],Dn=this.labelTextColors[An],p.fillStyle=Dn,r.each(Kt.before,gt),Un=Kt.lines,g&&Un.length&&(this._drawColorBox(p,c,An,et,E),re=Math.max(K.lineHeight,w)),$n=0,ri=Un.length;$n<ri;++$n)gt(Un[$n]),re=K.lineHeight;r.each(Kt.after,gt)}ye=0,re=K.lineHeight,r.each(this.afterBody,gt),c.y-=k}drawFooter(c,p,E){const I=this.footer,k=I.length;let X,g;if(k){const w=r.getRtlAdapter(E.rtl,this.x,this.width);for(c.x=Nt(this,E.footerAlign,E),c.y+=E.footerMarginTop,p.textAlign=w.textAlign(E.footerAlign),p.textBaseline="middle",X=r.toFont(E.footerFont),p.fillStyle=E.footerColor,p.font=X.string,g=0;g<k;++g)p.fillText(I[g],w.x(c.x),c.y+X.lineHeight/2),c.y+=X.lineHeight+E.footerSpacing}}drawBackground(c,p,E,I){const{xAlign:k,yAlign:X}=this,{x:g,y:w}=c,{width:b,height:O}=E,{topLeft:K,topRight:re,bottomLeft:ye,bottomRight:et}=r.toTRBLCorners(I.cornerRadius);p.fillStyle=I.backgroundColor,p.strokeStyle=I.borderColor,p.lineWidth=I.borderWidth,p.beginPath(),p.moveTo(g+K,w),"top"===X&&this.drawCaret(c,p,E,I),p.lineTo(g+b-re,w),p.quadraticCurveTo(g+b,w,g+b,w+re),"center"===X&&"right"===k&&this.drawCaret(c,p,E,I),p.lineTo(g+b,w+O-et),p.quadraticCurveTo(g+b,w+O,g+b-et,w+O),"bottom"===X&&this.drawCaret(c,p,E,I),p.lineTo(g+ye,w+O),p.quadraticCurveTo(g,w+O,g,w+O-ye),"center"===X&&"left"===k&&this.drawCaret(c,p,E,I),p.lineTo(g,w+K),p.quadraticCurveTo(g,w,g+K,w),p.closePath(),p.fill(),I.borderWidth>0&&p.stroke()}_updateAnimationTarget(c){const p=this.chart,E=this.$animations,I=E&&E.x,k=E&&E.y;if(I||k){const X=Fi[c.position].call(this,this._active,this._eventPosition);if(!X)return;const g=this._size=Lr(this,c),w=Object.assign({},X,this._size),b=R(p,c,w),O=qe(c,w,b,p);(I._to!==O.x||k._to!==O.y)&&(this.xAlign=b.xAlign,this.yAlign=b.yAlign,this.width=g.width,this.height=g.height,this.caretX=X.x,this.caretY=X.y,this._resolveAnimations().update(this,O))}}_willRender(){return!!this.opacity}draw(c){const p=this.options.setContext(this.getContext());let E=this.opacity;if(!E)return;this._updateAnimationTarget(p);const I={width:this.width,height:this.height},k={x:this.x,y:this.y};E=Math.abs(E)<.001?0:E;const X=r.toPadding(p.padding);p.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(c.save(),c.globalAlpha=E,this.drawBackground(k,c,I,p),r.overrideTextDirection(c,p.textDirection),k.y+=X.top,this.drawTitle(k,c,p),this.drawBody(k,c,p),this.drawFooter(k,c,p),r.restoreTextDirection(c,p.textDirection),c.restore())}getActiveElements(){return this._active||[]}setActiveElements(c,p){const E=this._active,I=c.map(({datasetIndex:g,index:w})=>{const b=this.chart.getDatasetMeta(g);if(!b)throw new Error("Cannot find a dataset at index "+g);return{datasetIndex:g,element:b.data[w],index:w}}),k=!r._elementsEqual(E,I),X=this._positionChanged(I,p);(k||X)&&(this._active=I,this._eventPosition=p,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(c,p,E=!0){if(p&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const I=this.options,k=this._active||[],X=this._getActiveElements(c,k,p,E),g=this._positionChanged(X,c),w=p||!r._elementsEqual(X,k)||g;return w&&(this._active=X,(I.enabled||I.external)&&(this._eventPosition={x:c.x,y:c.y},this.update(!0,p))),w}_getActiveElements(c,p,E,I){const k=this.options;if("mouseout"===c.type)return[];if(!I)return p.filter(g=>this.chart.data.datasets[g.datasetIndex]&&void 0!==this.chart.getDatasetMeta(g.datasetIndex).controller.getParsed(g.index));const X=this.chart.getElementsAtEventForMode(c,k.mode,k,E);return k.reverse&&X.reverse(),X}_positionChanged(c,p){const{caretX:E,caretY:I,options:k}=this,X=Fi[k.position].call(this,c,p);return!1!==X&&(E!==X.x||I!==X.y)}})();var pi={id:"tooltip",_element:Ur,positioners:Fi,afterInit(x,f,c){c&&(x.tooltip=new Ur({chart:x,options:c}))},beforeUpdate(x,f,c){x.tooltip&&x.tooltip.initialize(c)},reset(x,f,c){x.tooltip&&x.tooltip.initialize(c)},afterDraw(x){const f=x.tooltip;if(f&&f._willRender()){const c={tooltip:f};if(!1===x.notifyPlugins("beforeTooltipDraw",{...c,cancelable:!0}))return;f.draw(x.ctx),x.notifyPlugins("afterTooltipDraw",c)}},afterEvent(x,f){x.tooltip&&x.tooltip.handleEvent(f.event,f.replay,f.inChartArea)&&(f.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(x,f)=>f.bodyFont.size,boxWidth:(x,f)=>f.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ci},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:x=>"filter"!==x&&"itemSort"!==x&&"external"!==x,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},bi=Object.freeze({__proto__:null,Colors:Bt,Decimation:nr,Filler:js,Legend:Pt,SubTitle:Ri,Title:Pn,Tooltip:pi});function os(x){const f=this.getLabels();return x>=0&&x<f.length?f[x]:x}let Xo=(()=>class x extends zt{static id="category";static defaults={ticks:{callback:os}};constructor(c){super(c),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(c){const p=this._addedLabels;if(p.length){const E=this.getLabels();for(const{index:I,label:k}of p)E[I]===k&&E.splice(I,1);this._addedLabels=[]}super.init(c)}parse(c,p){if(r.isNullOrUndef(c))return null;const E=this.getLabels();return p=isFinite(p)&&E[p]===c?p:function Wi(x,f,c,p){const E=x.indexOf(f);return-1===E?((x,f,c,p)=>("string"==typeof f?(c=x.push(f)-1,p.unshift({index:c,label:f})):isNaN(f)&&(c=null),c))(x,f,c,p):E!==x.lastIndexOf(f)?c:E}(E,c,r.valueOrDefault(p,c),this._addedLabels),((x,f)=>null===x?null:r._limitValue(Math.round(x),0,f))(p,E.length-1)}determineDataLimits(){const{minDefined:c,maxDefined:p}=this.getUserBounds();let{min:E,max:I}=this.getMinMax(!0);"ticks"===this.options.bounds&&(c||(E=0),p||(I=this.getLabels().length-1)),this.min=E,this.max=I}buildTicks(){const c=this.min,p=this.max,E=this.options.offset,I=[];let k=this.getLabels();k=0===c&&p===k.length-1?k:k.slice(c,p+1),this._valueRange=Math.max(k.length-(E?0:1),1),this._startValue=this.min-(E?.5:0);for(let X=c;X<=p;X++)I.push({value:X});return I}getLabelForValue(c){return os.call(this,c)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(c){return"number"!=typeof c&&(c=this.parse(c)),null===c?NaN:this.getPixelForDecimal((c-this._startValue)/this._valueRange)}getPixelForTick(c){const p=this.ticks;return c<0||c>p.length-1?null:this.getPixelForValue(p[c].value)}getValueForPixel(c){return Math.round(this._startValue+this.getDecimalForPixel(c)*this._valueRange)}getBasePixel(){return this.bottom}})();function xo(x,f,{horizontal:c,minRotation:p}){const E=r.toRadians(p),I=(c?Math.sin(E):Math.cos(E))||.001;return Math.min(f/I,.75*f*(""+x).length)}class xs extends zt{constructor(f){super(f),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(f,c){return r.isNullOrUndef(f)||("number"==typeof f||f instanceof Number)&&!isFinite(+f)?null:+f}handleTickRangeOptions(){const{beginAtZero:f}=this.options,{minDefined:c,maxDefined:p}=this.getUserBounds();let{min:E,max:I}=this;const k=g=>E=c?E:g,X=g=>I=p?I:g;if(f){const g=r.sign(E),w=r.sign(I);g<0&&w<0?X(0):g>0&&w>0&&k(0)}if(E===I){let g=0===I?1:Math.abs(.05*I);X(I+g),f||k(E-g)}this.min=E,this.max=I}getTickLimit(){const f=this.options.ticks;let E,{maxTicksLimit:c,stepSize:p}=f;return p?(E=Math.ceil(this.max/p)-Math.floor(this.min/p)+1,E>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${p} would result generating up to ${E} ticks. Limiting to 1000.`),E=1e3)):(E=this.computeTickLimit(),c=c||11),c&&(E=Math.min(c,E)),E}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const f=this.options,c=f.ticks;let p=this.getTickLimit();p=Math.max(2,p);const k=function hs(x,f){const c=[],{bounds:E,step:I,min:k,max:X,precision:g,count:w,maxTicks:b,maxDigits:O,includeBounds:K}=x,re=I||1,ye=b-1,{min:et,max:gt}=f,Xt=!r.isNullOrUndef(k),Kt=!r.isNullOrUndef(X),Dn=!r.isNullOrUndef(w),Un=(gt-et)/(O+1);let $n,Ci,ri,Yi,An=r.niceNum((gt-et)/ye/re)*re;if(An<1e-14&&!Xt&&!Kt)return[{value:et},{value:gt}];Yi=Math.ceil(gt/An)-Math.floor(et/An),Yi>ye&&(An=r.niceNum(Yi*An/ye/re)*re),r.isNullOrUndef(g)||($n=Math.pow(10,g),An=Math.ceil(An*$n)/$n),"ticks"===E?(Ci=Math.floor(et/An)*An,ri=Math.ceil(gt/An)*An):(Ci=et,ri=gt),Xt&&Kt&&I&&r.almostWhole((X-k)/I,An/1e3)?(Yi=Math.round(Math.min((X-k)/An,b)),An=(X-k)/Yi,Ci=k,ri=X):Dn?(Ci=Xt?k:Ci,ri=Kt?X:ri,Yi=w-1,An=(ri-Ci)/Yi):(Yi=(ri-Ci)/An,Yi=r.almostEquals(Yi,Math.round(Yi),An/1e3)?Math.round(Yi):Math.ceil(Yi));const Tr=Math.max(r._decimalPlaces(An),r._decimalPlaces(Ci));$n=Math.pow(10,r.isNullOrUndef(g)?Tr:g),Ci=Math.round(Ci*$n)/$n,ri=Math.round(ri*$n)/$n;let Hr=0;for(Xt&&(K&&Ci!==k?(c.push({value:k}),Ci<k&&Hr++,r.almostEquals(Math.round((Ci+Hr*An)*$n)/$n,k,xo(k,Un,x))&&Hr++):Ci<k&&Hr++);Hr<Yi;++Hr){const eo=Math.round((Ci+Hr*An)*$n)/$n;if(Kt&&eo>X)break;c.push({value:eo})}return Kt&&K&&ri!==X?c.length&&r.almostEquals(c[c.length-1].value,X,xo(X,Un,x))?c[c.length-1].value=X:c.push({value:X}):(!Kt||ri===X)&&c.push({value:ri}),c}({maxTicks:p,bounds:f.bounds,min:f.min,max:f.max,precision:c.precision,step:c.stepSize,count:c.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:c.minRotation||0,includeBounds:!1!==c.includeBounds},this._range||this);return"ticks"===f.bounds&&r._setMinAndMaxByKey(k,this,"value"),f.reverse?(k.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),k}configure(){const f=this.ticks;let c=this.min,p=this.max;if(super.configure(),this.options.offset&&f.length){const E=(p-c)/Math.max(f.length-1,1)/2;c-=E,p+=E}this._startValue=c,this._endValue=p,this._valueRange=p-c}getLabelForValue(f){return r.formatNumber(f,this.chart.options.locale,this.options.ticks.format)}}class Zs extends xs{static id="linear";static defaults={ticks:{callback:r.Ticks.formatters.numeric}};determineDataLimits(){const{min:f,max:c}=this.getMinMax(!0);this.min=r.isNumberFinite(f)?f:0,this.max=r.isNumberFinite(c)?c:1,this.handleTickRangeOptions()}computeTickLimit(){const f=this.isHorizontal(),c=f?this.width:this.height,p=r.toRadians(this.options.ticks.minRotation),E=(f?Math.sin(p):Math.cos(p))||.001,I=this._resolveTickFontOptions(0);return Math.ceil(c/Math.min(40,I.lineHeight/E))}getPixelForValue(f){return null===f?NaN:this.getPixelForDecimal((f-this._startValue)/this._valueRange)}getValueForPixel(f){return this._startValue+this.getDecimalForPixel(f)*this._valueRange}}const vr=x=>Math.floor(r.log10(x)),qr=(x,f)=>Math.pow(10,vr(x)+f);function ts(x){return x/Math.pow(10,vr(x))==1}function Ss(x,f,c){const p=Math.pow(10,c),E=Math.floor(x/p);return Math.ceil(f/p)-E}class _s extends zt{static id="logarithmic";static defaults={ticks:{callback:r.Ticks.formatters.logarithmic,major:{enabled:!0}}};constructor(f){super(f),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(f,c){const p=xs.prototype.parse.apply(this,[f,c]);if(0!==p)return r.isNumberFinite(p)&&p>0?p:null;this._zero=!0}determineDataLimits(){const{min:f,max:c}=this.getMinMax(!0);this.min=r.isNumberFinite(f)?Math.max(0,f):null,this.max=r.isNumberFinite(c)?Math.max(0,c):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!r.isNumberFinite(this._userMin)&&(this.min=f===qr(this.min,0)?qr(this.min,-1):qr(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:f,maxDefined:c}=this.getUserBounds();let p=this.min,E=this.max;const I=X=>p=f?p:X,k=X=>E=c?E:X;p===E&&(p<=0?(I(1),k(10)):(I(qr(p,-1)),k(qr(E,1)))),p<=0&&I(qr(E,-1)),E<=0&&k(qr(p,1)),this.min=p,this.max=E}buildTicks(){const f=this.options,p=function Ks(x,{min:f,max:c}){f=r.finiteOrDefault(x.min,f);const p=[],E=vr(f);let I=function Gs(x,f){let p=vr(f-x);for(;Ss(x,f,p)>10;)p++;for(;Ss(x,f,p)<10;)p--;return Math.min(p,vr(x))}(f,c),k=I<0?Math.pow(10,Math.abs(I)):1;const X=Math.pow(10,I),g=E>I?Math.pow(10,E):0,w=Math.round((f-g)*k)/k,b=Math.floor((f-g)/X/10)*X*10;let O=Math.floor((w-b)/Math.pow(10,I)),K=r.finiteOrDefault(x.min,Math.round((g+b+O*Math.pow(10,I))*k)/k);for(;K<c;)p.push({value:K,major:ts(K),significand:O}),O>=10?O=O<15?15:20:O++,O>=20&&(I++,O=2,k=I>=0?1:k),K=Math.round((g+b+O*Math.pow(10,I))*k)/k;const re=r.finiteOrDefault(x.max,K);return p.push({value:re,major:ts(re),significand:O}),p}({min:this._userMin,max:this._userMax},this);return"ticks"===f.bounds&&r._setMinAndMaxByKey(p,this,"value"),f.reverse?(p.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),p}getLabelForValue(f){return void 0===f?"0":r.formatNumber(f,this.chart.options.locale,this.options.ticks.format)}configure(){const f=this.min;super.configure(),this._startValue=r.log10(f),this._valueRange=r.log10(this.max)-r.log10(f)}getPixelForValue(f){return(void 0===f||0===f)&&(f=this.min),null===f||isNaN(f)?NaN:this.getPixelForDecimal(f===this.min?0:(r.log10(f)-this._startValue)/this._valueRange)}getValueForPixel(f){const c=this.getDecimalForPixel(f);return Math.pow(10,this._startValue+c*this._valueRange)}}function Ea(x){const f=x.ticks;if(f.display&&x.display){const c=r.toPadding(f.backdropPadding);return r.valueOrDefault(f.font&&f.font.size,r.defaults.font.size)+c.height}return 0}function Ba(x,f,c){return c=r.isArray(c)?c:[c],{w:r._longestText(x,f.string,c),h:c.length*f.lineHeight}}function Sa(x,f,c,p,E){return x===p||x===E?{start:f-c/2,end:f+c/2}:x<p||x>E?{start:f-c,end:f}:{start:f,end:f+c}}function pa(x,f,c,p,E){const I=Math.abs(Math.sin(c)),k=Math.abs(Math.cos(c));let X=0,g=0;p.start<f.l?(X=(f.l-p.start)/I,x.l=Math.min(x.l,f.l-X)):p.end>f.r&&(X=(p.end-f.r)/I,x.r=Math.max(x.r,f.r+X)),E.start<f.t?(g=(f.t-E.start)/k,x.t=Math.min(x.t,f.t-g)):E.end>f.b&&(g=(E.end-f.b)/k,x.b=Math.max(x.b,f.b+g))}function bs(x,f,c){const p=x.drawingArea,{extra:E,additionalAngle:I,padding:k,size:X}=c,g=x.getPointPosition(f,p+E+k,I),w=Math.round(r.toDegrees(r._normalizeAngle(g.angle+r.HALF_PI))),b=function Cs(x,f,c){return 90===c||270===c?x-=f/2:(c>270||c<90)&&(x-=f),x}(g.y,X.h,w),O=function pl(x){return 0===x||180===x?"center":x<180?"left":"right"}(w),K=function Da(x,f,c){return"right"===c?x-=f:"center"===c&&(x-=f/2),x}(g.x,X.w,O);return{visible:!0,x:g.x,y:b,textAlign:O,left:K,top:b,right:K+X.w,bottom:b+X.h}}function Ca(x,f){if(!f)return!0;const{left:c,top:p,right:E,bottom:I}=x;return!(r._isPointInArea({x:c,y:p},f)||r._isPointInArea({x:c,y:I},f)||r._isPointInArea({x:E,y:p},f)||r._isPointInArea({x:E,y:I},f))}function ar(x,f,c){const{left:p,top:E,right:I,bottom:k}=c,{backdropColor:X}=f;if(!r.isNullOrUndef(X)){const g=r.toTRBLCorners(f.borderRadius),w=r.toPadding(f.backdropPadding);x.fillStyle=X;const b=p-w.left,O=E-w.top,K=I-p+w.width,re=k-E+w.height;Object.values(g).some(ye=>0!==ye)?(x.beginPath(),r.addRoundedRectPath(x,{x:b,y:O,w:K,h:re,radius:g}),x.fill()):x.fillRect(b,O,K,re)}}function Ta(x,f,c,p){const{ctx:E}=x;if(c)E.arc(x.xCenter,x.yCenter,f,0,r.TAU);else{let I=x.getPointPosition(0,f);E.moveTo(I.x,I.y);for(let k=1;k<p;k++)I=x.getPointPosition(k,f),E.lineTo(I.x,I.y)}}class Va extends xs{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:r.Ticks.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:f=>f,padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(f){super(f),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const f=this._padding=r.toPadding(Ea(this.options)/2),c=this.width=this.maxWidth-f.width,p=this.height=this.maxHeight-f.height;this.xCenter=Math.floor(this.left+c/2+f.left),this.yCenter=Math.floor(this.top+p/2+f.top),this.drawingArea=Math.floor(Math.min(c,p)/2)}determineDataLimits(){const{min:f,max:c}=this.getMinMax(!1);this.min=r.isNumberFinite(f)&&!isNaN(f)?f:0,this.max=r.isNumberFinite(c)&&!isNaN(c)?c:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ea(this.options))}generateTickLabels(f){xs.prototype.generateTickLabels.call(this,f),this._pointLabels=this.getLabels().map((c,p)=>{const E=r.callback(this.options.pointLabels.callback,[c,p],this);return E||0===E?E:""}).filter((c,p)=>this.chart.getDataVisibility(p))}fit(){const f=this.options;f.display&&f.pointLabels.display?function Ws(x){const f={l:x.left+x._padding.left,r:x.right-x._padding.right,t:x.top+x._padding.top,b:x.bottom-x._padding.bottom},c=Object.assign({},f),p=[],E=[],I=x._pointLabels.length,k=x.options.pointLabels,X=k.centerPointLabels?r.PI/I:0;for(let g=0;g<I;g++){const w=k.setContext(x.getPointLabelContext(g));E[g]=w.padding;const b=x.getPointPosition(g,x.drawingArea+E[g],X),O=r.toFont(w.font),K=Ba(x.ctx,O,x._pointLabels[g]);p[g]=K;const re=r._normalizeAngle(x.getIndexAngle(g)+X),ye=Math.round(r.toDegrees(re));pa(c,f,re,Sa(ye,b.x,K.w,0,180),Sa(ye,b.y,K.h,90,270))}x.setCenterPoint(f.l-c.l,c.r-f.r,f.t-c.t,c.b-f.b),x._pointLabelItems=function ra(x,f,c){const p=[],E=x._pointLabels.length,I=x.options,{centerPointLabels:k,display:X}=I.pointLabels,g={extra:Ea(I)/2,additionalAngle:k?r.PI/E:0};let w;for(let b=0;b<E;b++){g.padding=c[b],g.size=f[b];const O=bs(x,b,g);p.push(O),"auto"===X&&(O.visible=Ca(O,w),O.visible&&(w=O))}return p}(x,p,E)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(f,c,p,E){this.xCenter+=Math.floor((f-c)/2),this.yCenter+=Math.floor((p-E)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(f,c,p,E))}getIndexAngle(f){return r._normalizeAngle(f*(r.TAU/(this._pointLabels.length||1))+r.toRadians(this.options.startAngle||0))}getDistanceFromCenterForValue(f){if(r.isNullOrUndef(f))return NaN;const c=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-f)*c:(f-this.min)*c}getValueForDistanceFromCenter(f){if(r.isNullOrUndef(f))return NaN;const c=f/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-c:this.min+c}getPointLabelContext(f){const c=this._pointLabels||[];if(f>=0&&f<c.length){const p=c[f];return function Js(x,f,c){return r.createContext(x,{label:c,index:f,type:"pointLabel"})}(this.getContext(),f,p)}}getPointPosition(f,c,p=0){const E=this.getIndexAngle(f)-r.HALF_PI+p;return{x:Math.cos(E)*c+this.xCenter,y:Math.sin(E)*c+this.yCenter,angle:E}}getPointPositionForValue(f,c){return this.getPointPosition(f,this.getDistanceFromCenterForValue(c))}getBasePosition(f){return this.getPointPositionForValue(f||0,this.getBaseValue())}getPointLabelPosition(f){const{left:c,top:p,right:E,bottom:I}=this._pointLabelItems[f];return{left:c,top:p,right:E,bottom:I}}drawBackground(){const{backgroundColor:f,grid:{circular:c}}=this.options;if(f){const p=this.ctx;p.save(),p.beginPath(),Ta(this,this.getDistanceFromCenterForValue(this._endValue),c,this._pointLabels.length),p.closePath(),p.fillStyle=f,p.fill(),p.restore()}}drawGrid(){const f=this.ctx,c=this.options,{angleLines:p,grid:E,border:I}=c,k=this._pointLabels.length;let X,g,w;if(c.pointLabels.display&&function qs(x,f){const{ctx:c,options:{pointLabels:p}}=x;for(let E=f-1;E>=0;E--){const I=x._pointLabelItems[E];if(!I.visible)continue;const k=p.setContext(x.getPointLabelContext(E));ar(c,k,I);const X=r.toFont(k.font),{x:g,y:w,textAlign:b}=I;r.renderText(c,x._pointLabels[E],g,w+X.lineHeight/2,X,{color:k.color,textAlign:b,textBaseline:"middle"})}}(this,k),E.display&&this.ticks.forEach((b,O)=>{if(0!==O||0===O&&this.min<0){g=this.getDistanceFromCenterForValue(b.value);const K=this.getContext(O),re=E.setContext(K),ye=I.setContext(K);!function Qa(x,f,c,p,E){const I=x.ctx,k=f.circular,{color:X,lineWidth:g}=f;!k&&!p||!X||!g||c<0||(I.save(),I.strokeStyle=X,I.lineWidth=g,I.setLineDash(E.dash||[]),I.lineDashOffset=E.dashOffset,I.beginPath(),Ta(x,c,k,p),I.closePath(),I.stroke(),I.restore())}(this,re,g,k,ye)}}),p.display){for(f.save(),X=k-1;X>=0;X--){const b=p.setContext(this.getPointLabelContext(X)),{color:O,lineWidth:K}=b;!K||!O||(f.lineWidth=K,f.strokeStyle=O,f.setLineDash(b.borderDash),f.lineDashOffset=b.borderDashOffset,g=this.getDistanceFromCenterForValue(c.reverse?this.min:this.max),w=this.getPointPosition(X,g),f.beginPath(),f.moveTo(this.xCenter,this.yCenter),f.lineTo(w.x,w.y),f.stroke())}f.restore()}}drawBorder(){}drawLabels(){const f=this.ctx,c=this.options,p=c.ticks;if(!p.display)return;const E=this.getIndexAngle(0);let I,k;f.save(),f.translate(this.xCenter,this.yCenter),f.rotate(E),f.textAlign="center",f.textBaseline="middle",this.ticks.forEach((X,g)=>{if(0===g&&this.min>=0&&!c.reverse)return;const w=p.setContext(this.getContext(g)),b=r.toFont(w.font);if(I=this.getDistanceFromCenterForValue(this.ticks[g].value),w.showLabelBackdrop){f.font=b.string,k=f.measureText(X.label).width,f.fillStyle=w.backdropColor;const O=r.toPadding(w.backdropPadding);f.fillRect(-k/2-O.left,-I-b.size/2-O.top,k+O.width,b.size+O.height)}r.renderText(f,X.label,0,-I,b,{color:w.color,strokeColor:w.textStrokeColor,strokeWidth:w.textStrokeWidth})}),f.restore()}drawTitle(){}}const oa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qr=Object.keys(oa);function Ua(x,f){return x-f}function gl(x,f){if(r.isNullOrUndef(f))return null;const c=x._adapter,{parser:p,round:E,isoWeekday:I}=x._parseOpts;let k=f;return"function"==typeof p&&(k=p(k)),r.isNumberFinite(k)||(k="string"==typeof p?c.parse(k,p):c.parse(k)),null===k?null:(E&&(k="week"!==E||!r.isNumber(I)&&!0!==I?c.startOf(k,E):c.startOf(k,"isoWeek",I)),+k)}function Ns(x,f,c,p){const E=Qr.length;for(let I=Qr.indexOf(x);I<E-1;++I){const k=oa[Qr[I]];if(k.common&&Math.ceil((c-f)/((k.steps?k.steps:Number.MAX_SAFE_INTEGER)*k.size))<=p)return Qr[I]}return Qr[E-1]}function Al(x,f,c){if(c){if(c.length){const{lo:p,hi:E}=r._lookup(c,f);x[c[p]>=f?c[p]:c[E]]=!0}}else x[f]=!0}function fs(x,f,c){const p=[],E={},I=f.length;let k,X;for(k=0;k<I;++k)X=f[k],E[X]=k,p.push({value:X,major:!1});return 0!==I&&c?function Ol(x,f,c,p){const E=x._adapter,I=+E.startOf(f[0].value,p),k=f[f.length-1].value;let X,g;for(X=I;X<=k;X=+E.add(X,1,p))g=c[X],g>=0&&(f[g].major=!0);return f}(x,p,E,c):p}let Ha=(()=>class x extends zt{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(c){super(c),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(c,p={}){const E=c.time||(c.time={}),I=this._adapter=new Oi._date(c.adapters.date);I.init(p),r.mergeIf(E.displayFormats,I.formats()),this._parseOpts={parser:E.parser,round:E.round,isoWeekday:E.isoWeekday},super.init(c),this._normalized=p.normalized}parse(c,p){return void 0===c?null:gl(this,c)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const c=this.options,p=this._adapter,E=c.time.unit||"day";let{min:I,max:k,minDefined:X,maxDefined:g}=this.getUserBounds();function w(b){!X&&!isNaN(b.min)&&(I=Math.min(I,b.min)),!g&&!isNaN(b.max)&&(k=Math.max(k,b.max))}(!X||!g)&&(w(this._getLabelBounds()),("ticks"!==c.bounds||"labels"!==c.ticks.source)&&w(this.getMinMax(!1))),I=r.isNumberFinite(I)&&!isNaN(I)?I:+p.startOf(Date.now(),E),k=r.isNumberFinite(k)&&!isNaN(k)?k:+p.endOf(Date.now(),E)+1,this.min=Math.min(I,k-1),this.max=Math.max(I+1,k)}_getLabelBounds(){const c=this.getLabelTimestamps();let p=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY;return c.length&&(p=c[0],E=c[c.length-1]),{min:p,max:E}}buildTicks(){const c=this.options,p=c.time,E=c.ticks,I="labels"===E.source?this.getLabelTimestamps():this._generate();"ticks"===c.bounds&&I.length&&(this.min=this._userMin||I[0],this.max=this._userMax||I[I.length-1]);const k=this.min,g=r._filterBetween(I,k,this.max);return this._unit=p.unit||(E.autoSkip?Ns(p.minUnit,this.min,this.max,this._getLabelCapacity(k)):function xa(x,f,c,p,E){for(let I=Qr.length-1;I>=Qr.indexOf(c);I--){const k=Qr[I];if(oa[k].common&&x._adapter.diff(E,p,k)>=f-1)return k}return Qr[c?Qr.indexOf(c):0]}(this,g.length,p.minUnit,this.min,this.max)),this._majorUnit=E.major.enabled&&"year"!==this._unit?function ml(x){for(let f=Qr.indexOf(x)+1,c=Qr.length;f<c;++f)if(oa[Qr[f]].common)return Qr[f]}(this._unit):void 0,this.initOffsets(I),c.reverse&&g.reverse(),fs(this,g,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(c=>+c.value))}initOffsets(c=[]){let I,k,p=0,E=0;this.options.offset&&c.length&&(I=this.getDecimalForValue(c[0]),p=1===c.length?1-I:(this.getDecimalForValue(c[1])-I)/2,k=this.getDecimalForValue(c[c.length-1]),E=1===c.length?k:(k-this.getDecimalForValue(c[c.length-2]))/2);const X=c.length<3?.5:.25;p=r._limitValue(p,0,X),E=r._limitValue(E,0,X),this._offsets={start:p,end:E,factor:1/(p+1+E)}}_generate(){const c=this._adapter,p=this.min,E=this.max,I=this.options,k=I.time,X=k.unit||Ns(k.minUnit,p,E,this._getLabelCapacity(p)),g=r.valueOrDefault(I.ticks.stepSize,1),w="week"===X&&k.isoWeekday,b=r.isNumber(w)||!0===w,O={};let re,ye,K=p;if(b&&(K=+c.startOf(K,"isoWeek",w)),K=+c.startOf(K,b?"day":X),c.diff(E,p,X)>1e5*g)throw new Error(p+" and "+E+" are too far apart with stepSize of "+g+" "+X);const et="data"===I.ticks.source&&this.getDataTimestamps();for(re=K,ye=0;re<E;re=+c.add(re,g,X),ye++)Al(O,re,et);return(re===E||"ticks"===I.bounds||1===ye)&&Al(O,re,et),Object.keys(O).sort(Ua).map(gt=>+gt)}getLabelForValue(c){const E=this.options.time;return this._adapter.format(c,E.tooltipFormat?E.tooltipFormat:E.displayFormats.datetime)}format(c,p){return this._adapter.format(c,p||this.options.time.displayFormats[this._unit])}_tickFormatFunction(c,p,E,I){const k=this.options,X=k.ticks.callback;if(X)return r.callback(X,[c,p,E],this);const g=k.time.displayFormats,w=this._unit,b=this._majorUnit,K=b&&g[b],re=E[p];return this._adapter.format(c,I||(b&&K&&re&&re.major?K:w&&g[w]))}generateTickLabels(c){let p,E,I;for(p=0,E=c.length;p<E;++p)I=c[p],I.label=this._tickFormatFunction(I.value,p,c)}getDecimalForValue(c){return null===c?NaN:(c-this.min)/(this.max-this.min)}getPixelForValue(c){const p=this._offsets,E=this.getDecimalForValue(c);return this.getPixelForDecimal((p.start+E)*p.factor)}getValueForPixel(c){const p=this._offsets,E=this.getDecimalForPixel(c)/p.factor-p.end;return this.min+E*(this.max-this.min)}_getLabelSize(c){const p=this.options.ticks,E=this.ctx.measureText(c).width,I=r.toRadians(this.isHorizontal()?p.maxRotation:p.minRotation),k=Math.cos(I),X=Math.sin(I),g=this._resolveTickFontOptions(0).size;return{w:E*k+g*X,h:E*X+g*k}}_getLabelCapacity(c){const p=this.options.time,E=p.displayFormats,I=E[p.unit]||E.millisecond,k=this._tickFormatFunction(c,0,fs(this,[c],this._majorUnit),I),X=this._getLabelSize(k),g=Math.floor(this.isHorizontal()?this.width/X.w:this.height/X.h)-1;return g>0?g:1}getDataTimestamps(){let p,E,c=this._cache.data||[];if(c.length)return c;const I=this.getMatchingVisibleMetas();if(this._normalized&&I.length)return this._cache.data=I[0].controller.getAllParsedValues(this);for(p=0,E=I.length;p<E;++p)c=c.concat(I[p].controller.getAllParsedValues(this));return this._cache.data=this.normalize(c)}getLabelTimestamps(){const c=this._cache.labels||[];let p,E;if(c.length)return c;const I=this.getLabels();for(p=0,E=I.length;p<E;++p)c.push(gl(this,I[p]));return this._cache.labels=this._normalized?c:this.normalize(c)}normalize(c){return r._arrayUnique(c.sort(Ua))}})();function sa(x,f,c){let I,k,X,g,p=0,E=x.length-1;c?(f>=x[p].pos&&f<=x[E].pos&&({lo:p,hi:E}=r._lookupByKey(x,"pos",f)),({pos:I,time:X}=x[p]),({pos:k,time:g}=x[E])):(f>=x[p].time&&f<=x[E].time&&({lo:p,hi:E}=r._lookupByKey(x,"time",f)),({time:I,pos:X}=x[p]),({time:k,pos:g}=x[E]));const w=k-I;return w?X+(g-X)*(f-I)/w:X}class Zo extends Ha{static id="timeseries";static defaults=Ha.defaults;constructor(f){super(f),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const f=this._getTimestampsForTable(),c=this._table=this.buildLookupTable(f);this._minPos=sa(c,this.min),this._tableRange=sa(c,this.max)-this._minPos,super.initOffsets(f)}buildLookupTable(f){const{min:c,max:p}=this,E=[],I=[];let k,X,g,w,b;for(k=0,X=f.length;k<X;++k)w=f[k],w>=c&&w<=p&&E.push(w);if(E.length<2)return[{time:c,pos:0},{time:p,pos:1}];for(k=0,X=E.length;k<X;++k)b=E[k+1],g=E[k-1],w=E[k],Math.round((b+g)/2)!==w&&I.push({time:w,pos:k/(X-1)});return I}_generate(){const f=this.min,c=this.max;let p=super.getDataTimestamps();return(!p.includes(f)||!p.length)&&p.splice(0,0,f),(!p.includes(c)||1===p.length)&&p.push(c),p.sort((E,I)=>E-I)}_getTimestampsForTable(){let f=this._cache.all||[];if(f.length)return f;const c=this.getDataTimestamps(),p=this.getLabelTimestamps();return f=c.length&&p.length?this.normalize(c.concat(p)):c.length?c:p,f=this._cache.all=f,f}getDecimalForValue(f){return(sa(this._table,f)-this._minPos)/this._tableRange}getValueForPixel(f){const c=this._offsets,p=this.getDecimalForPixel(f)/c.factor-c.end;return sa(this._table,p*this._tableRange+this._minPos,!0)}}var Pa=Object.freeze({__proto__:null,CategoryScale:Xo,LinearScale:Zs,LogarithmicScale:_s,RadialLinearScale:Va,TimeScale:Ha,TimeSeriesScale:Zo});const aa=[_n,Zn,bi,Pa];H.Ticks=r.Ticks,H.defaults=r.defaults,H.Animation=Y,H.Animations=Z,H.ArcElement=Lo,H.BarController=cn,H.BarElement=hi,H.BasePlatform=ai,H.BasicPlatform=si,H.BubbleController=En,H.CategoryScale=Xo,H.Chart=yo,H.Colors=Bt,H.DatasetController=ze,H.Decimation=nr,H.DomPlatform=hr,H.DoughnutController=Et,H.Element=Ki,H.Filler=js,H.Interaction=xt,H.Legend=Pt,H.LineController=at,H.LineElement=z,H.LinearScale=Zs,H.LogarithmicScale=_s,H.PieController=Wt,H.PointElement=Pe,H.PolarAreaController=tn,H.RadarController=mn,H.RadialLinearScale=Va,H.Scale=zt,H.ScatterController=Cn,H.SubTitle=Ri,H.TimeScale=Ha,H.TimeSeriesScale=Zo,H.Title=Pn,H.Tooltip=pi,H._adapters=Oi,H._detectPlatform=Nr,H.animator=q,H.controllers=_n,H.elements=Zn,H.layouts=Vt,H.plugins=bi,H.registerables=aa,H.registry=$i,H.scales=Pa},250:(Ct,H,A)=>{"use strict";var r=A(9128);const q=(()=>{let z=0;return()=>z++})();function $(z){return null===z||typeof z>"u"}function Q(z){if(Array.isArray&&Array.isArray(z))return!0;const we=Object.prototype.toString.call(z);return"[object"===we.slice(0,7)&&"Array]"===we.slice(-6)}function Y(z){return null!==z&&"[object Object]"===Object.prototype.toString.call(z)}function Z(z){return("number"==typeof z||z instanceof Number)&&isFinite(+z)}function J(z,we){return typeof z>"u"?we:z}const oe=(z,we)=>"string"==typeof z&&z.endsWith("%")?parseFloat(z)/100*we:+z;function ke(z){if(Q(z))return z.map(ke);if(Y(z)){const we=Object.create(null),Pe=Object.keys(z),Qe=Pe.length;let ut=0;for(;ut<Qe;++ut)we[Pe[ut]]=ke(z[Pe[ut]]);return we}return z}function xe(z){return-1===["__proto__","prototype","constructor"].indexOf(z)}function se(z,we,Pe,Qe){if(!xe(z))return;const ut=we[z],Dt=Pe[z];Y(ut)&&Y(Dt)?_e(ut,Dt,Qe):we[z]=ke(Dt)}function _e(z,we,Pe){const Qe=Q(we)?we:[we],ut=Qe.length;if(!Y(z))return z;const Dt=(Pe=Pe||{}).merger||se;let Ft;for(let jt=0;jt<ut;++jt){if(Ft=Qe[jt],!Y(Ft))continue;const en=Object.keys(Ft);for(let Mn=0,Fn=en.length;Mn<Fn;++Mn)Dt(en[Mn],z,Ft,Pe)}return z}function Ie(z,we){return _e(z,we,{merger:Be})}function Be(z,we,Pe){if(!xe(z))return;const Qe=we[z],ut=Pe[z];Y(Qe)&&Y(ut)?Ie(Qe,ut):Object.prototype.hasOwnProperty.call(we,z)||(we[z]=ke(ut))}const Ae={"":z=>z,x:z=>z.x,y:z=>z.y};function vt(z){const we=z.split("."),Pe=[];let Qe="";for(const ut of we)Qe+=ut,Qe.endsWith("\\")?Qe=Qe.slice(0,-1)+".":(Pe.push(Qe),Qe="");return Pe}function Ge(z,we){return(Ae[we]||(Ae[we]=function Le(z){const we=vt(z);return Pe=>{for(const Qe of we){if(""===Qe)break;Pe=Pe&&Pe[Qe]}return Pe}}(we)))(z)}function Ze(z){return z.charAt(0).toUpperCase()+z.slice(1)}const ct=z=>"function"==typeof z,ge=Math.PI,pe=2*ge,Se=pe+ge,Te=Number.POSITIVE_INFINITY,Re=ge/180,De=ge/2,Ve=ge/4,Ce=2*ge/3,Ue=Math.log10,Me=Math.sign;function Fe(z,we,Pe){return Math.abs(z-we)<Pe}function Wt(z,we){return Math.sqrt(Math.pow(we.x-z.x,2)+Math.pow(we.y-z.y,2))}function mn(z,we){return(z-we+Se)%pe-ge}function Cn(z){return(z%pe+pe)%pe}function _n(z,we,Pe,Qe){const ut=Cn(z),Dt=Cn(we),Ft=Cn(Pe),jt=Cn(Dt-ut),en=Cn(Ft-ut),Mn=Cn(ut-Dt),Fn=Cn(ut-Ft);return ut===Dt||ut===Ft||Qe&&Dt===Ft||jt>en&&Mn<Fn}function ui(z,we,Pe){return Math.max(we,Math.min(Pe,z))}function Oi(z,we,Pe,Qe=1e-6){return z>=Math.min(we,Pe)-Qe&&z<=Math.max(we,Pe)+Qe}function er(z,we,Pe){Pe=Pe||(Ft=>z[Ft]<we);let Dt,Qe=z.length-1,ut=0;for(;Qe-ut>1;)Dt=ut+Qe>>1,Pe(Dt)?ut=Dt:Qe=Dt;return{lo:ut,hi:Qe}}const br=(z,we,Pe,Qe)=>er(z,Pe,Qe?ut=>{const Dt=z[ut][we];return Dt<Pe||Dt===Pe&&z[ut+1][we]===Pe}:ut=>z[ut][we]<Pe),ir=["push","pop","shift","splice","unshift"],nt=typeof window>"u"?function(z){return z()}:window.requestAnimationFrame,Kn=z=>0===z||1===z,lr=(z,we,Pe)=>-Math.pow(2,10*(z-=1))*Math.sin((z-we)*pe/Pe),Qi=(z,we,Pe)=>Math.pow(2,-10*z)*Math.sin((z-we)*pe/Pe)+1,Zt={linear:z=>z,easeInQuad:z=>z*z,easeOutQuad:z=>-z*(z-2),easeInOutQuad:z=>(z/=.5)<1?.5*z*z:-.5*(--z*(z-2)-1),easeInCubic:z=>z*z*z,easeOutCubic:z=>(z-=1)*z*z+1,easeInOutCubic:z=>(z/=.5)<1?.5*z*z*z:.5*((z-=2)*z*z+2),easeInQuart:z=>z*z*z*z,easeOutQuart:z=>-((z-=1)*z*z*z-1),easeInOutQuart:z=>(z/=.5)<1?.5*z*z*z*z:-.5*((z-=2)*z*z*z-2),easeInQuint:z=>z*z*z*z*z,easeOutQuint:z=>(z-=1)*z*z*z*z+1,easeInOutQuint:z=>(z/=.5)<1?.5*z*z*z*z*z:.5*((z-=2)*z*z*z*z+2),easeInSine:z=>1-Math.cos(z*De),easeOutSine:z=>Math.sin(z*De),easeInOutSine:z=>-.5*(Math.cos(ge*z)-1),easeInExpo:z=>0===z?0:Math.pow(2,10*(z-1)),easeOutExpo:z=>1===z?1:1-Math.pow(2,-10*z),easeInOutExpo:z=>Kn(z)?z:z<.5?.5*Math.pow(2,10*(2*z-1)):.5*(2-Math.pow(2,-10*(2*z-1))),easeInCirc:z=>z>=1?z:-(Math.sqrt(1-z*z)-1),easeOutCirc:z=>Math.sqrt(1-(z-=1)*z),easeInOutCirc:z=>(z/=.5)<1?-.5*(Math.sqrt(1-z*z)-1):.5*(Math.sqrt(1-(z-=2)*z)+1),easeInElastic:z=>Kn(z)?z:lr(z,.075,.3),easeOutElastic:z=>Kn(z)?z:Qi(z,.075,.3),easeInOutElastic:z=>Kn(z)?z:z<.5?.5*lr(2*z,.1125,.45):.5+.5*Qi(2*z-1,.1125,.45),easeInBack:z=>z*z*(2.70158*z-1.70158),easeOutBack:z=>(z-=1)*z*(2.70158*z+1.70158)+1,easeInOutBack(z){let we=1.70158;return(z/=.5)<1?z*z*((1+(we*=1.525))*z-we)*.5:.5*((z-=2)*z*((1+(we*=1.525))*z+we)+2)},easeInBounce:z=>1-Zt.easeOutBounce(1-z),easeOutBounce:z=>z<1/2.75?7.5625*z*z:z<2/2.75?7.5625*(z-=1.5/2.75)*z+.75:z<2.5/2.75?7.5625*(z-=2.25/2.75)*z+.9375:7.5625*(z-=2.625/2.75)*z+.984375,easeInOutBounce:z=>z<.5?.5*Zt.easeInBounce(2*z):.5*Zt.easeOutBounce(2*z-1)+.5};function bt(z){if(z&&"object"==typeof z){const we=z.toString();return"[object CanvasPattern]"===we||"[object CanvasGradient]"===we}return!1}function vn(z){return bt(z)?z:new r.Color(z).saturate(.5).darken(.1).hexString()}const yn=["x","y","borderWidth","radius","tension"],Vt=["color","borderColor","backgroundColor"],Jn=new Map;function tr(z,we,Pe){return function Xi(z,we){we=we||{};const Pe=z+JSON.stringify(we);let Qe=Jn.get(Pe);return Qe||(Qe=new Intl.NumberFormat(z,we),Jn.set(Pe,Qe)),Qe}(we,Pe).format(z)}const Ot={values:z=>Q(z)?z:""+z,numeric(z,we,Pe){if(0===z)return"0";const Qe=this.chart.options.locale;let ut,Dt=z;if(Pe.length>1){const Mn=Math.max(Math.abs(Pe[0].value),Math.abs(Pe[Pe.length-1].value));(Mn<1e-4||Mn>1e15)&&(ut="scientific"),Dt=function Ut(z,we){let Pe=we.length>3?we[2].value-we[1].value:we[1].value-we[0].value;return Math.abs(Pe)>=1&&z!==Math.floor(z)&&(Pe=z-Math.floor(z)),Pe}(z,Pe)}const Ft=Ue(Math.abs(Dt)),jt=isNaN(Ft)?1:Math.max(Math.min(-1*Math.floor(Ft),20),0),en={notation:ut,minimumFractionDigits:jt,maximumFractionDigits:jt};return Object.assign(en,this.options.ticks.format),tr(z,Qe,en)},logarithmic(z,we,Pe){if(0===z)return"0";const Qe=Pe[we].significand||z/Math.pow(10,Math.floor(Ue(z)));return[1,2,3,5,10,15].includes(Qe)||we>.8*Pe.length?Ot.numeric.call(this,z,we,Pe):""}};var ft={formatters:Ot};const hn=Object.create(null),kn=Object.create(null);function Yn(z,we){if(!we)return z;const Pe=we.split(".");for(let Qe=0,ut=Pe.length;Qe<ut;++Qe){const Dt=Pe[Qe];z=z[Dt]||(z[Dt]=Object.create(null))}return z}function ei(z,we,Pe){return"string"==typeof we?_e(Yn(z,we),Pe):_e(Yn(z,""),we)}class mr{constructor(we,Pe){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=Qe=>Qe.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(Qe,ut)=>vn(ut.backgroundColor),this.hoverBorderColor=(Qe,ut)=>vn(ut.borderColor),this.hoverColor=(Qe,ut)=>vn(ut.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(we),this.apply(Pe)}set(we,Pe){return ei(this,we,Pe)}get(we){return Yn(this,we)}describe(we,Pe){return ei(kn,we,Pe)}override(we,Pe){return ei(hn,we,Pe)}route(we,Pe,Qe,ut){const Dt=Yn(this,we),Ft=Yn(this,Qe),jt="_"+Pe;Object.defineProperties(Dt,{[jt]:{value:Dt[Pe],writable:!0},[Pe]:{enumerable:!0,get(){const en=this[jt],Mn=Ft[ut];return Y(en)?Object.assign({},Mn,en):J(en,Mn)},set(en){this[jt]=en}}})}apply(we){we.forEach(Pe=>Pe(this))}}var rr=new mr({_scriptable:z=>!z.startsWith("on"),_indexable:z=>"events"!==z,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function ai(z){z.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),z.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:we=>"onProgress"!==we&&"onComplete"!==we&&"fn"!==we}),z.set("animations",{colors:{type:"color",properties:Vt},numbers:{type:"number",properties:yn}}),z.describe("animations",{_fallback:"animation"}),z.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:we=>0|we}}}})},function si(z){z.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function Yt(z){z.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(we,Pe)=>Pe.lineWidth,tickColor:(we,Pe)=>Pe.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ft.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),z.route("scale.ticks","color","","color"),z.route("scale.grid","color","","borderColor"),z.route("scale.border","color","","borderColor"),z.route("scale.title","color","","color"),z.describe("scale",{_fallback:!1,_scriptable:we=>!we.startsWith("before")&&!we.startsWith("after")&&"callback"!==we&&"parser"!==we,_indexable:we=>"borderDash"!==we&&"tickBorderDash"!==we&&"dash"!==we}),z.describe("scales",{_fallback:"scale"}),z.describe("scale.ticks",{_scriptable:we=>"backdropPadding"!==we&&"callback"!==we,_indexable:we=>"backdropPadding"!==we})}]);function Hi(z){return!z||$(z.size)||$(z.family)?null:(z.style?z.style+" ":"")+(z.weight?z.weight+" ":"")+z.size+"px "+z.family}function Zi(z,we,Pe,Qe,ut){let Dt=we[ut];return Dt||(Dt=we[ut]=z.measureText(ut).width,Pe.push(ut)),Dt>Qe&&(Qe=Dt),Qe}function hr(z,we,Pe,Qe,ut){let Dt,Ft,jt,en,Mn,Fn,xi,hi;const Zn=we.pointStyle,ve=we.rotation,fe=we.radius;let M=(ve||0)*Re;if(Zn&&"object"==typeof Zn&&(Dt=Zn.toString(),"[object HTMLImageElement]"===Dt||"[object HTMLCanvasElement]"===Dt))return z.save(),z.translate(Pe,Qe),z.rotate(M),z.drawImage(Zn,-Zn.width/2,-Zn.height/2,Zn.width,Zn.height),void z.restore();if(!(isNaN(fe)||fe<=0)){switch(z.beginPath(),Zn){default:ut?z.ellipse(Pe,Qe,ut/2,fe,0,0,pe):z.arc(Pe,Qe,fe,0,pe),z.closePath();break;case"triangle":Fn=ut?ut/2:fe,z.moveTo(Pe+Math.sin(M)*Fn,Qe-Math.cos(M)*fe),M+=Ce,z.lineTo(Pe+Math.sin(M)*Fn,Qe-Math.cos(M)*fe),M+=Ce,z.lineTo(Pe+Math.sin(M)*Fn,Qe-Math.cos(M)*fe),z.closePath();break;case"rectRounded":Mn=.516*fe,en=fe-Mn,Ft=Math.cos(M+Ve)*en,xi=Math.cos(M+Ve)*(ut?ut/2-Mn:en),jt=Math.sin(M+Ve)*en,hi=Math.sin(M+Ve)*(ut?ut/2-Mn:en),z.arc(Pe-xi,Qe-jt,Mn,M-ge,M-De),z.arc(Pe+hi,Qe-Ft,Mn,M-De,M),z.arc(Pe+xi,Qe+jt,Mn,M,M+De),z.arc(Pe-hi,Qe+Ft,Mn,M+De,M+ge),z.closePath();break;case"rect":if(!ve){en=Math.SQRT1_2*fe,Fn=ut?ut/2:en,z.rect(Pe-Fn,Qe-en,2*Fn,2*en);break}M+=Ve;case"rectRot":xi=Math.cos(M)*(ut?ut/2:fe),Ft=Math.cos(M)*fe,jt=Math.sin(M)*fe,hi=Math.sin(M)*(ut?ut/2:fe),z.moveTo(Pe-xi,Qe-jt),z.lineTo(Pe+hi,Qe-Ft),z.lineTo(Pe+xi,Qe+jt),z.lineTo(Pe-hi,Qe+Ft),z.closePath();break;case"crossRot":M+=Ve;case"cross":xi=Math.cos(M)*(ut?ut/2:fe),Ft=Math.cos(M)*fe,jt=Math.sin(M)*fe,hi=Math.sin(M)*(ut?ut/2:fe),z.moveTo(Pe-xi,Qe-jt),z.lineTo(Pe+xi,Qe+jt),z.moveTo(Pe+hi,Qe-Ft),z.lineTo(Pe-hi,Qe+Ft);break;case"star":xi=Math.cos(M)*(ut?ut/2:fe),Ft=Math.cos(M)*fe,jt=Math.sin(M)*fe,hi=Math.sin(M)*(ut?ut/2:fe),z.moveTo(Pe-xi,Qe-jt),z.lineTo(Pe+xi,Qe+jt),z.moveTo(Pe+hi,Qe-Ft),z.lineTo(Pe-hi,Qe+Ft),M+=Ve,xi=Math.cos(M)*(ut?ut/2:fe),Ft=Math.cos(M)*fe,jt=Math.sin(M)*fe,hi=Math.sin(M)*(ut?ut/2:fe),z.moveTo(Pe-xi,Qe-jt),z.lineTo(Pe+xi,Qe+jt),z.moveTo(Pe+hi,Qe-Ft),z.lineTo(Pe-hi,Qe+Ft);break;case"line":Ft=ut?ut/2:Math.cos(M)*fe,jt=Math.sin(M)*fe,z.moveTo(Pe-Ft,Qe-jt),z.lineTo(Pe+Ft,Qe+jt);break;case"dash":z.moveTo(Pe,Qe),z.lineTo(Pe+Math.cos(M)*(ut?ut/2:fe),Qe+Math.sin(M)*fe);break;case!1:z.closePath()}z.fill(),we.borderWidth>0&&z.stroke()}}function Nr(z,we,Pe){return Pe=Pe||.5,!we||z&&z.x>we.left-Pe&&z.x<we.right+Pe&&z.y>we.top-Pe&&z.y<we.bottom+Pe}function uo(z,we,Pe,Qe,ut){if(ut.strikethrough||ut.underline){const Dt=z.measureText(Qe),Ft=we-Dt.actualBoundingBoxLeft,jt=we+Dt.actualBoundingBoxRight,Mn=Pe+Dt.actualBoundingBoxDescent,Fn=ut.strikethrough?(Pe-Dt.actualBoundingBoxAscent+Mn)/2:Mn;z.strokeStyle=z.fillStyle,z.beginPath(),z.lineWidth=ut.decorationWidth||2,z.moveTo(Ft,Fn),z.lineTo(jt,Fn),z.stroke()}}function zi(z,we){const Pe=z.fillStyle;z.fillStyle=we.color,z.fillRect(we.left,we.top,we.width,we.height),z.fillStyle=Pe}const di=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kr=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Er(z,we){const Pe=(""+z).match(di);if(!Pe||"normal"===Pe[1])return 1.2*we;switch(z=+Pe[2],Pe[3]){case"px":return z;case"%":z/=100}return we*z}const oo=z=>+z||0;function Ye(z,we){const Pe={},Qe=Y(we),ut=Qe?Object.keys(we):we,Dt=Y(z)?Qe?Ft=>J(z[Ft],z[we[Ft]]):Ft=>z[Ft]:()=>z;for(const Ft of ut)Pe[Ft]=oo(Dt(Ft));return Pe}function Je(z){return Ye(z,{top:"y",right:"x",bottom:"y",left:"x"})}function zt(z,we){return Object.assign(Object.create(z),we)}function gn(z,we=[""],Pe,Qe,ut=(()=>z[0])){const Dt=Pe||z;typeof Qe>"u"&&(Qe=Vi("_fallback",z));const Ft={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:z,_rootScopes:Dt,_fallback:Qe,_getTarget:ut,override:jt=>gn([jt,...z],we,Dt,Qe)};return new Proxy(Ft,{deleteProperty:(jt,en)=>(delete jt[en],delete jt._keys,delete z[0][en],!0),get:(jt,en)=>$i(jt,en,()=>function zr(z,we,Pe,Qe){let ut;for(const Dt of we)if(ut=Vi(ii(Dt,z),Pe),typeof ut<"u")return In(z,ut)?fo(Pe,Qe,z,ut):ut}(en,we,z,jt)),getOwnPropertyDescriptor:(jt,en)=>Reflect.getOwnPropertyDescriptor(jt._scopes[0],en),getPrototypeOf:()=>Reflect.getPrototypeOf(z[0]),has:(jt,en)=>He(jt).includes(en),ownKeys:jt=>He(jt),set(jt,en,Mn){const Fn=jt._storage||(jt._storage=ut());return jt[en]=Fn[en]=Mn,delete jt._keys,!0}})}function Hn(z,we={scriptable:!0,indexable:!0}){const{_scriptable:Pe=we.scriptable,_indexable:Qe=we.indexable,_allKeys:ut=we.allKeys}=z;return{allKeys:ut,scriptable:Pe,indexable:Qe,isScriptable:ct(Pe)?Pe:()=>Pe,isIndexable:ct(Qe)?Qe:()=>Qe}}const ii=(z,we)=>z?z+Ze(we):we,In=(z,we)=>Y(we)&&"adapters"!==z&&(null===Object.getPrototypeOf(we)||we.constructor===Object);function $i(z,we,Pe){if(Object.prototype.hasOwnProperty.call(z,we)||"constructor"===we)return z[we];const Qe=Pe();return z[we]=Qe,Qe}function xr(z,we,Pe){return ct(z)?z(we,Pe):z}const fr=(z,we)=>!0===z?we:"string"==typeof z?Ge(we,z):void 0;function Kr(z,we,Pe,Qe,ut){for(const Dt of we){const Ft=fr(Pe,Dt);if(Ft){z.add(Ft);const jt=xr(Ft._fallback,Pe,ut);if(typeof jt<"u"&&jt!==Pe&&jt!==Qe)return jt}else if(!1===Ft&&typeof Qe<"u"&&Pe!==Qe)return null}return!1}function fo(z,we,Pe,Qe){const ut=we._rootScopes,Dt=xr(we._fallback,Pe,Qe),Ft=[...z,...ut],jt=new Set;jt.add(Qe);let en=Po(jt,Ft,Pe,Dt||Pe,Qe);return!(null===en||typeof Dt<"u"&&Dt!==Pe&&(en=Po(jt,Ft,Dt,en,Qe),null===en))&&gn(Array.from(jt),[""],ut,Dt,()=>function jo(z,we,Pe){const Qe=z._getTarget();we in Qe||(Qe[we]={});const ut=Qe[we];return Q(ut)&&Y(Pe)?Pe:ut||{}}(we,Pe,Qe))}function Po(z,we,Pe,Qe,ut){for(;Pe;)Pe=Kr(z,we,Pe,Qe,ut);return Pe}function Vi(z,we){for(const Pe of we){if(!Pe)continue;const Qe=Pe[z];if(typeof Qe<"u")return Qe}}function He(z){let we=z._keys;return we||(we=z._keys=function st(z){const we=new Set;for(const Pe of z)for(const Qe of Object.keys(Pe).filter(ut=>!ut.startsWith("_")))we.add(Qe);return Array.from(we)}(z._scopes)),we}const $t=Number.EPSILON||1e-14,Gt=(z,we)=>we<z.length&&!z[we].skip&&z[we],un=z=>"x"===z?"y":"x";function Ln(z,we,Pe,Qe){const ut=z.skip?we:z,Dt=we,Ft=Pe.skip?we:Pe,jt=Wt(Dt,ut),en=Wt(Ft,Dt);let Mn=jt/(jt+en),Fn=en/(jt+en);Mn=isNaN(Mn)?0:Mn,Fn=isNaN(Fn)?0:Fn;const xi=Qe*Mn,hi=Qe*Fn;return{previous:{x:Dt.x-xi*(Ft.x-ut.x),y:Dt.y-xi*(Ft.y-ut.y)},next:{x:Dt.x+hi*(Ft.x-ut.x),y:Dt.y+hi*(Ft.y-ut.y)}}}function wn(z,we="x"){const Pe=un(we),Qe=z.length,ut=Array(Qe).fill(0),Dt=Array(Qe);let Ft,jt,en,Mn=Gt(z,0);for(Ft=0;Ft<Qe;++Ft)if(jt=en,en=Mn,Mn=Gt(z,Ft+1),en){if(Mn){const Fn=Mn[we]-en[we];ut[Ft]=0!==Fn?(Mn[Pe]-en[Pe])/Fn:0}Dt[Ft]=jt?Mn?Me(ut[Ft-1])!==Me(ut[Ft])?0:(ut[Ft-1]+ut[Ft])/2:ut[Ft-1]:ut[Ft]}(function Tn(z,we,Pe){const Qe=z.length;let ut,Dt,Ft,jt,en,Mn=Gt(z,0);for(let Fn=0;Fn<Qe-1;++Fn)if(en=Mn,Mn=Gt(z,Fn+1),en&&Mn){if(Fe(we[Fn],0,$t)){Pe[Fn]=Pe[Fn+1]=0;continue}ut=Pe[Fn]/we[Fn],Dt=Pe[Fn+1]/we[Fn],jt=Math.pow(ut,2)+Math.pow(Dt,2),!(jt<=9)&&(Ft=3/Math.sqrt(jt),Pe[Fn]=ut*Ft*we[Fn],Pe[Fn+1]=Dt*Ft*we[Fn])}})(z,ut,Dt),function Vn(z,we,Pe="x"){const Qe=un(Pe),ut=z.length;let Dt,Ft,jt,en=Gt(z,0);for(let Mn=0;Mn<ut;++Mn){if(Ft=jt,jt=en,en=Gt(z,Mn+1),!jt)continue;const Fn=jt[Pe],xi=jt[Qe];Ft&&(Dt=(Fn-Ft[Pe])/3,jt[`cp1${Pe}`]=Fn-Dt,jt[`cp1${Qe}`]=xi-Dt*we[Mn]),en&&(Dt=(en[Pe]-Fn)/3,jt[`cp2${Pe}`]=Fn+Dt,jt[`cp2${Qe}`]=xi+Dt*we[Mn])}}(z,Dt,we)}function oi(z,we,Pe){return Math.max(Math.min(z,Pe),we)}function gi(){return typeof window<"u"&&typeof document<"u"}function Sr(z){let we=z.parentNode;return we&&"[object ShadowRoot]"===we.toString()&&(we=we.host),we}function Br(z,we,Pe){let Qe;return"string"==typeof z?(Qe=parseInt(z,10),-1!==z.indexOf("%")&&(Qe=Qe/100*we.parentNode[Pe])):Qe=z,Qe}const or=z=>z.ownerDocument.defaultView.getComputedStyle(z,null);function Cr(z,we){return or(z).getPropertyValue(we)}const yi=["top","right","bottom","left"];function yr(z,we,Pe){const Qe={};Pe=Pe?"-"+Pe:"";for(let ut=0;ut<4;ut++){const Dt=yi[ut];Qe[Dt]=parseFloat(z[we+"-"+Dt+Pe])||0}return Qe.width=Qe.left+Qe.right,Qe.height=Qe.top+Qe.bottom,Qe}const pr=z=>Math.round(10*z)/10,yo=function(){let z=!1;try{const we={get passive(){return z=!0,!1}};gi()&&(window.addEventListener("test",null,we),window.removeEventListener("test",null,we))}catch{}return z}();function Jr(z,we,Pe,Qe){return{x:z.x+Pe*(we.x-z.x),y:z.y+Pe*(we.y-z.y)}}function Pr(z){return"angle"===z?{between:_n,compare:mn,normalize:Cn}:{between:Oi,compare:(we,Pe)=>we-Pe,normalize:we=>we}}function zo({start:z,end:we,count:Pe,loop:Qe,style:ut}){return{start:z%Pe,end:we%Pe,loop:Qe&&(we-z+1)%Pe==0,style:ut}}function Ho(z,we,Pe){if(!Pe)return[z];const{property:Qe,start:ut,end:Dt}=Pe,Ft=we.length,{compare:jt,between:en,normalize:Mn}=Pr(Qe),{start:Fn,end:xi,loop:hi,style:Zn}=function Bo(z,we,Pe){const{property:Qe,start:ut,end:Dt}=Pe,{between:Ft,normalize:jt}=Pr(Qe),en=we.length;let hi,Zn,{start:Mn,end:Fn,loop:xi}=z;if(xi){for(Mn+=en,Fn+=en,hi=0,Zn=en;hi<Zn&&Ft(jt(we[Mn%en][Qe]),ut,Dt);++hi)Mn--,Fn--;Mn%=en,Fn%=en}return Fn<Mn&&(Fn+=en),{start:Mn,end:Fn,loop:xi,style:z.style}}(z,we,Pe),ve=[];let N,h,T,fe=!1,M=null;for(let Rt=Fn,Bt=Fn;Rt<=xi;++Rt)h=we[Rt%Ft],!h.skip&&(N=Mn(h[Qe]),N!==T&&(fe=en(N,ut,Dt),null===M&&(fe||en(ut,T,N)&&0!==jt(ut,T))&&(M=0===jt(N,ut)?Rt:Bt),null!==M&&(!fe||0===jt(Dt,N)||en(Dt,T,N))&&(ve.push(zo({start:M,end:Rt,loop:hi,count:Ft,style:Zn})),M=null),Bt=Rt,T=N));return null!==M&&ve.push(zo({start:M,end:xi,loop:hi,count:Ft,style:Zn})),ve}function Go(z){return{backgroundColor:z.backgroundColor,borderCapStyle:z.borderCapStyle,borderDash:z.borderDash,borderDashOffset:z.borderDashOffset,borderJoinStyle:z.borderJoinStyle,borderWidth:z.borderWidth,borderColor:z.borderColor}}function qi(z,we){if(!we)return!1;const Pe=[],Qe=function(ut,Dt){return bt(Dt)?(Pe.includes(Dt)||Pe.push(Dt),Pe.indexOf(Dt)):Dt};return JSON.stringify(z,Qe)!==JSON.stringify(we,Qe)}H.HALF_PI=De,H.INFINITY=Te,H.PI=ge,H.PITAU=Se,H.QUARTER_PI=Ve,H.RAD_PER_DEG=Re,H.TAU=pe,H.TWO_THIRDS_PI=Ce,H.Ticks=ft,H._addGrace=function Ht(z,we,Pe){const{min:Qe,max:ut}=z,Dt=oe(we,(ut-Qe)/2),Ft=(jt,en)=>Pe&&0===jt?0:jt+en;return{min:Ft(Qe,-Math.abs(Dt)),max:Ft(ut,Dt)}},H._alignPixel=function Fr(z,we,Pe){const Qe=z.currentDevicePixelRatio,ut=0!==Pe?Math.max(Pe/2,.5):0;return Math.round((we-ut)*Qe)/Qe+ut},H._alignStartEnd=(z,we,Pe)=>"start"===z?we:"end"===z?Pe:(we+Pe)/2,H._angleBetween=_n,H._angleDiff=mn,H._arrayUnique=function Tt(z){const we=new Set(z);return we.size===z.length?z:Array.from(we)},H._attachContext=function an(z,we,Pe,Qe){const ut={_cacheable:!1,_proxy:z,_context:we,_subProxy:Pe,_stack:new Set,_descriptors:Hn(z,Qe),setContext:Dt=>an(z,Dt,Pe,Qe),override:Dt=>an(z.override(Dt),we,Pe,Qe)};return new Proxy(ut,{deleteProperty:(Dt,Ft)=>(delete Dt[Ft],delete z[Ft],!0),get:(Dt,Ft,jt)=>$i(Dt,Ft,()=>function Ir(z,we,Pe){const{_proxy:Qe,_context:ut,_subProxy:Dt,_descriptors:Ft}=z;let jt=Qe[we];return ct(jt)&&Ft.isScriptable(we)&&(jt=function ho(z,we,Pe,Qe){const{_proxy:ut,_context:Dt,_subProxy:Ft,_stack:jt}=Pe;if(jt.has(z))throw new Error("Recursion detected: "+Array.from(jt).join("->")+"->"+z);jt.add(z);let en=we(Dt,Ft||Qe);return jt.delete(z),In(z,en)&&(en=fo(ut._scopes,ut,z,en)),en}(we,jt,z,Pe)),Q(jt)&&jt.length&&(jt=function Ii(z,we,Pe,Qe){const{_proxy:ut,_context:Dt,_subProxy:Ft,_descriptors:jt}=Pe;if(typeof Dt.index<"u"&&Qe(z))return we[Dt.index%we.length];if(Y(we[0])){const en=we,Mn=ut._scopes.filter(Fn=>Fn!==en);we=[];for(const Fn of en){const xi=fo(Mn,ut,z,Fn);we.push(an(xi,Dt,Ft&&Ft[z],jt))}}return we}(we,jt,z,Ft.isIndexable)),In(we,jt)&&(jt=an(jt,ut,Dt&&Dt[we],Ft)),jt}(Dt,Ft,jt)),getOwnPropertyDescriptor:(Dt,Ft)=>Dt._descriptors.allKeys?Reflect.has(z,Ft)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(z,Ft),getPrototypeOf:()=>Reflect.getPrototypeOf(z),has:(Dt,Ft)=>Reflect.has(z,Ft),ownKeys:()=>Reflect.ownKeys(z),set:(Dt,Ft,jt)=>(z[Ft]=jt,delete Dt[Ft],!0)})},H._bezierCurveTo=function no(z,we,Pe,Qe){if(!we)return z.lineTo(Pe.x,Pe.y);z.bezierCurveTo(Qe?we.cp1x:we.cp2x,Qe?we.cp1y:we.cp2y,Qe?Pe.cp2x:Pe.cp1x,Qe?Pe.cp2y:Pe.cp1y,Pe.x,Pe.y)},H._bezierInterpolation=function bo(z,we,Pe,Qe){const ut={x:z.cp2x,y:z.cp2y},Dt={x:we.cp1x,y:we.cp1y},Ft=Jr(z,ut,Pe),jt=Jr(ut,Dt,Pe),en=Jr(Dt,we,Pe),Mn=Jr(Ft,jt,Pe),Fn=Jr(jt,en,Pe);return Jr(Mn,Fn,Pe)},H._boundSegment=Ho,H._boundSegments=function Uo(z,we){const Pe=[],Qe=z.segments;for(let ut=0;ut<Qe.length;ut++){const Dt=Ho(Qe[ut],z.points,we);Dt.length&&Pe.push(...Dt)}return Pe},H._capitalize=Ze,H._computeSegments=function $o(z,we){const Pe=z.points,Qe=z.options.spanGaps,ut=Pe.length;if(!ut)return[];const Dt=!!z._loop,{start:Ft,end:jt}=function Xr(z,we,Pe,Qe){let ut=0,Dt=we-1;if(Pe&&!Qe)for(;ut<we&&!z[ut].skip;)ut++;for(;ut<we&&z[ut].skip;)ut++;for(ut%=we,Pe&&(Dt+=ut);Dt>ut&&z[Dt%we].skip;)Dt--;return Dt%=we,{start:ut,end:Dt}}(Pe,ut,Dt,Qe);return function Zr(z,we,Pe,Qe){return Qe&&Qe.setContext&&Pe?function Ko(z,we,Pe,Qe){const ut=z._chart.getContext(),Dt=Go(z.options),{_datasetIndex:Ft,options:{spanGaps:jt}}=z,en=Pe.length,Mn=[];let Fn=Dt,xi=we[0].start,hi=xi;function Zn(ve,fe,M,N){const h=jt?-1:1;if(ve!==fe){for(ve+=en;Pe[ve%en].skip;)ve-=h;for(;Pe[fe%en].skip;)fe+=h;ve%en!=fe%en&&(Mn.push({start:ve%en,end:fe%en,loop:M,style:N}),Fn=N,xi=fe%en)}}for(const ve of we){xi=jt?xi:ve.start;let M,fe=Pe[xi%en];for(hi=xi+1;hi<=ve.end;hi++){const N=Pe[hi%en];M=Go(Qe.setContext(zt(ut,{type:"segment",p0:fe,p1:N,p0DataIndex:(hi-1)%en,p1DataIndex:hi%en,datasetIndex:Ft}))),qi(M,Fn)&&Zn(xi,hi-1,ve.loop,Fn),fe=N,Fn=M}xi<hi-1&&Zn(xi,hi-1,ve.loop,Fn)}return Mn}(z,we,Pe,Qe):we}(z,!0===Qe?[{start:Ft,end:jt,loop:Dt}]:function Fo(z,we,Pe,Qe){const ut=z.length,Dt=[];let en,Ft=we,jt=z[we];for(en=we+1;en<=Pe;++en){const Mn=z[en%ut];Mn.skip||Mn.stop?jt.skip||(Dt.push({start:we%ut,end:(en-1)%ut,loop:Qe=!1}),we=Ft=Mn.stop?en:null):(Ft=en,jt.skip&&(we=en)),jt=Mn}return null!==Ft&&Dt.push({start:we%ut,end:Ft%ut,loop:Qe}),Dt}(Pe,Ft,jt<Ft?jt+ut:jt,!!z._fullLoop&&0===Ft&&jt===ut-1),Pe,we)},H._createResolver=gn,H._decimalPlaces=function at(z){if(!Z(z))return;let we=1,Pe=0;for(;Math.round(z*we)/we!==z;)we*=10,Pe++;return Pe},H._deprecated=function tt(z,we,Pe,Qe){void 0!==we&&console.warn(z+': "'+Pe+'" is deprecated. Please use "'+Qe+'" instead')},H._descriptors=Hn,H._elementsEqual=function de(z,we){let Pe,Qe,ut,Dt;if(!z||!we||z.length!==we.length)return!1;for(Pe=0,Qe=z.length;Pe<Qe;++Pe)if(ut=z[Pe],Dt=we[Pe],ut.datasetIndex!==Dt.datasetIndex||ut.index!==Dt.index)return!1;return!0},H._factorize=function _t(z){const we=[],Pe=Math.sqrt(z);let Qe;for(Qe=1;Qe<Pe;Qe++)z%Qe==0&&(we.push(Qe),we.push(z/Qe));return Pe===(0|Pe)&&we.push(Pe),we.sort((ut,Dt)=>ut-Dt).pop(),we},H._filterBetween=function Mr(z,we,Pe){let Qe=0,ut=z.length;for(;Qe<ut&&z[Qe]<we;)Qe++;for(;ut>Qe&&z[ut-1]>Pe;)ut--;return Qe>0||ut<z.length?z.slice(Qe,ut):z},H._getParentNode=Sr,H._getStartAndCountOfVisiblePoints=function Nn(z,we,Pe){const Qe=we.length;let ut=0,Dt=Qe;if(z._sorted){const{iScale:Ft,_parsed:jt}=z,en=Ft.axis,{min:Mn,max:Fn,minDefined:xi,maxDefined:hi}=Ft.getUserBounds();xi&&(ut=ui(Math.min(br(jt,en,Mn).lo,Pe?Qe:br(we,en,Ft.getPixelForValue(Mn)).lo),0,Qe-1)),Dt=hi?ui(Math.max(br(jt,Ft.axis,Fn,!0).hi+1,Pe?0:br(we,en,Ft.getPixelForValue(Fn),!0).hi+1),ut,Qe)-ut:Qe-ut}return{start:ut,count:Dt}},H._int16Range=function wi(z){return ui(z,-32768,32767)},H._isBetween=Oi,H._isClickEvent=function Ke(z){return"mouseup"===z.type||"click"===z.type||"contextmenu"===z.type},H._isDomSupported=gi,H._isPointInArea=Nr,H._limitValue=ui,H._longestText=function Rr(z,we,Pe,Qe){let ut=(Qe=Qe||{}).data=Qe.data||{},Dt=Qe.garbageCollect=Qe.garbageCollect||[];Qe.font!==we&&(ut=Qe.data={},Dt=Qe.garbageCollect=[],Qe.font=we),z.save(),z.font=we;let Ft=0;const jt=Pe.length;let en,Mn,Fn,xi,hi;for(en=0;en<jt;en++)if(xi=Pe[en],null==xi||Q(xi)){if(Q(xi))for(Mn=0,Fn=xi.length;Mn<Fn;Mn++)hi=xi[Mn],null!=hi&&!Q(hi)&&(Ft=Zi(z,ut,Dt,Ft,hi))}else Ft=Zi(z,ut,Dt,Ft,xi);z.restore();const Zn=Dt.length/2;if(Zn>Pe.length){for(en=0;en<Zn;en++)delete ut[Dt[en]];Dt.splice(0,Zn)}return Ft},H._lookup=er,H._lookupByKey=br,H._measureText=Zi,H._merger=se,H._mergerIf=Be,H._normalizeAngle=Cn,H._parseObjectDataRadialScale=function wt(z,we,Pe,Qe){const{iScale:ut}=z,{key:Dt="r"}=this._parsing,Ft=new Array(Qe);let jt,en,Mn,Fn;for(jt=0,en=Qe;jt<en;++jt)Mn=jt+Pe,Fn=we[Mn],Ft[jt]={r:ut.parse(Ge(Fn,Dt),Mn)};return Ft},H._pointInLine=Jr,H._readValueToProps=Ye,H._rlookupByKey=(z,we,Pe)=>er(z,Pe,Qe=>z[Qe][we]>=Pe),H._scaleRangesChanged=function Di(z){const{xScale:we,yScale:Pe,_scaleRanges:Qe}=z,ut={xmin:we.min,xmax:we.max,ymin:Pe.min,ymax:Pe.max};if(!Qe)return z._scaleRanges=ut,!0;const Dt=Qe.xmin!==we.min||Qe.xmax!==we.max||Qe.ymin!==Pe.min||Qe.ymax!==Pe.max;return Object.assign(Qe,ut),Dt},H._setMinAndMaxByKey=function En(z,we,Pe){let Qe,ut,Dt;for(Qe=0,ut=z.length;Qe<ut;Qe++)Dt=z[Qe][Pe],isNaN(Dt)||(we.min=Math.min(we.min,Dt),we.max=Math.max(we.max,Dt))},H._splitKey=vt,H._steppedInterpolation=function Ti(z,we,Pe,Qe){return{x:z.x+Pe*(we.x-z.x),y:"middle"===Qe?Pe<.5?z.y:we.y:"after"===Qe?Pe<1?z.y:we.y:Pe>0?we.y:z.y}},H._steppedLineTo=function lo(z,we,Pe,Qe,ut){if(!we)return z.lineTo(Pe.x,Pe.y);if("middle"===ut){const Dt=(we.x+Pe.x)/2;z.lineTo(Dt,we.y),z.lineTo(Dt,Pe.y)}else"after"===ut!=!!Qe?z.lineTo(we.x,Pe.y):z.lineTo(Pe.x,we.y);z.lineTo(Pe.x,Pe.y)},H._textX=(z,we,Pe,Qe)=>z===(Qe?"left":"right")?Pe:"center"===z?(we+Pe)/2:we,H._toLeftRightCenter=z=>"start"===z?"left":"end"===z?"right":"center",H._updateBezierControlPoints=function vi(z,we,Pe,Qe,ut){let Dt,Ft,jt,en;if(we.spanGaps&&(z=z.filter(Mn=>!Mn.skip)),"monotone"===we.cubicInterpolationMode)wn(z,ut);else{let Mn=Qe?z[z.length-1]:z[0];for(Dt=0,Ft=z.length;Dt<Ft;++Dt)jt=z[Dt],en=Ln(Mn,jt,z[Math.min(Dt+1,Ft-(Qe?0:1))%Ft],we.tension),jt.cp1x=en.previous.x,jt.cp1y=en.previous.y,jt.cp2x=en.next.x,jt.cp2y=en.next.y,Mn=jt}we.capBezierPoints&&function Gi(z,we){let Pe,Qe,ut,Dt,Ft,jt=Nr(z[0],we);for(Pe=0,Qe=z.length;Pe<Qe;++Pe)Ft=Dt,Dt=jt,jt=Pe<Qe-1&&Nr(z[Pe+1],we),Dt&&(ut=z[Pe],Ft&&(ut.cp1x=oi(ut.cp1x,we.left,we.right),ut.cp1y=oi(ut.cp1y,we.top,we.bottom)),jt&&(ut.cp2x=oi(ut.cp2x,we.left,we.right),ut.cp2y=oi(ut.cp2y,we.top,we.bottom)))}(z,Pe)},H.addRoundedRectPath=function _i(z,we){const{x:Pe,y:Qe,w:ut,h:Dt,radius:Ft}=we;z.arc(Pe+Ft.topLeft,Qe+Ft.topLeft,Ft.topLeft,1.5*ge,ge,!0),z.lineTo(Pe,Qe+Dt-Ft.bottomLeft),z.arc(Pe+Ft.bottomLeft,Qe+Dt-Ft.bottomLeft,Ft.bottomLeft,ge,De,!0),z.lineTo(Pe+ut-Ft.bottomRight,Qe+Dt),z.arc(Pe+ut-Ft.bottomRight,Qe+Dt-Ft.bottomRight,Ft.bottomRight,De,0,!0),z.lineTo(Pe+ut,Qe+Ft.topRight),z.arc(Pe+ut-Ft.topRight,Qe+Ft.topRight,Ft.topRight,0,-De,!0),z.lineTo(Pe+Ft.topLeft,Qe)},H.almostEquals=Fe,H.almostWhole=function cn(z,we){const Pe=Math.round(z);return Pe-we<=z&&Pe+we>=z},H.callback=function ce(z,we,Pe){if(z&&"function"==typeof z.call)return z.apply(Pe,we)},H.clearCanvas=function go(z,we){!we&&!z||((we=we||z.getContext("2d")).save(),we.resetTransform(),we.clearRect(0,0,z.width,z.height),we.restore())},H.clipArea=function Ki(z,we){z.save(),z.beginPath(),z.rect(we.left,we.top,we.right-we.left,we.bottom-we.top),z.clip()},H.clone=ke,H.color=function kt(z){return bt(z)?z:new r.Color(z)},H.createContext=zt,H.debounce=function sn(z,we){let Pe;return function(...Qe){return we?(clearTimeout(Pe),Pe=setTimeout(z,we,Qe)):z.apply(this,Qe),we}},H.defaults=rr,H.defined=z=>typeof z<"u",H.descriptors=kn,H.distanceBetweenPoints=Wt,H.drawPoint=function Do(z,we,Pe,Qe){hr(z,we,Pe,Qe,null)},H.drawPointLegend=hr,H.each=function le(z,we,Pe,Qe){let ut,Dt,Ft;if(Q(z))if(Dt=z.length,Qe)for(ut=Dt-1;ut>=0;ut--)we.call(Pe,z[ut],ut);else for(ut=0;ut<Dt;ut++)we.call(Pe,z[ut],ut);else if(Y(z))for(Ft=Object.keys(z),Dt=Ft.length,ut=0;ut<Dt;ut++)we.call(Pe,z[Ft[ut]],Ft[ut])},H.effects=Zt,H.finiteOrDefault=function G(z,we){return Z(z)?z:we},H.fontString=function xt(z,we,Pe){return we+" "+z+"px "+Pe},H.formatNumber=tr,H.getAngleFromPoint=function tn(z,we){const Pe=we.x-z.x,Qe=we.y-z.y,ut=Math.sqrt(Pe*Pe+Qe*Qe);let Dt=Math.atan2(Qe,Pe);return Dt<-.5*ge&&(Dt+=pe),{angle:Dt,distance:ut}},H.getHoverColor=vn,H.getMaximumSize=function so(z,we,Pe,Qe){const ut=or(z),Dt=yr(ut,"margin"),Ft=Br(ut.maxWidth,z,"clientWidth")||Te,jt=Br(ut.maxHeight,z,"clientHeight")||Te,en=function Wr(z,we,Pe){let Qe,ut;if(void 0===we||void 0===Pe){const Dt=z&&Sr(z);if(Dt){const Ft=Dt.getBoundingClientRect(),jt=or(Dt),en=yr(jt,"border","width"),Mn=yr(jt,"padding");we=Ft.width-Mn.width-en.width,Pe=Ft.height-Mn.height-en.height,Qe=Br(jt.maxWidth,Dt,"clientWidth"),ut=Br(jt.maxHeight,Dt,"clientHeight")}else we=z.clientWidth,Pe=z.clientHeight}return{width:we,height:Pe,maxWidth:Qe||Te,maxHeight:ut||Te}}(z,we,Pe);let{width:Mn,height:Fn}=en;if("content-box"===ut.boxSizing){const hi=yr(ut,"border","width"),Zn=yr(ut,"padding");Mn-=Zn.width+hi.width,Fn-=Zn.height+hi.height}return Mn=Math.max(0,Mn-Dt.width),Fn=Math.max(0,Qe?Mn/Qe:Fn-Dt.height),Mn=pr(Math.min(Mn,Ft,en.maxWidth)),Fn=pr(Math.min(Fn,jt,en.maxHeight)),Mn&&!Fn&&(Fn=pr(Mn/2)),(void 0!==we||void 0!==Pe)&&Qe&&en.height&&Fn>en.height&&(Fn=en.height,Mn=pr(Math.floor(Fn*Qe))),{width:Mn,height:Fn}},H.getRelativePosition=function Ar(z,we){if("native"in z)return z;const{canvas:Pe,currentDevicePixelRatio:Qe}=we,ut=or(Pe),Dt="border-box"===ut.boxSizing,Ft=yr(ut,"padding"),jt=yr(ut,"border","width"),{x:en,y:Mn,box:Fn}=function Li(z,we){const Pe=z.touches,Qe=Pe&&Pe.length?Pe[0]:z,{offsetX:ut,offsetY:Dt}=Qe;let jt,en,Ft=!1;if(((z,we,Pe)=>(z>0||we>0)&&(!Pe||!Pe.shadowRoot))(ut,Dt,z.target))jt=ut,en=Dt;else{const Mn=we.getBoundingClientRect();jt=Qe.clientX-Mn.left,en=Qe.clientY-Mn.top,Ft=!0}return{x:jt,y:en,box:Ft}}(z,Pe),xi=Ft.left+(Fn&&jt.left),hi=Ft.top+(Fn&&jt.top);let{width:Zn,height:ve}=we;return Dt&&(Zn-=Ft.width+jt.width,ve-=Ft.height+jt.height),{x:Math.round((en-xi)/Zn*Pe.width/Qe),y:Math.round((Mn-hi)/ve*Pe.height/Qe)}},H.getRtlAdapter=function Yr(z,we,Pe){return z?function(z,we){return{x:Pe=>z+z+we-Pe,setWidth(Pe){we=Pe},textAlign:Pe=>"center"===Pe?Pe:"right"===Pe?"left":"right",xPlus:(Pe,Qe)=>Pe-Qe,leftForLtr:(Pe,Qe)=>Pe-Qe}}(we,Pe):{x:z=>z,setWidth(z){},textAlign:z=>z,xPlus:(z,we)=>z+we,leftForLtr:(z,we)=>z}},H.getStyle=Cr,H.isArray=Q,H.isFunction=ct,H.isNullOrUndef=$,H.isNumber=function Mt(z){return!isNaN(parseFloat(z))&&isFinite(z)},H.isNumberFinite=Z,H.isObject=Y,H.isPatternOrGradient=bt,H.listenArrayEvents=function Sn(z,we){z._chartjs?z._chartjs.listeners.push(we):(Object.defineProperty(z,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[we]}}),ir.forEach(Pe=>{const Qe="_onData"+Ze(Pe),ut=z[Pe];Object.defineProperty(z,Pe,{configurable:!0,enumerable:!1,value(...Dt){const Ft=ut.apply(this,Dt);return z._chartjs.listeners.forEach(jt=>{"function"==typeof jt[Qe]&&jt[Qe](...Dt)}),Ft}})}))},H.log10=Ue,H.merge=_e,H.mergeIf=Ie,H.niceNum=function mt(z){const we=Math.round(z);z=Fe(z,we,z/1e3)?we:z;const Pe=Math.pow(10,Math.floor(Ue(z))),Qe=z/Pe;return(Qe<=1?1:Qe<=2?2:Qe<=5?5:10)*Pe},H.noop=function F(){},H.overrideTextDirection=function Ao(z,we){let Pe,Qe;("ltr"===we||"rtl"===we)&&(Pe=z.canvas.style,Qe=[Pe.getPropertyValue("direction"),Pe.getPropertyPriority("direction")],Pe.setProperty("direction",we,"important"),z.prevTextDirection=Qe)},H.overrides=hn,H.readUsedSize=function _o(z,we){const Pe=Cr(z,we),Qe=Pe&&Pe.match(/^(\d+)(\.\d+)?px$/);return Qe?+Qe[1]:void 0},H.renderText=function Bi(z,we,Pe,Qe,ut,Dt={}){const Ft=Q(we)?we:[we],jt=Dt.strokeWidth>0&&""!==Dt.strokeColor;let en,Mn;for(z.save(),z.font=ut.string,function Gr(z,we){we.translation&&z.translate(we.translation[0],we.translation[1]),$(we.rotation)||z.rotate(we.rotation),we.color&&(z.fillStyle=we.color),we.textAlign&&(z.textAlign=we.textAlign),we.textBaseline&&(z.textBaseline=we.textBaseline)}(z,Dt),en=0;en<Ft.length;++en)Mn=Ft[en],Dt.backdrop&&zi(z,Dt.backdrop),jt&&(Dt.strokeColor&&(z.strokeStyle=Dt.strokeColor),$(Dt.strokeWidth)||(z.lineWidth=Dt.strokeWidth),z.strokeText(Mn,Pe,Qe,Dt.maxWidth)),z.fillText(Mn,Pe,Qe,Dt.maxWidth),uo(z,Pe,Qe,Mn,Dt),Qe+=Number(ut.lineHeight);z.restore()},H.requestAnimFrame=nt,H.resolve=function ot(z,we,Pe,Qe){let Dt,Ft,jt,ut=!0;for(Dt=0,Ft=z.length;Dt<Ft;++Dt)if(jt=z[Dt],void 0!==jt&&(void 0!==we&&"function"==typeof jt&&(jt=jt(we),ut=!1),void 0!==Pe&&Q(jt)&&(jt=jt[Pe%jt.length],ut=!1),void 0!==jt))return Qe&&!ut&&(Qe.cacheable=!1),jt},H.resolveObjectKey=Ge,H.restoreTextDirection=function Lo(z,we){void 0!==we&&(delete z.prevTextDirection,z.canvas.style.setProperty("direction",we[0],we[1]))},H.retinaScale=function mo(z,we,Pe){const Qe=we||1,ut=Math.floor(z.height*Qe),Dt=Math.floor(z.width*Qe);z.height=Math.floor(z.height),z.width=Math.floor(z.width);const Ft=z.canvas;return Ft.style&&(Pe||!Ft.style.height&&!Ft.style.width)&&(Ft.style.height=`${z.height}px`,Ft.style.width=`${z.width}px`),(z.currentDevicePixelRatio!==Qe||Ft.height!==ut||Ft.width!==Dt)&&(z.currentDevicePixelRatio=Qe,Ft.height=ut,Ft.width=Dt,z.ctx.setTransform(Qe,0,0,Qe,0,0),!0)},H.setsEqual=(z,we)=>{if(z.size!==we.size)return!1;for(const Pe of z)if(!we.has(Pe))return!1;return!0},H.sign=Me,H.splineCurve=Ln,H.splineCurveMonotone=wn,H.supportsEventListenerOptions=yo,H.throttled=function ln(z,we){let Pe=[],Qe=!1;return function(...ut){Pe=ut,Qe||(Qe=!0,nt.call(window,()=>{Qe=!1,z.apply(we,Pe)}))}},H.toDegrees=function Et(z){return z*(180/ge)},H.toDimension=oe,H.toFont=function Qt(z,we){let Pe=J((z=z||{}).size,(we=we||rr.font).size);"string"==typeof Pe&&(Pe=parseInt(Pe,10));let Qe=J(z.style,we.style);Qe&&!(""+Qe).match(kr)&&(console.warn('Invalid font style specified: "'+Qe+'"'),Qe=void 0);const ut={family:J(z.family,we.family),lineHeight:Er(J(z.lineHeight,we.lineHeight),Pe),size:Pe,style:Qe,weight:J(z.weight,we.weight),string:""};return ut.string=Hi(ut),ut},H.toFontString=Hi,H.toLineHeight=Er,H.toPadding=function Lt(z){const we=Je(z);return we.width=we.left+we.right,we.height=we.top+we.bottom,we},H.toPercentage=(z,we)=>"string"==typeof z&&z.endsWith("%")?parseFloat(z)/100:+z/we,H.toRadians=function on(z){return z*(ge/180)},H.toTRBL=Je,H.toTRBLCorners=function dt(z){return Ye(z,["topLeft","topRight","bottomLeft","bottomRight"])},H.uid=q,H.unclipArea=function wr(z){z.restore()},H.unlistenArrayEvents=function Bn(z,we){const Pe=z._chartjs;if(!Pe)return;const Qe=Pe.listeners,ut=Qe.indexOf(we);-1!==ut&&Qe.splice(ut,1),!(Qe.length>0)&&(ir.forEach(Dt=>{delete z[Dt]}),delete z._chartjs)},H.valueOrDefault=J},4773:(Ct,H,A)=>{"use strict";var r=A(250);A(9128),H.HALF_PI=r.HALF_PI,H.INFINITY=r.INFINITY,H.PI=r.PI,H.PITAU=r.PITAU,H.QUARTER_PI=r.QUARTER_PI,H.RAD_PER_DEG=r.RAD_PER_DEG,H.TAU=r.TAU,H.TWO_THIRDS_PI=r.TWO_THIRDS_PI,H._addGrace=r._addGrace,H._alignPixel=r._alignPixel,H._alignStartEnd=r._alignStartEnd,H._angleBetween=r._angleBetween,H._angleDiff=r._angleDiff,H._arrayUnique=r._arrayUnique,H._attachContext=r._attachContext,H._bezierCurveTo=r._bezierCurveTo,H._bezierInterpolation=r._bezierInterpolation,H._boundSegment=r._boundSegment,H._boundSegments=r._boundSegments,H._capitalize=r._capitalize,H._computeSegments=r._computeSegments,H._createResolver=r._createResolver,H._decimalPlaces=r._decimalPlaces,H._deprecated=r._deprecated,H._descriptors=r._descriptors,H._elementsEqual=r._elementsEqual,H._factorize=r._factorize,H._filterBetween=r._filterBetween,H._getParentNode=r._getParentNode,H._getStartAndCountOfVisiblePoints=r._getStartAndCountOfVisiblePoints,H._int16Range=r._int16Range,H._isBetween=r._isBetween,H._isClickEvent=r._isClickEvent,H._isDomSupported=r._isDomSupported,H._isPointInArea=r._isPointInArea,H._limitValue=r._limitValue,H._longestText=r._longestText,H._lookup=r._lookup,H._lookupByKey=r._lookupByKey,H._measureText=r._measureText,H._merger=r._merger,H._mergerIf=r._mergerIf,H._normalizeAngle=r._normalizeAngle,H._parseObjectDataRadialScale=r._parseObjectDataRadialScale,H._pointInLine=r._pointInLine,H._readValueToProps=r._readValueToProps,H._rlookupByKey=r._rlookupByKey,H._scaleRangesChanged=r._scaleRangesChanged,H._setMinAndMaxByKey=r._setMinAndMaxByKey,H._splitKey=r._splitKey,H._steppedInterpolation=r._steppedInterpolation,H._steppedLineTo=r._steppedLineTo,H._textX=r._textX,H._toLeftRightCenter=r._toLeftRightCenter,H._updateBezierControlPoints=r._updateBezierControlPoints,H.addRoundedRectPath=r.addRoundedRectPath,H.almostEquals=r.almostEquals,H.almostWhole=r.almostWhole,H.callback=r.callback,H.clearCanvas=r.clearCanvas,H.clipArea=r.clipArea,H.clone=r.clone,H.color=r.color,H.createContext=r.createContext,H.debounce=r.debounce,H.defined=r.defined,H.distanceBetweenPoints=r.distanceBetweenPoints,H.drawPoint=r.drawPoint,H.drawPointLegend=r.drawPointLegend,H.each=r.each,H.easingEffects=r.effects,H.finiteOrDefault=r.finiteOrDefault,H.fontString=r.fontString,H.formatNumber=r.formatNumber,H.getAngleFromPoint=r.getAngleFromPoint,H.getHoverColor=r.getHoverColor,H.getMaximumSize=r.getMaximumSize,H.getRelativePosition=r.getRelativePosition,H.getRtlAdapter=r.getRtlAdapter,H.getStyle=r.getStyle,H.isArray=r.isArray,H.isFinite=r.isNumberFinite,H.isFunction=r.isFunction,H.isNullOrUndef=r.isNullOrUndef,H.isNumber=r.isNumber,H.isObject=r.isObject,H.isPatternOrGradient=r.isPatternOrGradient,H.listenArrayEvents=r.listenArrayEvents,H.log10=r.log10,H.merge=r.merge,H.mergeIf=r.mergeIf,H.niceNum=r.niceNum,H.noop=r.noop,H.overrideTextDirection=r.overrideTextDirection,H.readUsedSize=r.readUsedSize,H.renderText=r.renderText,H.requestAnimFrame=r.requestAnimFrame,H.resolve=r.resolve,H.resolveObjectKey=r.resolveObjectKey,H.restoreTextDirection=r.restoreTextDirection,H.retinaScale=r.retinaScale,H.setsEqual=r.setsEqual,H.sign=r.sign,H.splineCurve=r.splineCurve,H.splineCurveMonotone=r.splineCurveMonotone,H.supportsEventListenerOptions=r.supportsEventListenerOptions,H.throttled=r.throttled,H.toDegrees=r.toDegrees,H.toDimension=r.toDimension,H.toFont=r.toFont,H.toFontString=r.toFontString,H.toLineHeight=r.toLineHeight,H.toPadding=r.toPadding,H.toPercentage=r.toPercentage,H.toRadians=r.toRadians,H.toTRBL=r.toTRBL,H.toTRBLCorners=r.toTRBLCorners,H.uid=r.uid,H.unclipArea=r.unclipArea,H.unlistenArrayEvents=r.unlistenArrayEvents,H.valueOrDefault=r.valueOrDefault},666:(Ct,H,A)=>{Ct.exports=A(4773)},6895:(Ct,H,A)=>{"use strict";A.d(H,{Do:()=>Ie,EM:()=>Jr,HT:()=>$,JF:()=>Yr,K0:()=>Y,Mx:()=>uo,O5:()=>Lt,Ov:()=>Po,S$:()=>xe,V_:()=>J,Ye:()=>Be,b0:()=>_e,bD:()=>jn,ez:()=>yr,q:()=>q,sg:()=>Ye,tP:()=>Ir,uU:()=>Gt,w_:()=>Q});var r=A(8256);let F=null;function q(){return F}function $(ie){F||(F=ie)}class Q{}const Y=new r.OlP("DocumentToken");let Z=(()=>{class ie{historyGo(m){throw new Error("Not implemented")}}return ie.\u0275fac=function(m){return new(m||ie)},ie.\u0275prov=r.Yz7({token:ie,factory:function(){return function G(){return(0,r.LFG)(ue)}()},providedIn:"platform"}),ie})();const J=new r.OlP("Location Initialized");let ue=(()=>{class ie extends Z{constructor(m){super(),this._doc=m,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(m){const P=q().getGlobalEventTarget(this._doc,"window");return P.addEventListener("popstate",m,!1),()=>P.removeEventListener("popstate",m)}onHashChange(m){const P=q().getGlobalEventTarget(this._doc,"window");return P.addEventListener("hashchange",m,!1),()=>P.removeEventListener("hashchange",m)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(m){this._location.pathname=m}pushState(m,P,W){oe()?this._history.pushState(m,P,W):this._location.hash=W}replaceState(m,P,W){oe()?this._history.replaceState(m,P,W):this._location.hash=W}forward(){this._history.forward()}back(){this._history.back()}historyGo(m=0){this._history.go(m)}getState(){return this._history.state}}return ie.\u0275fac=function(m){return new(m||ie)(r.LFG(Y))},ie.\u0275prov=r.Yz7({token:ie,factory:function(){return function ce(){return new ue((0,r.LFG)(Y))}()},providedIn:"platform"}),ie})();function oe(){return!!window.history.pushState}function le(ie,U){if(0==ie.length)return U;if(0==U.length)return ie;let m=0;return ie.endsWith("/")&&m++,U.startsWith("/")&&m++,2==m?ie+U.substring(1):1==m?ie+U:ie+"/"+U}function de(ie){const U=ie.match(/#|\?|$/),m=U&&U.index||ie.length;return ie.slice(0,m-("/"===ie[m-1]?1:0))+ie.slice(m)}function ke(ie){return ie&&"?"!==ie[0]?"?"+ie:ie}let xe=(()=>{class ie{historyGo(m){throw new Error("Not implemented")}}return ie.\u0275fac=function(m){return new(m||ie)},ie.\u0275prov=r.Yz7({token:ie,factory:function(){return(0,r.f3M)(_e)},providedIn:"root"}),ie})();const se=new r.OlP("appBaseHref");let _e=(()=>{class ie extends xe{constructor(m,P){super(),this._platformLocation=m,this._removeListenerFns=[],this._baseHref=P??this._platformLocation.getBaseHrefFromDOM()??(0,r.f3M)(Y).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(m){this._removeListenerFns.push(this._platformLocation.onPopState(m),this._platformLocation.onHashChange(m))}getBaseHref(){return this._baseHref}prepareExternalUrl(m){return le(this._baseHref,m)}path(m=!1){const P=this._platformLocation.pathname+ke(this._platformLocation.search),W=this._platformLocation.hash;return W&&m?`${P}${W}`:P}pushState(m,P,W,me){const Ne=this.prepareExternalUrl(W+ke(me));this._platformLocation.pushState(m,P,Ne)}replaceState(m,P,W,me){const Ne=this.prepareExternalUrl(W+ke(me));this._platformLocation.replaceState(m,P,Ne)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(m=0){this._platformLocation.historyGo?.(m)}}return ie.\u0275fac=function(m){return new(m||ie)(r.LFG(Z),r.LFG(se,8))},ie.\u0275prov=r.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),Ie=(()=>{class ie extends xe{constructor(m,P){super(),this._platformLocation=m,this._baseHref="",this._removeListenerFns=[],null!=P&&(this._baseHref=P)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(m){this._removeListenerFns.push(this._platformLocation.onPopState(m),this._platformLocation.onHashChange(m))}getBaseHref(){return this._baseHref}path(m=!1){let P=this._platformLocation.hash;return null==P&&(P="#"),P.length>0?P.substring(1):P}prepareExternalUrl(m){const P=le(this._baseHref,m);return P.length>0?"#"+P:P}pushState(m,P,W,me){let Ne=this.prepareExternalUrl(W+ke(me));0==Ne.length&&(Ne=this._platformLocation.pathname),this._platformLocation.pushState(m,P,Ne)}replaceState(m,P,W,me){let Ne=this.prepareExternalUrl(W+ke(me));0==Ne.length&&(Ne=this._platformLocation.pathname),this._platformLocation.replaceState(m,P,Ne)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(m=0){this._platformLocation.historyGo?.(m)}}return ie.\u0275fac=function(m){return new(m||ie)(r.LFG(Z),r.LFG(se,8))},ie.\u0275prov=r.Yz7({token:ie,factory:ie.\u0275fac}),ie})(),Be=(()=>{class ie{constructor(m){this._subject=new r.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=m;const P=this._locationStrategy.getBaseHref();this._basePath=function Le(ie){if(new RegExp("^(https?:)?//").test(ie)){const[,m]=ie.split(/\/\/[^\/]+/);return m}return ie}(de(vt(P))),this._locationStrategy.onPopState(W=>{this._subject.emit({url:this.path(!0),pop:!0,state:W.state,type:W.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(m=!1){return this.normalize(this._locationStrategy.path(m))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(m,P=""){return this.path()==this.normalize(m+ke(P))}normalize(m){return ie.stripTrailingSlash(function Ae(ie,U){if(!ie||!U.startsWith(ie))return U;const m=U.substring(ie.length);return""===m||["/",";","?","#"].includes(m[0])?m:U}(this._basePath,vt(m)))}prepareExternalUrl(m){return m&&"/"!==m[0]&&(m="/"+m),this._locationStrategy.prepareExternalUrl(m)}go(m,P="",W=null){this._locationStrategy.pushState(W,"",m,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(m+ke(P)),W)}replaceState(m,P="",W=null){this._locationStrategy.replaceState(W,"",m,P),this._notifyUrlChangeListeners(this.prepareExternalUrl(m+ke(P)),W)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(m=0){this._locationStrategy.historyGo?.(m)}onUrlChange(m){return this._urlChangeListeners.push(m),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(P=>{this._notifyUrlChangeListeners(P.url,P.state)})),()=>{const P=this._urlChangeListeners.indexOf(m);this._urlChangeListeners.splice(P,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(m="",P){this._urlChangeListeners.forEach(W=>W(m,P))}subscribe(m,P,W){return this._subject.subscribe({next:m,error:P,complete:W})}}return ie.normalizeQueryParams=ke,ie.joinWithSlash=le,ie.stripTrailingSlash=de,ie.\u0275fac=function(m){return new(m||ie)(r.LFG(xe))},ie.\u0275prov=r.Yz7({token:ie,factory:function(){return function tt(){return new Be((0,r.LFG)(xe))}()},providedIn:"root"}),ie})();function vt(ie){return ie.replace(/\/index.html$/,"")}var ct=(()=>((ct=ct||{})[ct.Format=0]="Format",ct[ct.Standalone=1]="Standalone",ct))(),ze=(()=>((ze=ze||{})[ze.Narrow=0]="Narrow",ze[ze.Abbreviated=1]="Abbreviated",ze[ze.Wide=2]="Wide",ze[ze.Short=3]="Short",ze))(),Ke=(()=>((Ke=Ke||{})[Ke.Short=0]="Short",Ke[Ke.Medium=1]="Medium",Ke[Ke.Long=2]="Long",Ke[Ke.Full=3]="Full",Ke))(),ge=(()=>((ge=ge||{})[ge.Decimal=0]="Decimal",ge[ge.Group=1]="Group",ge[ge.List=2]="List",ge[ge.PercentSign=3]="PercentSign",ge[ge.PlusSign=4]="PlusSign",ge[ge.MinusSign=5]="MinusSign",ge[ge.Exponential=6]="Exponential",ge[ge.SuperscriptingExponent=7]="SuperscriptingExponent",ge[ge.PerMille=8]="PerMille",ge[ge.Infinity=9]="Infinity",ge[ge.NaN=10]="NaN",ge[ge.TimeSeparator=11]="TimeSeparator",ge[ge.CurrencyDecimal=12]="CurrencyDecimal",ge[ge.CurrencyGroup=13]="CurrencyGroup",ge))();function Me(ie,U){return _n((0,r.cg1)(ie)[r.wAp.DateFormat],U)}function Fe(ie,U){return _n((0,r.cg1)(ie)[r.wAp.TimeFormat],U)}function mt(ie,U){return _n((0,r.cg1)(ie)[r.wAp.DateTimeFormat],U)}function _t(ie,U){const m=(0,r.cg1)(ie),P=m[r.wAp.NumberSymbols][U];if(typeof P>"u"){if(U===ge.CurrencyDecimal)return m[r.wAp.NumberSymbols][ge.Decimal];if(U===ge.CurrencyGroup)return m[r.wAp.NumberSymbols][ge.Group]}return P}function tn(ie){if(!ie[r.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${ie[r.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _n(ie,U){for(let m=U;m>-1;m--)if(typeof ie[m]<"u")return ie[m];throw new Error("Locale data API: locale data undefined")}function ui(ie){const[U,m]=ie.split(":");return{hours:+U,minutes:+m}}const br=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,cr={},Mr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ir=(()=>((ir=ir||{})[ir.Short=0]="Short",ir[ir.ShortGMT=1]="ShortGMT",ir[ir.Long=2]="Long",ir[ir.Extended=3]="Extended",ir))(),Sn=(()=>((Sn=Sn||{})[Sn.FullYear=0]="FullYear",Sn[Sn.Month=1]="Month",Sn[Sn.Date=2]="Date",Sn[Sn.Hours=3]="Hours",Sn[Sn.Minutes=4]="Minutes",Sn[Sn.Seconds=5]="Seconds",Sn[Sn.FractionalSeconds=6]="FractionalSeconds",Sn[Sn.Day=7]="Day",Sn))(),Bn=(()=>((Bn=Bn||{})[Bn.DayPeriods=0]="DayPeriods",Bn[Bn.Days=1]="Days",Bn[Bn.Months=2]="Months",Bn[Bn.Eras=3]="Eras",Bn))();function Tt(ie,U,m,P){let W=function Xi(ie){if(Ot(ie))return ie;if("number"==typeof ie&&!isNaN(ie))return new Date(ie);if("string"==typeof ie){if(ie=ie.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ie)){const[W,me=1,Ne=1]=ie.split("-").map(pt=>+pt);return xt(W,me-1,Ne)}const m=parseFloat(ie);if(!isNaN(ie-m))return new Date(m);let P;if(P=ie.match(br))return function tr(ie){const U=new Date(0);let m=0,P=0;const W=ie[8]?U.setUTCFullYear:U.setFullYear,me=ie[8]?U.setUTCHours:U.setHours;ie[9]&&(m=Number(ie[9]+ie[10]),P=Number(ie[9]+ie[11])),W.call(U,Number(ie[1]),Number(ie[2])-1,Number(ie[3]));const Ne=Number(ie[4]||0)-m,pt=Number(ie[5]||0)-P,Pt=Number(ie[6]||0),nn=Math.floor(1e3*parseFloat("0."+(ie[7]||0)));return me.call(U,Ne,pt,Pt,nn),U}(P)}const U=new Date(ie);if(!Ot(U))throw new Error(`Unable to convert "${ie}" into a date`);return U}(ie);U=nt(m,U)||U;let pt,Ne=[];for(;U;){if(pt=Mr.exec(U),!pt){Ne.push(U);break}{Ne=Ne.concat(pt.slice(1));const pn=Ne.pop();if(!pn)break;U=pn}}let Pt=W.getTimezoneOffset();P&&(Pt=ai(P,Pt),W=function Jn(ie,U,m){const P=m?-1:1,W=ie.getTimezoneOffset();return function si(ie,U){return(ie=new Date(ie.getTime())).setMinutes(ie.getMinutes()+U),ie}(ie,P*(ai(U,W)-W))}(W,P,!0));let nn="";return Ne.forEach(pn=>{const Pn=function Vt(ie){if(yn[ie])return yn[ie];let U;switch(ie){case"G":case"GG":case"GGG":U=Nn(Bn.Eras,ze.Abbreviated);break;case"GGGG":U=Nn(Bn.Eras,ze.Wide);break;case"GGGGG":U=Nn(Bn.Eras,ze.Narrow);break;case"y":U=lt(Sn.FullYear,1,0,!1,!0);break;case"yy":U=lt(Sn.FullYear,2,0,!0,!0);break;case"yyy":U=lt(Sn.FullYear,3,0,!1,!0);break;case"yyyy":U=lt(Sn.FullYear,4,0,!1,!0);break;case"Y":U=vn(1);break;case"YY":U=vn(2,!0);break;case"YYY":U=vn(3);break;case"YYYY":U=vn(4);break;case"M":case"L":U=lt(Sn.Month,1,1);break;case"MM":case"LL":U=lt(Sn.Month,2,1);break;case"MMM":U=Nn(Bn.Months,ze.Abbreviated);break;case"MMMM":U=Nn(Bn.Months,ze.Wide);break;case"MMMMM":U=Nn(Bn.Months,ze.Narrow);break;case"LLL":U=Nn(Bn.Months,ze.Abbreviated,ct.Standalone);break;case"LLLL":U=Nn(Bn.Months,ze.Wide,ct.Standalone);break;case"LLLLL":U=Nn(Bn.Months,ze.Narrow,ct.Standalone);break;case"w":U=kt(1);break;case"ww":U=kt(2);break;case"W":U=kt(1,!0);break;case"d":U=lt(Sn.Date,1);break;case"dd":U=lt(Sn.Date,2);break;case"c":case"cc":U=lt(Sn.Day,1);break;case"ccc":U=Nn(Bn.Days,ze.Abbreviated,ct.Standalone);break;case"cccc":U=Nn(Bn.Days,ze.Wide,ct.Standalone);break;case"ccccc":U=Nn(Bn.Days,ze.Narrow,ct.Standalone);break;case"cccccc":U=Nn(Bn.Days,ze.Short,ct.Standalone);break;case"E":case"EE":case"EEE":U=Nn(Bn.Days,ze.Abbreviated);break;case"EEEE":U=Nn(Bn.Days,ze.Wide);break;case"EEEEE":U=Nn(Bn.Days,ze.Narrow);break;case"EEEEEE":U=Nn(Bn.Days,ze.Short);break;case"a":case"aa":case"aaa":U=Nn(Bn.DayPeriods,ze.Abbreviated);break;case"aaaa":U=Nn(Bn.DayPeriods,ze.Wide);break;case"aaaaa":U=Nn(Bn.DayPeriods,ze.Narrow);break;case"b":case"bb":case"bbb":U=Nn(Bn.DayPeriods,ze.Abbreviated,ct.Standalone,!0);break;case"bbbb":U=Nn(Bn.DayPeriods,ze.Wide,ct.Standalone,!0);break;case"bbbbb":U=Nn(Bn.DayPeriods,ze.Narrow,ct.Standalone,!0);break;case"B":case"BB":case"BBB":U=Nn(Bn.DayPeriods,ze.Abbreviated,ct.Format,!0);break;case"BBBB":U=Nn(Bn.DayPeriods,ze.Wide,ct.Format,!0);break;case"BBBBB":U=Nn(Bn.DayPeriods,ze.Narrow,ct.Format,!0);break;case"h":U=lt(Sn.Hours,1,-12);break;case"hh":U=lt(Sn.Hours,2,-12);break;case"H":U=lt(Sn.Hours,1);break;case"HH":U=lt(Sn.Hours,2);break;case"m":U=lt(Sn.Minutes,1);break;case"mm":U=lt(Sn.Minutes,2);break;case"s":U=lt(Sn.Seconds,1);break;case"ss":U=lt(Sn.Seconds,2);break;case"S":U=lt(Sn.FractionalSeconds,1);break;case"SS":U=lt(Sn.FractionalSeconds,2);break;case"SSS":U=lt(Sn.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":U=Kn(ir.Short);break;case"ZZZZZ":U=Kn(ir.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":U=Kn(ir.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":U=Kn(ir.Long);break;default:return null}return yn[ie]=U,U}(pn);nn+=Pn?Pn(W,m,Pt):"''"===pn?"'":pn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),nn}function xt(ie,U,m){const P=new Date(0);return P.setFullYear(ie,U,m),P.setHours(0,0,0),P}function nt(ie,U){const m=function Se(ie){return(0,r.cg1)(ie)[r.wAp.LocaleId]}(ie);if(cr[m]=cr[m]||{},cr[m][U])return cr[m][U];let P="";switch(U){case"shortDate":P=Me(ie,Ke.Short);break;case"mediumDate":P=Me(ie,Ke.Medium);break;case"longDate":P=Me(ie,Ke.Long);break;case"fullDate":P=Me(ie,Ke.Full);break;case"shortTime":P=Fe(ie,Ke.Short);break;case"mediumTime":P=Fe(ie,Ke.Medium);break;case"longTime":P=Fe(ie,Ke.Long);break;case"fullTime":P=Fe(ie,Ke.Full);break;case"short":const W=nt(ie,"shortTime"),me=nt(ie,"shortDate");P=ln(mt(ie,Ke.Short),[W,me]);break;case"medium":const Ne=nt(ie,"mediumTime"),pt=nt(ie,"mediumDate");P=ln(mt(ie,Ke.Medium),[Ne,pt]);break;case"long":const Pt=nt(ie,"longTime"),nn=nt(ie,"longDate");P=ln(mt(ie,Ke.Long),[Pt,nn]);break;case"full":const pn=nt(ie,"fullTime"),Pn=nt(ie,"fullDate");P=ln(mt(ie,Ke.Full),[pn,Pn])}return P&&(cr[m][U]=P),P}function ln(ie,U){return U&&(ie=ie.replace(/\{([^}]+)}/g,function(m,P){return null!=U&&P in U?U[P]:m})),ie}function sn(ie,U,m="-",P,W){let me="";(ie<0||W&&ie<=0)&&(W?ie=1-ie:(ie=-ie,me=m));let Ne=String(ie);for(;Ne.length<U;)Ne="0"+Ne;return P&&(Ne=Ne.slice(Ne.length-U)),me+Ne}function lt(ie,U,m=0,P=!1,W=!1){return function(me,Ne){let pt=function Xn(ie,U){switch(ie){case Sn.FullYear:return U.getFullYear();case Sn.Month:return U.getMonth();case Sn.Date:return U.getDate();case Sn.Hours:return U.getHours();case Sn.Minutes:return U.getMinutes();case Sn.Seconds:return U.getSeconds();case Sn.FractionalSeconds:return U.getMilliseconds();case Sn.Day:return U.getDay();default:throw new Error(`Unknown DateType value "${ie}".`)}}(ie,me);if((m>0||pt>-m)&&(pt+=m),ie===Sn.Hours)0===pt&&-12===m&&(pt=12);else if(ie===Sn.FractionalSeconds)return function At(ie,U){return sn(ie,3).substring(0,U)}(pt,U);const Pt=_t(Ne,ge.MinusSign);return sn(pt,U,Pt,P,W)}}function Nn(ie,U,m=ct.Format,P=!1){return function(W,me){return function Di(ie,U,m,P,W,me){switch(m){case Bn.Months:return function De(ie,U,m){const P=(0,r.cg1)(ie),me=_n([P[r.wAp.MonthsFormat],P[r.wAp.MonthsStandalone]],U);return _n(me,m)}(U,W,P)[ie.getMonth()];case Bn.Days:return function Re(ie,U,m){const P=(0,r.cg1)(ie),me=_n([P[r.wAp.DaysFormat],P[r.wAp.DaysStandalone]],U);return _n(me,m)}(U,W,P)[ie.getDay()];case Bn.DayPeriods:const Ne=ie.getHours(),pt=ie.getMinutes();if(me){const nn=function Wt(ie){const U=(0,r.cg1)(ie);return tn(U),(U[r.wAp.ExtraData][2]||[]).map(P=>"string"==typeof P?ui(P):[ui(P[0]),ui(P[1])])}(U),pn=function mn(ie,U,m){const P=(0,r.cg1)(ie);tn(P);const me=_n([P[r.wAp.ExtraData][0],P[r.wAp.ExtraData][1]],U)||[];return _n(me,m)||[]}(U,W,P),Pn=nn.findIndex(Wn=>{if(Array.isArray(Wn)){const[Ri,Fi]=Wn,Si=Ne>=Ri.hours&&pt>=Ri.minutes,ki=Ne<Fi.hours||Ne===Fi.hours&&pt<Fi.minutes;if(Ri.hours<Fi.hours){if(Si&&ki)return!0}else if(Si||ki)return!0}else if(Wn.hours===Ne&&Wn.minutes===pt)return!0;return!1});if(-1!==Pn)return pn[Pn]}return function Te(ie,U,m){const P=(0,r.cg1)(ie),me=_n([P[r.wAp.DayPeriodsFormat],P[r.wAp.DayPeriodsStandalone]],U);return _n(me,m)}(U,W,P)[Ne<12?0:1];case Bn.Eras:return function Ve(ie,U){return _n((0,r.cg1)(ie)[r.wAp.Eras],U)}(U,P)[ie.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${m}`)}}(W,me,ie,U,m,P)}}function Kn(ie){return function(U,m,P){const W=-1*P,me=_t(m,ge.MinusSign),Ne=W>0?Math.floor(W/60):Math.ceil(W/60);switch(ie){case ir.Short:return(W>=0?"+":"")+sn(Ne,2,me)+sn(Math.abs(W%60),2,me);case ir.ShortGMT:return"GMT"+(W>=0?"+":"")+sn(Ne,1,me);case ir.Long:return"GMT"+(W>=0?"+":"")+sn(Ne,2,me)+":"+sn(Math.abs(W%60),2,me);case ir.Extended:return 0===P?"Z":(W>=0?"+":"")+sn(Ne,2,me)+":"+sn(Math.abs(W%60),2,me);default:throw new Error(`Unknown zone width "${ie}"`)}}}const lr=0,Qi=4;function bt(ie){return xt(ie.getFullYear(),ie.getMonth(),ie.getDate()+(Qi-ie.getDay()))}function kt(ie,U=!1){return function(m,P){let W;if(U){const me=new Date(m.getFullYear(),m.getMonth(),1).getDay()-1,Ne=m.getDate();W=1+Math.floor((Ne+me)/7)}else{const me=bt(m),Ne=function Zt(ie){const U=xt(ie,lr,1).getDay();return xt(ie,0,1+(U<=Qi?Qi:Qi+7)-U)}(me.getFullYear()),pt=me.getTime()-Ne.getTime();W=1+Math.round(pt/6048e5)}return sn(W,ie,_t(P,ge.MinusSign))}}function vn(ie,U=!1){return function(m,P){return sn(bt(m).getFullYear(),ie,_t(P,ge.MinusSign),U)}}const yn={};function ai(ie,U){ie=ie.replace(/:/g,"");const m=Date.parse("Jan 01, 1970 00:00:00 "+ie)/6e4;return isNaN(m)?U:m}function Ot(ie){return ie instanceof Date&&!isNaN(ie.valueOf())}function uo(ie,U){U=encodeURIComponent(U);for(const m of ie.split(";")){const P=m.indexOf("="),[W,me]=-1==P?[m,""]:[m.slice(0,P),m.slice(P+1)];if(W.trim()===U)return decodeURIComponent(me)}return null}class oo{constructor(U,m,P,W){this.$implicit=U,this.ngForOf=m,this.index=P,this.count=W}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ye=(()=>{class ie{set ngForOf(m){this._ngForOf=m,this._ngForOfDirty=!0}set ngForTrackBy(m){this._trackByFn=m}get ngForTrackBy(){return this._trackByFn}constructor(m,P,W){this._viewContainer=m,this._template=P,this._differs=W,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(m){m&&(this._template=m)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const m=this._ngForOf;!this._differ&&m&&(this._differ=this._differs.find(m).create(this.ngForTrackBy))}if(this._differ){const m=this._differ.diff(this._ngForOf);m&&this._applyChanges(m)}}_applyChanges(m){const P=this._viewContainer;m.forEachOperation((W,me,Ne)=>{if(null==W.previousIndex)P.createEmbeddedView(this._template,new oo(W.item,this._ngForOf,-1,-1),null===Ne?void 0:Ne);else if(null==Ne)P.remove(null===me?void 0:me);else if(null!==me){const pt=P.get(me);P.move(pt,Ne),Je(pt,W)}});for(let W=0,me=P.length;W<me;W++){const pt=P.get(W).context;pt.index=W,pt.count=me,pt.ngForOf=this._ngForOf}m.forEachIdentityChange(W=>{Je(P.get(W.currentIndex),W)})}static ngTemplateContextGuard(m,P){return!0}}return ie.\u0275fac=function(m){return new(m||ie)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},ie.\u0275dir=r.lG2({type:ie,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),ie})();function Je(ie,U){ie.context.$implicit=U.item}let Lt=(()=>{class ie{constructor(m,P){this._viewContainer=m,this._context=new Qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=P}set ngIf(m){this._context.$implicit=this._context.ngIf=m,this._updateView()}set ngIfThen(m){ot("ngIfThen",m),this._thenTemplateRef=m,this._thenViewRef=null,this._updateView()}set ngIfElse(m){ot("ngIfElse",m),this._elseTemplateRef=m,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(m,P){return!0}}return ie.\u0275fac=function(m){return new(m||ie)(r.Y36(r.s_b),r.Y36(r.Rgc))},ie.\u0275dir=r.lG2({type:ie,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),ie})();class Qt{constructor(){this.$implicit=null,this.ngIf=null}}function ot(ie,U){if(U&&!U.createEmbeddedView)throw new Error(`${ie} must be a TemplateRef, but received '${(0,r.AaK)(U)}'.`)}let Ir=(()=>{class ie{constructor(m){this._viewContainerRef=m,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(m){if(m.ngTemplateOutlet||m.ngTemplateOutletInjector){const P=this._viewContainerRef;if(this._viewRef&&P.remove(P.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:W,ngTemplateOutletContext:me,ngTemplateOutletInjector:Ne}=this;this._viewRef=P.createEmbeddedView(W,me,Ne?{injector:Ne}:void 0)}else this._viewRef=null}else this._viewRef&&m.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return ie.\u0275fac=function(m){return new(m||ie)(r.Y36(r.s_b))},ie.\u0275dir=r.lG2({type:ie,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[r.TTD]}),ie})();function Ii(ie,U){return new r.vHH(2100,!1)}class xr{createSubscription(U,m){return U.subscribe({next:m,error:P=>{throw P}})}dispose(U){U.unsubscribe()}}class fr{createSubscription(U,m){return U.then(m,P=>{throw P})}dispose(U){}}const Kr=new fr,fo=new xr;let Po=(()=>{class ie{constructor(m){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=m}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(m){return this._obj?m!==this._obj?(this._dispose(),this.transform(m)):this._latestValue:(m&&this._subscribe(m),this._latestValue)}_subscribe(m){this._obj=m,this._strategy=this._selectStrategy(m),this._subscription=this._strategy.createSubscription(m,P=>this._updateLatestValue(m,P))}_selectStrategy(m){if((0,r.QGY)(m))return Kr;if((0,r.F4k)(m))return fo;throw Ii()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(m,P){m===this._obj&&(this._latestValue=P,this._ref.markForCheck())}}return ie.\u0275fac=function(m){return new(m||ie)(r.Y36(r.sBO,16))},ie.\u0275pipe=r.Yjl({name:"async",type:ie,pure:!1,standalone:!0}),ie})();const wt=new r.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),$t=new r.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Gt=(()=>{class ie{constructor(m,P,W){this.locale=m,this.defaultTimezone=P,this.defaultOptions=W}transform(m,P,W,me){if(null==m||""===m||m!=m)return null;try{return Tt(m,P??this.defaultOptions?.dateFormat??"mediumDate",me||this.locale,W??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ne){throw Ii()}}}return ie.\u0275fac=function(m){return new(m||ie)(r.Y36(r.soG,16),r.Y36(wt,24),r.Y36($t,24))},ie.\u0275pipe=r.Yjl({name:"date",type:ie,pure:!0,standalone:!0}),ie})(),yr=(()=>{class ie{}return ie.\u0275fac=function(m){return new(m||ie)},ie.\u0275mod=r.oAB({type:ie}),ie.\u0275inj=r.cJS({}),ie})();const jn="browser";let Jr=(()=>{class ie{}return ie.\u0275prov=(0,r.Yz7)({token:ie,providedIn:"root",factory:()=>new Ti((0,r.LFG)(Y),window)}),ie})();class Ti{constructor(U,m){this.document=U,this.window=m,this.offset=()=>[0,0]}setOffset(U){this.offset=Array.isArray(U)?()=>U:U}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(U){this.supportsScrolling()&&this.window.scrollTo(U[0],U[1])}scrollToAnchor(U){if(!this.supportsScrolling())return;const m=function Dr(ie,U){const m=ie.getElementById(U)||ie.getElementsByName(U)[0];if(m)return m;if("function"==typeof ie.createTreeWalker&&ie.body&&(ie.body.createShadowRoot||ie.body.attachShadow)){const P=ie.createTreeWalker(ie.body,NodeFilter.SHOW_ELEMENT);let W=P.currentNode;for(;W;){const me=W.shadowRoot;if(me){const Ne=me.getElementById(U)||me.querySelector(`[name="${U}"]`);if(Ne)return Ne}W=P.nextNode()}}return null}(this.document,U);m&&(this.scrollToElement(m),m.focus())}setHistoryScrollRestoration(U){if(this.supportScrollRestoration()){const m=this.window.history;m&&m.scrollRestoration&&(m.scrollRestoration=U)}}scrollToElement(U){const m=U.getBoundingClientRect(),P=m.left+this.window.pageXOffset,W=m.top+this.window.pageYOffset,me=this.offset();this.window.scrollTo(P-me[0],W-me[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const U=bo(this.window.history)||bo(Object.getPrototypeOf(this.window.history));return!(!U||!U.writable&&!U.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function bo(ie){return Object.getOwnPropertyDescriptor(ie,"scrollRestoration")}class Yr{}},529:(Ct,H,A)=>{"use strict";A.d(H,{JF:()=>Kn,eN:()=>Se});var r=A(6895),F=A(8256),q=A(9646),$=A(9751),Q=A(4351),Y=A(9300),Z=A(4004);class G{}class J{}class ue{constructor(bt){this.normalizedNames=new Map,this.lazyUpdate=null,bt?this.lazyInit="string"==typeof bt?()=>{this.headers=new Map,bt.split("\n").forEach(kt=>{const vn=kt.indexOf(":");if(vn>0){const yn=kt.slice(0,vn),Vt=yn.toLowerCase(),ai=kt.slice(vn+1).trim();this.maybeSetNormalizedName(yn,Vt),this.headers.has(Vt)?this.headers.get(Vt).push(ai):this.headers.set(Vt,[ai])}})}:()=>{this.headers=new Map,Object.entries(bt).forEach(([kt,vn])=>{let yn;if(yn="string"==typeof vn?[vn]:"number"==typeof vn?[vn.toString()]:vn.map(Vt=>Vt.toString()),yn.length>0){const Vt=kt.toLowerCase();this.headers.set(Vt,yn),this.maybeSetNormalizedName(kt,Vt)}})}:this.headers=new Map}has(bt){return this.init(),this.headers.has(bt.toLowerCase())}get(bt){this.init();const kt=this.headers.get(bt.toLowerCase());return kt&&kt.length>0?kt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(bt){return this.init(),this.headers.get(bt.toLowerCase())||null}append(bt,kt){return this.clone({name:bt,value:kt,op:"a"})}set(bt,kt){return this.clone({name:bt,value:kt,op:"s"})}delete(bt,kt){return this.clone({name:bt,value:kt,op:"d"})}maybeSetNormalizedName(bt,kt){this.normalizedNames.has(kt)||this.normalizedNames.set(kt,bt)}init(){this.lazyInit&&(this.lazyInit instanceof ue?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(bt=>this.applyUpdate(bt)),this.lazyUpdate=null))}copyFrom(bt){bt.init(),Array.from(bt.headers.keys()).forEach(kt=>{this.headers.set(kt,bt.headers.get(kt)),this.normalizedNames.set(kt,bt.normalizedNames.get(kt))})}clone(bt){const kt=new ue;return kt.lazyInit=this.lazyInit&&this.lazyInit instanceof ue?this.lazyInit:this,kt.lazyUpdate=(this.lazyUpdate||[]).concat([bt]),kt}applyUpdate(bt){const kt=bt.name.toLowerCase();switch(bt.op){case"a":case"s":let vn=bt.value;if("string"==typeof vn&&(vn=[vn]),0===vn.length)return;this.maybeSetNormalizedName(bt.name,kt);const yn=("a"===bt.op?this.headers.get(kt):void 0)||[];yn.push(...vn),this.headers.set(kt,yn);break;case"d":const Vt=bt.value;if(Vt){let ai=this.headers.get(kt);if(!ai)return;ai=ai.filter(si=>-1===Vt.indexOf(si)),0===ai.length?(this.headers.delete(kt),this.normalizedNames.delete(kt)):this.headers.set(kt,ai)}else this.headers.delete(kt),this.normalizedNames.delete(kt)}}forEach(bt){this.init(),Array.from(this.normalizedNames.keys()).forEach(kt=>bt(this.normalizedNames.get(kt),this.headers.get(kt)))}}class ce{encodeKey(bt){return xe(bt)}encodeValue(bt){return xe(bt)}decodeKey(bt){return decodeURIComponent(bt)}decodeValue(bt){return decodeURIComponent(bt)}}const de=/%(\d[a-f0-9])/gi,ke={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function xe(Zt){return encodeURIComponent(Zt).replace(de,(bt,kt)=>ke[kt]??bt)}function se(Zt){return`${Zt}`}class _e{constructor(bt={}){if(this.updates=null,this.cloneFrom=null,this.encoder=bt.encoder||new ce,bt.fromString){if(bt.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function le(Zt,bt){const kt=new Map;return Zt.length>0&&Zt.replace(/^\?/,"").split("&").forEach(yn=>{const Vt=yn.indexOf("="),[ai,si]=-1==Vt?[bt.decodeKey(yn),""]:[bt.decodeKey(yn.slice(0,Vt)),bt.decodeValue(yn.slice(Vt+1))],Jn=kt.get(ai)||[];Jn.push(si),kt.set(ai,Jn)}),kt}(bt.fromString,this.encoder)}else bt.fromObject?(this.map=new Map,Object.keys(bt.fromObject).forEach(kt=>{const vn=bt.fromObject[kt],yn=Array.isArray(vn)?vn.map(se):[se(vn)];this.map.set(kt,yn)})):this.map=null}has(bt){return this.init(),this.map.has(bt)}get(bt){this.init();const kt=this.map.get(bt);return kt?kt[0]:null}getAll(bt){return this.init(),this.map.get(bt)||null}keys(){return this.init(),Array.from(this.map.keys())}append(bt,kt){return this.clone({param:bt,value:kt,op:"a"})}appendAll(bt){const kt=[];return Object.keys(bt).forEach(vn=>{const yn=bt[vn];Array.isArray(yn)?yn.forEach(Vt=>{kt.push({param:vn,value:Vt,op:"a"})}):kt.push({param:vn,value:yn,op:"a"})}),this.clone(kt)}set(bt,kt){return this.clone({param:bt,value:kt,op:"s"})}delete(bt,kt){return this.clone({param:bt,value:kt,op:"d"})}toString(){return this.init(),this.keys().map(bt=>{const kt=this.encoder.encodeKey(bt);return this.map.get(bt).map(vn=>kt+"="+this.encoder.encodeValue(vn)).join("&")}).filter(bt=>""!==bt).join("&")}clone(bt){const kt=new _e({encoder:this.encoder});return kt.cloneFrom=this.cloneFrom||this,kt.updates=(this.updates||[]).concat(bt),kt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(bt=>this.map.set(bt,this.cloneFrom.map.get(bt))),this.updates.forEach(bt=>{switch(bt.op){case"a":case"s":const kt=("a"===bt.op?this.map.get(bt.param):void 0)||[];kt.push(se(bt.value)),this.map.set(bt.param,kt);break;case"d":if(void 0===bt.value){this.map.delete(bt.param);break}{let vn=this.map.get(bt.param)||[];const yn=vn.indexOf(se(bt.value));-1!==yn&&vn.splice(yn,1),vn.length>0?this.map.set(bt.param,vn):this.map.delete(bt.param)}}}),this.cloneFrom=this.updates=null)}}class Be{constructor(){this.map=new Map}set(bt,kt){return this.map.set(bt,kt),this}get(bt){return this.map.has(bt)||this.map.set(bt,bt.defaultValue()),this.map.get(bt)}delete(bt){return this.map.delete(bt),this}has(bt){return this.map.has(bt)}keys(){return this.map.keys()}}function Ae(Zt){return typeof ArrayBuffer<"u"&&Zt instanceof ArrayBuffer}function vt(Zt){return typeof Blob<"u"&&Zt instanceof Blob}function Le(Zt){return typeof FormData<"u"&&Zt instanceof FormData}class Ze{constructor(bt,kt,vn,yn){let Vt;if(this.url=kt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=bt.toUpperCase(),function tt(Zt){switch(Zt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||yn?(this.body=void 0!==vn?vn:null,Vt=yn):Vt=vn,Vt&&(this.reportProgress=!!Vt.reportProgress,this.withCredentials=!!Vt.withCredentials,Vt.responseType&&(this.responseType=Vt.responseType),Vt.headers&&(this.headers=Vt.headers),Vt.context&&(this.context=Vt.context),Vt.params&&(this.params=Vt.params)),this.headers||(this.headers=new ue),this.context||(this.context=new Be),this.params){const ai=this.params.toString();if(0===ai.length)this.urlWithParams=kt;else{const si=kt.indexOf("?");this.urlWithParams=kt+(-1===si?"?":si<kt.length-1?"&":"")+ai}}else this.params=new _e,this.urlWithParams=kt}serializeBody(){return null===this.body?null:Ae(this.body)||vt(this.body)||Le(this.body)||function Ge(Zt){return typeof URLSearchParams<"u"&&Zt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _e?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Le(this.body)?null:vt(this.body)?this.body.type||null:Ae(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _e?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(bt={}){const kt=bt.method||this.method,vn=bt.url||this.url,yn=bt.responseType||this.responseType,Vt=void 0!==bt.body?bt.body:this.body,ai=void 0!==bt.withCredentials?bt.withCredentials:this.withCredentials,si=void 0!==bt.reportProgress?bt.reportProgress:this.reportProgress;let Jn=bt.headers||this.headers,Xi=bt.params||this.params;const tr=bt.context??this.context;return void 0!==bt.setHeaders&&(Jn=Object.keys(bt.setHeaders).reduce((Ot,Ut)=>Ot.set(Ut,bt.setHeaders[Ut]),Jn)),bt.setParams&&(Xi=Object.keys(bt.setParams).reduce((Ot,Ut)=>Ot.set(Ut,bt.setParams[Ut]),Xi)),new Ze(kt,vn,Vt,{params:Xi,headers:Jn,context:tr,reportProgress:si,responseType:yn,withCredentials:ai})}}var rt=(()=>((rt=rt||{})[rt.Sent=0]="Sent",rt[rt.UploadProgress=1]="UploadProgress",rt[rt.ResponseHeader=2]="ResponseHeader",rt[rt.DownloadProgress=3]="DownloadProgress",rt[rt.Response=4]="Response",rt[rt.User=5]="User",rt))();class ct{constructor(bt,kt=200,vn="OK"){this.headers=bt.headers||new ue,this.status=void 0!==bt.status?bt.status:kt,this.statusText=bt.statusText||vn,this.url=bt.url||null,this.ok=this.status>=200&&this.status<300}}class ze extends ct{constructor(bt={}){super(bt),this.type=rt.ResponseHeader}clone(bt={}){return new ze({headers:bt.headers||this.headers,status:void 0!==bt.status?bt.status:this.status,statusText:bt.statusText||this.statusText,url:bt.url||this.url||void 0})}}class Ke extends ct{constructor(bt={}){super(bt),this.type=rt.Response,this.body=void 0!==bt.body?bt.body:null}clone(bt={}){return new Ke({body:void 0!==bt.body?bt.body:this.body,headers:bt.headers||this.headers,status:void 0!==bt.status?bt.status:this.status,statusText:bt.statusText||this.statusText,url:bt.url||this.url||void 0})}}class ge extends ct{constructor(bt){super(bt,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${bt.url||"(unknown url)"}`:`Http failure response for ${bt.url||"(unknown url)"}: ${bt.status} ${bt.statusText}`,this.error=bt.error||null}}function pe(Zt,bt){return{body:bt,headers:Zt.headers,context:Zt.context,observe:Zt.observe,params:Zt.params,reportProgress:Zt.reportProgress,responseType:Zt.responseType,withCredentials:Zt.withCredentials}}let Se=(()=>{class Zt{constructor(kt){this.handler=kt}request(kt,vn,yn={}){let Vt;if(kt instanceof Ze)Vt=kt;else{let Jn,Xi;Jn=yn.headers instanceof ue?yn.headers:new ue(yn.headers),yn.params&&(Xi=yn.params instanceof _e?yn.params:new _e({fromObject:yn.params})),Vt=new Ze(kt,vn,void 0!==yn.body?yn.body:null,{headers:Jn,context:yn.context,params:Xi,reportProgress:yn.reportProgress,responseType:yn.responseType||"json",withCredentials:yn.withCredentials})}const ai=(0,q.of)(Vt).pipe((0,Q.b)(Jn=>this.handler.handle(Jn)));if(kt instanceof Ze||"events"===yn.observe)return ai;const si=ai.pipe((0,Y.h)(Jn=>Jn instanceof Ke));switch(yn.observe||"body"){case"body":switch(Vt.responseType){case"arraybuffer":return si.pipe((0,Z.U)(Jn=>{if(null!==Jn.body&&!(Jn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Jn.body}));case"blob":return si.pipe((0,Z.U)(Jn=>{if(null!==Jn.body&&!(Jn.body instanceof Blob))throw new Error("Response is not a Blob.");return Jn.body}));case"text":return si.pipe((0,Z.U)(Jn=>{if(null!==Jn.body&&"string"!=typeof Jn.body)throw new Error("Response is not a string.");return Jn.body}));default:return si.pipe((0,Z.U)(Jn=>Jn.body))}case"response":return si;default:throw new Error(`Unreachable: unhandled observe type ${yn.observe}}`)}}delete(kt,vn={}){return this.request("DELETE",kt,vn)}get(kt,vn={}){return this.request("GET",kt,vn)}head(kt,vn={}){return this.request("HEAD",kt,vn)}jsonp(kt,vn){return this.request("JSONP",kt,{params:(new _e).append(vn,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(kt,vn={}){return this.request("OPTIONS",kt,vn)}patch(kt,vn,yn={}){return this.request("PATCH",kt,pe(yn,vn))}post(kt,vn,yn={}){return this.request("POST",kt,pe(yn,vn))}put(kt,vn,yn={}){return this.request("PUT",kt,pe(yn,vn))}}return Zt.\u0275fac=function(kt){return new(kt||Zt)(F.LFG(G))},Zt.\u0275prov=F.Yz7({token:Zt,factory:Zt.\u0275fac}),Zt})();function Te(Zt,bt){return bt(Zt)}function Re(Zt,bt){return(kt,vn)=>bt.intercept(kt,{handle:yn=>Zt(yn,vn)})}const Ve=new F.OlP("HTTP_INTERCEPTORS"),Ce=new F.OlP("HTTP_INTERCEPTOR_FNS");function Ue(){let Zt=null;return(bt,kt)=>(null===Zt&&(Zt=((0,F.f3M)(Ve,{optional:!0})??[]).reduceRight(Re,Te)),Zt(bt,kt))}let Me=(()=>{class Zt extends G{constructor(kt,vn){super(),this.backend=kt,this.injector=vn,this.chain=null}handle(kt){if(null===this.chain){const vn=Array.from(new Set(this.injector.get(Ce)));this.chain=vn.reduceRight((yn,Vt)=>function De(Zt,bt,kt){return(vn,yn)=>kt.runInContext(()=>bt(vn,Vt=>Zt(Vt,yn)))}(yn,Vt,this.injector),Te)}return this.chain(kt,vn=>this.backend.handle(vn))}}return Zt.\u0275fac=function(kt){return new(kt||Zt)(F.LFG(J),F.LFG(F.lqb))},Zt.\u0275prov=F.Yz7({token:Zt,factory:Zt.\u0275fac}),Zt})();const mn=/^\)\]\}',?\n/;let _n=(()=>{class Zt{constructor(kt){this.xhrFactory=kt}handle(kt){if("JSONP"===kt.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $.y(vn=>{const yn=this.xhrFactory.build();if(yn.open(kt.method,kt.urlWithParams),kt.withCredentials&&(yn.withCredentials=!0),kt.headers.forEach((ft,Yt)=>yn.setRequestHeader(ft,Yt.join(","))),kt.headers.has("Accept")||yn.setRequestHeader("Accept","application/json, text/plain, */*"),!kt.headers.has("Content-Type")){const ft=kt.detectContentTypeHeader();null!==ft&&yn.setRequestHeader("Content-Type",ft)}if(kt.responseType){const ft=kt.responseType.toLowerCase();yn.responseType="json"!==ft?ft:"text"}const Vt=kt.serializeBody();let ai=null;const si=()=>{if(null!==ai)return ai;const ft=yn.statusText||"OK",Yt=new ue(yn.getAllResponseHeaders()),hn=function Cn(Zt){return"responseURL"in Zt&&Zt.responseURL?Zt.responseURL:/^X-Request-URL:/m.test(Zt.getAllResponseHeaders())?Zt.getResponseHeader("X-Request-URL"):null}(yn)||kt.url;return ai=new ze({headers:Yt,status:yn.status,statusText:ft,url:hn}),ai},Jn=()=>{let{headers:ft,status:Yt,statusText:hn,url:kn}=si(),Yn=null;204!==Yt&&(Yn=typeof yn.response>"u"?yn.responseText:yn.response),0===Yt&&(Yt=Yn?200:0);let ei=Yt>=200&&Yt<300;if("json"===kt.responseType&&"string"==typeof Yn){const mr=Yn;Yn=Yn.replace(mn,"");try{Yn=""!==Yn?JSON.parse(Yn):null}catch(rr){Yn=mr,ei&&(ei=!1,Yn={error:rr,text:Yn})}}ei?(vn.next(new Ke({body:Yn,headers:ft,status:Yt,statusText:hn,url:kn||void 0})),vn.complete()):vn.error(new ge({error:Yn,headers:ft,status:Yt,statusText:hn,url:kn||void 0}))},Xi=ft=>{const{url:Yt}=si(),hn=new ge({error:ft,status:yn.status||0,statusText:yn.statusText||"Unknown Error",url:Yt||void 0});vn.error(hn)};let tr=!1;const Ot=ft=>{tr||(vn.next(si()),tr=!0);let Yt={type:rt.DownloadProgress,loaded:ft.loaded};ft.lengthComputable&&(Yt.total=ft.total),"text"===kt.responseType&&yn.responseText&&(Yt.partialText=yn.responseText),vn.next(Yt)},Ut=ft=>{let Yt={type:rt.UploadProgress,loaded:ft.loaded};ft.lengthComputable&&(Yt.total=ft.total),vn.next(Yt)};return yn.addEventListener("load",Jn),yn.addEventListener("error",Xi),yn.addEventListener("timeout",Xi),yn.addEventListener("abort",Xi),kt.reportProgress&&(yn.addEventListener("progress",Ot),null!==Vt&&yn.upload&&yn.upload.addEventListener("progress",Ut)),yn.send(Vt),vn.next({type:rt.Sent}),()=>{yn.removeEventListener("error",Xi),yn.removeEventListener("abort",Xi),yn.removeEventListener("load",Jn),yn.removeEventListener("timeout",Xi),kt.reportProgress&&(yn.removeEventListener("progress",Ot),null!==Vt&&yn.upload&&yn.upload.removeEventListener("progress",Ut)),yn.readyState!==yn.DONE&&yn.abort()}})}}return Zt.\u0275fac=function(kt){return new(kt||Zt)(F.LFG(r.JF))},Zt.\u0275prov=F.Yz7({token:Zt,factory:Zt.\u0275fac}),Zt})();const ui=new F.OlP("XSRF_ENABLED"),Oi=new F.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),br=new F.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class cr{}let Mr=(()=>{class Zt{constructor(kt,vn,yn){this.doc=kt,this.platform=vn,this.cookieName=yn,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const kt=this.doc.cookie||"";return kt!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,r.Mx)(kt,this.cookieName),this.lastCookieString=kt),this.lastToken}}return Zt.\u0275fac=function(kt){return new(kt||Zt)(F.LFG(r.K0),F.LFG(F.Lbi),F.LFG(Oi))},Zt.\u0275prov=F.Yz7({token:Zt,factory:Zt.\u0275fac}),Zt})();function ir(Zt,bt){const kt=Zt.url.toLowerCase();if(!(0,F.f3M)(ui)||"GET"===Zt.method||"HEAD"===Zt.method||kt.startsWith("http://")||kt.startsWith("https://"))return bt(Zt);const vn=(0,F.f3M)(cr).getToken(),yn=(0,F.f3M)(br);return null!=vn&&!Zt.headers.has(yn)&&(Zt=Zt.clone({headers:Zt.headers.set(yn,vn)})),bt(Zt)}var Bn=(()=>((Bn=Bn||{})[Bn.Interceptors=0]="Interceptors",Bn[Bn.LegacyInterceptors=1]="LegacyInterceptors",Bn[Bn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Bn[Bn.NoXsrfProtection=3]="NoXsrfProtection",Bn[Bn.JsonpSupport=4]="JsonpSupport",Bn[Bn.RequestsMadeViaParent=5]="RequestsMadeViaParent",Bn))();function Tt(Zt,bt){return{\u0275kind:Zt,\u0275providers:bt}}function xt(...Zt){const bt=[Se,_n,Me,{provide:G,useExisting:Me},{provide:J,useExisting:_n},{provide:Ce,useValue:ir,multi:!0},{provide:ui,useValue:!0},{provide:cr,useClass:Mr}];for(const kt of Zt)bt.push(...kt.\u0275providers);return(0,F.MR2)(bt)}const ln=new F.OlP("LEGACY_INTERCEPTOR_FN");let Kn=(()=>{class Zt{}return Zt.\u0275fac=function(kt){return new(kt||Zt)},Zt.\u0275mod=F.oAB({type:Zt}),Zt.\u0275inj=F.cJS({providers:[xt(Tt(Bn.LegacyInterceptors,[{provide:ln,useFactory:Ue},{provide:Ce,useExisting:ln,multi:!0}]))]}),Zt})()},8256:(Ct,H,A)=>{"use strict";A.d(H,{QbO:()=>bw,tb:()=>lv,AFp:()=>qm,ip1:()=>Km,CZH:()=>ad,hGG:()=>sE,z2F:()=>ud,sBO:()=>$w,Sil:()=>Dw,_Vd:()=>Xu,EJc:()=>Sw,Xts:()=>ca,SBq:()=>Zu,lqb:()=>Dl,qLn:()=>Ku,vpe:()=>ka,XFs:()=>Sn,OlP:()=>Qr,zs3:()=>Tl,ZZ4:()=>pf,aQg:()=>gf,soG:()=>ld,YKP:()=>tm,h0i:()=>cu,PXZ:()=>Bw,R0b:()=>fa,FiY:()=>ri,Lbi:()=>_w,g9A:()=>Qm,Qsj:()=>Uv,FYo:()=>Of,JOm:()=>ea,tp0:()=>Tr,Rgc:()=>uc,dDg:()=>Lw,eoX:()=>sv,GfV:()=>Rf,s_b:()=>rd,ifc:()=>kn,MMx:()=>Uh,Lck:()=>yb,eFA:()=>cv,G48:()=>zw,Gpc:()=>Ie,f3M:()=>si,$WT:()=>di,MR2:()=>Xs,_c5:()=>oE,c2e:()=>ww,zSh:()=>Hd,wAp:()=>Or,vHH:()=>Ge,lri:()=>rv,rWj:()=>ov,D6c:()=>aE,cg1:()=>Oh,kL8:()=>Tg,dqk:()=>sn,Z0I:()=>ui,eJc:()=>Kh,CqO:()=>Rp,QGY:()=>bh,F4k:()=>Op,RDi:()=>Ac,AaK:()=>xe,qOj:()=>ch,TTD:()=>Lo,_Bn:()=>em,jDz:()=>im,xp6:()=>Hf,uIk:()=>fh,ekj:()=>xh,Suo:()=>Pm,Xpm:()=>Do,lG2:()=>Gr,Yz7:()=>Wt,cJS:()=>Cn,oAB:()=>wr,Yjl:()=>uo,Y36:()=>Kl,_UZ:()=>mh,GkF:()=>_h,qZA:()=>Xc,TgZ:()=>Yc,EpF:()=>Ap,n5z:()=>bs,LFG:()=>Vt,$8M:()=>Da,$Z:()=>ep,NdJ:()=>wh,CRH:()=>Mm,oxw:()=>Bp,ALo:()=>ym,lcZ:()=>_m,xi3:()=>bm,Hsn:()=>Up,F$t:()=>Vp,Q6J:()=>ph,s9C:()=>Eh,MGl:()=>Zc,DdM:()=>cm,VKq:()=>dm,HTZ:()=>hm,iGM:()=>Tm,MAs:()=>Ip,KtG:()=>Bt,Jf7:()=>Lf,CHM:()=>Rt,oJD:()=>ga,P3R:()=>ta,Udp:()=>Th,YNc:()=>Mp,_uU:()=>lg,Oqu:()=>Mh,hij:()=>Jc,AsE:()=>Ih,lnq:()=>Ah,Gf:()=>xm});var r=A(7579),F=A(727),q=A(9751),$=A(8189),Q=A(8421),Y=A(515),Z=A(3269),G=A(2076),ue=A(930),oe=A(4482);function le(t,i,...s){if(!0===i)return void t();if(!1===i)return;const d=new ue.Hp({next:()=>{d.unsubscribe(),t()}});return i(...s).subscribe(d)}function de(t){for(let i in t)if(t[i]===de)return i;throw Error("Could not find renamed property on target object.")}function ke(t,i){for(const s in i)i.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=i[s])}function xe(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(xe).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function se(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const _e=de({__forward_ref__:de});function Ie(t){return t.__forward_ref__=Ie,t.toString=function(){return xe(this())},t}function Be(t){return tt(t)?t():t}function tt(t){return"function"==typeof t&&t.hasOwnProperty(_e)&&t.__forward_ref__===Ie}function Ae(t){return t&&!!t.\u0275providers}const Le="https://g.co/ng/security#xss";class Ge extends Error{constructor(i,s){super(Ze(i,s)),this.code=i}}function Ze(t,i){return`NG0${Math.abs(t)}${i?": "+i.trim():""}`}function rt(t){return"string"==typeof t?t:null==t?"":String(t)}function pe(t,i){throw new Ge(-201,!1)}function En(t,i){null==t&&function on(t,i,s,d){throw new Error(`ASSERTION ERROR: ${t}`+(null==d?"":` [Expected=> ${s} ${d} ${i} <=Actual]`))}(i,t,null,"!=")}function Wt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Cn(t){return{providers:t.providers||[],imports:t.imports||[]}}function _n(t){return wi(t,br)||wi(t,Mr)}function ui(t){return null!==_n(t)}function wi(t,i){return t.hasOwnProperty(i)?t[i]:null}function er(t){return t&&(t.hasOwnProperty(cr)||t.hasOwnProperty(ir))?t[cr]:null}const br=de({\u0275prov:de}),cr=de({\u0275inj:de}),Mr=de({ngInjectableDef:de}),ir=de({ngInjectorDef:de});var Sn=(()=>((Sn=Sn||{})[Sn.Default=0]="Default",Sn[Sn.Host=1]="Host",Sn[Sn.Self=2]="Self",Sn[Sn.SkipSelf=4]="SkipSelf",Sn[Sn.Optional=8]="Optional",Sn))();let Bn;function xt(t){const i=Bn;return Bn=t,i}function nt(t,i,s){const d=_n(t);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:s&Sn.Optional?null:void 0!==i?i:void pe(xe(t))}const sn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Nn={},Di="__NG_DI_FLAG__",Kn="ngTempTokenPath",lr="ngTokenPath",Qi=/\n/gm,Zt="\u0275",bt="__source";let kt;function vn(t){const i=kt;return kt=t,i}function yn(t,i=Sn.Default){if(void 0===kt)throw new Ge(-203,!1);return null===kt?nt(t,void 0,i):kt.get(t,i&Sn.Optional?null:void 0,i)}function Vt(t,i=Sn.Default){return(function Tt(){return Bn}()||yn)(Be(t),i)}function si(t,i=Sn.Default){return Vt(t,Jn(i))}function Jn(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Xi(t){const i=[];for(let s=0;s<t.length;s++){const d=Be(t[s]);if(Array.isArray(d)){if(0===d.length)throw new Ge(900,!1);let y,D=Sn.Default;for(let j=0;j<d.length;j++){const ne=d[j],he=Ot(ne);"number"==typeof he?-1===he?y=ne.token:D|=he:y=ne}i.push(Vt(y,D))}else i.push(Vt(d))}return i}function tr(t,i){return t[Di]=i,t.prototype[Di]=i,t}function Ot(t){return t[Di]}function Yt(t){return{toString:t}.toString()}var hn=(()=>((hn=hn||{})[hn.OnPush=0]="OnPush",hn[hn.Default=1]="Default",hn))(),kn=(()=>{return(t=kn||(kn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",kn;var t})();const Yn={},ei=[],mr=de({\u0275cmp:de}),rr=de({\u0275dir:de}),Hi=de({\u0275pipe:de}),Zi=de({\u0275mod:de}),Rr=de({\u0275fac:de}),Fr=de({__NG_ELEMENT_ID__:de});let go=0;function Do(t){return Yt(()=>{const i=Er(t),s={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===hn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||kn.Emulated,id:"c"+go++,styles:t.styles||ei,_:null,schemas:t.schemas||null,tView:null};oo(s);const d=t.dependencies;return s.directiveDefs=Ye(d,!1),s.pipeDefs=Ye(d,!0),s})}function Nr(t){return zi(t)||Bi(t)}function Ki(t){return null!==t}function wr(t){return Yt(()=>({type:t.type,bootstrap:t.bootstrap||ei,declarations:t.declarations||ei,imports:t.imports||ei,exports:t.exports||ei,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function no(t,i){if(null==t)return Yn;const s={};for(const d in t)if(t.hasOwnProperty(d)){let y=t[d],D=y;Array.isArray(y)&&(D=y[1],y=y[0]),s[y]=d,i&&(i[y]=D)}return s}function Gr(t){return Yt(()=>{const i=Er(t);return oo(i),i})}function uo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function zi(t){return t[mr]||null}function Bi(t){return t[rr]||null}function _i(t){return t[Hi]||null}function di(t){const i=zi(t)||Bi(t)||_i(t);return null!==i&&i.standalone}function kr(t,i){const s=t[Zi]||null;if(!s&&!0===i)throw new Error(`Type ${xe(t)} does not have '\u0275mod' property.`);return s}function Er(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ei,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:no(t.inputs,i),outputs:no(t.outputs)}}function oo(t){t.features?.forEach(i=>i(t))}function Ye(t,i){if(!t)return null;const s=i?_i:Nr;return()=>("function"==typeof t?t():t).map(d=>s(d)).filter(Ki)}const Je=0,dt=1,Lt=2,Qt=3,ot=4,Ht=5,zt=6,gn=7,an=8,Hn=9,ii=10,In=11,$i=12,Ir=13,ho=14,Ii=15,xr=16,fr=17,Kr=18,fo=19,Po=20,jo=21,zr=22,He=1,st=2,wt=7,$t=8,Gt=9,un=10;function Tn(t){return Array.isArray(t)&&"object"==typeof t[He]}function Vn(t){return Array.isArray(t)&&!0===t[He]}function wn(t){return 0!=(4&t.flags)}function oi(t){return t.componentOffset>-1}function Gi(t){return 1==(1&t.flags)}function vi(t){return!!t.template}function gi(t){return 0!=(256&t[Lt])}function Yr(t,i){return t.hasOwnProperty(Rr)?t[Rr]:null}class Ao{constructor(i,s,d){this.previousValue=i,this.currentValue=s,this.firstChange=d}isFirstChange(){return this.firstChange}}function Lo(){return Pr}function Pr(t){return t.type.prototype.ngOnChanges&&(t.setInput=Bo),zo}function zo(){const t=Uo(this),i=t?.current;if(i){const s=t.previous;if(s===Yn)t.previous=i;else for(let d in i)s[d]=i[d];t.current=null,this.ngOnChanges(i)}}function Bo(t,i,s,d){const y=this.declaredInputs[s],D=Uo(t)||function Xr(t,i){return t[Ho]=i}(t,{previous:Yn,current:null}),j=D.current||(D.current={}),ne=D.previous,he=ne[y];j[y]=new Ao(he&&he.currentValue,i,ne===Yn),t[d]=i}Lo.ngInherit=!0;const Ho="__ngSimpleChanges__";function Uo(t){return t[Ho]||null}const Zr=function(t,i,s){};function qi(t){for(;Array.isArray(t);)t=t[Je];return t}function we(t,i){return qi(i[t])}function Pe(t,i){return qi(i[t.index])}function ut(t,i){return t.data[i]}function Dt(t,i){return t[i]}function Ft(t,i){const s=i[t];return Tn(s)?s:s[Je]}function en(t){return 64==(64&t[Lt])}function Fn(t,i){return null==i?null:t[i]}function xi(t){t[Kr]=0}function hi(t,i){t[Ht]+=i;let s=t,d=t[Qt];for(;null!==d&&(1===i&&1===s[Ht]||-1===i&&0===s[Ht]);)d[Ht]+=i,s=d,d=d[Qt]}const Zn={lFrame:Ls(null),bindingsEnabled:!0};function T(){return Zn.bindingsEnabled}function ee(){return Zn.lFrame.lView}function Xe(){return Zn.lFrame.tView}function Rt(t){return Zn.lFrame.contextLView=t,t[an]}function Bt(t){return Zn.lFrame.contextLView=null,t}function Jt(){let t=zn();for(;null!==t&&64===t.type;)t=t.parent;return t}function zn(){return Zn.lFrame.currentTNode}function Ei(t,i){const s=Zn.lFrame;s.currentTNode=t,s.isParent=i}function mi(){return Zn.lFrame.isParent}function nr(){Zn.lFrame.isParent=!1}function gr(){const t=Zn.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function So(){return Zn.lFrame.bindingIndex}function ko(){return Zn.lFrame.bindingIndex++}function To(t){const i=Zn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,s}function as(t,i){const s=Zn.lFrame;s.bindingIndex=s.bindingRootIndex=t,is(i)}function is(t){Zn.lFrame.currentDirectiveIndex=t}function Rs(){return Zn.lFrame.currentQueryIndex}function As(t){Zn.lFrame.currentQueryIndex=t}function ms(t){const i=t[dt];return 2===i.type?i.declTNode:1===i.type?t[zt]:null}function Os(t,i,s){if(s&Sn.SkipSelf){let y=i,D=t;for(;!(y=y.parent,null!==y||s&Sn.Host||(y=ms(D),null===y||(D=D[Ii],10&y.type))););if(null===y)return!1;i=y,t=D}const d=Zn.lFrame=Qo();return d.currentTNode=i,d.lView=t,!0}function rs(t){const i=Qo(),s=t[dt];Zn.lFrame=i,i.currentTNode=s.firstChild,i.lView=t,i.tView=s,i.contextLView=t,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Qo(){const t=Zn.lFrame,i=null===t?null:t.child;return null===i?Ls(t):i}function Ls(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function Es(){const t=Zn.lFrame;return Zn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Fs=Es;function es(){const t=Es();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yo(){return Zn.lFrame.selectedIndex}function cs(t){Zn.lFrame.selectedIndex=t}function Mo(){const t=Zn.lFrame;return ut(t.tView,t.selectedIndex)}function me(t,i){for(let s=i.directiveStart,d=i.directiveEnd;s<d;s++){const D=t.data[s].type.prototype,{ngAfterContentInit:j,ngAfterContentChecked:ne,ngAfterViewInit:he,ngAfterViewChecked:Oe,ngOnDestroy:it}=D;j&&(t.contentHooks??(t.contentHooks=[])).push(-s,j),ne&&((t.contentHooks??(t.contentHooks=[])).push(s,ne),(t.contentCheckHooks??(t.contentCheckHooks=[])).push(s,ne)),he&&(t.viewHooks??(t.viewHooks=[])).push(-s,he),Oe&&((t.viewHooks??(t.viewHooks=[])).push(s,Oe),(t.viewCheckHooks??(t.viewCheckHooks=[])).push(s,Oe)),null!=it&&(t.destroyHooks??(t.destroyHooks=[])).push(s,it)}}function Ne(t,i,s){nn(t,i,3,s)}function pt(t,i,s,d){(3&t[Lt])===s&&nn(t,i,s,d)}function Pt(t,i){let s=t[Lt];(3&s)===i&&(s&=2047,s+=1,t[Lt]=s)}function nn(t,i,s,d){const D=d??-1,j=i.length-1;let ne=0;for(let he=void 0!==d?65535&t[Kr]:0;he<j;he++)if("number"==typeof i[he+1]){if(ne=i[he],null!=d&&ne>=d)break}else i[he]<0&&(t[Kr]+=65536),(ne<D||-1==D)&&(pn(t,s,i,he),t[Kr]=(4294901760&t[Kr])+he+2),he++}function pn(t,i,s,d){const y=s[d]<0,D=s[d+1],ne=t[y?-s[d]:s[d]];if(y){if(t[Lt]>>11<t[Kr]>>16&&(3&t[Lt])===i){t[Lt]+=2048,Zr(4,ne,D);try{D.call(ne)}finally{Zr(5,ne,D)}}}else{Zr(4,ne,D);try{D.call(ne)}finally{Zr(5,ne,D)}}}const Pn=-1;class Wn{constructor(i,s,d){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=d}}function v(t,i,s){let d=0;for(;d<s.length;){const y=s[d];if("number"==typeof y){if(0!==y)break;d++;const D=s[d++],j=s[d++],ne=s[d++];t.setAttribute(i,j,ne,D)}else{const D=y,j=s[++d];te(D)?t.setProperty(i,D,j):t.setAttribute(i,D,j),d++}}return d}function R(t){return 3===t||4===t||6===t}function te(t){return 64===t.charCodeAt(0)}function be(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let s=-1;for(let d=0;d<i.length;d++){const y=i[d];"number"==typeof y?s=y:0===s||qe(t,s,y,null,-1===s||2===s?i[++d]:null)}}return t}function qe(t,i,s,d,y){let D=0,j=t.length;if(-1===i)j=-1;else for(;D<t.length;){const ne=t[D++];if("number"==typeof ne){if(ne===i){j=-1;break}if(ne>i){j=D-1;break}}}for(;D<t.length;){const ne=t[D];if("number"==typeof ne)break;if(ne===s){if(null===d)return void(null!==y&&(t[D+1]=y));if(d===t[D+1])return void(t[D+2]=y)}D++,null!==d&&D++,null!==y&&D++}-1!==j&&(t.splice(j,0,i),D=j+1),t.splice(D++,0,s),null!==d&&t.splice(D++,0,d),null!==y&&t.splice(D++,0,y)}function Nt(t){return t!==Pn}function dn(t){return 32767&t}function Rn(t,i){let s=function bn(t){return t>>16}(t),d=i;for(;s>0;)d=d[Ii],s--;return d}let ci=!0;function Mi(t){const i=ci;return ci=t,i}const pi=255,bi=5;let Ui=0;const Wi={};function os(t,i){const s=hs(t,i);if(-1!==s)return s;const d=i[dt];d.firstCreatePass&&(t.injectorIndex=i.length,Xo(d.data,t),Xo(i,null),Xo(d.blueprint,null));const y=xo(t,i),D=t.injectorIndex;if(Nt(y)){const j=dn(y),ne=Rn(y,i),he=ne[dt].data;for(let Oe=0;Oe<8;Oe++)i[D+Oe]=ne[j+Oe]|he[j+Oe]}return i[D+8]=y,D}function Xo(t,i){t.push(0,0,0,0,0,0,0,0,i)}function hs(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function xo(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,d=null,y=i;for(;null!==y;){if(d=pl(y),null===d)return Pn;if(s++,y=y[Ii],-1!==d.injectorIndex)return d.injectorIndex|s<<16}return Pn}function xs(t,i,s){!function Io(t,i,s){let d;"string"==typeof s?d=s.charCodeAt(0)||0:s.hasOwnProperty(Fr)&&(d=s[Fr]),null==d&&(d=s[Fr]=Ui++);const y=d&pi;i.data[t+(y>>bi)]|=1<<y}(t,i,s)}function vr(t,i,s){if(s&Sn.Optional||void 0!==t)return t;pe()}function qr(t,i,s,d){if(s&Sn.Optional&&void 0===d&&(d=null),!(s&(Sn.Self|Sn.Host))){const y=t[Hn],D=xt(void 0);try{return y?y.get(i,d,s&Sn.Optional):nt(i,d,s&Sn.Optional)}finally{xt(D)}}return vr(d,0,s)}function ts(t,i,s,d=Sn.Default,y){if(null!==t){if(1024&i[Lt]){const j=function ra(t,i,s,d,y){let D=t,j=i;for(;null!==D&&null!==j&&1024&j[Lt]&&!(256&j[Lt]);){const ne=Ss(D,j,s,d|Sn.Self,Wi);if(ne!==Wi)return ne;let he=D.parent;if(!he){const Oe=j[jo];if(Oe){const it=Oe.get(s,Wi,d);if(it!==Wi)return it}he=pl(j),j=j[Ii]}D=he}return y}(t,i,s,d,Wi);if(j!==Wi)return j}const D=Ss(t,i,s,d,Wi);if(D!==Wi)return D}return qr(i,s,d,y)}function Ss(t,i,s,d,y){const D=function Ea(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(Fr)?t[Fr]:void 0;return"number"==typeof i?i>=0?i&pi:pa:i}(s);if("function"==typeof D){if(!Os(i,t,d))return d&Sn.Host?vr(y,0,d):qr(i,s,d,y);try{const j=D(d);if(null!=j||d&Sn.Optional)return j;pe()}finally{Fs()}}else if("number"==typeof D){let j=null,ne=hs(t,i),he=Pn,Oe=d&Sn.Host?i[xr][zt]:null;for((-1===ne||d&Sn.SkipSelf)&&(he=-1===ne?xo(t,i):i[ne+8],he!==Pn&&Sa(d,!1)?(j=i[dt],ne=dn(he),i=Rn(he,i)):ne=-1);-1!==ne;){const it=i[dt];if(Ba(D,ne,it.data)){const yt=Gs(ne,i,s,j,d,Oe);if(yt!==Wi)return yt}he=i[ne+8],he!==Pn&&Sa(d,i[dt].data[ne+8]===Oe)&&Ba(D,ne,i)?(j=it,ne=dn(he),i=Rn(he,i)):ne=-1}}return y}function Gs(t,i,s,d,y,D){const j=i[dt],ne=j.data[t+8],it=Ks(ne,j,s,null==d?oi(ne)&&ci:d!=j&&0!=(3&ne.type),y&Sn.Host&&D===ne);return null!==it?_s(i,j,it,ne):Wi}function Ks(t,i,s,d,y){const D=t.providerIndexes,j=i.data,ne=1048575&D,he=t.directiveStart,it=D>>20,qt=y?ne+it:t.directiveEnd;for(let fn=d?ne:ne+it;fn<qt;fn++){const On=j[fn];if(fn<he&&s===On||fn>=he&&On.type===s)return fn}if(y){const fn=j[he];if(fn&&vi(fn)&&fn.type===s)return he}return null}function _s(t,i,s,d){let y=t[s];const D=i.data;if(function Ri(t){return t instanceof Wn}(y)){const j=y;j.resolving&&function ze(t,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${t}${s}`)}(function ct(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():rt(t)}(D[s]));const ne=Mi(j.canSeeViewProviders);j.resolving=!0;const he=j.injectImpl?xt(j.injectImpl):null;Os(t,d,Sn.Default);try{y=t[s]=j.factory(void 0,D,t,d),i.firstCreatePass&&s>=d.directiveStart&&function W(t,i,s){const{ngOnChanges:d,ngOnInit:y,ngDoCheck:D}=i.type.prototype;if(d){const j=Pr(i);(s.preOrderHooks??(s.preOrderHooks=[])).push(t,j),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(t,j)}y&&(s.preOrderHooks??(s.preOrderHooks=[])).push(0-t,y),D&&((s.preOrderHooks??(s.preOrderHooks=[])).push(t,D),(s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(t,D))}(s,D[s],i)}finally{null!==he&&xt(he),Mi(ne),j.resolving=!1,Fs()}}return y}function Ba(t,i,s){return!!(s[i+(t>>bi)]&1<<t)}function Sa(t,i){return!(t&Sn.Self||t&Sn.Host&&i)}class Ws{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,d){return ts(this._tNode,this._lView,i,Jn(d),s)}}function pa(){return new Ws(Jt(),ee())}function bs(t){return Yt(()=>{const i=t.prototype.constructor,s=i[Rr]||Ca(i),d=Object.prototype;let y=Object.getPrototypeOf(t.prototype).constructor;for(;y&&y!==d;){const D=y[Rr]||Ca(y);if(D&&D!==s)return D;y=Object.getPrototypeOf(y)}return D=>new D})}function Ca(t){return tt(t)?()=>{const i=Ca(Be(t));return i&&i()}:Yr(t)}function pl(t){const i=t[dt],s=i.type;return 2===s?i.declTNode:1===s?t[zt]:null}function Da(t){return function Zs(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const s=t.attrs;if(s){const d=s.length;let y=0;for(;y<d;){const D=s[y];if(R(D))break;if(0===D)y+=2;else if("number"==typeof D)for(y++;y<d&&"string"==typeof s[y];)y++;else{if(D===i)return s[y+1];y+=2}}}return null}(Jt(),t)}const ar="__parameters__";function Js(t,i,s){return Yt(()=>{const d=function Qa(t){return function(...s){if(t){const d=t(...s);for(const y in d)this[y]=d[y]}}}(i);function y(...D){if(this instanceof y)return d.apply(this,D),this;const j=new y(...D);return ne.annotation=j,ne;function ne(he,Oe,it){const yt=he.hasOwnProperty(ar)?he[ar]:Object.defineProperty(he,ar,{value:[]})[ar];for(;yt.length<=it;)yt.push(null);return(yt[it]=yt[it]||[]).push(j),he}}return s&&(y.prototype=Object.create(s.prototype)),y.prototype.ngMetadataName=t,y.annotationCls=y,y})}class Qr{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Wt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function c(t,i){t.forEach(s=>Array.isArray(s)?c(s,i):i(s))}function p(t,i,s){i>=t.length?t.push(s):t.splice(i,0,s)}function E(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function I(t,i){const s=[];for(let d=0;d<t;d++)s.push(i);return s}function b(t,i,s){let d=K(t,i);return d>=0?t[1|d]=s:(d=~d,function g(t,i,s,d){let y=t.length;if(y==i)t.push(s,d);else if(1===y)t.push(d,t[0]),t[0]=s;else{for(y--,t.push(t[y-1],t[y]);y>i;)t[y]=t[y-2],y--;t[i]=s,t[i+1]=d}}(t,d,i,s)),d}function O(t,i){const s=K(t,i);if(s>=0)return t[1|s]}function K(t,i){return function ye(t,i,s){let d=0,y=t.length>>s;for(;y!==d;){const D=d+(y-d>>1),j=t[D<<s];if(i===j)return D<<s;j>i?y=D:d=D+1}return~(y<<s)}(t,i,1)}const ri=tr(Js("Optional"),8),Tr=tr(Js("SkipSelf"),4);var ea=(()=>((ea=ea||{})[ea.Important=1]="Important",ea[ea.DashCase=2]="DashCase",ea))();const Ll=new Map;let _c=0;const Fl="__ngContext__";function ws(t,i){Tn(i)?(t[Fl]=i[Po],function bc(t){Ll.set(t[Po],t)}(i)):t[Fl]=i}let Ya;function Cu(t,i){return Ya(t,i)}function bl(t){const i=t[Qt];return Vn(i)?i[Qt]:i}function xu(t){return Dc(t[Ir])}function Pu(t){return Dc(t[ot])}function Dc(t){for(;null!==t&&!Vn(t);)t=t[ot];return t}function zs(t,i,s,d,y){if(null!=d){let D,j=!1;Vn(d)?D=d:Tn(d)&&(j=!0,d=d[Je]);const ne=qi(d);0===t&&null!==s?null==y?Pd(i,s,ne):il(i,s,ne,y||null,!0):1===t&&null!==s?il(i,s,ne,y||null,!0):2===t?function wl(t,i,s){const d=Lu(t,i);d&&function wf(t,i,s,d){t.removeChild(i,s,d)}(t,d,i,s)}(i,ne,j):3===t&&i.destroyNode(ne),null!=D&&function Rd(t,i,s,d,y){const D=s[wt];D!==qi(s)&&zs(i,t,d,D,y);for(let ne=un;ne<s.length;ne++){const he=s[ne];El(he[dt],he,t,i,d,D)}}(i,t,D,s,y)}}function Bl(t,i,s){return t.createElement(i,s)}function xc(t,i){const s=t[Gt],d=s.indexOf(i),y=i[Qt];512&i[Lt]&&(i[Lt]&=-513,hi(y,-1)),s.splice(d,1)}function Ou(t,i){if(t.length<=un)return;const s=un+i,d=t[s];if(d){const y=d[fr];null!==y&&y!==t&&xc(y,d),i>0&&(t[s-1][ot]=d[ot]);const D=E(t,un+i);!function Iu(t,i){El(t,i,i[In],2,null,null),i[Je]=null,i[zt]=null}(d[dt],d);const j=D[fo];null!==j&&j.detachView(D[dt]),d[Qt]=null,d[ot]=null,d[Lt]&=-65}return d}function Pc(t,i){if(!(128&i[Lt])){const s=i[In];s.destroyNode&&El(t,i,s,3,null,null),function Cd(t){let i=t[Ir];if(!i)return Ru(t[dt],t);for(;i;){let s=null;if(Tn(i))s=i[Ir];else{const d=i[un];d&&(s=d)}if(!s){for(;i&&!i[ot]&&i!==t;)Tn(i)&&Ru(i[dt],i),i=i[Qt];null===i&&(i=t),Tn(i)&&Ru(i[dt],i),s=i&&i[ot]}i=s}}(i)}}function Ru(t,i){if(!(128&i[Lt])){i[Lt]&=-65,i[Lt]|=128,function bf(t,i){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let d=0;d<s.length;d+=2){const y=i[s[d]];if(!(y instanceof Wn)){const D=s[d+1];if(Array.isArray(D))for(let j=0;j<D.length;j+=2){const ne=y[D[j]],he=D[j+1];Zr(4,ne,he);try{he.call(ne)}finally{Zr(5,ne,he)}}else{Zr(4,y,D);try{D.call(y)}finally{Zr(5,y,D)}}}}}(t,i),function Dd(t,i){const s=t.cleanup,d=i[gn];let y=-1;if(null!==s)for(let D=0;D<s.length-1;D+=2)if("string"==typeof s[D]){const j=s[D+3];j>=0?d[y=j]():d[y=-j].unsubscribe(),D+=2}else{const j=d[y=s[D+1]];s[D].call(j)}if(null!==d){for(let D=y+1;D<d.length;D++)(0,d[D])();i[gn]=null}}(t,i),1===i[dt].type&&i[In].destroy();const s=i[fr];if(null!==s&&Vn(i[Qt])){s!==i[Qt]&&xc(s,i);const d=i[fo];null!==d&&d.detachView(t)}!function yd(t){Ll.delete(t[Po])}(i)}}function Td(t,i,s){return function xd(t,i,s){let d=i;for(;null!==d&&40&d.type;)d=(i=d).parent;if(null===d)return s[Je];{const{componentOffset:y}=d;if(y>-1){const{encapsulation:D}=t.data[d.directiveStart+y];if(D===kn.None||D===kn.Emulated)return null}return Pe(d,s)}}(t,i.parent,s)}function il(t,i,s,d,y){t.insertBefore(i,s,d,y)}function Pd(t,i,s){t.appendChild(i,s)}function Md(t,i,s,d,y){null!==d?il(t,i,s,d,y):Pd(t,i,s)}function Lu(t,i){return t.parentNode(i)}function Id(t,i,s){return Xa(t,i,s)}let Mc,jl,ju,ol,Xa=function Ad(t,i,s){return 40&t.type?Pe(t,s):null};function Fu(t,i,s,d){const y=Td(t,d,i),D=i[In],ne=Id(d.parent||i[zt],d,i);if(null!=y)if(Array.isArray(s))for(let he=0;he<s.length;he++)Md(D,y,s[he],ne,!1);else Md(D,y,s,ne,!1);void 0!==Mc&&Mc(D,d,i,s,y)}function Nu(t,i){if(null!==i){const s=i.type;if(3&s)return Pe(i,t);if(4&s)return ku(-1,t[i.index]);if(8&s){const d=i.child;if(null!==d)return Nu(t,d);{const y=t[i.index];return Vn(y)?ku(-1,y):qi(y)}}if(32&s)return Cu(i,t)()||qi(t[i.index]);{const d=Vl(t,i);return null!==d?Array.isArray(d)?d[0]:Nu(bl(t[xr]),d):Nu(t,i.next)}}return null}function Vl(t,i){return null!==i?t[xr][zt].projection[i.projection]:null}function ku(t,i){const s=un+t+1;if(s<i.length){const d=i[s],y=d[dt].firstChild;if(null!==y)return Nu(d,y)}return i[wt]}function Bu(t,i,s,d,y,D,j){for(;null!=s;){const ne=d[s.index],he=s.type;if(j&&0===i&&(ne&&ws(qi(ne),d),s.flags|=2),32!=(32&s.flags))if(8&he)Bu(t,i,s.child,d,y,D,!1),zs(i,t,y,ne,D);else if(32&he){const Oe=Cu(s,d);let it;for(;it=Oe();)zs(i,t,y,it,D);zs(i,t,y,ne,D)}else 16&he?Ul(t,i,d,s,y,D):zs(i,t,y,ne,D);s=j?s.projectionNext:s.next}}function El(t,i,s,d,y,D){Bu(s,d,t.firstChild,i,y,D,!1)}function Ul(t,i,s,d,y,D){const j=s[xr],he=j[zt].projection[d.projection];if(Array.isArray(he))for(let Oe=0;Oe<he.length;Oe++)zs(i,t,y,he[Oe],D);else Bu(t,i,he,j[Qt],y,D,!0)}function Ic(t,i,s){""===s?t.removeAttribute(i,"class"):t.setAttribute(i,"class",s)}function Hl(t,i,s){const{mergedAttrs:d,classes:y,styles:D}=s;null!==d&&v(t,i,d),null!==y&&Ic(t,i,y),null!==D&&function Fd(t,i,s){t.setAttribute(i,"style",s)}(t,i,D)}function rl(t){return function Uu(){if(void 0===jl&&(jl=null,sn.trustedTypes))try{jl=sn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jl}()?.createHTML(t)||t}function Ac(t){ju=t}function Ia(){if(void 0===ol&&(ol=null,sn.trustedTypes))try{ol=sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ol}function zu(t){return Ia()?.createHTML(t)||t}function Rc(t){return Ia()?.createScriptURL(t)||t}class Gu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Le})`}}function Aa(t){return t instanceof Gu?t.changingThisBreaksApplicationSecurity:t}function Za(t,i){const s=function Lc(t){return t instanceof Gu&&t.getTypeName()||null}(t);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${Le})`)}return s===i}class e{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(rl(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class n{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=rl(i),s}}const S=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function C(t){return(t=String(t)).match(S)?t:"unsafe:"+t}function B(t){const i={};for(const s of t.split(","))i[s]=!0;return i}function ae(...t){const i={};for(const s of t)for(const d in s)s.hasOwnProperty(d)&&(i[d]=!0);return i}const Ee=B("area,br,col,hr,img,wbr"),We=B("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$e=B("rp,rt"),It=ae(Ee,ae(We,B("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ae($e,B("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ae($e,We)),rn=B("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gn=ae(rn,B("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),B("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sr=B("script,style,template");class ti{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,d=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?d=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,d&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let y=this.checkClobberedElement(s,s.nextSibling);if(y){s=y;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!It.hasOwnProperty(s))return this.sanitizedSomething=!0,!sr.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const d=i.attributes;for(let y=0;y<d.length;y++){const D=d.item(y),j=D.name,ne=j.toLowerCase();if(!Gn.hasOwnProperty(ne)){this.sanitizedSomething=!0;continue}let he=D.value;rn[ne]&&(he=C(he)),this.buf.push(" ",j,'="',po(he),'"')}return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();It.hasOwnProperty(s)&&!Ee.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(po(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const Qn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ao=/([^\#-~ |!])/g;function po(t){return t.replace(/&/g,"&amp;").replace(Qn,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(ao,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ji;function Ro(t){return"content"in t&&function Vo(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wo=(()=>((wo=wo||{})[wo.NONE=0]="NONE",wo[wo.HTML=1]="HTML",wo[wo.STYLE=2]="STYLE",wo[wo.SCRIPT=3]="SCRIPT",wo[wo.URL=4]="URL",wo[wo.RESOURCE_URL=5]="RESOURCE_URL",wo))();function ga(t){const i=ua();return i?zu(i.sanitize(wo.HTML,t)||""):Za(t,"HTML")?zu(Aa(t)):function dr(t,i){let s=null;try{Ji=Ji||function o(t){const i=new n(t);return function l(){try{return!!(new window.DOMParser).parseFromString(rl(""),"text/html")}catch{return!1}}()?new e(i):i}(t);let d=i?String(i):"";s=Ji.getInertBodyElement(d);let y=5,D=d;do{if(0===y)throw new Error("Failed to sanitize html because the input is unstable");y--,d=D,D=s.innerHTML,s=Ji.getInertBodyElement(d)}while(d!==D);return rl((new ti).sanitizeChildren(Ro(s)||s))}finally{if(s){const d=Ro(s)||s;for(;d.firstChild;)d.removeChild(d.firstChild)}}}(function Oc(){return void 0!==ju?ju:typeof document<"u"?document:void 0}(),rt(t))}function jr(t){const i=ua();return i?i.sanitize(wo.URL,t)||"":Za(t,"URL")?Aa(t):C(rt(t))}function ur(t){const i=ua();if(i)return Rc(i.sanitize(wo.RESOURCE_URL,t)||"");if(Za(t,"ResourceURL"))return Rc(Aa(t));throw new Ge(904,!1)}function ta(t,i,s){return function Oa(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?ur:jr}(i,s)(t)}function ua(){const t=ee();return t&&t[$i]}const ca=new Qr("ENVIRONMENT_INITIALIZER"),da=new Qr("INJECTOR",-1),ma=new Qr("INJECTOR_DEF_TYPES");class No{get(i,s=Nn){if(s===Nn){const d=new Error(`NullInjectorError: No provider for ${xe(i)}!`);throw d.name="NullInjectorError",d}return s}}function Xs(t){return{\u0275providers:t}}function Ps(...t){return{\u0275providers:Eo(0,t),\u0275fromNgModule:!0}}function Eo(t,...i){const s=[],d=new Set;let y;return c(i,D=>{const j=D;va(j,s,[],d)&&(y||(y=[]),y.push(j))}),void 0!==y&&na(y,s),s}function na(t,i){for(let s=0;s<t.length;s++){const{providers:y}=t[s];cl(y,D=>{i.push(D)})}}function va(t,i,s,d){if(!(t=Be(t)))return!1;let y=null,D=er(t);const j=!D&&zi(t);if(D||j){if(j&&!j.standalone)return!1;y=t}else{const he=t.ngModule;if(D=er(he),!D)return!1;y=he}const ne=d.has(y);if(j){if(ne)return!1;if(d.add(y),j.dependencies){const he="function"==typeof j.dependencies?j.dependencies():j.dependencies;for(const Oe of he)va(Oe,i,s,d)}}else{if(!D)return!1;{if(null!=D.imports&&!ne){let Oe;d.add(y);try{c(D.imports,it=>{va(it,i,s,d)&&(Oe||(Oe=[]),Oe.push(it))})}finally{}void 0!==Oe&&na(Oe,i)}if(!ne){const Oe=Yr(y)||(()=>new y);i.push({provide:y,useFactory:Oe,deps:ei},{provide:ma,useValue:y,multi:!0},{provide:ca,useValue:()=>Vt(y),multi:!0})}const he=D.providers;null==he||ne||cl(he,it=>{i.push(it)})}}return y!==t&&void 0!==t.providers}function cl(t,i){for(let s of t)Ae(s)&&(s=s.\u0275providers),Array.isArray(s)?cl(s,i):i(s)}const Gl=de({provide:String,useValue:de});function dl(t){return null!==t&&"object"==typeof t&&Gl in t}function Cl(t){return"function"==typeof t}const Hd=new Qr("Set Injector scope."),Fc={},Mv={};let jd;function Nc(){return void 0===jd&&(jd=new No),jd}class Dl{}class Pf extends Dl{get destroyed(){return this._destroyed}constructor(i,s,d,y){super(),this.parent=s,this.source=d,this.scopes=y,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$d(i,j=>this.processProvider(j)),this.records.set(da,Wl(void 0,this)),y.has("environment")&&this.records.set(Dl,Wl(void 0,this));const D=this.records.get(Hd);null!=D&&"string"==typeof D.value&&this.scopes.add(D.value),this.injectorDefTypes=new Set(this.get(ma.multi,ei,Sn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const s=vn(this),d=xt(void 0);try{return i()}finally{vn(s),xt(d)}}get(i,s=Nn,d=Sn.Default){this.assertNotDestroyed(),d=Jn(d);const y=vn(this),D=xt(void 0);try{if(!(d&Sn.SkipSelf)){let ne=this.records.get(i);if(void 0===ne){const he=function Lv(t){return"function"==typeof t||"object"==typeof t&&t instanceof Qr}(i)&&_n(i);ne=he&&this.injectableDefInScope(he)?Wl(zd(i),Fc):null,this.records.set(i,ne)}if(null!=ne)return this.hydrate(i,ne)}return(d&Sn.Self?Nc():this.parent).get(i,s=d&Sn.Optional&&s===Nn?null:s)}catch(j){if("NullInjectorError"===j.name){if((j[Kn]=j[Kn]||[]).unshift(xe(i)),y)throw j;return function Ut(t,i,s,d){const y=t[Kn];throw i[bt]&&y.unshift(i[bt]),t.message=function ft(t,i,s,d=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Zt?t.slice(2):t;let y=xe(i);if(Array.isArray(i))y=i.map(xe).join(" -> ");else if("object"==typeof i){let D=[];for(let j in i)if(i.hasOwnProperty(j)){let ne=i[j];D.push(j+":"+("string"==typeof ne?JSON.stringify(ne):xe(ne)))}y=`{${D.join(", ")}}`}return`${s}${d?"("+d+")":""}[${y}]: ${t.replace(Qi,"\n  ")}`}("\n"+t.message,y,s,d),t[lr]=y,t[Kn]=null,t}(j,i,"R3InjectorError",this.source)}throw j}finally{xt(D),vn(y)}}resolveInjectorInitializers(){const i=vn(this),s=xt(void 0);try{const d=this.get(ca.multi,ei,Sn.Self);for(const y of d)y()}finally{vn(i),xt(s)}}toString(){const i=[],s=this.records;for(const d of s.keys())i.push(xe(d));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(i){let s=Cl(i=Be(i))?i:Be(i&&i.provide);const d=function Av(t){return dl(t)?Wl(void 0,t.useValue):Wl(Mf(t),Fc)}(i);if(Cl(i)||!0!==i.multi)this.records.get(s);else{let y=this.records.get(s);y||(y=Wl(void 0,Fc,!0),y.factory=()=>Xi(y.multi),this.records.set(s,y)),s=i,y.multi.push(i)}this.records.set(s,d)}hydrate(i,s){return s.value===Fc&&(s.value=Mv,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Rv(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Be(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function zd(t){const i=_n(t),s=null!==i?i.factory:Yr(t);if(null!==s)return s;if(t instanceof Qr)throw new Ge(204,!1);if(t instanceof Function)return function Iv(t){const i=t.length;if(i>0)throw I(i,"?"),new Ge(204,!1);const s=function Oi(t){return t&&(t[br]||t[Mr])||null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ge(204,!1)}function Mf(t,i,s){let d;if(Cl(t)){const y=Be(t);return Yr(y)||zd(y)}if(dl(t))d=()=>Be(t.useValue);else if(function xf(t){return!(!t||!t.useFactory)}(t))d=()=>t.useFactory(...Xi(t.deps||[]));else if(function Yu(t){return!(!t||!t.useExisting)}(t))d=()=>Vt(Be(t.useExisting));else{const y=Be(t&&(t.useClass||t.provide));if(!function Ov(t){return!!t.deps}(t))return Yr(y)||zd(y);d=()=>new y(...Xi(t.deps))}return d}function Wl(t,i,s=!1){return{factory:t,value:i,multi:s?[]:void 0}}function $d(t,i){for(const s of t)Array.isArray(s)?$d(s,i):s&&Ae(s)?$d(s.\u0275providers,i):i(s)}class Fv{}class If{}class kv{resolveComponentFactory(i){throw function Nv(t){const i=Error(`No component factory found for ${xe(t)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=t,i}(i)}}let Xu=(()=>{class t{}return t.NULL=new kv,t})();function Bv(){return Yl(Jt(),ee())}function Yl(t,i){return new Zu(Pe(t,i))}let Zu=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=Bv,t})();function Vv(t){return t instanceof Zu?t.nativeElement:t}class Of{}let Uv=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Hv(){const t=ee(),s=Ft(Jt().index,t);return(Tn(s)?s:t)[In]}(),t})(),jv=(()=>{class t{}return t.\u0275prov=Wt({token:t,providedIn:"root",factory:()=>null}),t})();class Rf{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const zv=new Rf("15.2.10"),Gd={},Wd="ngOriginalError";function Yd(t){return t[Wd]}class Ku{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Yd(i);for(;s&&Yd(s);)s=Yd(s);return s||null}}function Lf(t){return t.ownerDocument.defaultView}function Ka(t){return t instanceof Function?t():t}function Nf(t,i,s){let d=t.length;for(;;){const y=t.indexOf(i,s);if(-1===y)return y;if(0===y||t.charCodeAt(y-1)<=32){const D=i.length;if(y+D===d||t.charCodeAt(y+D)<=32)return y}s=y+1}}const kf="ng-template";function Qv(t,i,s){let d=0,y=!0;for(;d<t.length;){let D=t[d++];if("string"==typeof D&&y){const j=t[d++];if(s&&"class"===D&&-1!==Nf(j.toLowerCase(),i,0))return!0}else{if(1===D){for(;d<t.length&&"string"==typeof(D=t[d++]);)if(D.toLowerCase()===i)return!0;return!1}"number"==typeof D&&(y=!1)}}return!1}function Bf(t){return 4===t.type&&t.value!==kf}function ey(t,i,s){return i===(4!==t.type||s?t.value:kf)}function ty(t,i,s){let d=4;const y=t.attrs||[],D=function ry(t){for(let i=0;i<t.length;i++)if(R(t[i]))return i;return t.length}(y);let j=!1;for(let ne=0;ne<i.length;ne++){const he=i[ne];if("number"!=typeof he){if(!j)if(4&d){if(d=2|1&d,""!==he&&!ey(t,he,s)||""===he&&1===i.length){if(ya(d))return!1;j=!0}}else{const Oe=8&d?he:i[++ne];if(8&d&&null!==t.attrs){if(!Qv(t.attrs,Oe,s)){if(ya(d))return!1;j=!0}continue}const yt=ny(8&d?"class":he,y,Bf(t),s);if(-1===yt){if(ya(d))return!1;j=!0;continue}if(""!==Oe){let qt;qt=yt>D?"":y[yt+1].toLowerCase();const fn=8&d?qt:null;if(fn&&-1!==Nf(fn,Oe,0)||2&d&&Oe!==qt){if(ya(d))return!1;j=!0}}}}else{if(!j&&!ya(d)&&!ya(he))return!1;if(j&&ya(he))continue;j=!1,d=he|1&d}}return ya(d)||j}function ya(t){return 0==(1&t)}function ny(t,i,s,d){if(null===i)return-1;let y=0;if(d||!s){let D=!1;for(;y<i.length;){const j=i[y];if(j===t)return y;if(3===j||6===j)D=!0;else{if(1===j||2===j){let ne=i[++y];for(;"string"==typeof ne;)ne=i[++y];continue}if(4===j)break;if(0===j){y+=4;continue}}y+=D?1:2}return-1}return function oy(t,i){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const d=t[s];if("number"==typeof d)return-1;if(d===i)return s;s++}return-1}(i,t)}function Vf(t,i,s=!1){for(let d=0;d<i.length;d++)if(ty(t,i[d],s))return!0;return!1}function sy(t,i){e:for(let s=0;s<i.length;s++){const d=i[s];if(t.length===d.length){for(let y=0;y<t.length;y++)if(t[y]!==d[y])continue e;return!0}}return!1}function Uf(t,i){return t?":not("+i.trim()+")":i}function ay(t){let i=t[0],s=1,d=2,y="",D=!1;for(;s<t.length;){let j=t[s];if("string"==typeof j)if(2&d){const ne=t[++s];y+="["+j+(ne.length>0?'="'+ne+'"':"")+"]"}else 8&d?y+="."+j:4&d&&(y+=" "+j);else""!==y&&!ya(j)&&(i+=Uf(D,y),y=""),d=j,D=D||!ya(d);s++}return""!==y&&(i+=Uf(D,y)),i}const ro={};function Hf(t){jf(Xe(),ee(),Yo()+t,!1)}function jf(t,i,s,d){if(!d)if(3==(3&i[Lt])){const D=t.preOrderCheckHooks;null!==D&&Ne(i,D,s)}else{const D=t.preOrderHooks;null!==D&&pt(i,D,0,s)}cs(s)}function Wf(t,i=null,s=null,d){const y=Yf(t,i,s,d);return y.resolveInjectorInitializers(),y}function Yf(t,i=null,s=null,d,y=new Set){const D=[s||ei,Ps(t)];return d=d||("object"==typeof t?void 0:xe(t)),new Pf(D,i||Nc(),d||null,y)}let Tl=(()=>{class t{static create(s,d){if(Array.isArray(s))return Wf({name:""},d,s,"");{const y=s.name??"";return Wf({name:y},s.parent,s.providers,y)}}}return t.THROW_IF_NOT_FOUND=Nn,t.NULL=new No,t.\u0275prov=Wt({token:t,providedIn:"any",factory:()=>Vt(da)}),t.__NG_ELEMENT_ID__=-1,t})();function Kl(t,i=Sn.Default){const s=ee();return null===s?Vt(t,i):ts(Jt(),s,Be(t),i)}function ep(){throw new Error("invalid")}function tp(t,i){const s=t.contentQueries;if(null!==s)for(let d=0;d<s.length;d+=2){const D=s[d+1];if(-1!==D){const j=t.data[D];As(s[d]),j.contentQueries(2,i[D],D)}}}function Bc(t,i,s,d,y,D,j,ne,he,Oe,it){const yt=i.blueprint.slice();return yt[Je]=y,yt[Lt]=76|d,(null!==it||t&&1024&t[Lt])&&(yt[Lt]|=1024),xi(yt),yt[Qt]=yt[Ii]=t,yt[an]=s,yt[ii]=j||t&&t[ii],yt[In]=ne||t&&t[In],yt[$i]=he||t&&t[$i]||null,yt[Hn]=Oe||t&&t[Hn]||null,yt[zt]=D,yt[Po]=function bu(){return _c++}(),yt[jo]=it,yt[xr]=2==i.type?t[xr]:yt,yt}function ql(t,i,s,d,y){let D=t.data[i];if(null===D)D=function Jd(t,i,s,d,y){const D=zn(),j=mi(),he=t.data[i]=function Ry(t,i,s,d,y,D){return{type:s,index:d,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:y,attrs:D,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,j?D:D&&D.parent,s,i,d,y);return null===t.firstChild&&(t.firstChild=he),null!==D&&(j?null==D.child&&null!==he.parent&&(D.child=he):null===D.next&&(D.next=he,he.prev=D)),he}(t,i,s,d,y),function ds(){return Zn.lFrame.inI18n}()&&(D.flags|=32);else if(64&D.type){D.type=s,D.value=d,D.attrs=y;const j=function fi(){const t=Zn.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();D.injectorIndex=null===j?-1:j.injectorIndex}return Ei(D,!0),D}function qu(t,i,s,d){if(0===s)return-1;const y=i.length;for(let D=0;D<s;D++)i.push(d),t.blueprint.push(d),t.data.push(null);return y}function Qd(t,i,s){rs(i);try{const d=t.viewQuery;null!==d&&lh(1,d,s);const y=t.template;null!==y&&np(t,i,y,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&tp(t,i),t.staticViewQueries&&lh(2,t.viewQuery,s);const D=t.components;null!==D&&function Iy(t,i){for(let s=0;s<i.length;s++)Qy(t,i[s])}(i,D)}catch(d){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),d}finally{i[Lt]&=-5,es()}}function Vc(t,i,s,d){const y=i[Lt];if(128!=(128&y)){rs(i);try{xi(i),function qo(t){return Zn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&np(t,i,s,2,d);const j=3==(3&y);if(j){const Oe=t.preOrderCheckHooks;null!==Oe&&Ne(i,Oe,null)}else{const Oe=t.preOrderHooks;null!==Oe&&pt(i,Oe,0,null),Pt(i,0)}if(function qy(t){for(let i=xu(t);null!==i;i=Pu(i)){if(!i[st])continue;const s=i[Gt];for(let d=0;d<s.length;d++){const y=s[d];512&y[Lt]||hi(y[Qt],1),y[Lt]|=512}}}(i),function Ky(t){for(let i=xu(t);null!==i;i=Pu(i))for(let s=un;s<i.length;s++){const d=i[s],y=d[dt];en(d)&&Vc(y,d,y.template,d[an])}}(i),null!==t.contentQueries&&tp(t,i),j){const Oe=t.contentCheckHooks;null!==Oe&&Ne(i,Oe)}else{const Oe=t.contentHooks;null!==Oe&&pt(i,Oe,1),Pt(i,1)}!function Py(t,i){const s=t.hostBindingOpCodes;if(null!==s)try{for(let d=0;d<s.length;d++){const y=s[d];if(y<0)cs(~y);else{const D=y,j=s[++d],ne=s[++d];as(j,D),ne(2,i[D])}}}finally{cs(-1)}}(t,i);const ne=t.components;null!==ne&&function My(t,i){for(let s=0;s<i.length;s++)Jy(t,i[s])}(i,ne);const he=t.viewQuery;if(null!==he&&lh(2,he,d),j){const Oe=t.viewCheckHooks;null!==Oe&&Ne(i,Oe)}else{const Oe=t.viewHooks;null!==Oe&&pt(i,Oe,2),Pt(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[Lt]&=-41,512&i[Lt]&&(i[Lt]&=-513,hi(i[Qt],-1))}finally{es()}}}function np(t,i,s,d,y){const D=Yo(),j=2&d;try{cs(-1),j&&i.length>zr&&jf(t,i,zr,!1),Zr(j?2:0,y),s(d,y)}finally{cs(D),Zr(j?3:1,y)}}function eh(t,i,s){if(wn(i)){const y=i.directiveEnd;for(let D=i.directiveStart;D<y;D++){const j=t.data[D];j.contentQueries&&j.contentQueries(1,s[D],D)}}}function th(t,i,s){T()&&(function Uy(t,i,s,d){const y=s.directiveStart,D=s.directiveEnd;oi(s)&&function Yy(t,i,s){const d=Pe(i,t),y=ip(s),D=t[ii],j=Uc(t,Bc(t,y,null,s.onPush?32:16,d,i,D,D.createRenderer(d,s),null,null,null));t[i.index]=j}(i,s,t.data[y+s.componentOffset]),t.firstCreatePass||os(s,i),ws(d,i);const j=s.initialInputs;for(let ne=y;ne<D;ne++){const he=t.data[ne],Oe=_s(i,t,ne,s);ws(Oe,i),null!==j&&Xy(0,ne-y,Oe,he,0,j),vi(he)&&(Ft(s.index,i)[an]=_s(i,t,ne,s))}}(t,i,s,Pe(s,i)),64==(64&s.flags)&&lp(t,i,s))}function nh(t,i,s=Pe){const d=i.localNames;if(null!==d){let y=i.index+1;for(let D=0;D<d.length;D+=2){const j=d[D+1],ne=-1===j?s(i,t):t[j];t[y++]=ne}}}function ip(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=ih(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):i}function ih(t,i,s,d,y,D,j,ne,he,Oe){const it=zr+d,yt=it+y,qt=function Ay(t,i){const s=[];for(let d=0;d<i;d++)s.push(d<t?null:ro);return s}(it,yt),fn="function"==typeof Oe?Oe():Oe;return qt[dt]={type:t,blueprint:qt,template:s,queries:null,viewQuery:ne,declTNode:i,data:qt.slice().fill(null,it),bindingStartIndex:it,expandoStartIndex:yt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof D?D():D,pipeRegistry:"function"==typeof j?j():j,firstChild:null,schemas:he,consts:fn,incompleteFirstPass:!1}}function rp(t,i,s,d){const y=cp(i);null===s?y.push(d):(y.push(s),t.firstCreatePass&&dp(t).push(d,y.length-1))}function op(t,i,s,d){for(let y in t)if(t.hasOwnProperty(y)){s=null===s?{}:s;const D=t[y];null===d?sp(s,i,y,D):d.hasOwnProperty(y)&&sp(s,i,d[y],D)}return s}function sp(t,i,s,d){t.hasOwnProperty(s)?t[s].push(i,d):t[s]=[i,d]}function ia(t,i,s,d,y,D,j,ne){const he=Pe(i,s);let it,Oe=i.inputs;!ne&&null!=Oe&&(it=Oe[d])?(uh(t,s,it,d,y),oi(i)&&function Ny(t,i){const s=Ft(i,t);16&s[Lt]||(s[Lt]|=32)}(s,i.index)):3&i.type&&(d=function Fy(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(d),y=null!=j?j(y,i.value||"",d):y,D.setProperty(he,d,y))}function rh(t,i,s,d){if(T()){const y=null===d?null:{"":-1},D=function jy(t,i){const s=t.directiveRegistry;let d=null,y=null;if(s)for(let D=0;D<s.length;D++){const j=s[D];if(Vf(i,j.selectors,!1))if(d||(d=[]),vi(j))if(null!==j.findHostDirectiveDefs){const ne=[];y=y||new Map,j.findHostDirectiveDefs(j,ne,y),d.unshift(...ne,j),oh(t,i,ne.length)}else d.unshift(j),oh(t,i,0);else y=y||new Map,j.findHostDirectiveDefs?.(j,d,y),d.push(j)}return null===d?null:[d,y]}(t,s);let j,ne;null===D?j=ne=null:[j,ne]=D,null!==j&&ap(t,i,s,j,y,ne),y&&function zy(t,i,s){if(i){const d=t.localNames=[];for(let y=0;y<i.length;y+=2){const D=s[i[y+1]];if(null==D)throw new Ge(-301,!1);d.push(i[y],D)}}}(s,d,y)}s.mergedAttrs=be(s.mergedAttrs,s.attrs)}function ap(t,i,s,d,y,D){for(let Oe=0;Oe<d.length;Oe++)xs(os(s,i),t,d[Oe].type);!function Gy(t,i,s){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+s,t.providerIndexes=i}(s,t.data.length,d.length);for(let Oe=0;Oe<d.length;Oe++){const it=d[Oe];it.providersResolver&&it.providersResolver(it)}let j=!1,ne=!1,he=qu(t,i,d.length,null);for(let Oe=0;Oe<d.length;Oe++){const it=d[Oe];s.mergedAttrs=be(s.mergedAttrs,it.hostAttrs),Wy(t,s,i,he,it),$y(he,it,y),null!==it.contentQueries&&(s.flags|=4),(null!==it.hostBindings||null!==it.hostAttrs||0!==it.hostVars)&&(s.flags|=64);const yt=it.type.prototype;!j&&(yt.ngOnChanges||yt.ngOnInit||yt.ngDoCheck)&&((t.preOrderHooks??(t.preOrderHooks=[])).push(s.index),j=!0),!ne&&(yt.ngOnChanges||yt.ngDoCheck)&&((t.preOrderCheckHooks??(t.preOrderCheckHooks=[])).push(s.index),ne=!0),he++}!function Ly(t,i,s){const y=i.directiveEnd,D=t.data,j=i.attrs,ne=[];let he=null,Oe=null;for(let it=i.directiveStart;it<y;it++){const yt=D[it],qt=s?s.get(yt):null,On=qt?qt.outputs:null;he=op(yt.inputs,it,he,qt?qt.inputs:null),Oe=op(yt.outputs,it,Oe,On);const ni=null===he||null===j||Bf(i)?null:Zy(he,it,j);ne.push(ni)}null!==he&&(he.hasOwnProperty("class")&&(i.flags|=8),he.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=ne,i.inputs=he,i.outputs=Oe}(t,s,D)}function lp(t,i,s){const d=s.directiveStart,y=s.directiveEnd,D=s.index,j=function Ms(){return Zn.lFrame.currentDirectiveIndex}();try{cs(D);for(let ne=d;ne<y;ne++){const he=t.data[ne],Oe=i[ne];is(ne),(null!==he.hostBindings||0!==he.hostVars||null!==he.hostAttrs)&&Hy(he,Oe)}}finally{cs(-1),is(j)}}function Hy(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function oh(t,i,s){i.componentOffset=s,(t.components??(t.components=[])).push(i.index)}function $y(t,i,s){if(s){if(i.exportAs)for(let d=0;d<i.exportAs.length;d++)s[i.exportAs[d]]=t;vi(i)&&(s[""]=t)}}function Wy(t,i,s,d,y){t.data[d]=y;const D=y.factory||(y.factory=Yr(y.type)),j=new Wn(D,vi(y),Kl);t.blueprint[d]=j,s[d]=j,function By(t,i,s,d,y){const D=y.hostBindings;if(D){let j=t.hostBindingOpCodes;null===j&&(j=t.hostBindingOpCodes=[]);const ne=~i.index;(function Vy(t){let i=t.length;for(;i>0;){const s=t[--i];if("number"==typeof s&&s<0)return s}return 0})(j)!=ne&&j.push(ne),j.push(s,d,D)}}(t,i,d,qu(t,s,y.hostVars,ro),y)}function Ra(t,i,s,d,y,D){const j=Pe(t,i);!function sh(t,i,s,d,y,D,j){if(null==D)t.removeAttribute(i,y,s);else{const ne=null==j?rt(D):j(D,d||"",y);t.setAttribute(i,y,ne,s)}}(i[In],j,D,t.value,s,d,y)}function Xy(t,i,s,d,y,D){const j=D[i];if(null!==j){const ne=d.setInput;for(let he=0;he<j.length;){const Oe=j[he++],it=j[he++],yt=j[he++];null!==ne?d.setInput(s,yt,Oe,it):s[it]=yt}}}function Zy(t,i,s){let d=null,y=0;for(;y<s.length;){const D=s[y];if(0!==D)if(5!==D){if("number"==typeof D)break;if(t.hasOwnProperty(D)){null===d&&(d=[]);const j=t[D];for(let ne=0;ne<j.length;ne+=2)if(j[ne]===i){d.push(D,j[ne+1],s[y+1]);break}}y+=2}else y+=2;else y+=4}return d}function up(t,i,s,d){return[t,!0,!1,i,null,0,d,s,null,null]}function Jy(t,i){const s=Ft(i,t);if(en(s)){const d=s[dt];48&s[Lt]?Vc(d,s,d.template,s[an]):s[Ht]>0&&ah(s)}}function ah(t){for(let d=xu(t);null!==d;d=Pu(d))for(let y=un;y<d.length;y++){const D=d[y];if(en(D))if(512&D[Lt]){const j=D[dt];Vc(j,D,j.template,D[an])}else D[Ht]>0&&ah(D)}const s=t[dt].components;if(null!==s)for(let d=0;d<s.length;d++){const y=Ft(s[d],t);en(y)&&y[Ht]>0&&ah(y)}}function Qy(t,i){const s=Ft(i,t),d=s[dt];(function e_(t,i){for(let s=i.length;s<t.blueprint.length;s++)i.push(t.blueprint[s])})(d,s),Qd(d,s,s[an])}function Uc(t,i){return t[Ir]?t[ho][ot]=i:t[Ir]=i,t[ho]=i,i}function Hc(t){for(;t;){t[Lt]|=32;const i=bl(t);if(gi(t)&&!i)return t;t=i}return null}function jc(t,i,s,d=!0){const y=i[ii];y.begin&&y.begin();try{Vc(t,i,t.template,s)}catch(j){throw d&&fp(i,j),j}finally{y.end&&y.end()}}function lh(t,i,s){As(0),i(t,s)}function cp(t){return t[gn]||(t[gn]=[])}function dp(t){return t.cleanup||(t.cleanup=[])}function fp(t,i){const s=t[Hn],d=s?s.get(Ku,null):null;d&&d.handleError(i)}function uh(t,i,s,d,y){for(let D=0;D<s.length;){const j=s[D++],ne=s[D++],he=i[j],Oe=t.data[j];null!==Oe.setInput?Oe.setInput(he,y,d,ne):he[ne]=y}}function qa(t,i,s){const d=we(i,t);!function Mu(t,i,s){t.setValue(i,s)}(t[In],d,s)}function zc(t,i,s){let d=s?t.styles:null,y=s?t.classes:null,D=0;if(null!==i)for(let j=0;j<i.length;j++){const ne=i[j];"number"==typeof ne?D=ne:1==D?y=se(y,ne):2==D&&(d=se(d,ne+": "+i[++j]+";"))}s?t.styles=d:t.stylesWithoutHost=d,s?t.classes=y:t.classesWithoutHost=y}function $c(t,i,s,d,y=!1){for(;null!==s;){const D=i[s.index];if(null!==D&&d.push(qi(D)),Vn(D))for(let ne=un;ne<D.length;ne++){const he=D[ne],Oe=he[dt].firstChild;null!==Oe&&$c(he[dt],he,Oe,d)}const j=s.type;if(8&j)$c(t,i,s.child,d);else if(32&j){const ne=Cu(s,i);let he;for(;he=ne();)d.push(he)}else if(16&j){const ne=Vl(i,s);if(Array.isArray(ne))d.push(...ne);else{const he=bl(i[xr]);$c(he[dt],he,ne,d,!0)}}s=y?s.projectionNext:s.next}return d}class Ju{get rootNodes(){const i=this._lView,s=i[dt];return $c(s,i,s.firstChild,[])}constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[an]}set context(i){this._lView[an]=i}get destroyed(){return 128==(128&this._lView[Lt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Qt];if(Vn(i)){const s=i[$t],d=s?s.indexOf(this):-1;d>-1&&(Ou(i,d),E(s,d))}this._attachedToViewContainer=!1}Pc(this._lView[dt],this._lView)}onDestroy(i){rp(this._lView[dt],this._lView,null,i)}markForCheck(){Hc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Lt]&=-65}reattach(){this._lView[Lt]|=64}detectChanges(){jc(this._lView[dt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Sd(t,i){El(t,i,i[In],2,null,null)}(this._lView[dt],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=i}}class t_ extends Ju{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;jc(i[dt],i,i[an],!1)}checkNoChanges(){}get context(){return null}}class pp extends Xu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=zi(i);return new Qu(s,this.ngModule)}}function gp(t){const i=[];for(let s in t)t.hasOwnProperty(s)&&i.push({propName:t[s],templateName:s});return i}class i_{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,d){d=Jn(d);const y=this.injector.get(i,Gd,d);return y!==Gd||s===Gd?y:this.parentInjector.get(i,s,d)}}class Qu extends If{get inputs(){return gp(this.componentDef.inputs)}get outputs(){return gp(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function ly(t){return t.map(ay).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,d,y){let D=(y=y||this.ngModule)instanceof Dl?y:y?.injector;D&&null!==this.componentDef.getStandaloneInjector&&(D=this.componentDef.getStandaloneInjector(D)||D);const j=D?new i_(i,D):i,ne=j.get(Of,null);if(null===ne)throw new Ge(407,!1);const he=j.get(jv,null),Oe=ne.createRenderer(null,this.componentDef),it=this.componentDef.selectors[0][0]||"div",yt=d?function Oy(t,i,s){return t.selectRootElement(i,s===kn.ShadowDom)}(Oe,d,this.componentDef.encapsulation):Bl(Oe,it,function n_(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(it)),qt=this.componentDef.onPush?288:272,fn=ih(0,null,null,1,0,null,null,null,null,null),On=Bc(null,fn,null,qt,null,null,ne,Oe,he,j,null);let ni,Pi;rs(On);try{const ji=this.componentDef;let _r,qn=null;ji.findHostDirectiveDefs?(_r=[],qn=new Map,ji.findHostDirectiveDefs(ji,_r,qn),_r.push(ji)):_r=[ji];const to=function o_(t,i){const s=t[dt],d=zr;return t[d]=i,ql(s,d,2,"#host",null)}(On,yt),us=function s_(t,i,s,d,y,D,j,ne){const he=y[dt];!function a_(t,i,s,d){for(const y of t)i.mergedAttrs=be(i.mergedAttrs,y.hostAttrs);null!==i.mergedAttrs&&(zc(i,i.mergedAttrs,!0),null!==s&&Hl(d,s,i))}(d,t,i,j);const Oe=D.createRenderer(i,s),it=Bc(y,ip(s),null,s.onPush?32:16,y[t.index],t,D,Oe,ne||null,null,null);return he.firstCreatePass&&oh(he,t,d.length-1),Uc(y,it),y[t.index]=it}(to,yt,ji,_r,On,ne,Oe);Pi=ut(fn,zr),yt&&function u_(t,i,s,d){if(d)v(t,s,["ng-version",zv.full]);else{const{attrs:y,classes:D}=function uy(t){const i=[],s=[];let d=1,y=2;for(;d<t.length;){let D=t[d];if("string"==typeof D)2===y?""!==D&&i.push(D,t[++d]):8===y&&s.push(D);else{if(!ya(y))break;y=D}d++}return{attrs:i,classes:s}}(i.selectors[0]);y&&v(t,s,y),D&&D.length>0&&Ic(t,s,D.join(" "))}}(Oe,ji,yt,d),void 0!==s&&function c_(t,i,s){const d=t.projection=[];for(let y=0;y<i.length;y++){const D=s[y];d.push(null!=D?Array.from(D):null)}}(Pi,this.ngContentSelectors,s),ni=function l_(t,i,s,d,y,D){const j=Jt(),ne=y[dt],he=Pe(j,y);ap(ne,y,j,s,null,d);for(let it=0;it<s.length;it++)ws(_s(y,ne,j.directiveStart+it,j),y);lp(ne,y,j),he&&ws(he,y);const Oe=_s(y,ne,j.directiveStart+j.componentOffset,j);if(t[an]=y[an]=Oe,null!==D)for(const it of D)it(Oe,i);return eh(ne,j,t),Oe}(us,ji,_r,qn,On,[d_]),Qd(fn,On,null)}finally{es()}return new r_(this.componentType,ni,Yl(Pi,On),On,Pi)}}class r_ extends Fv{constructor(i,s,d,y,D){super(),this.location=d,this._rootLView=y,this._tNode=D,this.instance=s,this.hostView=this.changeDetectorRef=new t_(y),this.componentType=i}setInput(i,s){const d=this._tNode.inputs;let y;if(null!==d&&(y=d[i])){const D=this._rootLView;uh(D[dt],D,y,i,s),Hc(Ft(this._tNode.index,D))}}get injector(){return new Ws(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function d_(){const t=Jt();me(ee()[dt],t)}function ch(t){let i=function mp(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const d=[t];for(;i;){let y;if(vi(t))y=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ge(903,!1);y=i.\u0275dir}if(y){if(s){d.push(y);const j=t;j.inputs=dh(t.inputs),j.declaredInputs=dh(t.declaredInputs),j.outputs=dh(t.outputs);const ne=y.hostBindings;ne&&g_(t,ne);const he=y.viewQuery,Oe=y.contentQueries;if(he&&f_(t,he),Oe&&p_(t,Oe),ke(t.inputs,y.inputs),ke(t.declaredInputs,y.declaredInputs),ke(t.outputs,y.outputs),vi(y)&&y.data.animation){const it=t.data;it.animation=(it.animation||[]).concat(y.data.animation)}}const D=y.features;if(D)for(let j=0;j<D.length;j++){const ne=D[j];ne&&ne.ngInherit&&ne(t),ne===ch&&(s=!1)}}i=Object.getPrototypeOf(i)}!function h_(t){let i=0,s=null;for(let d=t.length-1;d>=0;d--){const y=t[d];y.hostVars=i+=y.hostVars,y.hostAttrs=be(y.hostAttrs,s=be(s,y.hostAttrs))}}(d)}function dh(t){return t===Yn?{}:t===ei?[]:t}function f_(t,i){const s=t.viewQuery;t.viewQuery=s?(d,y)=>{i(d,y),s(d,y)}:i}function p_(t,i){const s=t.contentQueries;t.contentQueries=s?(d,y,D)=>{i(d,y,D),s(d,y,D)}:i}function g_(t,i){const s=t.hostBindings;t.hostBindings=s?(d,y)=>{i(d,y),s(d,y)}:i}function Gc(t){return!!hh(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function hh(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function La(t,i,s){return t[i]=s}function ec(t,i){return t[i]}function Us(t,i,s){return!Object.is(t[i],s)&&(t[i]=s,!0)}function xl(t,i,s,d){const y=Us(t,i,s);return Us(t,i+1,d)||y}function fh(t,i,s,d){const y=ee();return Us(y,ko(),i)&&(Xe(),Ra(Mo(),y,t,i,s,d)),fh}function Ql(t,i,s,d){return Us(t,ko(),s)?i+rt(s)+d:ro}function tu(t,i,s,d,y,D,j,ne){const Oe=function Wc(t,i,s,d,y){const D=xl(t,i,s,d);return Us(t,i+2,y)||D}(t,So(),s,y,j);return To(3),Oe?i+rt(s)+d+rt(y)+D+rt(j)+ne:ro}function Mp(t,i,s,d,y,D,j,ne){const he=ee(),Oe=Xe(),it=t+zr,yt=Oe.firstCreatePass?function D_(t,i,s,d,y,D,j,ne,he){const Oe=i.consts,it=ql(i,t,4,j||null,Fn(Oe,ne));rh(i,s,it,Fn(Oe,he)),me(i,it);const yt=it.tView=ih(2,it,d,y,D,i.directiveRegistry,i.pipeRegistry,null,i.schemas,Oe);return null!==i.queries&&(i.queries.template(i,it),yt.queries=i.queries.embeddedTView(it)),it}(it,Oe,he,i,s,d,y,D,j):Oe.data[it];Ei(yt,!1);const qt=he[In].createComment("");Fu(Oe,he,qt,yt),ws(qt,he),Uc(he,he[it]=up(qt,he,qt,yt)),Gi(yt)&&th(Oe,he,yt),null!=j&&nh(he,yt,ne)}function Ip(t){return Dt(function li(){return Zn.lFrame.contextLView}(),zr+t)}function ph(t,i,s){const d=ee();return Us(d,ko(),i)&&ia(Xe(),Mo(),d,t,i,d[In],s,!1),ph}function gh(t,i,s,d,y){const j=y?"class":"style";uh(t,s,i.inputs[j],j,d)}function Yc(t,i,s,d){const y=ee(),D=Xe(),j=zr+t,ne=y[In],he=D.firstCreatePass?function x_(t,i,s,d,y,D){const j=i.consts,he=ql(i,t,2,d,Fn(j,y));return rh(i,s,he,Fn(j,D)),null!==he.attrs&&zc(he,he.attrs,!1),null!==he.mergedAttrs&&zc(he,he.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,he),he}(j,D,y,i,s,d):D.data[j],Oe=y[j]=Bl(ne,i,function P(){return Zn.lFrame.currentNamespace}()),it=Gi(he);return Ei(he,!0),Hl(ne,Oe,he),32!=(32&he.flags)&&Fu(D,y,Oe,he),0===function M(){return Zn.lFrame.elementDepthCount}()&&ws(Oe,y),function N(){Zn.lFrame.elementDepthCount++}(),it&&(th(D,y,he),eh(D,he,y)),null!==d&&nh(y,he),Yc}function Xc(){let t=Jt();mi()?nr():(t=t.parent,Ei(t,!1));const i=t;!function h(){Zn.lFrame.elementDepthCount--}();const s=Xe();return s.firstCreatePass&&(me(s,t),wn(t)&&s.queries.elementEnd(t)),null!=i.classesWithoutHost&&function Vr(t){return 0!=(8&t.flags)}(i)&&gh(s,i,ee(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Lr(t){return 0!=(16&t.flags)}(i)&&gh(s,i,ee(),i.stylesWithoutHost,!1),Xc}function mh(t,i,s,d){return Yc(t,i,s,d),Xc(),mh}function vh(t,i,s){const d=ee(),y=Xe(),D=t+zr,j=y.firstCreatePass?function P_(t,i,s,d,y){const D=i.consts,j=Fn(D,d),ne=ql(i,t,8,"ng-container",j);return null!==j&&zc(ne,j,!0),rh(i,s,ne,Fn(D,y)),null!==i.queries&&i.queries.elementStart(i,ne),ne}(D,y,d,i,s):y.data[D];Ei(j,!0);const ne=d[D]=d[In].createComment("");return Fu(y,d,ne,j),ws(ne,d),Gi(j)&&(th(y,d,j),eh(y,j,d)),null!=s&&nh(d,j),vh}function yh(){let t=Jt();const i=Xe();return mi()?nr():(t=t.parent,Ei(t,!1)),i.firstCreatePass&&(me(i,t),wn(t)&&i.queries.elementEnd(t)),yh}function _h(t,i,s){return vh(t,i,s),yh(),_h}function Ap(){return ee()}function bh(t){return!!t&&"function"==typeof t.then}function Op(t){return!!t&&"function"==typeof t.subscribe}const Rp=Op;function wh(t,i,s,d){const y=ee(),D=Xe(),j=Jt();return function Fp(t,i,s,d,y,D,j){const ne=Gi(d),Oe=t.firstCreatePass&&dp(t),it=i[an],yt=cp(i);let qt=!0;if(3&d.type||j){const ni=Pe(d,i),Pi=j?j(ni):ni,ji=yt.length,_r=j?to=>j(qi(to[d.index])):d.index;let qn=null;if(!j&&ne&&(qn=function M_(t,i,s,d){const y=t.cleanup;if(null!=y)for(let D=0;D<y.length-1;D+=2){const j=y[D];if(j===s&&y[D+1]===d){const ne=i[gn],he=y[D+2];return ne.length>he?ne[he]:null}"string"==typeof j&&(D+=2)}return null}(t,i,y,d.index)),null!==qn)(qn.__ngLastListenerFn__||qn).__ngNextListenerFn__=D,qn.__ngLastListenerFn__=D,qt=!1;else{D=kp(d,i,it,D,!1);const to=s.listen(Pi,y,D);yt.push(D,to),Oe&&Oe.push(y,_r,ji,ji+1)}}else D=kp(d,i,it,D,!1);const fn=d.outputs;let On;if(qt&&null!==fn&&(On=fn[y])){const ni=On.length;if(ni)for(let Pi=0;Pi<ni;Pi+=2){const us=i[On[Pi]][On[Pi+1]].subscribe(D),ys=yt.length;yt.push(D,us),Oe&&Oe.push(y,d.index,ys,-(ys+1))}}}(D,y,y[In],j,t,i,d),wh}function Np(t,i,s,d){try{return Zr(6,i,s),!1!==s(d)}catch(y){return fp(t,y),!1}finally{Zr(7,i,s)}}function kp(t,i,s,d,y){return function D(j){if(j===Function)return d;Hc(t.componentOffset>-1?Ft(t.index,i):i);let he=Np(i,s,d,j),Oe=D.__ngNextListenerFn__;for(;Oe;)he=Np(i,s,Oe,j)&&he,Oe=Oe.__ngNextListenerFn__;return y&&!1===he&&(j.preventDefault(),j.returnValue=!1),he}}function Bp(t=1){return function Hs(t){return(Zn.lFrame.contextLView=function Ts(t,i){for(;t>0;)i=i[Ii],t--;return i}(t,Zn.lFrame.contextLView))[an]}(t)}function I_(t,i){let s=null;const d=function iy(t){const i=t.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(t);for(let y=0;y<i.length;y++){const D=i[y];if("*"!==D){if(null===d?Vf(t,D,!0):sy(d,D))return y}else s=y}return s}function Vp(t){const i=ee()[xr][zt];if(!i.projection){const d=i.projection=I(t?t.length:1,null),y=d.slice();let D=i.child;for(;null!==D;){const j=t?I_(D,t):0;null!==j&&(y[j]?y[j].projectionNext=D:d[j]=D,y[j]=D),D=D.next}}}function Up(t,i=0,s){const d=ee(),y=Xe(),D=ql(y,zr+t,16,null,s||null);null===D.projection&&(D.projection=i),nr(),32!=(32&D.flags)&&function Vu(t,i,s){Ul(i[In],0,i,s,Td(t,s,i),Id(s.parent||i[zt],s,i))}(y,d,D)}function Eh(t,i,s){return Zc(t,"",i,"",s),Eh}function Zc(t,i,s,d,y){const D=ee(),j=Ql(D,i,s,d);return j!==ro&&ia(Xe(),Mo(),D,t,j,D[In],y,!1),Zc}function Kc(t,i){return t<<17|i<<2}function hl(t){return t>>17&32767}function Sh(t){return 2|t}function Pl(t){return(131068&t)>>2}function Ch(t,i){return-131069&t|i<<2}function Dh(t){return 1|t}function Zp(t,i,s,d,y){const D=t[s+1],j=null===i;let ne=d?hl(D):Pl(D),he=!1;for(;0!==ne&&(!1===he||j);){const it=t[ne+1];N_(t[ne],i)&&(he=!0,t[ne+1]=d?Dh(it):Sh(it)),ne=d?hl(it):Pl(it)}he&&(t[s+1]=d?Sh(D):Dh(D))}function N_(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&K(t,i)>=0}function Th(t,i,s){return _a(t,i,s,!1),Th}function xh(t,i){return _a(t,i,null,!0),xh}function _a(t,i,s,d){const y=ee(),D=Xe(),j=To(2);D.firstUpdatePass&&function ig(t,i,s,d){const y=t.data;if(null===y[s+1]){const D=y[Yo()],j=function ng(t,i){return i>=t.expandoStartIndex}(t,s);(function ag(t,i){return 0!=(t.flags&(i?8:16))})(D,d)&&null===i&&!j&&(i=!1),i=function G_(t,i,s,d){const y=function Is(t){const i=Zn.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let D=d?i.residualClasses:i.residualStyles;if(null===y)0===(d?i.classBindings:i.styleBindings)&&(s=tc(s=Ph(null,t,i,s,d),i.attrs,d),D=null);else{const j=i.directiveStylingLast;if(-1===j||t[j]!==y)if(s=Ph(y,t,i,s,d),null===D){let he=function W_(t,i,s){const d=s?i.classBindings:i.styleBindings;if(0!==Pl(d))return t[hl(d)]}(t,i,d);void 0!==he&&Array.isArray(he)&&(he=Ph(null,t,i,he[1],d),he=tc(he,i.attrs,d),function Y_(t,i,s,d){t[hl(s?i.classBindings:i.styleBindings)]=d}(t,i,d,he))}else D=function X_(t,i,s){let d;const y=i.directiveEnd;for(let D=1+i.directiveStylingLast;D<y;D++)d=tc(d,t[D].hostAttrs,s);return tc(d,i.attrs,s)}(t,i,d)}return void 0!==D&&(d?i.residualClasses=D:i.residualStyles=D),s}(y,D,i,d),function L_(t,i,s,d,y,D){let j=D?i.classBindings:i.styleBindings,ne=hl(j),he=Pl(j);t[d]=s;let it,Oe=!1;if(Array.isArray(s)?(it=s[1],(null===it||K(s,it)>0)&&(Oe=!0)):it=s,y)if(0!==he){const qt=hl(t[ne+1]);t[d+1]=Kc(qt,ne),0!==qt&&(t[qt+1]=Ch(t[qt+1],d)),t[ne+1]=function O_(t,i){return 131071&t|i<<17}(t[ne+1],d)}else t[d+1]=Kc(ne,0),0!==ne&&(t[ne+1]=Ch(t[ne+1],d)),ne=d;else t[d+1]=Kc(he,0),0===ne?ne=d:t[he+1]=Ch(t[he+1],d),he=d;Oe&&(t[d+1]=Sh(t[d+1])),Zp(t,it,d,!0),Zp(t,it,d,!1),function F_(t,i,s,d,y){const D=y?t.residualClasses:t.residualStyles;null!=D&&"string"==typeof i&&K(D,i)>=0&&(s[d+1]=Dh(s[d+1]))}(i,it,t,d,D),j=Kc(ne,he),D?i.classBindings=j:i.styleBindings=j}(y,D,i,s,j,d)}}(D,t,j,d),i!==ro&&Us(y,j,i)&&function og(t,i,s,d,y,D,j,ne){if(!(3&i.type))return;const he=t.data,Oe=he[ne+1],it=function R_(t){return 1==(1&t)}(Oe)?sg(he,i,s,y,Pl(Oe),j):void 0;qc(it)||(qc(D)||function A_(t){return 2==(2&t)}(Oe)&&(D=sg(he,null,s,y,ne,j)),function Ld(t,i,s,d,y){if(i)y?t.addClass(s,d):t.removeClass(s,d);else{let D=-1===d.indexOf("-")?void 0:ea.DashCase;null==y?t.removeStyle(s,d,D):("string"==typeof y&&y.endsWith("!important")&&(y=y.slice(0,-10),D|=ea.Important),t.setStyle(s,d,y,D))}}(d,j,we(Yo(),s),y,D))}(D,D.data[Yo()],y,y[In],t,y[j+1]=function J_(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=xe(Aa(t)))),t}(i,s),d,j)}function Ph(t,i,s,d,y){let D=null;const j=s.directiveEnd;let ne=s.directiveStylingLast;for(-1===ne?ne=s.directiveStart:ne++;ne<j&&(D=i[ne],d=tc(d,D.hostAttrs,y),D!==t);)ne++;return null!==t&&(s.directiveStylingLast=ne),d}function tc(t,i,s){const d=s?1:2;let y=-1;if(null!==i)for(let D=0;D<i.length;D++){const j=i[D];"number"==typeof j?y=j:y===d&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),b(t,j,!!s||i[++D]))}return void 0===t?null:t}function sg(t,i,s,d,y,D){const j=null===i;let ne;for(;y>0;){const he=t[y],Oe=Array.isArray(he),it=Oe?he[1]:he,yt=null===it;let qt=s[y+1];qt===ro&&(qt=yt?ei:void 0);let fn=yt?O(qt,d):it===d?qt:void 0;if(Oe&&!qc(fn)&&(fn=O(he,d)),qc(fn)&&(ne=fn,j))return ne;const On=t[y+1];y=j?hl(On):Pl(On)}if(null!==i){let he=D?i.residualClasses:i.residualStyles;null!=he&&(ne=O(he,d))}return ne}function qc(t){return void 0!==t}function lg(t,i=""){const s=ee(),d=Xe(),y=t+zr,D=d.firstCreatePass?ql(d,y,1,i,null):d.data[y],j=s[y]=function kl(t,i){return t.createText(i)}(s[In],i);Fu(d,s,j,D),Ei(D,!1)}function Mh(t){return Jc("",t,""),Mh}function Jc(t,i,s){const d=ee(),y=Ql(d,t,i,s);return y!==ro&&qa(d,Yo(),y),Jc}function Ih(t,i,s,d,y){const D=ee(),j=function eu(t,i,s,d,y,D){const ne=xl(t,So(),s,y);return To(2),ne?i+rt(s)+d+rt(y)+D:ro}(D,t,i,s,d,y);return j!==ro&&qa(D,Yo(),j),Ih}function Ah(t,i,s,d,y,D,j){const ne=ee(),he=tu(ne,t,i,s,d,y,D,j);return he!==ro&&qa(ne,Yo(),he),Ah}const Ml=void 0;var _0=["en",[["a","p"],["AM","PM"],Ml],[["AM","PM"],Ml,Ml],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ml,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ml,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ml,"{1} 'at' {0}",Ml],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function y0(t){const s=Math.floor(Math.abs(t)),d=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===d?1:5}];let lu={};function Oh(t){const i=function b0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=xg(i);if(s)return s;const d=i.split("-")[0];if(s=xg(d),s)return s;if("en"===d)return _0;throw new Ge(701,!1)}function Tg(t){return Oh(t)[Or.PluralCase]}function xg(t){return t in lu||(lu[t]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[t]),lu[t]}var Or=(()=>((Or=Or||{})[Or.LocaleId=0]="LocaleId",Or[Or.DayPeriodsFormat=1]="DayPeriodsFormat",Or[Or.DayPeriodsStandalone=2]="DayPeriodsStandalone",Or[Or.DaysFormat=3]="DaysFormat",Or[Or.DaysStandalone=4]="DaysStandalone",Or[Or.MonthsFormat=5]="MonthsFormat",Or[Or.MonthsStandalone=6]="MonthsStandalone",Or[Or.Eras=7]="Eras",Or[Or.FirstDayOfWeek=8]="FirstDayOfWeek",Or[Or.WeekendRange=9]="WeekendRange",Or[Or.DateFormat=10]="DateFormat",Or[Or.TimeFormat=11]="TimeFormat",Or[Or.DateTimeFormat=12]="DateTimeFormat",Or[Or.NumberSymbols=13]="NumberSymbols",Or[Or.NumberFormats=14]="NumberFormats",Or[Or.CurrencyCode=15]="CurrencyCode",Or[Or.CurrencySymbol=16]="CurrencySymbol",Or[Or.CurrencyName=17]="CurrencyName",Or[Or.Currencies=18]="Currencies",Or[Or.Directionality=19]="Directionality",Or[Or.PluralCase=20]="PluralCase",Or[Or.ExtraData=21]="ExtraData",Or))();const uu="en-US";let Pg=uu;function Fh(t,i,s,d,y){if(t=Be(t),Array.isArray(t))for(let D=0;D<t.length;D++)Fh(t[D],i,s,d,y);else{const D=Xe(),j=ee();let ne=Cl(t)?t:Be(t.provide),he=Mf(t);const Oe=Jt(),it=1048575&Oe.providerIndexes,yt=Oe.directiveStart,qt=Oe.providerIndexes>>20;if(Cl(t)||!t.multi){const fn=new Wn(he,y,Kl),On=kh(ne,i,y?it:it+qt,yt);-1===On?(xs(os(Oe,j),D,ne),Nh(D,t,i.length),i.push(ne),Oe.directiveStart++,Oe.directiveEnd++,y&&(Oe.providerIndexes+=1048576),s.push(fn),j.push(fn)):(s[On]=fn,j[On]=fn)}else{const fn=kh(ne,i,it+qt,yt),On=kh(ne,i,it,it+qt),Pi=On>=0&&s[On];if(y&&!Pi||!y&&!(fn>=0&&s[fn])){xs(os(Oe,j),D,ne);const ji=function vb(t,i,s,d,y){const D=new Wn(t,s,Kl);return D.multi=[],D.index=i,D.componentProviders=0,Qg(D,y,d&&!s),D}(y?mb:gb,s.length,y,d,he);!y&&Pi&&(s[On].providerFactory=ji),Nh(D,t,i.length,0),i.push(ne),Oe.directiveStart++,Oe.directiveEnd++,y&&(Oe.providerIndexes+=1048576),s.push(ji),j.push(ji)}else Nh(D,t,fn>-1?fn:On,Qg(s[y?On:fn],he,!y&&d));!y&&d&&Pi&&s[On].componentProviders++}}}function Nh(t,i,s,d){const y=Cl(i),D=function Pv(t){return!!t.useClass}(i);if(y||D){const he=(D?Be(i.useClass):i).prototype.ngOnDestroy;if(he){const Oe=t.destroyHooks||(t.destroyHooks=[]);if(!y&&i.multi){const it=Oe.indexOf(s);-1===it?Oe.push(s,[d,he]):Oe[it+1].push(d,he)}else Oe.push(s,he)}}}function Qg(t,i,s){return s&&t.componentProviders++,t.multi.push(i)-1}function kh(t,i,s,d){for(let y=s;y<d;y++)if(i[y]===t)return y;return-1}function gb(t,i,s,d){return Bh(this.multi,[])}function mb(t,i,s,d){const y=this.multi;let D;if(this.providerFactory){const j=this.providerFactory.componentProviders,ne=_s(s,s[dt],this.providerFactory.index,d);D=ne.slice(0,j),Bh(y,D);for(let he=j;he<ne.length;he++)D.push(ne[he])}else D=[],Bh(y,D);return D}function Bh(t,i){for(let s=0;s<t.length;s++)i.push((0,t[s])());return i}function em(t,i=[]){return s=>{s.providersResolver=(d,y)=>function pb(t,i,s){const d=Xe();if(d.firstCreatePass){const y=vi(t);Fh(s,d.data,d.blueprint,y,!0),Fh(i,d.data,d.blueprint,y,!1)}}(d,y?y(t):t,i)}}class cu{}class tm{}function yb(t,i){return new nm(t,i??null)}class nm extends cu{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pp(this);const d=kr(i);this._bootstrapComponents=Ka(d.bootstrap),this._r3Injector=Yf(i,s,[{provide:cu,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],xe(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Vh extends tm{constructor(i){super(),this.moduleType=i}create(i){return new nm(this.moduleType,i)}}class _b extends cu{constructor(i,s,d){super(),this.componentFactoryResolver=new pp(this),this.instance=null;const y=new Pf([...i,{provide:cu,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],s||Nc(),d,new Set(["environment"]));this.injector=y,y.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Uh(t,i,s=null){return new _b(t,i,s).injector}let bb=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const d=Eo(0,s.type),y=d.length>0?Uh([d],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,y)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=Wt({token:t,providedIn:"environment",factory:()=>new t(Vt(Dl))}),t})();function im(t){t.getStandaloneInjector=i=>i.get(bb).getOrCreateStandaloneInjector(t)}function cm(t,i,s){const d=gr()+t,y=ee();return y[d]===ro?La(y,d,s?i.call(s):i()):ec(y,d)}function dm(t,i,s,d){return fm(ee(),gr(),t,i,s,d)}function hm(t,i,s,d,y,D,j,ne,he){const Oe=gr()+t,it=ee(),yt=function ha(t,i,s,d,y,D){const j=xl(t,i,s,d);return xl(t,i+2,y,D)||j}(it,Oe,s,d,y,D);return xl(it,Oe+4,j,ne)||yt?La(it,Oe+6,he?i.call(he,s,d,y,D,j,ne):i(s,d,y,D,j,ne)):ec(it,Oe+6)}function ac(t,i){const s=t[i];return s===ro?void 0:s}function fm(t,i,s,d,y,D){const j=i+s;return Us(t,j,y)?La(t,j+1,D?d.call(D,y):d(y)):ac(t,j+1)}function ym(t,i){const s=Xe();let d;const y=t+zr;s.firstCreatePass?(d=function Nb(t,i){if(i)for(let s=i.length-1;s>=0;s--){const d=i[s];if(t===d.name)return d}}(i,s.pipeRegistry),s.data[y]=d,d.onDestroy&&(s.destroyHooks??(s.destroyHooks=[])).push(y,d.onDestroy)):d=s.data[y];const D=d.factory||(d.factory=Yr(d.type)),j=xt(Kl);try{const ne=Mi(!1),he=D();return Mi(ne),function T_(t,i,s,d){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),i[s]=d}(s,ee(),y,he),he}finally{xt(j)}}function _m(t,i,s){const d=t+zr,y=ee(),D=Dt(y,d);return lc(y,d)?fm(y,gr(),i,D.transform,s,D):D.transform(s)}function bm(t,i,s,d){const y=t+zr,D=ee(),j=Dt(D,y);return lc(D,y)?function pm(t,i,s,d,y,D,j){const ne=i+s;return xl(t,ne,y,D)?La(t,ne+2,j?d.call(j,y,D):d(y,D)):ac(t,ne+2)}(D,gr(),i,j.transform,s,d,j):j.transform(s,d)}function lc(t,i){return t[dt].data[i].pure}function jh(t){return i=>{setTimeout(t,void 0,i)}}const ka=class Ub extends r.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,d){let y=i,D=s||(()=>null),j=d;if(i&&"object"==typeof i){const he=i;y=he.next?.bind(he),D=he.error?.bind(he),j=he.complete?.bind(he)}this.__isAsync&&(D=jh(D),y&&(y=jh(y)),j&&(j=jh(j)));const ne=super.subscribe({next:y,error:D,complete:j});return i instanceof F.w0&&i.add(ne),ne}};function Hb(){return this._results[Symbol.iterator]()}class zh{get changes(){return this._changes||(this._changes=new ka)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=zh.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=Hb)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const d=this;d.dirty=!1;const y=function f(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function x(t,i,s){if(t.length!==i.length)return!1;for(let d=0;d<t.length;d++){let y=t[d],D=i[d];if(s&&(y=s(y),D=s(D)),D!==y)return!1}return!0}(d._results,y,s))&&(d._results=y,d.length=y.length,d.last=y[this.length-1],d.first=y[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let uc=(()=>{class t{}return t.__NG_ELEMENT_ID__=$b,t})();const jb=uc,zb=class extends jb{constructor(i,s,d){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=d}createEmbeddedView(i,s){const d=this._declarationTContainer.tView,y=Bc(this._declarationLView,d,i,16,null,d.declTNode,null,null,null,null,s||null);y[fr]=this._declarationLView[this._declarationTContainer.index];const j=this._declarationLView[fo];return null!==j&&(y[fo]=j.createEmbeddedView(d)),Qd(d,y,i),new Ju(y)}};function $b(){return id(Jt(),ee())}function id(t,i){return 4&t.type?new zb(i,t,Yl(t,i)):null}let rd=(()=>{class t{}return t.__NG_ELEMENT_ID__=Gb,t})();function Gb(){return Sm(Jt(),ee())}const Wb=rd,wm=class extends Wb{constructor(i,s,d){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=d}get element(){return Yl(this._hostTNode,this._hostLView)}get injector(){return new Ws(this._hostTNode,this._hostLView)}get parentInjector(){const i=xo(this._hostTNode,this._hostLView);if(Nt(i)){const s=Rn(i,this._hostLView),d=dn(i);return new Ws(s[dt].data[d+8],s)}return new Ws(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Em(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-un}createEmbeddedView(i,s,d){let y,D;"number"==typeof d?y=d:null!=d&&(y=d.index,D=d.injector);const j=i.createEmbeddedView(s||{},D);return this.insert(j,y),j}createComponent(i,s,d,y,D){const j=i&&!function aa(t){return"function"==typeof t}(i);let ne;if(j)ne=s;else{const yt=s||{};ne=yt.index,d=yt.injector,y=yt.projectableNodes,D=yt.environmentInjector||yt.ngModuleRef}const he=j?i:new Qu(zi(i)),Oe=d||this.parentInjector;if(!D&&null==he.ngModule){const qt=(j?Oe:this.parentInjector).get(Dl,null);qt&&(D=qt)}const it=he.create(Oe,y,void 0,D);return this.insert(it.hostView,ne),it}insert(i,s){const d=i._lView,y=d[dt];if(function Mn(t){return Vn(t[Qt])}(d)){const it=this.indexOf(i);if(-1!==it)this.detach(it);else{const yt=d[Qt],qt=new wm(yt,yt[zt],yt[Qt]);qt.detach(qt.indexOf(i))}}const D=this._adjustIndex(s),j=this._lContainer;!function Au(t,i,s,d){const y=un+d,D=s.length;d>0&&(s[y-1][ot]=i),d<D-un?(i[ot]=s[y],p(s,un+d,i)):(s.push(i),i[ot]=null),i[Qt]=s;const j=i[fr];null!==j&&s!==j&&function Tc(t,i){const s=t[Gt];i[xr]!==i[Qt][Qt][xr]&&(t[st]=!0),null===s?t[Gt]=[i]:s.push(i)}(j,i);const ne=i[fo];null!==ne&&ne.insertView(t),i[Lt]|=64}(y,d,j,D);const ne=ku(D,j),he=d[In],Oe=Lu(he,j[wt]);return null!==Oe&&function Ed(t,i,s,d,y,D){d[Je]=y,d[zt]=i,El(t,d,s,1,y,D)}(y,j[zt],he,d,Oe,ne),i.attachToViewContainerRef(),p($h(j),D,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Em(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),d=Ou(this._lContainer,s);d&&(E($h(this._lContainer),s),Pc(d[dt],d))}detach(i){const s=this._adjustIndex(i,-1),d=Ou(this._lContainer,s);return d&&null!=E($h(this._lContainer),s)?new Ju(d):null}_adjustIndex(i,s=0){return i??this.length+s}};function Em(t){return t[$t]}function $h(t){return t[$t]||(t[$t]=[])}function Sm(t,i){let s;const d=i[t.index];if(Vn(d))s=d;else{let y;if(8&t.type)y=qi(d);else{const D=i[In];y=D.createComment("");const j=Pe(t,i);il(D,Lu(D,j),y,function Ef(t,i){return t.nextSibling(i)}(D,j),!1)}i[t.index]=s=up(d,i,y,t),Uc(i,s)}return new wm(s,t,i)}class Gh{constructor(i){this.queryList=i,this.matches=null}clone(){return new Gh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wh{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const d=null!==i.contentQueries?i.contentQueries[0]:s.length,y=[];for(let D=0;D<d;D++){const j=s.getByIndex(D);y.push(this.queries[j.indexInDeclarationView].clone())}return new Wh(y)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Om(i,s).matches&&this.queries[s].setDirty()}}class Cm{constructor(i,s,d=null){this.predicate=i,this.flags=s,this.read=d}}class Yh{constructor(i=[]){this.queries=i}elementStart(i,s){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let d=0;d<this.length;d++){const y=null!==s?s.length:0,D=this.getByIndex(d).embeddedTView(i,y);D&&(D.indexInDeclarationView=d,null!==s?s.push(D):s=[D])}return null!==s?new Yh(s):null}template(i,s){for(let d=0;d<this.queries.length;d++)this.queries[d].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Xh{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Xh(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let d=i.parent;for(;null!==d&&8&d.type&&d.index!==s;)d=d.parent;return s===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const d=this.metadata.predicate;if(Array.isArray(d))for(let y=0;y<d.length;y++){const D=d[y];this.matchTNodeWithReadOption(i,s,Yb(s,D)),this.matchTNodeWithReadOption(i,s,Ks(s,i,D,!1,!1))}else d===uc?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Ks(s,i,d,!1,!1))}matchTNodeWithReadOption(i,s,d){if(null!==d){const y=this.metadata.read;if(null!==y)if(y===Zu||y===rd||y===uc&&4&s.type)this.addMatch(s.index,-2);else{const D=Ks(s,i,y,!1,!1);null!==D&&this.addMatch(s.index,D)}else this.addMatch(s.index,d)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function Yb(t,i){const s=t.localNames;if(null!==s)for(let d=0;d<s.length;d+=2)if(s[d]===i)return s[d+1];return null}function Zb(t,i,s,d){return-1===s?function Xb(t,i){return 11&t.type?Yl(t,i):4&t.type?id(t,i):null}(i,t):-2===s?function Kb(t,i,s){return s===Zu?Yl(i,t):s===uc?id(i,t):s===rd?Sm(i,t):void 0}(t,i,d):_s(t,t[dt],s,i)}function Dm(t,i,s,d){const y=i[fo].queries[d];if(null===y.matches){const D=t.data,j=s.matches,ne=[];for(let he=0;he<j.length;he+=2){const Oe=j[he];ne.push(Oe<0?null:Zb(i,D[Oe],j[he+1],s.metadata.read))}y.matches=ne}return y.matches}function Zh(t,i,s,d){const y=t.queries.getByIndex(s),D=y.matches;if(null!==D){const j=Dm(t,i,y,s);for(let ne=0;ne<D.length;ne+=2){const he=D[ne];if(he>0)d.push(j[ne/2]);else{const Oe=D[ne+1],it=i[-he];for(let yt=un;yt<it.length;yt++){const qt=it[yt];qt[fr]===qt[Qt]&&Zh(qt[dt],qt,Oe,d)}if(null!==it[Gt]){const yt=it[Gt];for(let qt=0;qt<yt.length;qt++){const fn=yt[qt];Zh(fn[dt],fn,Oe,d)}}}}}return d}function Tm(t){const i=ee(),s=Xe(),d=Rs();As(d+1);const y=Om(s,d);if(t.dirty&&function jt(t){return 4==(4&t[Lt])}(i)===(2==(2&y.metadata.flags))){if(null===y.matches)t.reset([]);else{const D=y.crossesNgTemplate?Zh(s,i,d,[]):Dm(s,i,y,d);t.reset(D,Vv),t.notifyOnChanges()}return!0}return!1}function xm(t,i,s){const d=Xe();d.firstCreatePass&&(Am(d,new Cm(t,i,s),-1),2==(2&i)&&(d.staticViewQueries=!0)),Im(d,ee(),i)}function Pm(t,i,s,d){const y=Xe();if(y.firstCreatePass){const D=Jt();Am(y,new Cm(i,s,d),D.index),function Jb(t,i){const s=t.contentQueries||(t.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,i)}(y,t),2==(2&s)&&(y.staticContentQueries=!0)}Im(y,ee(),s)}function Mm(){return function qb(t,i){return t[fo].queries[i].queryList}(ee(),Rs())}function Im(t,i,s){const d=new zh(4==(4&s));rp(t,i,d,d.destroy),null===i[fo]&&(i[fo]=new Wh),i[fo].queries.push(new Gh(d))}function Am(t,i,s){null===t.queries&&(t.queries=new Yh),t.queries.track(new Xh(i,s))}function Om(t,i){return t.queries.getByIndex(i)}function Kh(t){return!!kr(t)}function sd(...t){}const Km=new Qr("Application Initializer");let ad=(()=>{class t{constructor(s){this.appInits=s,this.resolve=sd,this.reject=sd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,y)=>{this.resolve=d,this.reject=y})}runInitializers(){if(this.initialized)return;const s=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let y=0;y<this.appInits.length;y++){const D=this.appInits[y]();if(bh(D))s.push(D);else if(Rp(D)){const j=new Promise((ne,he)=>{D.subscribe({complete:ne,error:he})});s.push(j)}}Promise.all(s).then(()=>{d()}).catch(y=>{this.reject(y)}),0===s.length&&d(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Vt(Km,8))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const qm=new Qr("AppId",{providedIn:"root",factory:function Jm(){return`${tf()}${tf()}${tf()}`}});function tf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Qm=new Qr("Platform Initializer"),_w=new Qr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bw=new Qr("AnimationModuleType");let ww=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const ld=new Qr("LocaleId",{providedIn:"root",factory:()=>si(ld,Sn.Optional|Sn.SkipSelf)||function Ew(){return typeof $localize<"u"&&$localize.locale||uu}()}),Sw=new Qr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Cw{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let Dw=(()=>{class t{compileModuleSync(s){return new Vh(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const d=this.compileModuleSync(s),D=Ka(kr(s).declarations).reduce((j,ne)=>{const he=zi(ne);return he&&j.push(new Qu(he)),j},[]);return new Cw(d,D)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Pw=(()=>Promise.resolve(0))();function nf(t){typeof Zone>"u"?Pw.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class fa{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ka(!1),this.onMicrotaskEmpty=new ka(!1),this.onStable=new ka(!1),this.onError=new ka(!1),typeof Zone>"u")throw new Ge(908,!1);Zone.assertZonePatched();const y=this;y._nesting=0,y._outer=y._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(y._inner=y._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(y._inner=y._inner.fork(Zone.longStackTraceZoneSpec)),y.shouldCoalesceEventChangeDetection=!d&&s,y.shouldCoalesceRunChangeDetection=d,y.lastRequestAnimationFrameId=-1,y.nativeRequestAnimationFrame=function Mw(){let t=sn.requestAnimationFrame,i=sn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&i){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const d=i[Zone.__symbol__("OriginalDelegate")];d&&(i=d)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function Ow(t){const i=()=>{!function Aw(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(sn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sf(t),t.isCheckStableRunning=!0,rf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,d,y,D,j,ne)=>{try{return nv(t),s.invokeTask(y,D,j,ne)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===D.type||t.shouldCoalesceRunChangeDetection)&&i(),iv(t)}},onInvoke:(s,d,y,D,j,ne,he)=>{try{return nv(t),s.invoke(y,D,j,ne,he)}finally{t.shouldCoalesceRunChangeDetection&&i(),iv(t)}},onHasTask:(s,d,y,D)=>{s.hasTask(y,D),d===y&&("microTask"==D.change?(t._hasPendingMicrotasks=D.microTask,sf(t),rf(t)):"macroTask"==D.change&&(t.hasPendingMacrotasks=D.macroTask))},onHandleError:(s,d,y,D)=>(s.handleError(y,D),t.runOutsideAngular(()=>t.onError.emit(D)),!1)})}(y)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fa.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if(fa.isInAngularZone())throw new Ge(909,!1)}run(i,s,d){return this._inner.run(i,s,d)}runTask(i,s,d,y){const D=this._inner,j=D.scheduleEventTask("NgZoneEvent: "+y,i,Iw,sd,sd);try{return D.runTask(j,s,d)}finally{D.cancelTask(j)}}runGuarded(i,s,d){return this._inner.runGuarded(i,s,d)}runOutsideAngular(i){return this._outer.run(i)}}const Iw={};function rf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function nv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function iv(t){t._nesting--,rf(t)}class Rw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ka,this.onMicrotaskEmpty=new ka,this.onStable=new ka,this.onError=new ka}run(i,s,d){return i.apply(s,d)}runGuarded(i,s,d){return i.apply(s,d)}runOutsideAngular(i){return i()}runTask(i,s,d,y){return i.apply(s,d)}}const rv=new Qr(""),ov=new Qr("");let af,Lw=(()=>{class t{constructor(s,d,y){this._ngZone=s,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,af||(function Fw(t){af=t}(y),y.addToWindow(d)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fa.assertNotInAngularZone(),nf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nf(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(s)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,d,y){let D=-1;d&&d>0&&(D=setTimeout(()=>{this._callbacks=this._callbacks.filter(j=>j.timeoutId!==D),s(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:s,timeoutId:D,updateCb:y})}whenStable(s,d,y){if(y&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,d,y),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,d,y){return[]}}return t.\u0275fac=function(s){return new(s||t)(Vt(fa),Vt(sv),Vt(ov))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac}),t})(),sv=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,d){this._applications.set(s,d)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,d=!0){return af?.findTestabilityInTree(this,s,d)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Ja=!1;let fl=null;const av=new Qr("AllowMultipleToken"),lf=new Qr("PlatformDestroyListeners"),lv=new Qr("appBootstrapListener");class Bw{constructor(i,s){this.name=i,this.token=s}}function cv(t,i,s=[]){const d=`Platform: ${i}`,y=new Qr(d);return(D=[])=>{let j=uf();if(!j||j.injector.get(av,!1)){const ne=[...s,...D,{provide:y,useValue:!0}];t?t(ne):function Vw(t){if(fl&&!fl.get(av,!1))throw new Ge(400,!1);fl=t;const i=t.get(hv);(function uv(t){const i=t.get(Qm,null);i&&i.forEach(s=>s())})(t)}(function dv(t=[],i){return Tl.create({name:i,providers:[{provide:Hd,useValue:"platform"},{provide:lf,useValue:new Set([()=>fl=null])},...t]})}(ne,d))}return function Hw(t){const i=uf();if(!i)throw new Ge(401,!1);return i}()}}function uf(){return fl?.get(hv)??null}let hv=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,d){const y=function pv(t,i){let s;return s="noop"===t?new Rw:("zone.js"===t?void 0:t)||new fa(i),s}(d?.ngZone,function fv(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(d)),D=[{provide:fa,useValue:y}];return y.run(()=>{const j=Tl.create({providers:D,parent:this.injector,name:s.moduleType.name}),ne=s.create(j),he=ne.injector.get(Ku,null);if(!he)throw new Ge(402,!1);return y.runOutsideAngular(()=>{const Oe=y.onError.subscribe({next:it=>{he.handleError(it)}});ne.onDestroy(()=>{cd(this._modules,ne),Oe.unsubscribe()})}),function gv(t,i,s){try{const d=s();return bh(d)?d.catch(y=>{throw i.runOutsideAngular(()=>t.handleError(y)),y}):d}catch(d){throw i.runOutsideAngular(()=>t.handleError(d)),d}}(he,y,()=>{const Oe=ne.injector.get(ad);return Oe.runInitializers(),Oe.donePromise.then(()=>(function Mg(t){En(t,"Expected localeId to be defined"),"string"==typeof t&&(Pg=t.toLowerCase().replace(/_/g,"-"))}(ne.injector.get(ld,uu)||uu),this._moduleDoBootstrap(ne),ne))})})}bootstrapModule(s,d=[]){const y=mv({},d);return function Nw(t,i,s){const d=new Vh(s);return Promise.resolve(d)}(0,0,s).then(D=>this.bootstrapModuleFactory(D,y))}_moduleDoBootstrap(s){const d=s.injector.get(ud);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(y=>d.bootstrap(y));else{if(!s.instance.ngDoBootstrap)throw new Ge(-403,!1);s.instance.ngDoBootstrap(d)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const s=this._injector.get(lf,null);s&&(s.forEach(d=>d()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Vt(Tl))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function mv(t,i){return Array.isArray(i)?i.reduce(mv,t):{...t,...i}}let ud=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(s,d,y){this._zone=s,this._injector=d,this._exceptionHandler=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const D=new q.y(ne=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{ne.next(this._stable),ne.complete()})}),j=new q.y(ne=>{let he;this._zone.runOutsideAngular(()=>{he=this._zone.onStable.subscribe(()=>{fa.assertNotInAngularZone(),nf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,ne.next(!0))})})});const Oe=this._zone.onUnstable.subscribe(()=>{fa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{ne.next(!1)}))});return()=>{he.unsubscribe(),Oe.unsubscribe()}});this.isStable=function J(...t){const i=(0,Z.yG)(t),s=(0,Z._6)(t,1/0),d=t;return d.length?1===d.length?(0,Q.Xf)(d[0]):(0,$.J)(s)((0,G.D)(d,i)):Y.E}(D,j.pipe(function ce(t={}){const{connector:i=(()=>new r.x),resetOnError:s=!0,resetOnComplete:d=!0,resetOnRefCountZero:y=!0}=t;return D=>{let j,ne,he,Oe=0,it=!1,yt=!1;const qt=()=>{ne?.unsubscribe(),ne=void 0},fn=()=>{qt(),j=he=void 0,it=yt=!1},On=()=>{const ni=j;fn(),ni?.unsubscribe()};return(0,oe.e)((ni,Pi)=>{Oe++,!yt&&!it&&qt();const ji=he=he??i();Pi.add(()=>{Oe--,0===Oe&&!yt&&!it&&(ne=le(On,y))}),ji.subscribe(Pi),!j&&Oe>0&&(j=new ue.Hp({next:_r=>ji.next(_r),error:_r=>{yt=!0,qt(),ne=le(fn,s,_r),ji.error(_r)},complete:()=>{it=!0,qt(),ne=le(fn,d),ji.complete()}}),(0,Q.Xf)(ni).subscribe(j))})(D)}}()))}bootstrap(s,d){const y=s instanceof If;if(!this._injector.get(ad).done){!y&&di(s);throw new Ge(405,Ja)}let j;j=y?s:this._injector.get(Xu).resolveComponentFactory(s),this.componentTypes.push(j.componentType);const ne=function kw(t){return t.isBoundToModule}(j)?void 0:this._injector.get(cu),Oe=j.create(Tl.NULL,[],d||j.selector,ne),it=Oe.location.nativeElement,yt=Oe.injector.get(rv,null);return yt?.registerApplication(it),Oe.onDestroy(()=>{this.detachView(Oe.hostView),cd(this.components,Oe),yt?.unregisterApplication(it)}),this._loadComponent(Oe),Oe}tick(){if(this._runningTick)throw new Ge(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const d=s;this._views.push(d),d.attachToAppRef(this)}detachView(s){const d=s;cd(this._views,d),d.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const d=this._injector.get(lv,[]);d.push(...this._bootstrapListeners),d.forEach(y=>y(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>cd(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ge(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(Vt(fa),Vt(Dl),Vt(Ku))},t.\u0275prov=Wt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function cd(t,i){const s=t.indexOf(i);s>-1&&t.splice(s,1)}function zw(){}let $w=(()=>{class t{}return t.__NG_ELEMENT_ID__=Gw,t})();function Gw(t){return function Ww(t,i,s){if(oi(t)&&!s){const d=Ft(t.index,i);return new Ju(d,d)}return 47&t.type?new Ju(i[xr],i):null}(Jt(),ee(),16==(16&t))}class wv{constructor(){}supports(i){return Gc(i)}create(i){return new Jw(i)}}const qw=(t,i)=>i;class Jw{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||qw}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,d=this._removalsHead,y=0,D=null;for(;s||d;){const j=!d||s&&s.currentIndex<Sv(d,y,D)?s:d,ne=Sv(j,y,D),he=j.currentIndex;if(j===d)y--,d=d._nextRemoved;else if(s=s._next,null==j.previousIndex)y++;else{D||(D=[]);const Oe=ne-y,it=he-y;if(Oe!=it){for(let qt=0;qt<Oe;qt++){const fn=qt<D.length?D[qt]:D[qt]=0,On=fn+qt;it<=On&&On<Oe&&(D[qt]=fn+1)}D[j.previousIndex]=it-Oe}}ne!==he&&i(j,ne,he)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Gc(i))throw new Ge(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let y,D,j,s=this._itHead,d=!1;if(Array.isArray(i)){this.length=i.length;for(let ne=0;ne<this.length;ne++)D=i[ne],j=this._trackByFn(ne,D),null!==s&&Object.is(s.trackById,j)?(d&&(s=this._verifyReinsertion(s,D,j,ne)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,j,ne),d=!0),s=s._next}else y=0,function E_(t,i){if(Array.isArray(t))for(let s=0;s<t.length;s++)i(t[s]);else{const s=t[Symbol.iterator]();let d;for(;!(d=s.next()).done;)i(d.value)}}(i,ne=>{j=this._trackByFn(y,ne),null!==s&&Object.is(s.trackById,j)?(d&&(s=this._verifyReinsertion(s,ne,j,y)),Object.is(s.item,ne)||this._addIdentityChange(s,ne)):(s=this._mismatch(s,ne,j,y),d=!0),s=s._next,y++}),this.length=y;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,d,y){let D;return null===i?D=this._itTail:(D=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,D,y)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(d,y))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,D,y)):i=this._addAfter(new Qw(s,d),D,y),i}_verifyReinsertion(i,s,d,y){let D=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==D?i=this._reinsertAfter(D,i._prev,y):i.currentIndex!=y&&(i.currentIndex=y,this._addToMoves(i,y)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const y=i._prevRemoved,D=i._nextRemoved;return null===y?this._removalsHead=D:y._nextRemoved=D,null===D?this._removalsTail=y:D._prevRemoved=y,this._insertAfter(i,s,d),this._addToMoves(i,d),i}_moveAfter(i,s,d){return this._unlink(i),this._insertAfter(i,s,d),this._addToMoves(i,d),i}_addAfter(i,s,d){return this._insertAfter(i,s,d),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,d){const y=null===s?this._itHead:s._next;return i._next=y,i._prev=s,null===y?this._itTail=i:y._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new Ev),this._linkedRecords.put(i),i.currentIndex=d,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,d=i._next;return null===s?this._itHead=d:s._next=d,null===d?this._itTail=s:d._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ev),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Qw{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class eE{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===s||s<=d.currentIndex)&&Object.is(d.trackById,i))return d;return null}remove(i){const s=i._prevDup,d=i._nextDup;return null===s?this._head=d:s._nextDup=d,null===d?this._tail=s:d._prevDup=s,null===this._head}}class Ev{constructor(){this.map=new Map}put(i){const s=i.trackById;let d=this.map.get(s);d||(d=new eE,this.map.set(s,d)),d.add(i)}get(i,s){const y=this.map.get(i);return y?y.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sv(t,i,s){const d=t.previousIndex;if(null===d)return d;let y=0;return s&&d<s.length&&(y=s[d]),d+i+y}class Cv{constructor(){}supports(i){return i instanceof Map||hh(i)}create(){return new tE}}class tE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||hh(i)))throw new Ge(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(d,y)=>{if(s&&s.key===y)this._maybeAddToChanges(s,d),this._appendAfter=s,s=s._next;else{const D=this._getOrCreateRecordForKey(y,d);s=this._insertBeforeOrAppend(s,D)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let d=s;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const d=i._prev;return s._next=i,s._prev=d,i._prev=s,d&&(d._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const y=this._records.get(i);this._maybeAddToChanges(y,s);const D=y._prev,j=y._next;return D&&(D._next=j),j&&(j._prev=D),y._next=null,y._prev=null,y}const d=new nE(i);return this._records.set(i,d),d.currentValue=s,this._addToAdditions(d),d}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(d=>s(i[d],d))}}class nE{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Dv(){return new pf([new wv])}let pf=(()=>{class t{constructor(s){this.factories=s}static create(s,d){if(null!=d){const y=d.factories.slice();s=s.concat(y)}return new t(s)}static extend(s){return{provide:t,useFactory:d=>t.create(s,d||Dv()),deps:[[t,new Tr,new ri]]}}find(s){const d=this.factories.find(y=>y.supports(s));if(null!=d)return d;throw new Ge(901,!1)}}return t.\u0275prov=Wt({token:t,providedIn:"root",factory:Dv}),t})();function Tv(){return new gf([new Cv])}let gf=(()=>{class t{constructor(s){this.factories=s}static create(s,d){if(d){const y=d.factories.slice();s=s.concat(y)}return new t(s)}static extend(s){return{provide:t,useFactory:d=>t.create(s,d||Tv()),deps:[[t,new Tr,new ri]]}}find(s){const d=this.factories.find(y=>y.supports(s));if(d)return d;throw new Ge(901,!1)}}return t.\u0275prov=Wt({token:t,providedIn:"root",factory:Tv}),t})();const oE=cv(null,"core",[]);let sE=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Vt(ud))},t.\u0275mod=wr({type:t}),t.\u0275inj=Cn({}),t})();function aE(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},433:(Ct,H,A)=>{"use strict";A.d(H,{u5:()=>hi,JU:()=>ke,a5:()=>Oi,JJ:()=>Mr,JL:()=>ir,F:()=>Ht,On:()=>Po,c5:()=>qi,Q7:()=>Bo,_Y:()=>jo});var r=A(8256),F=A(6895),q=A(2076),$=A(9751),Q=A(4742),Y=A(8421),Z=A(3269),G=A(5403),J=A(3268),ue=A(1810),ce=A(4004);let le=(()=>{class ve{constructor(M,N){this._renderer=M,this._elementRef=N,this.onChange=h=>{},this.onTouched=()=>{}}setProperty(M,N){this._renderer.setProperty(this._elementRef.nativeElement,M,N)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return ve.\u0275fac=function(M){return new(M||ve)(r.Y36(r.Qsj),r.Y36(r.SBq))},ve.\u0275dir=r.lG2({type:ve}),ve})(),de=(()=>{class ve extends le{}return ve.\u0275fac=function(){let fe;return function(N){return(fe||(fe=r.n5z(ve)))(N||ve)}}(),ve.\u0275dir=r.lG2({type:ve,features:[r.qOj]}),ve})();const ke=new r.OlP("NgValueAccessor"),_e={provide:ke,useExisting:(0,r.Gpc)(()=>tt),multi:!0},Be=new r.OlP("CompositionEventMode");let tt=(()=>{class ve extends le{constructor(M,N,h){super(M,N),this._compositionMode=h,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ie(){const ve=(0,F.q)()?(0,F.q)().getUserAgent():"";return/android (\d+)/.test(ve.toLowerCase())}())}writeValue(M){this.setProperty("value",M??"")}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return ve.\u0275fac=function(M){return new(M||ve)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Be,8))},ve.\u0275dir=r.lG2({type:ve,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,N){1&M&&r.NdJ("input",function(T){return N._handleInput(T.target.value)})("blur",function(){return N.onTouched()})("compositionstart",function(){return N._compositionStart()})("compositionend",function(T){return N._compositionEnd(T.target.value)})},features:[r._Bn([_e]),r.qOj]}),ve})();const Ae=!1;function vt(ve){return null==ve||("string"==typeof ve||Array.isArray(ve))&&0===ve.length}const Ge=new r.OlP("NgValidators"),Ze=new r.OlP("NgAsyncValidators");function ge(ve){return vt(ve.value)?{required:!0}:null}function Ve(ve){return null}function Ce(ve){return null!=ve}function Ue(ve){const fe=(0,r.QGY)(ve)?(0,q.D)(ve):ve;if(Ae&&!(0,r.CqO)(fe)){let M="Expected async validator to return Promise or Observable.";throw"object"==typeof ve&&(M+=" Are you using a synchronous validator where an async validator is expected?"),new r.vHH(-1101,M)}return fe}function Me(ve){let fe={};return ve.forEach(M=>{fe=null!=M?{...fe,...M}:fe}),0===Object.keys(fe).length?null:fe}function Fe(ve,fe){return fe.map(M=>M(ve))}function _t(ve){return ve.map(fe=>function mt(ve){return!ve.validate}(fe)?fe:M=>fe.validate(M))}function cn(ve){return null!=ve?function Mt(ve){if(!ve)return null;const fe=ve.filter(Ce);return 0==fe.length?null:function(M){return Me(Fe(M,fe))}}(_t(ve)):null}function on(ve){return null!=ve?function En(ve){if(!ve)return null;const fe=ve.filter(Ce);return 0==fe.length?null:function(M){return function oe(...ve){const fe=(0,Z.jO)(ve),{args:M,keys:N}=(0,Q.D)(ve),h=new $.y(T=>{const{length:_}=M;if(!_)return void T.complete();const V=new Array(_);let ee=_,Xe=_;for(let Rt=0;Rt<_;Rt++){let Bt=!1;(0,Y.Xf)(M[Rt]).subscribe((0,G.x)(T,Jt=>{Bt||(Bt=!0,Xe--),V[Rt]=Jt},()=>ee--,void 0,()=>{(!ee||!Bt)&&(Xe||T.next(N?(0,ue.n)(N,V):V),T.complete())}))}});return fe?h.pipe((0,J.Z)(fe)):h}(Fe(M,fe).map(Ue)).pipe((0,ce.U)(Me))}}(_t(ve)):null}function Et(ve,fe){return null===ve?[fe]:Array.isArray(ve)?[...ve,fe]:[ve,fe]}function Wt(ve){return ve?Array.isArray(ve)?ve:[ve]:[]}function mn(ve,fe){return Array.isArray(ve)?ve.includes(fe):ve===fe}function Cn(ve,fe){const M=Wt(fe);return Wt(ve).forEach(h=>{mn(M,h)||M.push(h)}),M}function _n(ve,fe){return Wt(fe).filter(M=>!mn(ve,M))}class ui{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(fe){this._rawValidators=fe||[],this._composedValidatorFn=cn(this._rawValidators)}_setAsyncValidators(fe){this._rawAsyncValidators=fe||[],this._composedAsyncValidatorFn=on(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(fe){this._onDestroyCallbacks.push(fe)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(fe=>fe()),this._onDestroyCallbacks=[]}reset(fe){this.control&&this.control.reset(fe)}hasError(fe,M){return!!this.control&&this.control.hasError(fe,M)}getError(fe,M){return this.control?this.control.getError(fe,M):null}}class wi extends ui{get formDirective(){return null}get path(){return null}}class Oi extends ui{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class er{constructor(fe){this._cd=fe}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mr=(()=>{class ve extends er{constructor(M){super(M)}}return ve.\u0275fac=function(M){return new(M||ve)(r.Y36(Oi,2))},ve.\u0275dir=r.lG2({type:ve,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,N){2&M&&r.ekj("ng-untouched",N.isUntouched)("ng-touched",N.isTouched)("ng-pristine",N.isPristine)("ng-dirty",N.isDirty)("ng-valid",N.isValid)("ng-invalid",N.isInvalid)("ng-pending",N.isPending)},features:[r.qOj]}),ve})(),ir=(()=>{class ve extends er{constructor(M){super(M)}}return ve.\u0275fac=function(M){return new(M||ve)(r.Y36(wi,10))},ve.\u0275dir=r.lG2({type:ve,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,N){2&M&&r.ekj("ng-untouched",N.isUntouched)("ng-touched",N.isTouched)("ng-pristine",N.isPristine)("ng-dirty",N.isDirty)("ng-valid",N.isValid)("ng-invalid",N.isInvalid)("ng-pending",N.isPending)("ng-submitted",N.isSubmitted)},features:[r.qOj]}),ve})();function lr(ve,fe){return ve?`with name: '${fe}'`:`at index: ${fe}`}const kt=!1,vn="VALID",yn="INVALID",Vt="PENDING",ai="DISABLED";function si(ve){return(Ot(ve)?ve.validators:ve)||null}function Xi(ve,fe){return(Ot(fe)?fe.asyncValidators:ve)||null}function Ot(ve){return null!=ve&&!Array.isArray(ve)&&"object"==typeof ve}class Yt{constructor(fe,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(fe),this._assignAsyncValidators(M)}get validator(){return this._composedValidatorFn}set validator(fe){this._rawValidators=this._composedValidatorFn=fe}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(fe){this._rawAsyncValidators=this._composedAsyncValidatorFn=fe}get parent(){return this._parent}get valid(){return this.status===vn}get invalid(){return this.status===yn}get pending(){return this.status==Vt}get disabled(){return this.status===ai}get enabled(){return this.status!==ai}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(fe){this._assignValidators(fe)}setAsyncValidators(fe){this._assignAsyncValidators(fe)}addValidators(fe){this.setValidators(Cn(fe,this._rawValidators))}addAsyncValidators(fe){this.setAsyncValidators(Cn(fe,this._rawAsyncValidators))}removeValidators(fe){this.setValidators(_n(fe,this._rawValidators))}removeAsyncValidators(fe){this.setAsyncValidators(_n(fe,this._rawAsyncValidators))}hasValidator(fe){return mn(this._rawValidators,fe)}hasAsyncValidator(fe){return mn(this._rawAsyncValidators,fe)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(fe={}){this.touched=!0,this._parent&&!fe.onlySelf&&this._parent.markAsTouched(fe)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(fe=>fe.markAllAsTouched())}markAsUntouched(fe={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!fe.onlySelf&&this._parent._updateTouched(fe)}markAsDirty(fe={}){this.pristine=!1,this._parent&&!fe.onlySelf&&this._parent.markAsDirty(fe)}markAsPristine(fe={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!fe.onlySelf&&this._parent._updatePristine(fe)}markAsPending(fe={}){this.status=Vt,!1!==fe.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!fe.onlySelf&&this._parent.markAsPending(fe)}disable(fe={}){const M=this._parentMarkedDirty(fe.onlySelf);this.status=ai,this.errors=null,this._forEachChild(N=>{N.disable({...fe,onlySelf:!0})}),this._updateValue(),!1!==fe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...fe,skipPristineCheck:M}),this._onDisabledChange.forEach(N=>N(!0))}enable(fe={}){const M=this._parentMarkedDirty(fe.onlySelf);this.status=vn,this._forEachChild(N=>{N.enable({...fe,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:fe.emitEvent}),this._updateAncestors({...fe,skipPristineCheck:M}),this._onDisabledChange.forEach(N=>N(!1))}_updateAncestors(fe){this._parent&&!fe.onlySelf&&(this._parent.updateValueAndValidity(fe),fe.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(fe){this._parent=fe}getRawValue(){return this.value}updateValueAndValidity(fe={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vn||this.status===Vt)&&this._runAsyncValidator(fe.emitEvent)),!1!==fe.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!fe.onlySelf&&this._parent.updateValueAndValidity(fe)}_updateTreeValidity(fe={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(fe)),this.updateValueAndValidity({onlySelf:!0,emitEvent:fe.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ai:vn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(fe){if(this.asyncValidator){this.status=Vt,this._hasOwnPendingAsyncValidator=!0;const M=Ue(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(N=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(N,{emitEvent:fe})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(fe,M={}){this.errors=fe,this._updateControlsErrors(!1!==M.emitEvent)}get(fe){let M=fe;return null==M||(Array.isArray(M)||(M=M.split(".")),0===M.length)?null:M.reduce((N,h)=>N&&N._find(h),this)}getError(fe,M){const N=M?this.get(M):this;return N&&N.errors?N.errors[fe]:null}hasError(fe,M){return!!this.getError(fe,M)}get root(){let fe=this;for(;fe._parent;)fe=fe._parent;return fe}_updateControlsErrors(fe){this.status=this._calculateStatus(),fe&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(fe)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?ai:this.errors?yn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vt)?Vt:this._anyControlsHaveStatus(yn)?yn:vn}_anyControlsHaveStatus(fe){return this._anyControls(M=>M.status===fe)}_anyControlsDirty(){return this._anyControls(fe=>fe.dirty)}_anyControlsTouched(){return this._anyControls(fe=>fe.touched)}_updatePristine(fe={}){this.pristine=!this._anyControlsDirty(),this._parent&&!fe.onlySelf&&this._parent._updatePristine(fe)}_updateTouched(fe={}){this.touched=this._anyControlsTouched(),this._parent&&!fe.onlySelf&&this._parent._updateTouched(fe)}_registerOnCollectionChange(fe){this._onCollectionChange=fe}_setUpdateStrategy(fe){Ot(fe)&&null!=fe.updateOn&&(this._updateOn=fe.updateOn)}_parentMarkedDirty(fe){return!fe&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(fe){return null}_assignValidators(fe){this._rawValidators=Array.isArray(fe)?fe.slice():fe,this._composedValidatorFn=function Jn(ve){return Array.isArray(ve)?cn(ve):ve||null}(this._rawValidators)}_assignAsyncValidators(fe){this._rawAsyncValidators=Array.isArray(fe)?fe.slice():fe,this._composedAsyncValidatorFn=function tr(ve){return Array.isArray(ve)?on(ve):ve||null}(this._rawAsyncValidators)}}class hn extends Yt{constructor(fe,M,N){super(si(M),Xi(N,M)),this.controls=fe,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(fe,M){return this.controls[fe]?this.controls[fe]:(this.controls[fe]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(fe,M,N={}){this.registerControl(fe,M),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}removeControl(fe,M={}){this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),delete this.controls[fe],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(fe,M,N={}){this.controls[fe]&&this.controls[fe]._registerOnCollectionChange(()=>{}),delete this.controls[fe],M&&this.registerControl(fe,M),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}contains(fe){return this.controls.hasOwnProperty(fe)&&this.controls[fe].enabled}setValue(fe,M={}){(function ft(ve,fe,M){ve._forEachChild((N,h)=>{if(void 0===M[h])throw new r.vHH(1002,kt?function bt(ve,fe){return`Must supply a value for form control ${lr(ve,fe)}`}(fe,h):"")})})(this,!0,fe),Object.keys(fe).forEach(N=>{(function Ut(ve,fe,M){const N=ve.controls;if(!(fe?Object.keys(N):N).length)throw new r.vHH(1e3,kt?function Qi(ve){return`\n    There are no form controls registered with this ${ve?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(fe):"");if(!N[M])throw new r.vHH(1001,kt?function Zt(ve,fe){return`Cannot find form control ${lr(ve,fe)}`}(fe,M):"")})(this,!0,N),this.controls[N].setValue(fe[N],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(fe,M={}){null!=fe&&(Object.keys(fe).forEach(N=>{const h=this.controls[N];h&&h.patchValue(fe[N],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(fe={},M={}){this._forEachChild((N,h)=>{N.reset(fe[h],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(fe,M,N)=>(fe[N]=M.getRawValue(),fe))}_syncPendingControls(){let fe=this._reduceChildren(!1,(M,N)=>!!N._syncPendingControls()||M);return fe&&this.updateValueAndValidity({onlySelf:!0}),fe}_forEachChild(fe){Object.keys(this.controls).forEach(M=>{const N=this.controls[M];N&&fe(N,M)})}_setUpControls(){this._forEachChild(fe=>{fe.setParent(this),fe._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(fe){for(const[M,N]of Object.entries(this.controls))if(this.contains(M)&&fe(N))return!0;return!1}_reduceValue(){return this._reduceChildren({},(M,N,h)=>((N.enabled||this.disabled)&&(M[h]=N.value),M))}_reduceChildren(fe,M){let N=fe;return this._forEachChild((h,T)=>{N=M(N,h,T)}),N}_allControlsDisabled(){for(const fe of Object.keys(this.controls))if(this.controls[fe].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(fe){return this.controls.hasOwnProperty(fe)?this.controls[fe]:null}}const rr=new r.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Hi}),Hi="always";function Rr(ve,fe,M=Hi){hr(ve,fe),fe.valueAccessor.writeValue(ve.value),(ve.disabled||"always"===M)&&fe.valueAccessor.setDisabledState?.(ve.disabled),function Ki(ve,fe){fe.valueAccessor.registerOnChange(M=>{ve._pendingValue=M,ve._pendingChange=!0,ve._pendingDirty=!0,"change"===ve.updateOn&&lo(ve,fe)})}(ve,fe),function no(ve,fe){const M=(N,h)=>{fe.valueAccessor.writeValue(N),h&&fe.viewToModelUpdate(N)};ve.registerOnChange(M),fe._registerOnDestroy(()=>{ve._unregisterOnChange(M)})}(ve,fe),function wr(ve,fe){fe.valueAccessor.registerOnTouched(()=>{ve._pendingTouched=!0,"blur"===ve.updateOn&&ve._pendingChange&&lo(ve,fe),"submit"!==ve.updateOn&&ve.markAsTouched()})}(ve,fe),function Do(ve,fe){if(fe.valueAccessor.setDisabledState){const M=N=>{fe.valueAccessor.setDisabledState(N)};ve.registerOnDisabledChange(M),fe._registerOnDestroy(()=>{ve._unregisterOnDisabledChange(M)})}}(ve,fe)}function go(ve,fe){ve.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(fe)})}function hr(ve,fe){const M=function at(ve){return ve._rawValidators}(ve);null!==fe.validator?ve.setValidators(Et(M,fe.validator)):"function"==typeof M&&ve.setValidators([M]);const N=function tn(ve){return ve._rawAsyncValidators}(ve);null!==fe.asyncValidator?ve.setAsyncValidators(Et(N,fe.asyncValidator)):"function"==typeof N&&ve.setAsyncValidators([N]);const h=()=>ve.updateValueAndValidity();go(fe._rawValidators,h),go(fe._rawAsyncValidators,h)}function lo(ve,fe){ve._pendingDirty&&ve.markAsDirty(),ve.setValue(ve._pendingValue,{emitModelToViewChange:!1}),fe.viewToModelUpdate(ve._pendingValue),ve._pendingChange=!1}const Qt={provide:wi,useExisting:(0,r.Gpc)(()=>Ht)},ot=(()=>Promise.resolve())();let Ht=(()=>{class ve extends wi{constructor(M,N,h){super(),this.callSetDisabledState=h,this.submitted=!1,this._directives=new Set,this.ngSubmit=new r.vpe,this.form=new hn({},cn(M),on(N))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){ot.then(()=>{const N=this._findContainer(M.path);M.control=N.registerControl(M.name,M.control),Rr(M.control,M,this.callSetDisabledState),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){ot.then(()=>{const N=this._findContainer(M.path);N&&N.removeControl(M.name),this._directives.delete(M)})}addFormGroup(M){ot.then(()=>{const N=this._findContainer(M.path),h=new hn({});(function Gr(ve,fe){hr(ve,fe)})(h,M),N.registerControl(M.name,h),h.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){ot.then(()=>{const N=this._findContainer(M.path);N&&N.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,N){ot.then(()=>{this.form.get(M.path).setValue(N)})}setValue(M){this.control.setValue(M)}onSubmit(M){return this.submitted=!0,function Ye(ve,fe){ve._syncPendingControls(),fe.forEach(M=>{const N=M.control;"submit"===N.updateOn&&N._pendingChange&&(M.viewToModelUpdate(N._pendingValue),N._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}}return ve.\u0275fac=function(M){return new(M||ve)(r.Y36(Ge,10),r.Y36(Ze,10),r.Y36(rr,8))},ve.\u0275dir=r.lG2({type:ve,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(M,N){1&M&&r.NdJ("submit",function(T){return N.onSubmit(T)})("reset",function(){return N.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([Qt]),r.qOj]}),ve})();function zt(ve,fe){const M=ve.indexOf(fe);M>-1&&ve.splice(M,1)}function gn(ve){return"object"==typeof ve&&null!==ve&&2===Object.keys(ve).length&&"value"in ve&&"disabled"in ve}const an=class extends Yt{constructor(fe=null,M,N){super(si(M),Xi(N,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(fe),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ot(M)&&(M.nonNullable||M.initialValueIsDefault)&&(this.defaultValue=gn(fe)?fe.value:fe)}setValue(fe,M={}){this.value=this._pendingValue=fe,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(N=>N(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(fe,M={}){this.setValue(fe,M)}reset(fe=this.defaultValue,M={}){this._applyFormState(fe),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(fe){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(fe){this._onChange.push(fe)}_unregisterOnChange(fe){zt(this._onChange,fe)}registerOnDisabledChange(fe){this._onDisabledChange.push(fe)}_unregisterOnDisabledChange(fe){zt(this._onDisabledChange,fe)}_forEachChild(fe){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(fe){gn(fe)?(this.value=this._pendingValue=fe.value,fe.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=fe}},Kr={provide:Oi,useExisting:(0,r.Gpc)(()=>Po)},fo=(()=>Promise.resolve())();let Po=(()=>{class ve extends Oi{constructor(M,N,h,T,_,V){super(),this._changeDetectorRef=_,this.callSetDisabledState=V,this.control=new an,this._registered=!1,this.update=new r.vpe,this._parent=M,this._setValidators(N),this._setAsyncValidators(h),this.valueAccessor=function Je(ve,fe){if(!fe)return null;let M,N,h;return Array.isArray(fe),fe.forEach(T=>{T.constructor===tt?M=T:function oo(ve){return Object.getPrototypeOf(ve.constructor)===de}(T)?N=T:h=T}),h||N||M||null}(0,T)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const N=M.name.previousValue;this.formDirective.removeControl({name:N,path:this._getPath(N)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),function Er(ve,fe){if(!ve.hasOwnProperty("model"))return!1;const M=ve.model;return!!M.isFirstChange()||!Object.is(fe,M.currentValue)}(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Rr(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){fo.then(()=>{this.control.setValue(M,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(M){const N=M.isDisabled.currentValue,h=0!==N&&(0,r.D6c)(N);fo.then(()=>{h&&!this.control.disabled?this.control.disable():!h&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(M){return this._parent?function Zi(ve,fe){return[...fe.path,ve]}(M,this._parent):[M]}}return ve.\u0275fac=function(M){return new(M||ve)(r.Y36(wi,9),r.Y36(Ge,10),r.Y36(Ze,10),r.Y36(ke,10),r.Y36(r.sBO,8),r.Y36(rr,8))},ve.\u0275dir=r.lG2({type:ve,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([Kr]),r.qOj,r.TTD]}),ve})(),jo=(()=>{class ve{}return ve.\u0275fac=function(M){return new(M||ve)},ve.\u0275dir=r.lG2({type:ve,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ve})(),wt=(()=>{class ve{}return ve.\u0275fac=function(M){return new(M||ve)},ve.\u0275mod=r.oAB({type:ve}),ve.\u0275inj=r.cJS({}),ve})(),Dr=(()=>{class ve{constructor(){this._validator=Ve}ngOnChanges(M){if(this.inputName in M){const N=this.normalizeInput(M[this.inputName].currentValue);this._enabled=this.enabled(N),this._validator=this._enabled?this.createValidator(N):Ve,this._onChange&&this._onChange()}}validate(M){return this._validator(M)}registerOnValidatorChange(M){this._onChange=M}enabled(M){return null!=M}}return ve.\u0275fac=function(M){return new(M||ve)},ve.\u0275dir=r.lG2({type:ve,features:[r.TTD]}),ve})();const Pr={provide:Ge,useExisting:(0,r.Gpc)(()=>Bo),multi:!0};let Bo=(()=>{class ve extends Dr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=r.D6c,this.createValidator=M=>ge}enabled(M){return M}}return ve.\u0275fac=function(){let fe;return function(N){return(fe||(fe=r.n5z(ve)))(N||ve)}}(),ve.\u0275dir=r.lG2({type:ve,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(M,N){2&M&&r.uIk("required",N._enabled?"":null)},inputs:{required:"required"},features:[r._Bn([Pr]),r.qOj]}),ve})();const Go={provide:Ge,useExisting:(0,r.Gpc)(()=>qi),multi:!0};let qi=(()=>{class ve extends Dr{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=M=>M,this.createValidator=M=>function De(ve){if(!ve)return Ve;let fe,M;return"string"==typeof ve?(M="","^"!==ve.charAt(0)&&(M+="^"),M+=ve,"$"!==ve.charAt(ve.length-1)&&(M+="$"),fe=new RegExp(M)):(M=ve.toString(),fe=ve),N=>{if(vt(N.value))return null;const h=N.value;return fe.test(h)?null:{pattern:{requiredPattern:M,actualValue:h}}}}(M)}}return ve.\u0275fac=function(){let fe;return function(N){return(fe||(fe=r.n5z(ve)))(N||ve)}}(),ve.\u0275dir=r.lG2({type:ve,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(M,N){2&M&&r.uIk("pattern",N._enabled?N.pattern:null)},inputs:{pattern:"pattern"},features:[r._Bn([Go]),r.qOj]}),ve})(),Qe=(()=>{class ve{}return ve.\u0275fac=function(M){return new(M||ve)},ve.\u0275mod=r.oAB({type:ve}),ve.\u0275inj=r.cJS({imports:[wt]}),ve})(),hi=(()=>{class ve{static withConfig(M){return{ngModule:ve,providers:[{provide:rr,useValue:M.callSetDisabledState??Hi}]}}}return ve.\u0275fac=function(M){return new(M||ve)},ve.\u0275mod=r.oAB({type:ve}),ve.\u0275inj=r.cJS({imports:[Qe]}),ve})()},1481:(Ct,H,A)=>{"use strict";A.d(H,{Dx:()=>ir,b2:()=>Oi,q6:()=>Cn,se:()=>ge});var r=A(6895),F=A(8256);class q extends r.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class $ extends q{static makeCurrent(){(0,r.HT)(new $)}onAndCancel(Ut,ft,Yt){return Ut.addEventListener(ft,Yt,!1),()=>{Ut.removeEventListener(ft,Yt,!1)}}dispatchEvent(Ut,ft){Ut.dispatchEvent(ft)}remove(Ut){Ut.parentNode&&Ut.parentNode.removeChild(Ut)}createElement(Ut,ft){return(ft=ft||this.getDefaultDocument()).createElement(Ut)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ut){return Ut.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ut){return Ut instanceof DocumentFragment}getGlobalEventTarget(Ut,ft){return"window"===ft?window:"document"===ft?Ut:"body"===ft?Ut.body:null}getBaseHref(Ut){const ft=function Y(){return Q=Q||document.querySelector("base"),Q?Q.getAttribute("href"):null}();return null==ft?null:function G(Ot){Z=Z||document.createElement("a"),Z.setAttribute("href",Ot);const Ut=Z.pathname;return"/"===Ut.charAt(0)?Ut:`/${Ut}`}(ft)}resetBaseElement(){Q=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ut){return(0,r.Mx)(document.cookie,Ut)}}let Z,Q=null;const J=new F.OlP("TRANSITION_ID"),oe=[{provide:F.ip1,useFactory:function ue(Ot,Ut,ft){return()=>{ft.get(F.CZH).donePromise.then(()=>{const Yt=(0,r.q)(),hn=Ut.querySelectorAll(`style[ng-transition="${Ot}"]`);for(let kn=0;kn<hn.length;kn++)Yt.remove(hn[kn])})}},deps:[J,r.K0,F.zs3],multi:!0}];let le=(()=>{class Ot{build(){return new XMLHttpRequest}}return Ot.\u0275fac=function(ft){return new(ft||Ot)},Ot.\u0275prov=F.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const de=new F.OlP("EventManagerPlugins");let ke=(()=>{class Ot{constructor(ft,Yt){this._zone=Yt,this._eventNameToPlugin=new Map,ft.forEach(hn=>{hn.manager=this}),this._plugins=ft.slice().reverse()}addEventListener(ft,Yt,hn){return this._findPluginFor(Yt).addEventListener(ft,Yt,hn)}addGlobalEventListener(ft,Yt,hn){return this._findPluginFor(Yt).addGlobalEventListener(ft,Yt,hn)}getZone(){return this._zone}_findPluginFor(ft){const Yt=this._eventNameToPlugin.get(ft);if(Yt)return Yt;const hn=this._plugins;for(let kn=0;kn<hn.length;kn++){const Yn=hn[kn];if(Yn.supports(ft))return this._eventNameToPlugin.set(ft,Yn),Yn}throw new Error(`No event manager plugin found for event ${ft}`)}}return Ot.\u0275fac=function(ft){return new(ft||Ot)(F.LFG(de),F.LFG(F.R0b))},Ot.\u0275prov=F.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();class xe{constructor(Ut){this._doc=Ut}addGlobalEventListener(Ut,ft,Yt){const hn=(0,r.q)().getGlobalEventTarget(this._doc,Ut);if(!hn)throw new Error(`Unsupported event target ${hn} for event ${ft}`);return this.addEventListener(hn,ft,Yt)}}let se=(()=>{class Ot{constructor(){this.usageCount=new Map}addStyles(ft){for(const Yt of ft)1===this.changeUsageCount(Yt,1)&&this.onStyleAdded(Yt)}removeStyles(ft){for(const Yt of ft)0===this.changeUsageCount(Yt,-1)&&this.onStyleRemoved(Yt)}onStyleRemoved(ft){}onStyleAdded(ft){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ft,Yt){const hn=this.usageCount;let kn=hn.get(ft)??0;return kn+=Yt,kn>0?hn.set(ft,kn):hn.delete(ft),kn}ngOnDestroy(){for(const ft of this.getAllStyles())this.onStyleRemoved(ft);this.usageCount.clear()}}return Ot.\u0275fac=function(ft){return new(ft||Ot)},Ot.\u0275prov=F.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})(),_e=(()=>{class Ot extends se{constructor(ft){super(),this.doc=ft,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ft){for(const Yt of this.hostNodes)this.addStyleToHost(Yt,ft)}onStyleRemoved(ft){const Yt=this.styleRef;Yt.get(ft)?.forEach(kn=>kn.remove()),Yt.delete(ft)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ft){this.hostNodes.add(ft);for(const Yt of this.getAllStyles())this.addStyleToHost(ft,Yt)}removeHost(ft){this.hostNodes.delete(ft)}addStyleToHost(ft,Yt){const hn=this.doc.createElement("style");hn.textContent=Yt,ft.appendChild(hn);const kn=this.styleRef.get(Yt);kn?kn.push(hn):this.styleRef.set(Yt,[hn])}resetHostNodes(){const ft=this.hostNodes;ft.clear(),ft.add(this.doc.head)}}return Ot.\u0275fac=function(ft){return new(ft||Ot)(F.LFG(r.K0))},Ot.\u0275prov=F.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const Ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Be=/%COMP%/g,Ze=new F.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function ze(Ot,Ut){return Ut.flat(100).map(ft=>ft.replace(Be,Ot))}function Ke(Ot){return Ut=>{if("__ngUnwrap__"===Ut)return Ot;!1===Ot(Ut)&&(Ut.preventDefault(),Ut.returnValue=!1)}}let ge=(()=>{class Ot{constructor(ft,Yt,hn,kn){this.eventManager=ft,this.sharedStylesHost=Yt,this.appId=hn,this.removeStylesOnCompDestory=kn,this.rendererByCompId=new Map,this.defaultRenderer=new pe(ft)}createRenderer(ft,Yt){if(!ft||!Yt)return this.defaultRenderer;const hn=this.getOrCreateRenderer(ft,Yt);return hn instanceof Ce?hn.applyToHost(ft):hn instanceof Ve&&hn.applyStyles(),hn}getOrCreateRenderer(ft,Yt){const hn=this.rendererByCompId;let kn=hn.get(Yt.id);if(!kn){const Yn=this.eventManager,ei=this.sharedStylesHost,mr=this.removeStylesOnCompDestory;switch(Yt.encapsulation){case F.ifc.Emulated:kn=new Ce(Yn,ei,Yt,this.appId,mr);break;case F.ifc.ShadowDom:return new De(Yn,ei,ft,Yt);default:kn=new Ve(Yn,ei,Yt,mr)}kn.onDestroy=()=>hn.delete(Yt.id),hn.set(Yt.id,kn)}return kn}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return Ot.\u0275fac=function(ft){return new(ft||Ot)(F.LFG(ke),F.LFG(_e),F.LFG(F.AFp),F.LFG(Ze))},Ot.\u0275prov=F.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();class pe{constructor(Ut){this.eventManager=Ut,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Ut,ft){return ft?document.createElementNS(Ie[ft]||ft,Ut):document.createElement(Ut)}createComment(Ut){return document.createComment(Ut)}createText(Ut){return document.createTextNode(Ut)}appendChild(Ut,ft){(Re(Ut)?Ut.content:Ut).appendChild(ft)}insertBefore(Ut,ft,Yt){Ut&&(Re(Ut)?Ut.content:Ut).insertBefore(ft,Yt)}removeChild(Ut,ft){Ut&&Ut.removeChild(ft)}selectRootElement(Ut,ft){let Yt="string"==typeof Ut?document.querySelector(Ut):Ut;if(!Yt)throw new Error(`The selector "${Ut}" did not match any elements`);return ft||(Yt.textContent=""),Yt}parentNode(Ut){return Ut.parentNode}nextSibling(Ut){return Ut.nextSibling}setAttribute(Ut,ft,Yt,hn){if(hn){ft=hn+":"+ft;const kn=Ie[hn];kn?Ut.setAttributeNS(kn,ft,Yt):Ut.setAttribute(ft,Yt)}else Ut.setAttribute(ft,Yt)}removeAttribute(Ut,ft,Yt){if(Yt){const hn=Ie[Yt];hn?Ut.removeAttributeNS(hn,ft):Ut.removeAttribute(`${Yt}:${ft}`)}else Ut.removeAttribute(ft)}addClass(Ut,ft){Ut.classList.add(ft)}removeClass(Ut,ft){Ut.classList.remove(ft)}setStyle(Ut,ft,Yt,hn){hn&(F.JOm.DashCase|F.JOm.Important)?Ut.style.setProperty(ft,Yt,hn&F.JOm.Important?"important":""):Ut.style[ft]=Yt}removeStyle(Ut,ft,Yt){Yt&F.JOm.DashCase?Ut.style.removeProperty(ft):Ut.style[ft]=""}setProperty(Ut,ft,Yt){Ut[ft]=Yt}setValue(Ut,ft){Ut.nodeValue=ft}listen(Ut,ft,Yt){return"string"==typeof Ut?this.eventManager.addGlobalEventListener(Ut,ft,Ke(Yt)):this.eventManager.addEventListener(Ut,ft,Ke(Yt))}}function Re(Ot){return"TEMPLATE"===Ot.tagName&&void 0!==Ot.content}class De extends pe{constructor(Ut,ft,Yt,hn){super(Ut),this.sharedStylesHost=ft,this.hostEl=Yt,this.shadowRoot=Yt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const kn=ze(hn.id,hn.styles);for(const Yn of kn){const ei=document.createElement("style");ei.textContent=Yn,this.shadowRoot.appendChild(ei)}}nodeOrShadowRoot(Ut){return Ut===this.hostEl?this.shadowRoot:Ut}appendChild(Ut,ft){return super.appendChild(this.nodeOrShadowRoot(Ut),ft)}insertBefore(Ut,ft,Yt){return super.insertBefore(this.nodeOrShadowRoot(Ut),ft,Yt)}removeChild(Ut,ft){return super.removeChild(this.nodeOrShadowRoot(Ut),ft)}parentNode(Ut){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ut)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ve extends pe{constructor(Ut,ft,Yt,hn,kn=Yt.id){super(Ut),this.sharedStylesHost=ft,this.removeStylesOnCompDestory=hn,this.rendererUsageCount=0,this.styles=ze(kn,Yt.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ce extends Ve{constructor(Ut,ft,Yt,hn,kn){const Yn=hn+"-"+Yt.id;super(Ut,ft,Yt,kn,Yn),this.contentAttr=function rt(Ot){return"_ngcontent-%COMP%".replace(Be,Ot)}(Yn),this.hostAttr=function ct(Ot){return"_nghost-%COMP%".replace(Be,Ot)}(Yn)}applyToHost(Ut){this.applyStyles(),this.setAttribute(Ut,this.hostAttr,"")}createElement(Ut,ft){const Yt=super.createElement(Ut,ft);return super.setAttribute(Yt,this.contentAttr,""),Yt}}let Ue=(()=>{class Ot extends xe{constructor(ft){super(ft)}supports(ft){return!0}addEventListener(ft,Yt,hn){return ft.addEventListener(Yt,hn,!1),()=>this.removeEventListener(ft,Yt,hn)}removeEventListener(ft,Yt,hn){return ft.removeEventListener(Yt,hn)}}return Ot.\u0275fac=function(ft){return new(ft||Ot)(F.LFG(r.K0))},Ot.\u0275prov=F.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const Me=["alt","control","meta","shift"],Fe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mt={alt:Ot=>Ot.altKey,control:Ot=>Ot.ctrlKey,meta:Ot=>Ot.metaKey,shift:Ot=>Ot.shiftKey};let _t=(()=>{class Ot extends xe{constructor(ft){super(ft)}supports(ft){return null!=Ot.parseEventName(ft)}addEventListener(ft,Yt,hn){const kn=Ot.parseEventName(Yt),Yn=Ot.eventCallback(kn.fullKey,hn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,r.q)().onAndCancel(ft,kn.domEventName,Yn))}static parseEventName(ft){const Yt=ft.toLowerCase().split("."),hn=Yt.shift();if(0===Yt.length||"keydown"!==hn&&"keyup"!==hn)return null;const kn=Ot._normalizeKey(Yt.pop());let Yn="",ei=Yt.indexOf("code");if(ei>-1&&(Yt.splice(ei,1),Yn="code."),Me.forEach(rr=>{const Hi=Yt.indexOf(rr);Hi>-1&&(Yt.splice(Hi,1),Yn+=rr+".")}),Yn+=kn,0!=Yt.length||0===kn.length)return null;const mr={};return mr.domEventName=hn,mr.fullKey=Yn,mr}static matchEventFullKeyCode(ft,Yt){let hn=Fe[ft.key]||ft.key,kn="";return Yt.indexOf("code.")>-1&&(hn=ft.code,kn="code."),!(null==hn||!hn)&&(hn=hn.toLowerCase()," "===hn?hn="space":"."===hn&&(hn="dot"),Me.forEach(Yn=>{Yn!==hn&&(0,mt[Yn])(ft)&&(kn+=Yn+".")}),kn+=hn,kn===Yt)}static eventCallback(ft,Yt,hn){return kn=>{Ot.matchEventFullKeyCode(kn,ft)&&hn.runGuarded(()=>Yt(kn))}}static _normalizeKey(ft){return"esc"===ft?"escape":ft}}return Ot.\u0275fac=function(ft){return new(ft||Ot)(F.LFG(r.K0))},Ot.\u0275prov=F.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const Cn=(0,F.eFA)(F._c5,"browser",[{provide:F.Lbi,useValue:r.bD},{provide:F.g9A,useValue:function at(){$.makeCurrent()},multi:!0},{provide:r.K0,useFactory:function Wt(){return(0,F.RDi)(document),document},deps:[]}]),_n=new F.OlP(""),ui=[{provide:F.rWj,useClass:class ce{addToWindow(Ut){F.dqk.getAngularTestability=(Yt,hn=!0)=>{const kn=Ut.findTestabilityInTree(Yt,hn);if(null==kn)throw new Error("Could not find testability for element.");return kn},F.dqk.getAllAngularTestabilities=()=>Ut.getAllTestabilities(),F.dqk.getAllAngularRootElements=()=>Ut.getAllRootElements(),F.dqk.frameworkStabilizers||(F.dqk.frameworkStabilizers=[]),F.dqk.frameworkStabilizers.push(Yt=>{const hn=F.dqk.getAllAngularTestabilities();let kn=hn.length,Yn=!1;const ei=function(mr){Yn=Yn||mr,kn--,0==kn&&Yt(Yn)};hn.forEach(function(mr){mr.whenStable(ei)})})}findTestabilityInTree(Ut,ft,Yt){return null==ft?null:Ut.getTestability(ft)??(Yt?(0,r.q)().isShadowRoot(ft)?this.findTestabilityInTree(Ut,ft.host,!0):this.findTestabilityInTree(Ut,ft.parentElement,!0):null)}},deps:[]},{provide:F.lri,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]},{provide:F.dDg,useClass:F.dDg,deps:[F.R0b,F.eoX,F.rWj]}],wi=[{provide:F.zSh,useValue:"root"},{provide:F.qLn,useFactory:function tn(){return new F.qLn},deps:[]},{provide:de,useClass:Ue,multi:!0,deps:[r.K0,F.R0b,F.Lbi]},{provide:de,useClass:_t,multi:!0,deps:[r.K0]},{provide:ge,useClass:ge,deps:[ke,_e,F.AFp,Ze]},{provide:F.FYo,useExisting:ge},{provide:se,useExisting:_e},{provide:_e,useClass:_e,deps:[r.K0]},{provide:ke,useClass:ke,deps:[de,F.R0b]},{provide:r.JF,useClass:le,deps:[]},[]];let Oi=(()=>{class Ot{constructor(ft){}static withServerTransition(ft){return{ngModule:Ot,providers:[{provide:F.AFp,useValue:ft.appId},{provide:J,useExisting:F.AFp},oe]}}}return Ot.\u0275fac=function(ft){return new(ft||Ot)(F.LFG(_n,12))},Ot.\u0275mod=F.oAB({type:Ot}),Ot.\u0275inj=F.cJS({providers:[...wi,...ui],imports:[r.ez,F.hGG]}),Ot})(),ir=(()=>{class Ot{constructor(ft){this._doc=ft}getTitle(){return this._doc.title}setTitle(ft){this._doc.title=ft||""}}return Ot.\u0275fac=function(ft){return new(ft||Ot)(F.LFG(r.K0))},Ot.\u0275prov=F.Yz7({token:Ot,factory:function(ft){let Yt=null;return Yt=ft?new ft:function Mr(){return new ir((0,F.LFG)(r.K0))}(),Yt},providedIn:"root"}),Ot})();typeof window<"u"&&window},1407:(Ct,H,A)=>{"use strict";A.d(H,{gz:()=>yi,y6:()=>Pr,OD:()=>$i,GZ:()=>Ba,eC:()=>_n,wN:()=>pi,F0:()=>qr,rH:()=>Ss,Bz:()=>aa,Hx:()=>Vt});var r=A(8256),F=A(2076),q=A(9646),$=A(1135);const Y=(0,A(3888).d)(g=>function(){g(this),this.name="EmptyError",this.message="no elements in sequence"});var Z=A(9751),G=A(4742),J=A(4671),ue=A(3268),oe=A(3269),ce=A(1810),le=A(5403),de=A(9672);function ke(...g){const w=(0,oe.yG)(g),b=(0,oe.jO)(g),{args:O,keys:K}=(0,G.D)(g);if(0===O.length)return(0,F.D)([],w);const re=new Z.y(function xe(g,w,b=J.y){return O=>{se(w,()=>{const{length:K}=g,re=new Array(K);let ye=K,et=K;for(let gt=0;gt<K;gt++)se(w,()=>{const Xt=(0,F.D)(g[gt],w);let Kt=!1;Xt.subscribe((0,le.x)(O,Dn=>{re[gt]=Dn,Kt||(Kt=!0,et--),et||O.next(b(re.slice()))},()=>{--ye||O.complete()}))},O)},O)}}(O,w,K?ye=>(0,ce.n)(K,ye):J.y));return b?re.pipe((0,ue.Z)(b)):re}function se(g,w,b){g?(0,de.f)(b,g,w):w()}var _e=A(8189);function Be(...g){return function Ie(){return(0,_e.J)(1)}()((0,F.D)(g,(0,oe.yG)(g)))}var tt=A(8421);function Ae(g){return new Z.y(w=>{(0,tt.Xf)(g()).subscribe(w)})}var vt=A(9635),Le=A(576);function Ge(g,w){const b=(0,Le.m)(g)?g:()=>g,O=K=>K.error(b());return new Z.y(w?K=>w.schedule(O,0,K):O)}var Ze=A(515),rt=A(727),ct=A(4482);function ze(){return(0,ct.e)((g,w)=>{let b=null;g._refCount++;const O=(0,le.x)(w,void 0,void 0,void 0,()=>{if(!g||g._refCount<=0||0<--g._refCount)return void(b=null);const K=g._connection,re=b;b=null,K&&(!re||K===re)&&K.unsubscribe(),w.unsubscribe()});g.subscribe(O),O.closed||(b=g.connect())})}class Ke extends Z.y{constructor(w,b){super(),this.source=w,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,ct.A)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new rt.w0;const b=this.getSubject();w.add(this.source.subscribe((0,le.x)(b,void 0,()=>{this._teardown(),b.complete()},O=>{this._teardown(),b.error(O)},()=>this._teardown()))),w.closed&&(this._connection=null,w=rt.w0.EMPTY)}return w}refCount(){return ze()(this)}}var ge=A(7579),pe=A(6895),Se=A(4004),Te=A(3900);function Re(g){return g<=0?()=>Ze.E:(0,ct.e)((w,b)=>{let O=0;w.subscribe((0,le.x)(b,K=>{++O<=g&&(b.next(K),g<=O&&b.complete())}))})}var Ve=A(9300),Ce=A(5577);function Ue(g){return(0,ct.e)((w,b)=>{let O=!1;w.subscribe((0,le.x)(b,K=>{O=!0,b.next(K)},()=>{O||b.next(g),b.complete()}))})}function Me(g=Fe){return(0,ct.e)((w,b)=>{let O=!1;w.subscribe((0,le.x)(b,K=>{O=!0,b.next(K)},()=>O?b.complete():b.error(g())))})}function Fe(){return new Y}function mt(g,w){const b=arguments.length>=2;return O=>O.pipe(g?(0,Ve.h)((K,re)=>g(K,re,O)):J.y,Re(1),b?Ue(w):Me(()=>new Y))}var _t=A(4351);function Mt(g,w,b){const O=(0,Le.m)(g)||w||b?{next:g,error:w,complete:b}:g;return O?(0,ct.e)((K,re)=>{var ye;null===(ye=O.subscribe)||void 0===ye||ye.call(O);let et=!0;K.subscribe((0,le.x)(re,gt=>{var Xt;null===(Xt=O.next)||void 0===Xt||Xt.call(O,gt),re.next(gt)},()=>{var gt;et=!1,null===(gt=O.complete)||void 0===gt||gt.call(O),re.complete()},gt=>{var Xt;et=!1,null===(Xt=O.error)||void 0===Xt||Xt.call(O,gt),re.error(gt)},()=>{var gt,Xt;et&&(null===(gt=O.unsubscribe)||void 0===gt||gt.call(O)),null===(Xt=O.finalize)||void 0===Xt||Xt.call(O)}))}):J.y}function cn(g){return(0,ct.e)((w,b)=>{let re,O=null,K=!1;O=w.subscribe((0,le.x)(b,void 0,void 0,ye=>{re=(0,tt.Xf)(g(ye,cn(g)(w))),O?(O.unsubscribe(),O=null,re.subscribe(b)):K=!0})),K&&(O.unsubscribe(),O=null,re.subscribe(b))})}function on(g,w){return(0,ct.e)(function En(g,w,b,O,K){return(re,ye)=>{let et=b,gt=w,Xt=0;re.subscribe((0,le.x)(ye,Kt=>{const Dn=Xt++;gt=et?g(gt,Kt,Dn):(et=!0,Kt),O&&ye.next(gt)},K&&(()=>{et&&ye.next(gt),ye.complete()})))}}(g,w,arguments.length>=2,!0))}function Et(g){return g<=0?()=>Ze.E:(0,ct.e)((w,b)=>{let O=[];w.subscribe((0,le.x)(b,K=>{O.push(K),g<O.length&&O.shift()},()=>{for(const K of O)b.next(K);b.complete()},void 0,()=>{O=null}))})}function at(g,w){const b=arguments.length>=2;return O=>O.pipe(g?(0,Ve.h)((K,re)=>g(K,re,O)):J.y,Et(1),b?Ue(w):Me(()=>new Y))}function mn(g){return(0,ct.e)((w,b)=>{try{w.subscribe(b)}finally{b.add(g)}})}var Cn=A(1481);const _n="primary",ui=Symbol("RouteTitle");class wi{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const b=this.params[w];return Array.isArray(b)?b[0]:b}return null}getAll(w){if(this.has(w)){const b=this.params[w];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function Oi(g){return new wi(g)}function er(g,w,b){const O=b.path.split("/");if(O.length>g.length||"full"===b.pathMatch&&(w.hasChildren()||O.length<g.length))return null;const K={};for(let re=0;re<O.length;re++){const ye=O[re],et=g[re];if(ye.startsWith(":"))K[ye.substring(1)]=et;else if(ye!==et.path)return null}return{consumed:g.slice(0,O.length),posParams:K}}function cr(g,w){const b=g?Object.keys(g):void 0,O=w?Object.keys(w):void 0;if(!b||!O||b.length!=O.length)return!1;let K;for(let re=0;re<b.length;re++)if(K=b[re],!Mr(g[K],w[K]))return!1;return!0}function Mr(g,w){if(Array.isArray(g)&&Array.isArray(w)){if(g.length!==w.length)return!1;const b=[...g].sort(),O=[...w].sort();return b.every((K,re)=>O[re]===K)}return g===w}function ir(g){return Array.prototype.concat.apply([],g)}function Sn(g){return g.length>0?g[g.length-1]:null}function Tt(g,w){for(const b in g)g.hasOwnProperty(b)&&w(g[b],b)}function xt(g){return(0,r.CqO)(g)?g:(0,r.QGY)(g)?(0,F.D)(Promise.resolve(g)):(0,q.of)(g)}const nt=!1,ln={exact:function Xn(g,w,b){if(!vn(g.segments,w.segments)||!lr(g.segments,w.segments,b)||g.numberOfChildren!==w.numberOfChildren)return!1;for(const O in w.children)if(!g.children[O]||!Xn(g.children[O],w.children[O],b))return!1;return!0},subset:Di},sn={exact:function lt(g,w){return cr(g,w)},subset:function Nn(g,w){return Object.keys(w).length<=Object.keys(g).length&&Object.keys(w).every(b=>Mr(g[b],w[b]))},ignored:()=>!0};function At(g,w,b){return ln[b.paths](g.root,w.root,b.matrixParams)&&sn[b.queryParams](g.queryParams,w.queryParams)&&!("exact"===b.fragment&&g.fragment!==w.fragment)}function Di(g,w,b){return Kn(g,w,w.segments,b)}function Kn(g,w,b,O){if(g.segments.length>b.length){const K=g.segments.slice(0,b.length);return!(!vn(K,b)||w.hasChildren()||!lr(K,b,O))}if(g.segments.length===b.length){if(!vn(g.segments,b)||!lr(g.segments,b,O))return!1;for(const K in w.children)if(!g.children[K]||!Di(g.children[K],w.children[K],O))return!1;return!0}{const K=b.slice(0,g.segments.length),re=b.slice(g.segments.length);return!!(vn(g.segments,K)&&lr(g.segments,K,O)&&g.children[_n])&&Kn(g.children[_n],w,re,O)}}function lr(g,w,b){return w.every((O,K)=>sn[b](g[K].parameters,O.parameters))}class Qi{constructor(w=new Zt([],{}),b={},O=null){this.root=w,this.queryParams=b,this.fragment=O}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oi(this.queryParams)),this._queryParamMap}toString(){return si.serialize(this)}}class Zt{constructor(w,b){this.segments=w,this.children=b,this.parent=null,Tt(b,(O,K)=>O.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jn(this)}}class bt{constructor(w,b){this.path=w,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=Oi(this.parameters)),this._parameterMap}toString(){return kn(this)}}function vn(g,w){return g.length===w.length&&g.every((b,O)=>b.path===w[O].path)}let Vt=(()=>{class g{}return g.\u0275fac=function(b){return new(b||g)},g.\u0275prov=r.Yz7({token:g,factory:function(){return new ai},providedIn:"root"}),g})();class ai{parse(w){const b=new go(w);return new Qi(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(w){const b=`/${Xi(w.root,!0)}`,O=function ei(g){const w=Object.keys(g).map(b=>{const O=g[b];return Array.isArray(O)?O.map(K=>`${Ot(b)}=${Ot(K)}`).join("&"):`${Ot(b)}=${Ot(O)}`}).filter(b=>!!b);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${b}${O}${"string"==typeof w.fragment?`#${function Ut(g){return encodeURI(g)}(w.fragment)}`:""}`}}const si=new ai;function Jn(g){return g.segments.map(w=>kn(w)).join("/")}function Xi(g,w){if(!g.hasChildren())return Jn(g);if(w){const b=g.children[_n]?Xi(g.children[_n],!1):"",O=[];return Tt(g.children,(K,re)=>{re!==_n&&O.push(`${re}:${Xi(K,!1)}`)}),O.length>0?`${b}(${O.join("//")})`:b}{const b=function yn(g,w){let b=[];return Tt(g.children,(O,K)=>{K===_n&&(b=b.concat(w(O,K)))}),Tt(g.children,(O,K)=>{K!==_n&&(b=b.concat(w(O,K)))}),b}(g,(O,K)=>K===_n?[Xi(g.children[_n],!1)]:[`${K}:${Xi(O,!1)}`]);return 1===Object.keys(g.children).length&&null!=g.children[_n]?`${Jn(g)}/${b[0]}`:`${Jn(g)}/(${b.join("//")})`}}function tr(g){return encodeURIComponent(g).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ot(g){return tr(g).replace(/%3B/gi,";")}function ft(g){return tr(g).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yt(g){return decodeURIComponent(g)}function hn(g){return Yt(g.replace(/\+/g,"%20"))}function kn(g){return`${ft(g.path)}${function Yn(g){return Object.keys(g).map(w=>`;${ft(w)}=${ft(g[w])}`).join("")}(g.parameters)}`}const mr=/^[^\/()?;=#]+/;function rr(g){const w=g.match(mr);return w?w[0]:""}const Hi=/^[^=?&#]+/,Rr=/^[^&#]+/;class go{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let O={};return this.peekStartsWith("(")&&(O=this.parseParens(!1)),(w.length>0||Object.keys(b).length>0)&&(O[_n]=new Zt(w,b)),O}parseSegment(){const w=rr(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new r.vHH(4009,nt);return this.capture(w),new bt(Yt(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const b=rr(this.remaining);if(!b)return;this.capture(b);let O="";if(this.consumeOptional("=")){const K=rr(this.remaining);K&&(O=K,this.capture(O))}w[Yt(b)]=Yt(O)}parseQueryParam(w){const b=function Zi(g){const w=g.match(Hi);return w?w[0]:""}(this.remaining);if(!b)return;this.capture(b);let O="";if(this.consumeOptional("=")){const ye=function Fr(g){const w=g.match(Rr);return w?w[0]:""}(this.remaining);ye&&(O=ye,this.capture(O))}const K=hn(b),re=hn(O);if(w.hasOwnProperty(K)){let ye=w[K];Array.isArray(ye)||(ye=[ye],w[K]=ye),ye.push(re)}else w[K]=re}parseParens(w){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const O=rr(this.remaining),K=this.remaining[O.length];if("/"!==K&&")"!==K&&";"!==K)throw new r.vHH(4010,nt);let re;O.indexOf(":")>-1?(re=O.slice(0,O.indexOf(":")),this.capture(re),this.capture(":")):w&&(re=_n);const ye=this.parseChildren();b[re]=1===Object.keys(ye).length?ye[_n]:new Zt([],ye),this.consumeOptional("//")}return b}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new r.vHH(4011,nt)}}function Do(g){return g.segments.length>0?new Zt([],{[_n]:g}):g}function hr(g){const w={};for(const O of Object.keys(g.children)){const re=hr(g.children[O]);(re.segments.length>0||re.hasChildren())&&(w[O]=re)}return function Nr(g){if(1===g.numberOfChildren&&g.children[_n]){const w=g.children[_n];return new Zt(g.segments.concat(w.segments),w.children)}return g}(new Zt(g.segments,w))}function Ki(g){return g instanceof Qi}const wr=!1;function uo(g,w,b,O,K){if(0===b.length)return _i(w.root,w.root,w.root,O,K);const re=function Er(g){if("string"==typeof g[0]&&1===g.length&&"/"===g[0])return new kr(!0,0,g);let w=0,b=!1;const O=g.reduce((K,re,ye)=>{if("object"==typeof re&&null!=re){if(re.outlets){const et={};return Tt(re.outlets,(gt,Xt)=>{et[Xt]="string"==typeof gt?gt.split("/"):gt}),[...K,{outlets:et}]}if(re.segmentPath)return[...K,re.segmentPath]}return"string"!=typeof re?[...K,re]:0===ye?(re.split("/").forEach((et,gt)=>{0==gt&&"."===et||(0==gt&&""===et?b=!0:".."===et?w++:""!=et&&K.push(et))}),K):[...K,re]},[]);return new kr(b,w,O)}(b);return re.toRoot()?_i(w.root,w.root,new Zt([],{}),O,K):function ye(gt){const Xt=function Je(g,w,b,O){if(g.isAbsolute)return new oo(w.root,!0,0);if(-1===O)return new oo(b,b===w.root,0);return function dt(g,w,b){let O=g,K=w,re=b;for(;re>K;){if(re-=K,O=O.parent,!O)throw new r.vHH(4005,wr&&"Invalid number of '../'");K=O.segments.length}return new oo(O,!1,K-re)}(b,O+(zi(g.commands[0])?0:1),g.numberOfDoubleDots)}(re,w,g.snapshot?._urlSegment,gt),Kt=Xt.processChildren?ot(Xt.segmentGroup,Xt.index,re.commands):Qt(Xt.segmentGroup,Xt.index,re.commands);return _i(w.root,Xt.segmentGroup,Kt,O,K)}(g.snapshot?._lastPathIndex)}function zi(g){return"object"==typeof g&&null!=g&&!g.outlets&&!g.segmentPath}function Bi(g){return"object"==typeof g&&null!=g&&g.outlets}function _i(g,w,b,O,K){let ye,re={};O&&Tt(O,(gt,Xt)=>{re[Xt]=Array.isArray(gt)?gt.map(Kt=>`${Kt}`):`${gt}`}),ye=g===w?b:di(g,w,b);const et=Do(hr(ye));return new Qi(et,re,K)}function di(g,w,b){const O={};return Tt(g.children,(K,re)=>{O[re]=K===w?b:di(K,w,b)}),new Zt(g.segments,O)}class kr{constructor(w,b,O){if(this.isAbsolute=w,this.numberOfDoubleDots=b,this.commands=O,w&&O.length>0&&zi(O[0]))throw new r.vHH(4003,wr&&"Root segment cannot have matrix parameters");const K=O.find(Bi);if(K&&K!==Sn(O))throw new r.vHH(4004,wr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class oo{constructor(w,b,O){this.segmentGroup=w,this.processChildren=b,this.index=O}}function Qt(g,w,b){if(g||(g=new Zt([],{})),0===g.segments.length&&g.hasChildren())return ot(g,w,b);const O=function Ht(g,w,b){let O=0,K=w;const re={match:!1,pathIndex:0,commandIndex:0};for(;K<g.segments.length;){if(O>=b.length)return re;const ye=g.segments[K],et=b[O];if(Bi(et))break;const gt=`${et}`,Xt=O<b.length-1?b[O+1]:null;if(K>0&&void 0===gt)break;if(gt&&Xt&&"object"==typeof Xt&&void 0===Xt.outlets){if(!Hn(gt,Xt,ye))return re;O+=2}else{if(!Hn(gt,{},ye))return re;O++}K++}return{match:!0,pathIndex:K,commandIndex:O}}(g,w,b),K=b.slice(O.commandIndex);if(O.match&&O.pathIndex<g.segments.length){const re=new Zt(g.segments.slice(0,O.pathIndex),{});return re.children[_n]=new Zt(g.segments.slice(O.pathIndex),g.children),ot(re,0,K)}return O.match&&0===K.length?new Zt(g.segments,{}):O.match&&!g.hasChildren()?zt(g,w,b):O.match?ot(g,0,K):zt(g,w,b)}function ot(g,w,b){if(0===b.length)return new Zt(g.segments,{});{const O=function Lt(g){return Bi(g[0])?g[0].outlets:{[_n]:g}}(b),K={};if(!O[_n]&&g.children[_n]&&1===g.numberOfChildren&&0===g.children[_n].segments.length){const re=ot(g.children[_n],w,b);return new Zt(g.segments,re.children)}return Tt(O,(re,ye)=>{"string"==typeof re&&(re=[re]),null!==re&&(K[ye]=Qt(g.children[ye],w,re))}),Tt(g.children,(re,ye)=>{void 0===O[ye]&&(K[ye]=re)}),new Zt(g.segments,K)}}function zt(g,w,b){const O=g.segments.slice(0,w);let K=0;for(;K<b.length;){const re=b[K];if(Bi(re)){const gt=gn(re.outlets);return new Zt(O,gt)}if(0===K&&zi(b[0])){O.push(new bt(g.segments[w].path,an(b[0]))),K++;continue}const ye=Bi(re)?re.outlets[_n]:`${re}`,et=K<b.length-1?b[K+1]:null;ye&&et&&zi(et)?(O.push(new bt(ye,an(et))),K+=2):(O.push(new bt(ye,{})),K++)}return new Zt(O,{})}function gn(g){const w={};return Tt(g,(b,O)=>{"string"==typeof b&&(b=[b]),null!==b&&(w[O]=zt(new Zt([],{}),0,b))}),w}function an(g){const w={};return Tt(g,(b,O)=>w[O]=`${b}`),w}function Hn(g,w,b){return g==b.path&&cr(w,b.parameters)}const ii="imperative";class In{constructor(w,b){this.id=w,this.url=b}}class $i extends In{constructor(w,b,O="imperative",K=null){super(w,b),this.type=0,this.navigationTrigger=O,this.restoredState=K}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ir extends In{constructor(w,b,O){super(w,b),this.urlAfterRedirects=O,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ho extends In{constructor(w,b,O,K){super(w,b),this.reason=O,this.code=K,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ii extends In{constructor(w,b,O,K){super(w,b),this.reason=O,this.code=K,this.type=16}}class xr extends In{constructor(w,b,O,K){super(w,b),this.error=O,this.target=K,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fr extends In{constructor(w,b,O,K){super(w,b),this.urlAfterRedirects=O,this.state=K,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kr extends In{constructor(w,b,O,K){super(w,b),this.urlAfterRedirects=O,this.state=K,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fo extends In{constructor(w,b,O,K,re){super(w,b),this.urlAfterRedirects=O,this.state=K,this.shouldActivate=re,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Po extends In{constructor(w,b,O,K){super(w,b),this.urlAfterRedirects=O,this.state=K,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jo extends In{constructor(w,b,O,K){super(w,b),this.urlAfterRedirects=O,this.state=K,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zr{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vi{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class He{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class st{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wt{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $t{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gt{constructor(w,b,O){this.routerEvent=w,this.position=b,this.anchor=O,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Tn=(()=>{class g{createUrlTree(b,O,K,re,ye,et){return uo(b||O.root,K,re,ye,et)}}return g.\u0275fac=function(b){return new(b||g)},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac}),g})(),wn=(()=>{class g{}return g.\u0275fac=function(b){return new(b||g)},g.\u0275prov=r.Yz7({token:g,factory:function(w){return Tn.\u0275fac(w)},providedIn:"root"}),g})();class oi{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const b=this.pathFromRoot(w);return b.length>1?b[b.length-2]:null}children(w){const b=Gi(w,this._root);return b?b.children.map(O=>O.value):[]}firstChild(w){const b=Gi(w,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(w){const b=vi(w,this._root);return b.length<2?[]:b[b.length-2].children.map(K=>K.value).filter(K=>K!==w)}pathFromRoot(w){return vi(w,this._root).map(b=>b.value)}}function Gi(g,w){if(g===w.value)return w;for(const b of w.children){const O=Gi(g,b);if(O)return O}return null}function vi(g,w){if(g===w.value)return[w];for(const b of w.children){const O=vi(g,b);if(O.length)return O.unshift(w),O}return[]}class gi{constructor(w,b){this.value=w,this.children=b}toString(){return`TreeNode(${this.value})`}}function Sr(g){const w={};return g&&g.children.forEach(b=>w[b.value.outlet]=b),w}class Br extends oi{constructor(w,b){super(w),this.snapshot=b,Wr(this,w)}toString(){return this.snapshot.toString()}}function or(g,w){const b=function Cr(g,w){const ye=new Li([],{},{},"",{},_n,w,null,g.root,-1,{});return new Ar("",new gi(ye,[]))}(g,w),O=new $.X([new bt("",{})]),K=new $.X({}),re=new $.X({}),ye=new $.X({}),et=new $.X(""),gt=new yi(O,K,ye,et,re,_n,w,b.root);return gt.snapshot=b.root,new Br(new gi(gt,[]),b)}class yi{constructor(w,b,O,K,re,ye,et,gt){this.url=w,this.params=b,this.queryParams=O,this.fragment=K,this.data=re,this.outlet=ye,this.component=et,this.title=this.data?.pipe((0,Se.U)(Xt=>Xt[ui]))??(0,q.of)(void 0),this._futureSnapshot=gt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Se.U)(w=>Oi(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Se.U)(w=>Oi(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yr(g,w="emptyOnly"){const b=g.pathFromRoot;let O=0;if("always"!==w)for(O=b.length-1;O>=1;){const K=b[O],re=b[O-1];if(K.routeConfig&&""===K.routeConfig.path)O--;else{if(re.component)break;O--}}return function jn(g){return g.reduce((w,b)=>({params:{...w.params,...b.params},data:{...w.data,...b.data},resolve:{...b.data,...w.resolve,...b.routeConfig?.data,...b._resolvedData}}),{params:{},data:{},resolve:{}})}(b.slice(O))}class Li{get title(){return this.data?.[ui]}constructor(w,b,O,K,re,ye,et,gt,Xt,Kt,Dn){this.url=w,this.params=b,this.queryParams=O,this.fragment=K,this.data=re,this.outlet=ye,this.component=et,this.routeConfig=gt,this._urlSegment=Xt,this._lastPathIndex=Kt,this._resolve=Dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(O=>O.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ar extends oi{constructor(w,b){super(b),this.url=w,Wr(this,b)}toString(){return pr(this._root)}}function Wr(g,w){w.value._routerState=g,w.children.forEach(b=>Wr(g,b))}function pr(g){const w=g.children.length>0?` { ${g.children.map(pr).join(", ")} } `:"";return`${g.value}${w}`}function so(g){if(g.snapshot){const w=g.snapshot,b=g._futureSnapshot;g.snapshot=b,cr(w.queryParams,b.queryParams)||g.queryParams.next(b.queryParams),w.fragment!==b.fragment&&g.fragment.next(b.fragment),cr(w.params,b.params)||g.params.next(b.params),function br(g,w){if(g.length!==w.length)return!1;for(let b=0;b<g.length;++b)if(!cr(g[b],w[b]))return!1;return!0}(w.url,b.url)||g.url.next(b.url),cr(w.data,b.data)||g.data.next(b.data)}else g.snapshot=g._futureSnapshot,g.data.next(g._futureSnapshot.data)}function mo(g,w){const b=cr(g.params,w.params)&&function kt(g,w){return vn(g,w)&&g.every((b,O)=>cr(b.parameters,w[O].parameters))}(g.url,w.url);return b&&!(!g.parent!=!w.parent)&&(!g.parent||mo(g.parent,w.parent))}function _o(g,w,b){if(b&&g.shouldReuseRoute(w.value,b.value.snapshot)){const O=b.value;O._futureSnapshot=w.value;const K=function Jr(g,w,b){return w.children.map(O=>{for(const K of b.children)if(g.shouldReuseRoute(O.value,K.value.snapshot))return _o(g,O,K);return _o(g,O)})}(g,w,b);return new gi(O,K)}{if(g.shouldAttach(w.value)){const re=g.retrieve(w.value);if(null!==re){const ye=re.route;return ye.value._futureSnapshot=w.value,ye.children=w.children.map(et=>_o(g,et)),ye}}const O=function Ti(g){return new yi(new $.X(g.url),new $.X(g.params),new $.X(g.queryParams),new $.X(g.fragment),new $.X(g.data),g.outlet,g.component,g)}(w.value),K=w.children.map(re=>_o(g,re));return new gi(O,K)}}const bo="ngNavigationCancelingError";function Dr(g,w){const{redirectTo:b,navigationBehaviorOptions:O}=Ki(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,K=co(!1,0,w);return K.url=b,K.navigationBehaviorOptions=O,K}function co(g,w,b){const O=new Error("NavigationCancelingError: "+(g||""));return O[bo]=!0,O.cancellationCode=w,b&&(O.url=b),O}function Yr(g){return Ao(g)&&Ki(g.url)}function Ao(g){return g&&g[bo]}class Lo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Pr,this.attachRef=null}}let Pr=(()=>{class g{constructor(){this.contexts=new Map}onChildOutletCreated(b,O){const K=this.getOrCreateContext(b);K.outlet=O,this.contexts.set(b,K)}onChildOutletDestroyed(b){const O=this.getContext(b);O&&(O.outlet=null,O.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let O=this.getContext(b);return O||(O=new Lo,this.contexts.set(b,O)),O}getContext(b){return this.contexts.get(b)||null}}return g.\u0275fac=function(b){return new(b||g)},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const zo=!1;let Bo=(()=>{class g{constructor(){this.activated=null,this._activatedRoute=null,this.name=_n,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.attachEvents=new r.vpe,this.detachEvents=new r.vpe,this.parentContexts=(0,r.f3M)(Pr),this.location=(0,r.f3M)(r.s_b),this.changeDetector=(0,r.f3M)(r.sBO),this.environmentInjector=(0,r.f3M)(r.lqb)}ngOnChanges(b){if(b.name){const{firstChange:O,previousValue:K}=b.name;if(O)return;this.isTrackedInParentContexts(K)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(K)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(b){return this.parentContexts.getContext(b)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);b?.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new r.vHH(4012,zo);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new r.vHH(4012,zo);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new r.vHH(4012,zo);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,O){this.activated=b,this._activatedRoute=O,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,O){if(this.isActivated)throw new r.vHH(4013,zo);this._activatedRoute=b;const K=this.location,ye=b.snapshot.component,et=this.parentContexts.getOrCreateContext(this.name).children,gt=new Ho(b,et,K.injector);if(O&&function Uo(g){return!!g.resolveComponentFactory}(O)){const Xt=O.resolveComponentFactory(ye);this.activated=K.createComponent(Xt,K.length,gt)}else this.activated=K.createComponent(ye,{index:K.length,injector:gt,environmentInjector:O??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return g.\u0275fac=function(b){return new(b||g)},g.\u0275dir=r.lG2({type:g,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[r.TTD]}),g})();class Ho{constructor(w,b,O){this.route=w,this.childContexts=b,this.parent=O}get(w,b){return w===yi?this.route:w===Pr?this.childContexts:this.parent.get(w,b)}}let Xr=(()=>{class g{}return g.\u0275fac=function(b){return new(b||g)},g.\u0275cmp=r.Xpm({type:g,selectors:[["ng-component"]],standalone:!0,features:[r.jDz],decls:1,vars:0,template:function(b,O){1&b&&r._UZ(0,"router-outlet")},dependencies:[Bo],encapsulation:2}),g})();function Fo(g,w){return g.providers&&!g._injector&&(g._injector=(0,r.MMx)(g.providers,w,`Route: ${g.path}`)),g._injector??w}function Qe(g){const w=g.children&&g.children.map(Qe),b=w?{...g,children:w}:{...g};return!b.component&&!b.loadComponent&&(w||b.loadChildren)&&b.outlet&&b.outlet!==_n&&(b.component=Xr),b}function ut(g){return g.outlet||_n}function Dt(g,w){const b=g.filter(O=>ut(O)===w);return b.push(...g.filter(O=>ut(O)!==w)),b}function Ft(g){if(!g)return null;if(g.routeConfig?._injector)return g.routeConfig._injector;for(let w=g.parent;w;w=w.parent){const b=w.routeConfig;if(b?._loadedInjector)return b._loadedInjector;if(b?._injector)return b._injector}return null}class en{constructor(w,b,O,K){this.routeReuseStrategy=w,this.futureState=b,this.currState=O,this.forwardEvent=K}activate(w){const b=this.futureState._root,O=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,O,w),so(this.futureState.root),this.activateChildRoutes(b,O,w)}deactivateChildRoutes(w,b,O){const K=Sr(b);w.children.forEach(re=>{const ye=re.value.outlet;this.deactivateRoutes(re,K[ye],O),delete K[ye]}),Tt(K,(re,ye)=>{this.deactivateRouteAndItsChildren(re,O)})}deactivateRoutes(w,b,O){const K=w.value,re=b?b.value:null;if(K===re)if(K.component){const ye=O.getContext(K.outlet);ye&&this.deactivateChildRoutes(w,b,ye.children)}else this.deactivateChildRoutes(w,b,O);else re&&this.deactivateRouteAndItsChildren(b,O)}deactivateRouteAndItsChildren(w,b){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,b):this.deactivateRouteAndOutlet(w,b)}detachAndStoreRouteSubtree(w,b){const O=b.getContext(w.value.outlet),K=O&&w.value.component?O.children:b,re=Sr(w);for(const ye of Object.keys(re))this.deactivateRouteAndItsChildren(re[ye],K);if(O&&O.outlet){const ye=O.outlet.detach(),et=O.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:ye,route:w,contexts:et})}}deactivateRouteAndOutlet(w,b){const O=b.getContext(w.value.outlet),K=O&&w.value.component?O.children:b,re=Sr(w);for(const ye of Object.keys(re))this.deactivateRouteAndItsChildren(re[ye],K);O&&(O.outlet&&(O.outlet.deactivate(),O.children.onOutletDeactivated()),O.attachRef=null,O.resolver=null,O.route=null)}activateChildRoutes(w,b,O){const K=Sr(b);w.children.forEach(re=>{this.activateRoutes(re,K[re.value.outlet],O),this.forwardEvent(new $t(re.value.snapshot))}),w.children.length&&this.forwardEvent(new st(w.value.snapshot))}activateRoutes(w,b,O){const K=w.value,re=b?b.value:null;if(so(K),K===re)if(K.component){const ye=O.getOrCreateContext(K.outlet);this.activateChildRoutes(w,b,ye.children)}else this.activateChildRoutes(w,b,O);else if(K.component){const ye=O.getOrCreateContext(K.outlet);if(this.routeReuseStrategy.shouldAttach(K.snapshot)){const et=this.routeReuseStrategy.retrieve(K.snapshot);this.routeReuseStrategy.store(K.snapshot,null),ye.children.onOutletReAttached(et.contexts),ye.attachRef=et.componentRef,ye.route=et.route.value,ye.outlet&&ye.outlet.attach(et.componentRef,et.route.value),so(et.route.value),this.activateChildRoutes(w,null,ye.children)}else{const et=Ft(K.snapshot),gt=et?.get(r._Vd)??null;ye.attachRef=null,ye.route=K,ye.resolver=gt,ye.injector=et,ye.outlet&&ye.outlet.activateWith(K,ye.injector),this.activateChildRoutes(w,null,ye.children)}}else this.activateChildRoutes(w,null,O)}}class Mn{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Fn{constructor(w,b){this.component=w,this.route=b}}function xi(g,w,b){const O=g._root;return ve(O,w?w._root:null,b,[O.value])}function Zn(g,w){const b=Symbol(),O=w.get(g,b);return O===b?"function"!=typeof g||(0,r.Z0I)(g)?w.get(g):g:O}function ve(g,w,b,O,K={canDeactivateChecks:[],canActivateChecks:[]}){const re=Sr(w);return g.children.forEach(ye=>{(function fe(g,w,b,O,K={canDeactivateChecks:[],canActivateChecks:[]}){const re=g.value,ye=w?w.value:null,et=b?b.getContext(g.value.outlet):null;if(ye&&re.routeConfig===ye.routeConfig){const gt=function M(g,w,b){if("function"==typeof b)return b(g,w);switch(b){case"pathParamsChange":return!vn(g.url,w.url);case"pathParamsOrQueryParamsChange":return!vn(g.url,w.url)||!cr(g.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mo(g,w)||!cr(g.queryParams,w.queryParams);default:return!mo(g,w)}}(ye,re,re.routeConfig.runGuardsAndResolvers);gt?K.canActivateChecks.push(new Mn(O)):(re.data=ye.data,re._resolvedData=ye._resolvedData),ve(g,w,re.component?et?et.children:null:b,O,K),gt&&et&&et.outlet&&et.outlet.isActivated&&K.canDeactivateChecks.push(new Fn(et.outlet.component,ye))}else ye&&N(w,et,K),K.canActivateChecks.push(new Mn(O)),ve(g,null,re.component?et?et.children:null:b,O,K)})(ye,re[ye.value.outlet],b,O.concat([ye.value]),K),delete re[ye.value.outlet]}),Tt(re,(ye,et)=>N(ye,b.getContext(et),K)),K}function N(g,w,b){const O=Sr(g),K=g.value;Tt(O,(re,ye)=>{N(re,K.component?w?w.children.getContext(ye):null:w,b)}),b.canDeactivateChecks.push(new Fn(K.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,K))}function h(g){return"function"==typeof g}function zn(g){return g instanceof Y||"EmptyError"===g?.name}const fi=Symbol("INITIAL_VALUE");function Ei(){return(0,Te.w)(g=>ke(g.map(w=>w.pipe(Re(1),function De(...g){const w=(0,oe.yG)(g);return(0,ct.e)((b,O)=>{(w?Be(g,b,w):Be(g,b)).subscribe(O)})}(fi)))).pipe((0,Se.U)(w=>{for(const b of w)if(!0!==b){if(b===fi)return fi;if(!1===b||b instanceof Qi)return b}return!0}),(0,Ve.h)(w=>w!==fi),Re(1)))}function To(g){return(0,vt.z)(Mt(w=>{if(Ki(w))throw Dr(0,w)}),(0,Se.U)(w=>!0===w))}const Jo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function as(g,w,b,O,K){const re=Ms(g,w,b);return re.matched?function ds(g,w,b,O){const K=w.canMatch;if(!K||0===K.length)return(0,q.of)(!0);const re=K.map(ye=>{const et=Zn(ye,g);return xt(function Rt(g){return g&&h(g.canMatch)}(et)?et.canMatch(w,b):g.runInContext(()=>et(w,b)))});return(0,q.of)(re).pipe(Ei(),To())}(O=Fo(w,O),w,b).pipe((0,Se.U)(ye=>!0===ye?re:{...Jo})):(0,q.of)(re)}function Ms(g,w,b){if(""===w.path)return"full"===w.pathMatch&&(g.hasChildren()||b.length>0)?{...Jo}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const K=(w.matcher||er)(b,g,w);if(!K)return{...Jo};const re={};Tt(K.posParams,(et,gt)=>{re[gt]=et.path});const ye=K.consumed.length>0?{...re,...K.consumed[K.consumed.length-1].parameters}:re;return{matched:!0,consumedSegments:K.consumed,remainingSegments:b.slice(K.consumed.length),parameters:ye,positionalParamSegments:K.posParams??{}}}function is(g,w,b,O){if(b.length>0&&function As(g,w,b){return b.some(O=>Os(g,w,O)&&ut(O)!==_n)}(g,b,O)){const re=new Zt(w,function Rs(g,w,b,O){const K={};K[_n]=O,O._sourceSegment=g,O._segmentIndexShift=w.length;for(const re of b)if(""===re.path&&ut(re)!==_n){const ye=new Zt([],{});ye._sourceSegment=g,ye._segmentIndexShift=w.length,K[ut(re)]=ye}return K}(g,w,O,new Zt(b,g.children)));return re._sourceSegment=g,re._segmentIndexShift=w.length,{segmentGroup:re,slicedSegments:[]}}if(0===b.length&&function ms(g,w,b){return b.some(O=>Os(g,w,O))}(g,b,O)){const re=new Zt(g.segments,function Is(g,w,b,O,K){const re={};for(const ye of O)if(Os(g,b,ye)&&!K[ut(ye)]){const et=new Zt([],{});et._sourceSegment=g,et._segmentIndexShift=w.length,re[ut(ye)]=et}return{...K,...re}}(g,w,b,O,g.children));return re._sourceSegment=g,re._segmentIndexShift=w.length,{segmentGroup:re,slicedSegments:b}}const K=new Zt(g.segments,g.children);return K._sourceSegment=g,K._segmentIndexShift=w.length,{segmentGroup:K,slicedSegments:b}}function Os(g,w,b){return(!(g.hasChildren()||w.length>0)||"full"!==b.pathMatch)&&""===b.path}function rs(g,w,b,O){return!!(ut(g)===O||O!==_n&&Os(w,b,g))&&("**"===g.path||Ms(w,g,b).matched)}function Qo(g,w,b){return 0===w.length&&!g.children[b]}const Ls=!1;class Es{constructor(w){this.segmentGroup=w||null}}class Fs{constructor(w){this.urlTree=w}}function es(g){return Ge(new Es(g))}function Hs(g){return Ge(new Fs(g))}class Mo{constructor(w,b,O,K,re){this.injector=w,this.configLoader=b,this.urlSerializer=O,this.urlTree=K,this.config=re,this.allowRedirects=!0}apply(){const w=is(this.urlTree.root,[],[],this.config).segmentGroup,b=new Zt(w.segments,w.children);return this.expandSegmentGroup(this.injector,this.config,b,_n).pipe((0,Se.U)(re=>this.createUrlTree(hr(re),this.urlTree.queryParams,this.urlTree.fragment))).pipe(cn(re=>{if(re instanceof Fs)return this.allowRedirects=!1,this.match(re.urlTree);throw re instanceof Es?this.noMatchError(re):re}))}match(w){return this.expandSegmentGroup(this.injector,this.config,w.root,_n).pipe((0,Se.U)(K=>this.createUrlTree(hr(K),w.queryParams,w.fragment))).pipe(cn(K=>{throw K instanceof Es?this.noMatchError(K):K}))}noMatchError(w){return new r.vHH(4002,Ls)}createUrlTree(w,b,O){const K=Do(w);return new Qi(K,b,O)}expandSegmentGroup(w,b,O,K){return 0===O.segments.length&&O.hasChildren()?this.expandChildren(w,b,O).pipe((0,Se.U)(re=>new Zt([],re))):this.expandSegment(w,O,b,O.segments,K,!0)}expandChildren(w,b,O){const K=[];for(const re of Object.keys(O.children))"primary"===re?K.unshift(re):K.push(re);return(0,F.D)(K).pipe((0,_t.b)(re=>{const ye=O.children[re],et=Dt(b,re);return this.expandSegmentGroup(w,et,ye,re).pipe((0,Se.U)(gt=>({segment:gt,outlet:re})))}),on((re,ye)=>(re[ye.outlet]=ye.segment,re),{}),at())}expandSegment(w,b,O,K,re,ye){return(0,F.D)(O).pipe((0,_t.b)(et=>this.expandSegmentAgainstRoute(w,b,O,et,K,re,ye).pipe(cn(Xt=>{if(Xt instanceof Es)return(0,q.of)(null);throw Xt}))),mt(et=>!!et),cn((et,gt)=>{if(zn(et))return Qo(b,K,re)?(0,q.of)(new Zt([],{})):es(b);throw et}))}expandSegmentAgainstRoute(w,b,O,K,re,ye,et){return rs(K,b,re,ye)?void 0===K.redirectTo?this.matchSegmentAgainstRoute(w,b,K,re,ye):et&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,b,O,K,re,ye):es(b):es(b)}expandSegmentAgainstRouteUsingRedirect(w,b,O,K,re,ye){return"**"===K.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,O,K,ye):this.expandRegularSegmentAgainstRouteUsingRedirect(w,b,O,K,re,ye)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,b,O,K){const re=this.applyRedirectCommands([],O.redirectTo,{});return O.redirectTo.startsWith("/")?Hs(re):this.lineralizeSegments(O,re).pipe((0,Ce.z)(ye=>{const et=new Zt(ye,{});return this.expandSegment(w,et,b,ye,K,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,b,O,K,re,ye){const{matched:et,consumedSegments:gt,remainingSegments:Xt,positionalParamSegments:Kt}=Ms(b,K,re);if(!et)return es(b);const Dn=this.applyRedirectCommands(gt,K.redirectTo,Kt);return K.redirectTo.startsWith("/")?Hs(Dn):this.lineralizeSegments(K,Dn).pipe((0,Ce.z)(Un=>this.expandSegment(w,b,O,Un.concat(Xt),ye,!1)))}matchSegmentAgainstRoute(w,b,O,K,re){return"**"===O.path?(w=Fo(O,w),O.loadChildren?(O._loadedRoutes?(0,q.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):this.configLoader.loadChildren(w,O)).pipe((0,Se.U)(et=>(O._loadedRoutes=et.routes,O._loadedInjector=et.injector,new Zt(K,{})))):(0,q.of)(new Zt(K,{}))):as(b,O,K,w).pipe((0,Te.w)(({matched:ye,consumedSegments:et,remainingSegments:gt})=>ye?this.getChildConfig(w=O._injector??w,O,K).pipe((0,Ce.z)(Kt=>{const Dn=Kt.injector??w,Un=Kt.routes,{segmentGroup:An,slicedSegments:$n}=is(b,et,gt,Un),Ci=new Zt(An.segments,An.children);if(0===$n.length&&Ci.hasChildren())return this.expandChildren(Dn,Un,Ci).pipe((0,Se.U)(Hr=>new Zt(et,Hr)));if(0===Un.length&&0===$n.length)return(0,q.of)(new Zt(et,{}));const ri=ut(O)===re;return this.expandSegment(Dn,Ci,Un,$n,ri?_n:re,!0).pipe((0,Se.U)(Tr=>new Zt(et.concat(Tr.segments),Tr.children)))})):es(b)))}getChildConfig(w,b,O){return b.children?(0,q.of)({routes:b.children,injector:w}):b.loadChildren?void 0!==b._loadedRoutes?(0,q.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function ko(g,w,b,O){const K=w.canLoad;if(void 0===K||0===K.length)return(0,q.of)(!0);const re=K.map(ye=>{const et=Zn(ye,g);return xt(function _(g){return g&&h(g.canLoad)}(et)?et.canLoad(w,b):g.runInContext(()=>et(w,b)))});return(0,q.of)(re).pipe(Ei(),To())}(w,b,O).pipe((0,Ce.z)(K=>K?this.configLoader.loadChildren(w,b).pipe(Mt(re=>{b._loadedRoutes=re.routes,b._loadedInjector=re.injector})):function Yo(g){return Ge(co(Ls,3))}())):(0,q.of)({routes:[],injector:w})}lineralizeSegments(w,b){let O=[],K=b.root;for(;;){if(O=O.concat(K.segments),0===K.numberOfChildren)return(0,q.of)(O);if(K.numberOfChildren>1||!K.children[_n])return w.redirectTo,Ge(new r.vHH(4e3,Ls));K=K.children[_n]}}applyRedirectCommands(w,b,O){return this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),w,O)}applyRedirectCreateUrlTree(w,b,O,K){const re=this.createSegmentGroup(w,b.root,O,K);return new Qi(re,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(w,b){const O={};return Tt(w,(K,re)=>{if("string"==typeof K&&K.startsWith(":")){const et=K.substring(1);O[re]=b[et]}else O[re]=K}),O}createSegmentGroup(w,b,O,K){const re=this.createSegments(w,b.segments,O,K);let ye={};return Tt(b.children,(et,gt)=>{ye[gt]=this.createSegmentGroup(w,et,O,K)}),new Zt(re,ye)}createSegments(w,b,O,K){return b.map(re=>re.path.startsWith(":")?this.findPosParam(w,re,K):this.findOrReturn(re,O))}findPosParam(w,b,O){const K=O[b.path.substring(1)];if(!K)throw new r.vHH(4001,Ls);return K}findOrReturn(w,b){let O=0;for(const K of b){if(K.path===w.path)return b.splice(O),K;O++}return w}}class U{}class W{constructor(w,b,O,K,re,ye,et){this.injector=w,this.rootComponentType=b,this.config=O,this.urlTree=K,this.url=re,this.paramsInheritanceStrategy=ye,this.urlSerializer=et}recognize(){const w=is(this.urlTree.root,[],[],this.config.filter(b=>void 0===b.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,_n).pipe((0,Se.U)(b=>{if(null===b)return null;const O=new Li([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_n,this.rootComponentType,null,this.urlTree.root,-1,{}),K=new gi(O,b),re=new Ar(this.url,K);return this.inheritParamsAndData(re._root),re}))}inheritParamsAndData(w){const b=w.value,O=yr(b,this.paramsInheritanceStrategy);b.params=Object.freeze(O.params),b.data=Object.freeze(O.data),w.children.forEach(K=>this.inheritParamsAndData(K))}processSegmentGroup(w,b,O,K){return 0===O.segments.length&&O.hasChildren()?this.processChildren(w,b,O):this.processSegment(w,b,O,O.segments,K)}processChildren(w,b,O){return(0,F.D)(Object.keys(O.children)).pipe((0,_t.b)(K=>{const re=O.children[K],ye=Dt(b,K);return this.processSegmentGroup(w,ye,re,K)}),on((K,re)=>K&&re?(K.push(...re),K):null),function tn(g,w=!1){return(0,ct.e)((b,O)=>{let K=0;b.subscribe((0,le.x)(O,re=>{const ye=g(re,K++);(ye||w)&&O.next(re),!ye&&O.complete()}))})}(K=>null!==K),Ue(null),at(),(0,Se.U)(K=>{if(null===K)return null;const re=Pt(K);return function me(g){g.sort((w,b)=>w.value.outlet===_n?-1:b.value.outlet===_n?1:w.value.outlet.localeCompare(b.value.outlet))}(re),re}))}processSegment(w,b,O,K,re){return(0,F.D)(b).pipe((0,_t.b)(ye=>this.processSegmentAgainstRoute(ye._injector??w,ye,O,K,re)),mt(ye=>!!ye),cn(ye=>{if(zn(ye))return Qo(O,K,re)?(0,q.of)([]):(0,q.of)(null);throw ye}))}processSegmentAgainstRoute(w,b,O,K,re){if(b.redirectTo||!rs(b,O,K,re))return(0,q.of)(null);let ye;if("**"===b.path){const et=K.length>0?Sn(K).parameters:{},gt=Pn(O)+K.length,Xt=new Li(K,et,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ri(b),ut(b),b.component??b._loadedComponent??null,b,pn(O),gt,Fi(b));ye=(0,q.of)({snapshot:Xt,consumedSegments:[],remainingSegments:[]})}else ye=as(O,b,K,w).pipe((0,Se.U)(({matched:et,consumedSegments:gt,remainingSegments:Xt,parameters:Kt})=>{if(!et)return null;const Dn=Pn(O)+gt.length;return{snapshot:new Li(gt,Kt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ri(b),ut(b),b.component??b._loadedComponent??null,b,pn(O),Dn,Fi(b)),consumedSegments:gt,remainingSegments:Xt}}));return ye.pipe((0,Te.w)(et=>{if(null===et)return(0,q.of)(null);const{snapshot:gt,consumedSegments:Xt,remainingSegments:Kt}=et;w=b._injector??w;const Dn=b._loadedInjector??w,Un=function Ne(g){return g.children?g.children:g.loadChildren?g._loadedRoutes:[]}(b),{segmentGroup:An,slicedSegments:$n}=is(O,Xt,Kt,Un.filter(ri=>void 0===ri.redirectTo));if(0===$n.length&&An.hasChildren())return this.processChildren(Dn,Un,An).pipe((0,Se.U)(ri=>null===ri?null:[new gi(gt,ri)]));if(0===Un.length&&0===$n.length)return(0,q.of)([new gi(gt,[])]);const Ci=ut(b)===re;return this.processSegment(Dn,Un,An,$n,Ci?_n:re).pipe((0,Se.U)(ri=>null===ri?null:[new gi(gt,ri)]))}))}}function pt(g){const w=g.value.routeConfig;return w&&""===w.path&&void 0===w.redirectTo}function Pt(g){const w=[],b=new Set;for(const O of g){if(!pt(O)){w.push(O);continue}const K=w.find(re=>O.value.routeConfig===re.value.routeConfig);void 0!==K?(K.children.push(...O.children),b.add(K)):w.push(O)}for(const O of b){const K=Pt(O.children);w.push(new gi(O.value,K))}return w.filter(O=>!b.has(O))}function pn(g){let w=g;for(;w._sourceSegment;)w=w._sourceSegment;return w}function Pn(g){let w=g,b=w._segmentIndexShift??0;for(;w._sourceSegment;)w=w._sourceSegment,b+=w._segmentIndexShift??0;return b-1}function Ri(g){return g.data||{}}function Fi(g){return g.resolve||{}}function v(g){return"string"==typeof g.title||null===g.title}function R(g){return(0,Te.w)(w=>{const b=g(w);return b?(0,F.D)(b).pipe((0,Se.U)(()=>w)):(0,q.of)(w)})}const be=new r.OlP("ROUTES");let qe=(()=>{class g{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,r.f3M)(r.Sil)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,q.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const O=xt(b.loadComponent()).pipe((0,Se.U)(dn),Mt(re=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=re}),mn(()=>{this.componentLoaders.delete(b)})),K=new Ke(O,()=>new ge.x).pipe(ze());return this.componentLoaders.set(b,K),K}loadChildren(b,O){if(this.childrenLoaders.get(O))return this.childrenLoaders.get(O);if(O._loadedRoutes)return(0,q.of)({routes:O._loadedRoutes,injector:O._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(O);const re=this.loadModuleFactoryOrRoutes(O.loadChildren).pipe((0,Se.U)(et=>{this.onLoadEndListener&&this.onLoadEndListener(O);let gt,Xt,Kt=!1;Array.isArray(et)?Xt=et:(gt=et.create(b).injector,Xt=ir(gt.get(be,[],r.XFs.Self|r.XFs.Optional)));return{routes:Xt.map(Qe),injector:gt}}),mn(()=>{this.childrenLoaders.delete(O)})),ye=new Ke(re,()=>new ge.x).pipe(ze());return this.childrenLoaders.set(O,ye),ye}loadModuleFactoryOrRoutes(b){return xt(b()).pipe((0,Se.U)(dn),(0,Ce.z)(O=>O instanceof r.YKP||Array.isArray(O)?(0,q.of)(O):(0,F.D)(this.compiler.compileModuleAsync(O))))}}return g.\u0275fac=function(b){return new(b||g)},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function dn(g){return function Nt(g){return g&&"object"==typeof g&&"default"in g}(g)?g.default:g}let Rn=(()=>{class g{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ge.x,this.configLoader=(0,r.f3M)(qe),this.environmentInjector=(0,r.f3M)(r.lqb),this.urlSerializer=(0,r.f3M)(Vt),this.rootContexts=(0,r.f3M)(Pr),this.navigationId=0,this.afterPreactivation=()=>(0,q.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=K=>this.events.next(new Vi(K)),this.configLoader.onLoadStartListener=K=>this.events.next(new zr(K))}complete(){this.transitions?.complete()}handleNavigationRequest(b){const O=++this.navigationId;this.transitions?.next({...this.transitions.value,...b,id:O})}setupNavigations(b){return this.transitions=new $.X({id:0,targetPageId:0,currentUrlTree:b.currentUrlTree,currentRawUrl:b.currentUrlTree,extractedUrl:b.urlHandlingStrategy.extract(b.currentUrlTree),urlAfterRedirects:b.urlHandlingStrategy.extract(b.currentUrlTree),rawUrl:b.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ii,restoredState:null,currentSnapshot:b.routerState.snapshot,targetSnapshot:null,currentRouterState:b.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ve.h)(O=>0!==O.id),(0,Se.U)(O=>({...O,extractedUrl:b.urlHandlingStrategy.extract(O.rawUrl)})),(0,Te.w)(O=>{let K=!1,re=!1;return(0,q.of)(O).pipe(Mt(ye=>{this.currentNavigation={id:ye.id,initialUrl:ye.rawUrl,extractedUrl:ye.extractedUrl,trigger:ye.source,extras:ye.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Te.w)(ye=>{const et=b.browserUrlTree.toString(),gt=!b.navigated||ye.extractedUrl.toString()!==et||et!==b.currentUrlTree.toString();if(!gt&&"reload"!==(ye.extras.onSameUrlNavigation??b.onSameUrlNavigation)){const Kt="";return this.events.next(new Ii(ye.id,b.serializeUrl(O.rawUrl),Kt,0)),b.rawUrlTree=ye.rawUrl,ye.resolve(null),Ze.E}if(b.urlHandlingStrategy.shouldProcessUrl(ye.rawUrl))return ci(ye.source)&&(b.browserUrlTree=ye.extractedUrl),(0,q.of)(ye).pipe((0,Te.w)(Kt=>{const Dn=this.transitions?.getValue();return this.events.next(new $i(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),Kt.source,Kt.restoredState)),Dn!==this.transitions?.getValue()?Ze.E:Promise.resolve(Kt)}),function js(g,w,b,O){return(0,Te.w)(K=>function cs(g,w,b,O,K){return new Mo(g,w,b,O,K).apply()}(g,w,b,K.extractedUrl,O).pipe((0,Se.U)(re=>({...K,urlAfterRedirects:re}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,b.config),Mt(Kt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Kt.urlAfterRedirects},O.urlAfterRedirects=Kt.urlAfterRedirects}),function Si(g,w,b,O,K){return(0,Ce.z)(re=>function P(g,w,b,O,K,re,ye="emptyOnly"){return new W(g,w,b,O,K,ye,re).recognize().pipe((0,Te.w)(et=>null===et?function m(g){return new Z.y(w=>w.error(g))}(new U):(0,q.of)(et)))}(g,w,b,re.urlAfterRedirects,O.serialize(re.urlAfterRedirects),O,K).pipe((0,Se.U)(ye=>({...re,targetSnapshot:ye}))))}(this.environmentInjector,this.rootComponentType,b.config,this.urlSerializer,b.paramsInheritanceStrategy),Mt(Kt=>{if(O.targetSnapshot=Kt.targetSnapshot,"eager"===b.urlUpdateStrategy){if(!Kt.extras.skipLocationChange){const Un=b.urlHandlingStrategy.merge(Kt.urlAfterRedirects,Kt.rawUrl);b.setBrowserUrl(Un,Kt)}b.browserUrlTree=Kt.urlAfterRedirects}const Dn=new fr(Kt.id,this.urlSerializer.serialize(Kt.extractedUrl),this.urlSerializer.serialize(Kt.urlAfterRedirects),Kt.targetSnapshot);this.events.next(Dn)}));if(gt&&b.urlHandlingStrategy.shouldProcessUrl(b.rawUrlTree)){const{id:Kt,extractedUrl:Dn,source:Un,restoredState:An,extras:$n}=ye,Ci=new $i(Kt,this.urlSerializer.serialize(Dn),Un,An);this.events.next(Ci);const ri=or(Dn,this.rootComponentType).snapshot;return O={...ye,targetSnapshot:ri,urlAfterRedirects:Dn,extras:{...$n,skipLocationChange:!1,replaceUrl:!1}},(0,q.of)(O)}{const Kt="";return this.events.next(new Ii(ye.id,b.serializeUrl(O.extractedUrl),Kt,1)),b.rawUrlTree=ye.rawUrl,ye.resolve(null),Ze.E}}),Mt(ye=>{const et=new Kr(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects),ye.targetSnapshot);this.events.next(et)}),(0,Se.U)(ye=>O={...ye,guards:xi(ye.targetSnapshot,ye.currentSnapshot,this.rootContexts)}),function mi(g,w){return(0,Ce.z)(b=>{const{targetSnapshot:O,currentSnapshot:K,guards:{canActivateChecks:re,canDeactivateChecks:ye}}=b;return 0===ye.length&&0===re.length?(0,q.of)({...b,guardsResult:!0}):function nr(g,w,b,O){return(0,F.D)(g).pipe((0,Ce.z)(K=>function qo(g,w,b,O,K){const re=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,q.of)(!0);const ye=re.map(et=>{const gt=Ft(w)??K,Xt=Zn(et,gt);return xt(function Xe(g){return g&&h(g.canDeactivate)}(Xt)?Xt.canDeactivate(g,w,b,O):gt.runInContext(()=>Xt(g,w,b,O))).pipe(mt())});return(0,q.of)(ye).pipe(Ei())}(K.component,K.route,b,w,O)),mt(K=>!0!==K,!0))}(ye,O,K,g).pipe((0,Ce.z)(et=>et&&function T(g){return"boolean"==typeof g}(et)?function li(g,w,b,O){return(0,F.D)(w).pipe((0,_t.b)(K=>Be(function io(g,w){return null!==g&&w&&w(new He(g)),(0,q.of)(!0)}(K.route.parent,O),function vo(g,w){return null!==g&&w&&w(new wt(g)),(0,q.of)(!0)}(K.route,O),function So(g,w,b){const O=w[w.length-1],re=w.slice(0,w.length-1).reverse().map(ye=>function hi(g){const w=g.routeConfig?g.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:g,guards:w}:null}(ye)).filter(ye=>null!==ye).map(ye=>Ae(()=>{const et=ye.guards.map(gt=>{const Xt=Ft(ye.node)??b,Kt=Zn(gt,Xt);return xt(function ee(g){return g&&h(g.canActivateChild)}(Kt)?Kt.canActivateChild(O,g):Xt.runInContext(()=>Kt(O,g))).pipe(mt())});return(0,q.of)(et).pipe(Ei())}));return(0,q.of)(re).pipe(Ei())}(g,K.path,b),function gr(g,w,b){const O=w.routeConfig?w.routeConfig.canActivate:null;if(!O||0===O.length)return(0,q.of)(!0);const K=O.map(re=>Ae(()=>{const ye=Ft(w)??b,et=Zn(re,ye);return xt(function V(g){return g&&h(g.canActivate)}(et)?et.canActivate(w,g):ye.runInContext(()=>et(w,g))).pipe(mt())}));return(0,q.of)(K).pipe(Ei())}(g,K.route,b))),mt(K=>!0!==K,!0))}(O,re,g,w):(0,q.of)(et)),(0,Se.U)(et=>({...b,guardsResult:et})))})}(this.environmentInjector,ye=>this.events.next(ye)),Mt(ye=>{if(O.guardsResult=ye.guardsResult,Ki(ye.guardsResult))throw Dr(0,ye.guardsResult);const et=new fo(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(ye.urlAfterRedirects),ye.targetSnapshot,!!ye.guardsResult);this.events.next(et)}),(0,Ve.h)(ye=>!!ye.guardsResult||(b.restoreHistory(ye),this.cancelNavigationTransition(ye,"",3),!1)),R(ye=>{if(ye.guards.canActivateChecks.length)return(0,q.of)(ye).pipe(Mt(et=>{const gt=new Po(et.id,this.urlSerializer.serialize(et.extractedUrl),this.urlSerializer.serialize(et.urlAfterRedirects),et.targetSnapshot);this.events.next(gt)}),(0,Te.w)(et=>{let gt=!1;return(0,q.of)(et).pipe(function ki(g,w){return(0,Ce.z)(b=>{const{targetSnapshot:O,guards:{canActivateChecks:K}}=b;if(!K.length)return(0,q.of)(b);let re=0;return(0,F.D)(K).pipe((0,_t.b)(ye=>function Vr(g,w,b,O){const K=g.routeConfig,re=g._resolve;return void 0!==K?.title&&!v(K)&&(re[ui]=K.title),function Lr(g,w,b,O){const K=function Oo(g){return[...Object.keys(g),...Object.getOwnPropertySymbols(g)]}(g);if(0===K.length)return(0,q.of)({});const re={};return(0,F.D)(K).pipe((0,Ce.z)(ye=>function a(g,w,b,O){const K=Ft(w)??O,re=Zn(g,K);return xt(re.resolve?re.resolve(w,b):K.runInContext(()=>re(w,b)))}(g[ye],w,b,O).pipe(mt(),Mt(et=>{re[ye]=et}))),Et(1),function Wt(g){return(0,Se.U)(()=>g)}(re),cn(ye=>zn(ye)?Ze.E:Ge(ye)))}(re,g,w,O).pipe((0,Se.U)(ye=>(g._resolvedData=ye,g.data=yr(g,b).resolve,K&&v(K)&&(g.data[ui]=K.title),null)))}(ye.route,O,g,w)),Mt(()=>re++),Et(1),(0,Ce.z)(ye=>re===K.length?(0,q.of)(b):Ze.E))})}(b.paramsInheritanceStrategy,this.environmentInjector),Mt({next:()=>gt=!0,complete:()=>{gt||(b.restoreHistory(et),this.cancelNavigationTransition(et,"",2))}}))}),Mt(et=>{const gt=new jo(et.id,this.urlSerializer.serialize(et.extractedUrl),this.urlSerializer.serialize(et.urlAfterRedirects),et.targetSnapshot);this.events.next(gt)}))}),R(ye=>{const et=gt=>{const Xt=[];gt.routeConfig?.loadComponent&&!gt.routeConfig._loadedComponent&&Xt.push(this.configLoader.loadComponent(gt.routeConfig).pipe(Mt(Kt=>{gt.component=Kt}),(0,Se.U)(()=>{})));for(const Kt of gt.children)Xt.push(...et(Kt));return Xt};return ke(et(ye.targetSnapshot.root)).pipe(Ue(),Re(1))}),R(()=>this.afterPreactivation()),(0,Se.U)(ye=>{const et=function yo(g,w,b){const O=_o(g,w._root,b?b._root:void 0);return new Br(O,w)}(b.routeReuseStrategy,ye.targetSnapshot,ye.currentRouterState);return O={...ye,targetRouterState:et}}),Mt(ye=>{b.currentUrlTree=ye.urlAfterRedirects,b.rawUrlTree=b.urlHandlingStrategy.merge(ye.urlAfterRedirects,ye.rawUrl),b.routerState=ye.targetRouterState,"deferred"===b.urlUpdateStrategy&&(ye.extras.skipLocationChange||b.setBrowserUrl(b.rawUrlTree,ye),b.browserUrlTree=ye.urlAfterRedirects)}),((g,w,b)=>(0,Se.U)(O=>(new en(w,O.targetRouterState,O.currentRouterState,b).activate(g),O)))(this.rootContexts,b.routeReuseStrategy,ye=>this.events.next(ye)),Re(1),Mt({next:ye=>{K=!0,this.lastSuccessfulNavigation=this.currentNavigation,b.navigated=!0,this.events.next(new Ir(ye.id,this.urlSerializer.serialize(ye.extractedUrl),this.urlSerializer.serialize(b.currentUrlTree))),b.titleStrategy?.updateTitle(ye.targetRouterState.snapshot),ye.resolve(!0)},complete:()=>{K=!0}}),mn(()=>{K||re||this.cancelNavigationTransition(O,"",1),this.currentNavigation?.id===O.id&&(this.currentNavigation=null)}),cn(ye=>{if(re=!0,Ao(ye)){Yr(ye)||(b.navigated=!0,b.restoreHistory(O,!0));const et=new ho(O.id,this.urlSerializer.serialize(O.extractedUrl),ye.message,ye.cancellationCode);if(this.events.next(et),Yr(ye)){const gt=b.urlHandlingStrategy.merge(ye.url,b.rawUrlTree),Xt={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===b.urlUpdateStrategy||ci(O.source)};b.scheduleNavigation(gt,ii,null,Xt,{resolve:O.resolve,reject:O.reject,promise:O.promise})}else O.resolve(!1)}else{b.restoreHistory(O,!0);const et=new xr(O.id,this.urlSerializer.serialize(O.extractedUrl),ye,O.targetSnapshot??void 0);this.events.next(et);try{O.resolve(b.errorHandler(ye))}catch(gt){O.reject(gt)}}return Ze.E}))}))}cancelNavigationTransition(b,O,K){const re=new ho(b.id,this.urlSerializer.serialize(b.extractedUrl),O,K);this.events.next(re),b.resolve(!1)}}return g.\u0275fac=function(b){return new(b||g)},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function ci(g){return g!==ii}let Mi=(()=>{class g{buildTitle(b){let O,K=b.root;for(;void 0!==K;)O=this.getResolvedTitleForRoute(K)??O,K=K.children.find(re=>re.outlet===_n);return O}getResolvedTitleForRoute(b){return b.data[ui]}}return g.\u0275fac=function(b){return new(b||g)},g.\u0275prov=r.Yz7({token:g,factory:function(){return(0,r.f3M)(Ur)},providedIn:"root"}),g})(),Ur=(()=>{class g extends Mi{constructor(b){super(),this.title=b}updateTitle(b){const O=this.buildTitle(b);void 0!==O&&this.title.setTitle(O)}}return g.\u0275fac=function(b){return new(b||g)(r.LFG(Cn.Dx))},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),pi=(()=>{class g{}return g.\u0275fac=function(b){return new(b||g)},g.\u0275prov=r.Yz7({token:g,factory:function(){return(0,r.f3M)(Ui)},providedIn:"root"}),g})();class bi{shouldDetach(w){return!1}store(w,b){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,b){return w.routeConfig===b.routeConfig}}let Ui=(()=>{class g extends bi{}return g.\u0275fac=function(){let w;return function(O){return(w||(w=r.n5z(g)))(O||g)}}(),g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const Io=new r.OlP("",{providedIn:"root",factory:()=>({})});let os=(()=>{class g{}return g.\u0275fac=function(b){return new(b||g)},g.\u0275prov=r.Yz7({token:g,factory:function(){return(0,r.f3M)(Xo)},providedIn:"root"}),g})(),Xo=(()=>{class g{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,O){return b}}return g.\u0275fac=function(b){return new(b||g)},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();function xo(g){throw g}function xs(g,w,b){return w.parse("/")}const Zs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vr={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qr=(()=>{class g{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,r.f3M)(r.c2e),this.isNgZoneEnabled=!1,this.options=(0,r.f3M)(Io,{optional:!0})||{},this.errorHandler=this.options.errorHandler||xo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xs,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,r.f3M)(os),this.routeReuseStrategy=(0,r.f3M)(pi),this.urlCreationStrategy=(0,r.f3M)(wn),this.titleStrategy=(0,r.f3M)(Mi),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ir((0,r.f3M)(be,{optional:!0})??[]),this.navigationTransitions=(0,r.f3M)(Rn),this.urlSerializer=(0,r.f3M)(Vt),this.location=(0,r.f3M)(pe.Ye),this.isNgZoneEnabled=(0,r.f3M)(r.R0b)instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Qi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=or(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(b=>{this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId??0},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const b=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ii,b)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const O="popstate"===b.type?"popstate":"hashchange";"popstate"===O&&setTimeout(()=>{this.navigateToSyncWithBrowser(b.url,O,b.state)},0)}))}navigateToSyncWithBrowser(b,O,K){const re={replaceUrl:!0},ye=K?.navigationId?K:null;if(K){const gt={...K};delete gt.navigationId,delete gt.\u0275routerPageId,0!==Object.keys(gt).length&&(re.state=gt)}const et=this.parseUrl(b);this.scheduleNavigation(et,O,ye,re)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(b){this.config=b.map(Qe),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,O={}){const{relativeTo:K,queryParams:re,fragment:ye,queryParamsHandling:et,preserveFragment:gt}=O,Xt=gt?this.currentUrlTree.fragment:ye;let Kt=null;switch(et){case"merge":Kt={...this.currentUrlTree.queryParams,...re};break;case"preserve":Kt=this.currentUrlTree.queryParams;break;default:Kt=re||null}return null!==Kt&&(Kt=this.removeEmptyProps(Kt)),this.urlCreationStrategy.createUrlTree(K,this.routerState,this.currentUrlTree,b,Kt,Xt??null)}navigateByUrl(b,O={skipLocationChange:!1}){const K=Ki(b)?b:this.parseUrl(b),re=this.urlHandlingStrategy.merge(K,this.rawUrlTree);return this.scheduleNavigation(re,ii,null,O)}navigate(b,O={skipLocationChange:!1}){return function ts(g){for(let w=0;w<g.length;w++){const b=g[w];if(null==b)throw new r.vHH(4008,false)}}(b),this.navigateByUrl(this.createUrlTree(b,O),O)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let O;try{O=this.urlSerializer.parse(b)}catch(K){O=this.malformedUriErrorHandler(K,this.urlSerializer,b)}return O}isActive(b,O){let K;if(K=!0===O?{...Zs}:!1===O?{...vr}:O,Ki(b))return At(this.currentUrlTree,b,K);const re=this.parseUrl(b);return At(this.currentUrlTree,re,K)}removeEmptyProps(b){return Object.keys(b).reduce((O,K)=>{const re=b[K];return null!=re&&(O[K]=re),O},{})}scheduleNavigation(b,O,K,re,ye){if(this.disposed)return Promise.resolve(!1);let et,gt,Xt,Kt;return ye?(et=ye.resolve,gt=ye.reject,Xt=ye.promise):Xt=new Promise((Dn,Un)=>{et=Dn,gt=Un}),Kt="computed"===this.canceledNavigationResolution?K&&K.\u0275routerPageId?K.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Kt,source:O,restoredState:K,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:b,extras:re,resolve:et,reject:gt,promise:Xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Xt.catch(Dn=>Promise.reject(Dn))}setBrowserUrl(b,O){const K=this.urlSerializer.serialize(b);if(this.location.isCurrentPathEqualTo(K)||O.extras.replaceUrl){const ye={...O.extras.state,...this.generateNgRouterState(O.id,this.browserPageId)};this.location.replaceState(K,"",ye)}else{const re={...O.extras.state,...this.generateNgRouterState(O.id,O.targetPageId)};this.location.go(K,"",re)}}restoreHistory(b,O=!1){if("computed"===this.canceledNavigationResolution){const re=this.currentPageId-(this.browserPageId??this.currentPageId);0!==re?this.location.historyGo(re):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===re&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(O&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,O){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:O}:{navigationId:b}}}return g.\u0275fac=function(b){return new(b||g)},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Ss=(()=>{class g{constructor(b,O,K,re,ye,et){this.router=b,this.route=O,this.tabIndexAttribute=K,this.renderer=re,this.el=ye,this.locationStrategy=et,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ge.x;const gt=ye.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===gt||"area"===gt,this.isAnchorElement?this.subscription=b.events.subscribe(Xt=>{Xt instanceof Ir&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(b){this._preserveFragment=(0,r.D6c)(b)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(b){this._skipLocationChange=(0,r.D6c)(b)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(b){this._replaceUrl=(0,r.D6c)(b)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(b,O,K,re,ye){return!!(null===this.urlTree||this.isAnchorElement&&(0!==b||O||K||re||ye||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const b=null===this.href?null:(0,r.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",b)}applyAttributeValue(b,O){const K=this.renderer,re=this.el.nativeElement;null!==O?K.setAttribute(re,b,O):K.removeAttribute(re,b)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return g.\u0275fac=function(b){return new(b||g)(r.Y36(qr),r.Y36(yi),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(pe.S$))},g.\u0275dir=r.lG2({type:g,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,O){1&b&&r.NdJ("click",function(re){return O.onClick(re.button,re.ctrlKey,re.shiftKey,re.altKey,re.metaKey)}),2&b&&r.uIk("target",O.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[r.TTD]}),g})();class _s{}let Ba=(()=>{class g{preload(b,O){return(0,q.of)(null)}}return g.\u0275fac=function(b){return new(b||g)},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Sa=(()=>{class g{constructor(b,O,K,re,ye){this.router=b,this.injector=K,this.preloadingStrategy=re,this.loader=ye}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ve.h)(b=>b instanceof Ir),(0,_t.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,O){const K=[];for(const re of O){re.providers&&!re._injector&&(re._injector=(0,r.MMx)(re.providers,b,`Route: ${re.path}`));const ye=re._injector??b,et=re._loadedInjector??ye;(re.loadChildren&&!re._loadedRoutes&&void 0===re.canLoad||re.loadComponent&&!re._loadedComponent)&&K.push(this.preloadConfig(ye,re)),(re.children||re._loadedRoutes)&&K.push(this.processRoutes(et,re.children??re._loadedRoutes))}return(0,F.D)(K).pipe((0,_e.J)())}preloadConfig(b,O){return this.preloadingStrategy.preload(O,()=>{let K;K=O.loadChildren&&void 0===O.canLoad?this.loader.loadChildren(b,O):(0,q.of)(null);const re=K.pipe((0,Ce.z)(ye=>null===ye?(0,q.of)(void 0):(O._loadedRoutes=ye.routes,O._loadedInjector=ye.injector,this.processRoutes(ye.injector??b,ye.routes))));if(O.loadComponent&&!O._loadedComponent){const ye=this.loader.loadComponent(O);return(0,F.D)([re,ye]).pipe((0,_e.J)())}return re})}}return g.\u0275fac=function(b){return new(b||g)(r.LFG(qr),r.LFG(r.Sil),r.LFG(r.lqb),r.LFG(_s),r.LFG(qe))},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();const Ws=new r.OlP("");let pa=(()=>{class g{constructor(b,O,K,re,ye={}){this.urlSerializer=b,this.transitions=O,this.viewportScroller=K,this.zone=re,this.options=ye,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},ye.scrollPositionRestoration=ye.scrollPositionRestoration||"disabled",ye.anchorScrolling=ye.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof $i?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Ir&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Gt&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,O){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gt(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,O))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return g.\u0275fac=function(b){r.$Z()},g.\u0275prov=r.Yz7({token:g,factory:g.\u0275fac}),g})();var bs=(()=>((bs=bs||{})[bs.COMPLETE=0]="COMPLETE",bs[bs.FAILED=1]="FAILED",bs[bs.REDIRECTING=2]="REDIRECTING",bs))();const ra=!1;function Cs(g,w){return{\u0275kind:g,\u0275providers:w}}const ar=new r.OlP("",{providedIn:"root",factory:()=>!1});function Js(){const g=(0,r.f3M)(r.zs3);return w=>{const b=g.get(r.z2F);if(w!==b.components[0])return;const O=g.get(qr),K=g.get(Va);1===g.get(oa)&&O.initialNavigation(),g.get(Ns,null,r.XFs.Optional)?.setUpPreloading(),g.get(Ws,null,r.XFs.Optional)?.init(),O.resetRootComponentType(b.componentTypes[0]),K.closed||(K.next(),K.complete(),K.unsubscribe())}}const Va=new r.OlP(ra?"bootstrap done indicator":"",{factory:()=>new ge.x}),oa=new r.OlP(ra?"initial navigation":"",{providedIn:"root",factory:()=>1});function gl(){let g=[];return g=ra?[{provide:r.Xts,multi:!0,useFactory:()=>{const w=(0,r.f3M)(qr);return()=>w.events.subscribe(b=>{console.group?.(`Router Event: ${b.constructor.name}`),console.log(function un(g){if(!("type"in g))return`Unknown Router Event: ${g.constructor.name}`;switch(g.type){case 14:return`ActivationEnd(path: '${g.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${g.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${g.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${g.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state}, shouldActivate: ${g.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 2:return`NavigationCancel(id: ${g.id}, url: '${g.url}')`;case 16:return`NavigationSkipped(id: ${g.id}, url: '${g.url}')`;case 1:return`NavigationEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${g.id}, url: '${g.url}', error: ${g.error})`;case 0:return`NavigationStart(id: ${g.id}, url: '${g.url}')`;case 6:return`ResolveEnd(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 5:return`ResolveStart(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 10:return`RouteConfigLoadEnd(path: ${g.route.path})`;case 9:return`RouteConfigLoadStart(path: ${g.route.path})`;case 4:return`RoutesRecognized(id: ${g.id}, url: '${g.url}', urlAfterRedirects: '${g.urlAfterRedirects}', state: ${g.state})`;case 15:return`Scroll(anchor: '${g.anchor}', position: '${g.position?`${g.position[0]}, ${g.position[1]}`:null}')`}}(b)),console.log(b),console.groupEnd?.()})}}]:[],Cs(1,g)}const Ns=new r.OlP(ra?"router preloader":"");function xa(g){return Cs(0,[{provide:Ns,useExisting:Sa},{provide:_s,useExisting:g}])}const fs=!1,sa=new r.OlP(fs?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Zo=[pe.Ye,{provide:Vt,useClass:ai},qr,Pr,{provide:yi,useFactory:function Da(g){return g.routerState.root},deps:[qr]},qe,fs?{provide:ar,useValue:!0}:[]];function Pa(){return new r.PXZ("Router",qr)}let aa=(()=>{class g{constructor(b){}static forRoot(b,O){return{ngModule:g,providers:[Zo,fs&&O?.enableTracing?gl().\u0275providers:[],{provide:be,multi:!0,useValue:b},{provide:sa,useFactory:p,deps:[[qr,new r.FiY,new r.tp0]]},{provide:Io,useValue:O||{}},O?.useHash?{provide:pe.S$,useClass:pe.Do}:{provide:pe.S$,useClass:pe.b0},{provide:Ws,useFactory:()=>{const g=(0,r.f3M)(pe.EM),w=(0,r.f3M)(r.R0b),b=(0,r.f3M)(Io),O=(0,r.f3M)(Rn),K=(0,r.f3M)(Vt);return b.scrollOffset&&g.setOffset(b.scrollOffset),new pa(K,O,g,w,b)}},O?.preloadingStrategy?xa(O.preloadingStrategy).\u0275providers:[],{provide:r.PXZ,multi:!0,useFactory:Pa},O?.initialNavigation?E(O):[],[{provide:I,useFactory:Js},{provide:r.tb,multi:!0,useExisting:I}]]}}static forChild(b){return{ngModule:g,providers:[{provide:be,multi:!0,useValue:b}]}}}return g.\u0275fac=function(b){return new(b||g)(r.LFG(sa,8))},g.\u0275mod=r.oAB({type:g}),g.\u0275inj=r.cJS({imports:[Xr]}),g})();function p(g){if(fs&&g)throw new r.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function E(g){return["disabled"===g.initialNavigation?Cs(3,[{provide:r.ip1,multi:!0,useFactory:()=>{const w=(0,r.f3M)(qr);return()=>{w.setUpLocationChangeListener()}}},{provide:oa,useValue:2}]).\u0275providers:[],"enabledBlocking"===g.initialNavigation?Cs(2,[{provide:oa,useValue:0},{provide:r.ip1,multi:!0,deps:[r.zs3],useFactory:w=>{const b=w.get(pe.V_,Promise.resolve());return()=>b.then(()=>new Promise(O=>{const K=w.get(qr),re=w.get(Va);(function Ca(g,w){g.events.pipe((0,Ve.h)(b=>b instanceof Ir||b instanceof ho||b instanceof xr||b instanceof Ii),(0,Se.U)(b=>b instanceof Ir||b instanceof Ii?bs.COMPLETE:b instanceof ho&&(0===b.code||1===b.code)?bs.REDIRECTING:bs.FAILED),(0,Ve.h)(b=>b!==bs.REDIRECTING),Re(1)).subscribe(()=>{w()})})(K,()=>{O(!0)}),w.get(Rn).afterPreactivation=()=>(O(!0),re.closed?(0,q.of)(void 0):re),K.initialNavigation()}))}}]).\u0275providers:[]]}const I=new r.OlP(fs?"Router Initializer":"")},5860:(Ct,H,A)=>{"use strict";A.d(H,{qZ:()=>we,DR:()=>fe,mM:()=>Ko,WG:()=>qi});var r={};A.r(r),A.d(r,{hasBrowserEnv:()=>hn,hasStandardBrowserEnv:()=>Yn,hasStandardBrowserWebWorkerEnv:()=>ei,navigator:()=>kn,origin:()=>mr});var F=A(5861),q=A(8256),$=A(6895);function Q(M,N){return function(){return M.apply(N,arguments)}}const{toString:Y}=Object.prototype,{getPrototypeOf:Z}=Object,G=(M=Object.create(null),N=>{const h=Y.call(N);return M[h]||(M[h]=h.slice(8,-1).toLowerCase())}),J=M=>(M=M.toLowerCase(),N=>G(N)===M),ue=M=>N=>typeof N===M,{isArray:oe}=Array,ce=ue("undefined");var M;const de=J("ArrayBuffer"),xe=ue("string"),se=ue("function"),_e=ue("number"),Ie=M=>null!==M&&"object"==typeof M,tt=M=>{if("object"!==G(M))return!1;const N=Z(M);return!(null!==N&&N!==Object.prototype&&null!==Object.getPrototypeOf(N)||Symbol.toStringTag in M||Symbol.iterator in M)},Ae=J("Date"),vt=J("File"),Le=J("Blob"),Ge=J("FileList"),ct=J("URLSearchParams"),[ze,Ke,ge,pe]=["ReadableStream","Request","Response","Headers"].map(J);function Te(M,N,{allOwnKeys:h=!1}={}){if(null===M||typeof M>"u")return;let T,_;if("object"!=typeof M&&(M=[M]),oe(M))for(T=0,_=M.length;T<_;T++)N.call(null,M[T],T,M);else{const V=h?Object.getOwnPropertyNames(M):Object.keys(M),ee=V.length;let Xe;for(T=0;T<ee;T++)Xe=V[T],N.call(null,M[Xe],Xe,M)}}function Re(M,N){N=N.toLowerCase();const h=Object.keys(M);let _,T=h.length;for(;T-- >0;)if(_=h[T],N===_.toLowerCase())return _;return null}const De=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ve=M=>!ce(M)&&M!==De,cn=(M=>N=>M&&N instanceof M)(typeof Uint8Array<"u"&&Z(Uint8Array)),Et=J("HTMLFormElement"),tn=(({hasOwnProperty:M})=>(N,h)=>M.call(N,h))(Object.prototype),Wt=J("RegExp"),mn=(M,N)=>{const h=Object.getOwnPropertyDescriptors(M),T={};Te(h,(_,V)=>{let ee;!1!==(ee=N(_,V,M))&&(T[V]=ee||_)}),Object.defineProperties(M,T)},Oi="abcdefghijklmnopqrstuvwxyz",er="0123456789",br={DIGIT:er,ALPHA:Oi,ALPHA_DIGIT:Oi+Oi.toUpperCase()+er},Sn=J("AsyncFunction"),Tt=((M,N)=>{return M?setImmediate:N?(h=`axios@${Math.random()}`,T=[],De.addEventListener("message",({source:_,data:V})=>{_===De&&V===h&&T.length&&T.shift()()},!1),_=>{T.push(_),De.postMessage(h,"*")}):h=>setTimeout(h);var h,T})("function"==typeof setImmediate,se(De.postMessage)),xt=typeof queueMicrotask<"u"?queueMicrotask.bind(De):typeof process<"u"&&process.nextTick||Tt,nt={isArray:oe,isArrayBuffer:de,isBuffer:function le(M){return null!==M&&!ce(M)&&null!==M.constructor&&!ce(M.constructor)&&se(M.constructor.isBuffer)&&M.constructor.isBuffer(M)},isFormData:M=>{let N;return M&&("function"==typeof FormData&&M instanceof FormData||se(M.append)&&("formdata"===(N=G(M))||"object"===N&&se(M.toString)&&"[object FormData]"===M.toString()))},isArrayBufferView:function ke(M){let N;return N=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(M):M&&M.buffer&&de(M.buffer),N},isString:xe,isNumber:_e,isBoolean:M=>!0===M||!1===M,isObject:Ie,isPlainObject:tt,isReadableStream:ze,isRequest:Ke,isResponse:ge,isHeaders:pe,isUndefined:ce,isDate:Ae,isFile:vt,isBlob:Le,isRegExp:Wt,isFunction:se,isStream:M=>Ie(M)&&se(M.pipe),isURLSearchParams:ct,isTypedArray:cn,isFileList:Ge,forEach:Te,merge:function Ce(){const{caseless:M}=Ve(this)&&this||{},N={},h=(T,_)=>{const V=M&&Re(N,_)||_;N[V]=tt(N[V])&&tt(T)?Ce(N[V],T):tt(T)?Ce({},T):oe(T)?T.slice():T};for(let T=0,_=arguments.length;T<_;T++)arguments[T]&&Te(arguments[T],h);return N},extend:(M,N,h,{allOwnKeys:T}={})=>(Te(N,(_,V)=>{M[V]=h&&se(_)?Q(_,h):_},{allOwnKeys:T}),M),trim:M=>M.trim?M.trim():M.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:M=>(65279===M.charCodeAt(0)&&(M=M.slice(1)),M),inherits:(M,N,h,T)=>{M.prototype=Object.create(N.prototype,T),M.prototype.constructor=M,Object.defineProperty(M,"super",{value:N.prototype}),h&&Object.assign(M.prototype,h)},toFlatObject:(M,N,h,T)=>{let _,V,ee;const Xe={};if(N=N||{},null==M)return N;do{for(_=Object.getOwnPropertyNames(M),V=_.length;V-- >0;)ee=_[V],(!T||T(ee,M,N))&&!Xe[ee]&&(N[ee]=M[ee],Xe[ee]=!0);M=!1!==h&&Z(M)}while(M&&(!h||h(M,N))&&M!==Object.prototype);return N},kindOf:G,kindOfTest:J,endsWith:(M,N,h)=>{M=String(M),(void 0===h||h>M.length)&&(h=M.length);const T=M.indexOf(N,h-=N.length);return-1!==T&&T===h},toArray:M=>{if(!M)return null;if(oe(M))return M;let N=M.length;if(!_e(N))return null;const h=new Array(N);for(;N-- >0;)h[N]=M[N];return h},forEachEntry:(M,N)=>{const T=(M&&M[Symbol.iterator]).call(M);let _;for(;(_=T.next())&&!_.done;){const V=_.value;N.call(M,V[0],V[1])}},matchAll:(M,N)=>{let h;const T=[];for(;null!==(h=M.exec(N));)T.push(h);return T},isHTMLForm:Et,hasOwnProperty:tn,hasOwnProp:tn,reduceDescriptors:mn,freezeMethods:M=>{mn(M,(N,h)=>{if(se(M)&&-1!==["arguments","caller","callee"].indexOf(h))return!1;if(se(M[h])){if(N.enumerable=!1,"writable"in N)return void(N.writable=!1);N.set||(N.set=()=>{throw Error("Can not rewrite read-only method '"+h+"'")})}})},toObjectSet:(M,N)=>{const h={},T=_=>{_.forEach(V=>{h[V]=!0})};return oe(M)?T(M):T(String(M).split(N)),h},toCamelCase:M=>M.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(h,T,_){return T.toUpperCase()+_}),noop:()=>{},toFiniteNumber:(M,N)=>null!=M&&Number.isFinite(M=+M)?M:N,findKey:Re,global:De,isContextDefined:Ve,ALPHABET:br,generateString:(M=16,N=br.ALPHA_DIGIT)=>{let h="";const{length:T}=N;for(;M--;)h+=N[Math.random()*T|0];return h},isSpecCompliantForm:function Mr(M){return!!(M&&se(M.append)&&"FormData"===M[Symbol.toStringTag]&&M[Symbol.iterator])},toJSONObject:M=>{const N=new Array(10),h=(T,_)=>{if(Ie(T)){if(N.indexOf(T)>=0)return;if(!("toJSON"in T)){N[_]=T;const V=oe(T)?[]:{};return Te(T,(ee,Xe)=>{const Rt=h(ee,_+1);!ce(Rt)&&(V[Xe]=Rt)}),N[_]=void 0,V}}return T};return h(M,0)},isAsyncFn:Sn,isThenable:M=>M&&(Ie(M)||se(M))&&se(M.then)&&se(M.catch),setImmediate:Tt,asap:xt};function ln(M,N,h,T,_){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=M,this.name="AxiosError",N&&(this.code=N),h&&(this.config=h),T&&(this.request=T),_&&(this.response=_,this.status=_.status?_.status:null)}nt.inherits(ln,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:nt.toJSONObject(this.config),code:this.code,status:this.status}}});const sn=ln.prototype,At={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(M=>{At[M]={value:M}}),Object.defineProperties(ln,At),Object.defineProperty(sn,"isAxiosError",{value:!0}),ln.from=(M,N,h,T,_,V)=>{const ee=Object.create(sn);return nt.toFlatObject(M,ee,function(Rt){return Rt!==Error.prototype},Xe=>"isAxiosError"!==Xe),ln.call(ee,M.message,N,h,T,_),ee.cause=M,ee.name=M.name,V&&Object.assign(ee,V),ee};const lt=ln;function Nn(M){return nt.isPlainObject(M)||nt.isArray(M)}function Di(M){return nt.endsWith(M,"[]")?M.slice(0,-2):M}function Kn(M,N,h){return M?M.concat(N).map(function(_,V){return _=Di(_),!h&&V?"["+_+"]":_}).join(h?".":""):N}const Qi=nt.toFlatObject(nt,{},null,function(N){return/^is[A-Z]/.test(N)}),bt=function Zt(M,N,h){if(!nt.isObject(M))throw new TypeError("target must be an object");N=N||new FormData;const T=(h=nt.toFlatObject(h,{metaTokens:!0,dots:!1,indexes:!1},!1,function(nr,li){return!nt.isUndefined(li[nr])})).metaTokens,_=h.visitor||Jt,V=h.dots,ee=h.indexes,Rt=(h.Blob||typeof Blob<"u"&&Blob)&&nt.isSpecCompliantForm(N);if(!nt.isFunction(_))throw new TypeError("visitor must be a function");function Bt(mi){if(null===mi)return"";if(nt.isDate(mi))return mi.toISOString();if(!Rt&&nt.isBlob(mi))throw new lt("Blob is not supported. Use a Buffer instead.");return nt.isArrayBuffer(mi)||nt.isTypedArray(mi)?Rt&&"function"==typeof Blob?new Blob([mi]):Buffer.from(mi):mi}function Jt(mi,nr,li){let vo=mi;if(mi&&!li&&"object"==typeof mi)if(nt.endsWith(nr,"{}"))nr=T?nr:nr.slice(0,-2),mi=JSON.stringify(mi);else if(nt.isArray(mi)&&function lr(M){return nt.isArray(M)&&!M.some(Nn)}(mi)||(nt.isFileList(mi)||nt.endsWith(nr,"[]"))&&(vo=nt.toArray(mi)))return nr=Di(nr),vo.forEach(function(gr,So){!nt.isUndefined(gr)&&null!==gr&&N.append(!0===ee?Kn([nr],So,V):null===ee?nr:nr+"[]",Bt(gr))}),!1;return!!Nn(mi)||(N.append(Kn(li,nr,V),Bt(mi)),!1)}const zn=[],fi=Object.assign(Qi,{defaultVisitor:Jt,convertValue:Bt,isVisitable:Nn});if(!nt.isObject(M))throw new TypeError("data must be an object");return function Ei(mi,nr){if(!nt.isUndefined(mi)){if(-1!==zn.indexOf(mi))throw Error("Circular reference detected in "+nr.join("."));zn.push(mi),nt.forEach(mi,function(vo,io){!0===(!(nt.isUndefined(vo)||null===vo)&&_.call(N,vo,nt.isString(io)?io.trim():io,nr,fi))&&Ei(vo,nr?nr.concat(io):[io])}),zn.pop()}}(M),N};function kt(M){const N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(M).replace(/[!'()~]|%20|%00/g,function(T){return N[T]})}function vn(M,N){this._pairs=[],M&&bt(M,this,N)}const yn=vn.prototype;yn.append=function(N,h){this._pairs.push([N,h])},yn.toString=function(N){const h=N?function(T){return N.call(this,T,kt)}:kt;return this._pairs.map(function(_){return h(_[0])+"="+h(_[1])},"").join("&")};const Vt=vn;function ai(M){return encodeURIComponent(M).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function si(M,N,h){if(!N)return M;const T=h&&h.encode||ai,_=h&&h.serialize;let V;if(V=_?_(N,h):nt.isURLSearchParams(N)?N.toString():new Vt(N,h).toString(T),V){const ee=M.indexOf("#");-1!==ee&&(M=M.slice(0,ee)),M+=(-1===M.indexOf("?")?"?":"&")+V}return M}const Xi=class Jn{constructor(){this.handlers=[]}use(N,h,T){return this.handlers.push({fulfilled:N,rejected:h,synchronous:!!T&&T.synchronous,runWhen:T?T.runWhen:null}),this.handlers.length-1}eject(N){this.handlers[N]&&(this.handlers[N]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(N){nt.forEach(this.handlers,function(T){null!==T&&N(T)})}},tr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yt={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:Vt,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},hn=typeof window<"u"&&typeof document<"u",kn="object"==typeof navigator&&navigator||void 0,Yn=hn&&(!kn||["ReactNative","NativeScript","NS"].indexOf(kn.product)<0),ei=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,mr=hn&&window.location.href||"http://localhost",rr={...r,...Yt},go=function Fr(M){function N(h,T,_,V){let ee=h[V++];if("__proto__"===ee)return!0;const Xe=Number.isFinite(+ee),Rt=V>=h.length;return ee=!ee&&nt.isArray(_)?_.length:ee,Rt?(_[ee]=nt.hasOwnProp(_,ee)?[_[ee],T]:T,!Xe):((!_[ee]||!nt.isObject(_[ee]))&&(_[ee]=[]),N(h,T,_[ee],V)&&nt.isArray(_[ee])&&(_[ee]=function Rr(M){const N={},h=Object.keys(M);let T;const _=h.length;let V;for(T=0;T<_;T++)V=h[T],N[V]=M[V];return N}(_[ee])),!Xe)}if(nt.isFormData(M)&&nt.isFunction(M.entries)){const h={};return nt.forEachEntry(M,(T,_)=>{N(function Zi(M){return nt.matchAll(/\w+|\[(\w*)]/g,M).map(N=>"[]"===N[0]?"":N[1]||N[0])}(T),_,h,0)}),h}return null},hr={transitional:tr,adapter:["xhr","http","fetch"],transformRequest:[function(N,h){const T=h.getContentType()||"",_=T.indexOf("application/json")>-1,V=nt.isObject(N);if(V&&nt.isHTMLForm(N)&&(N=new FormData(N)),nt.isFormData(N))return _?JSON.stringify(go(N)):N;if(nt.isArrayBuffer(N)||nt.isBuffer(N)||nt.isStream(N)||nt.isFile(N)||nt.isBlob(N)||nt.isReadableStream(N))return N;if(nt.isArrayBufferView(N))return N.buffer;if(nt.isURLSearchParams(N))return h.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),N.toString();let Xe;if(V){if(T.indexOf("application/x-www-form-urlencoded")>-1)return function Hi(M,N){return bt(M,new rr.classes.URLSearchParams,Object.assign({visitor:function(h,T,_,V){return rr.isNode&&nt.isBuffer(h)?(this.append(T,h.toString("base64")),!1):V.defaultVisitor.apply(this,arguments)}},N))}(N,this.formSerializer).toString();if((Xe=nt.isFileList(N))||T.indexOf("multipart/form-data")>-1){const Rt=this.env&&this.env.FormData;return bt(Xe?{"files[]":N}:N,Rt&&new Rt,this.formSerializer)}}return V||_?(h.setContentType("application/json",!1),function Do(M,N,h){if(nt.isString(M))try{return(N||JSON.parse)(M),nt.trim(M)}catch(T){if("SyntaxError"!==T.name)throw T}return(h||JSON.stringify)(M)}(N)):N}],transformResponse:[function(N){const h=this.transitional||hr.transitional,T=h&&h.forcedJSONParsing,_="json"===this.responseType;if(nt.isResponse(N)||nt.isReadableStream(N))return N;if(N&&nt.isString(N)&&(T&&!this.responseType||_)){const ee=!(h&&h.silentJSONParsing)&&_;try{return JSON.parse(N)}catch(Xe){if(ee)throw"SyntaxError"===Xe.name?lt.from(Xe,lt.ERR_BAD_RESPONSE,this,null,this.response):Xe}}return N}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rr.classes.FormData,Blob:rr.classes.Blob},validateStatus:function(N){return N>=200&&N<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};nt.forEach(["delete","get","head","post","put","patch"],M=>{hr.headers[M]={}});const Nr=hr,Ki=nt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lo=Symbol("internals");function no(M){return M&&String(M).trim().toLowerCase()}function Gr(M){return!1===M||null==M?M:nt.isArray(M)?M.map(Gr):String(M)}function Bi(M,N,h,T,_){if(nt.isFunction(T))return T.call(this,N,h);if(_&&(N=h),nt.isString(N)){if(nt.isString(T))return-1!==N.indexOf(T);if(nt.isRegExp(T))return T.test(N)}}class kr{constructor(N){N&&this.set(N)}set(N,h,T){const _=this;function V(Xe,Rt,Bt){const Jt=no(Rt);if(!Jt)throw new Error("header name must be a non-empty string");const zn=nt.findKey(_,Jt);(!zn||void 0===_[zn]||!0===Bt||void 0===Bt&&!1!==_[zn])&&(_[zn||Rt]=Gr(Xe))}const ee=(Xe,Rt)=>nt.forEach(Xe,(Bt,Jt)=>V(Bt,Jt,Rt));if(nt.isPlainObject(N)||N instanceof this.constructor)ee(N,h);else if(nt.isString(N)&&(N=N.trim())&&!(M=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(M.trim()))(N))ee((M=>{const N={};let h,T,_;return M&&M.split("\n").forEach(function(ee){_=ee.indexOf(":"),h=ee.substring(0,_).trim().toLowerCase(),T=ee.substring(_+1).trim(),!(!h||N[h]&&Ki[h])&&("set-cookie"===h?N[h]?N[h].push(T):N[h]=[T]:N[h]=N[h]?N[h]+", "+T:T)}),N})(N),h);else if(nt.isHeaders(N))for(const[Xe,Rt]of N.entries())V(Rt,Xe,T);else null!=N&&V(h,N,T);return this}get(N,h){if(N=no(N)){const T=nt.findKey(this,N);if(T){const _=this[T];if(!h)return _;if(!0===h)return function uo(M){const N=Object.create(null),h=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let T;for(;T=h.exec(M);)N[T[1]]=T[2];return N}(_);if(nt.isFunction(h))return h.call(this,_,T);if(nt.isRegExp(h))return h.exec(_);throw new TypeError("parser must be boolean|regexp|function")}}}has(N,h){if(N=no(N)){const T=nt.findKey(this,N);return!(!T||void 0===this[T]||h&&!Bi(0,this[T],T,h))}return!1}delete(N,h){const T=this;let _=!1;function V(ee){if(ee=no(ee)){const Xe=nt.findKey(T,ee);Xe&&(!h||Bi(0,T[Xe],Xe,h))&&(delete T[Xe],_=!0)}}return nt.isArray(N)?N.forEach(V):V(N),_}clear(N){const h=Object.keys(this);let T=h.length,_=!1;for(;T--;){const V=h[T];(!N||Bi(0,this[V],V,N,!0))&&(delete this[V],_=!0)}return _}normalize(N){const h=this,T={};return nt.forEach(this,(_,V)=>{const ee=nt.findKey(T,V);if(ee)return h[ee]=Gr(_),void delete h[V];const Xe=N?function _i(M){return M.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(N,h,T)=>h.toUpperCase()+T)}(V):String(V).trim();Xe!==V&&delete h[V],h[Xe]=Gr(_),T[Xe]=!0}),this}concat(...N){return this.constructor.concat(this,...N)}toJSON(N){const h=Object.create(null);return nt.forEach(this,(T,_)=>{null!=T&&!1!==T&&(h[_]=N&&nt.isArray(T)?T.join(", "):T)}),h}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([N,h])=>N+": "+h).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(N){return N instanceof this?N:new this(N)}static concat(N,...h){const T=new this(N);return h.forEach(_=>T.set(_)),T}static accessor(N){const T=(this[lo]=this[lo]={accessors:{}}).accessors,_=this.prototype;function V(ee){const Xe=no(ee);T[Xe]||(function di(M,N){const h=nt.toCamelCase(" "+N);["get","set","has"].forEach(T=>{Object.defineProperty(M,T+h,{value:function(_,V,ee){return this[T].call(this,N,_,V,ee)},configurable:!0})})}(_,ee),T[Xe]=!0)}return nt.isArray(N)?N.forEach(V):V(N),this}}kr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),nt.reduceDescriptors(kr.prototype,({value:M},N)=>{let h=N[0].toUpperCase()+N.slice(1);return{get:()=>M,set(T){this[h]=T}}}),nt.freezeMethods(kr);const Er=kr;function oo(M,N){const h=this||Nr,T=N||h,_=Er.from(T.headers);let V=T.data;return nt.forEach(M,function(Xe){V=Xe.call(h,V,_.normalize(),N?N.status:void 0)}),_.normalize(),V}function Ye(M){return!(!M||!M.__CANCEL__)}function Je(M,N,h){lt.call(this,M??"canceled",lt.ERR_CANCELED,N,h),this.name="CanceledError"}nt.inherits(Je,lt,{__CANCEL__:!0});const dt=Je;function Lt(M,N,h){const T=h.config.validateStatus;h.status&&T&&!T(h.status)?N(new lt("Request failed with status code "+h.status,[lt.ERR_BAD_REQUEST,lt.ERR_BAD_RESPONSE][Math.floor(h.status/100)-4],h.config,h.request,h)):M(h)}const an=(M,N,h=3)=>{let T=0;const _=function ot(M,N){M=M||10;const h=new Array(M),T=new Array(M);let ee,_=0,V=0;return N=void 0!==N?N:1e3,function(Rt){const Bt=Date.now(),Jt=T[V];ee||(ee=Bt),h[_]=Rt,T[_]=Bt;let zn=V,fi=0;for(;zn!==_;)fi+=h[zn++],zn%=M;if(_=(_+1)%M,_===V&&(V=(V+1)%M),Bt-ee<N)return;const Ei=Jt&&Bt-Jt;return Ei?Math.round(1e3*fi/Ei):void 0}}(50,250);return function zt(M,N){let _,V,h=0,T=1e3/N;const ee=(Bt,Jt=Date.now())=>{h=Jt,_=null,V&&(clearTimeout(V),V=null),M.apply(null,Bt)};return[(...Bt)=>{const Jt=Date.now(),zn=Jt-h;zn>=T?ee(Bt,Jt):(_=Bt,V||(V=setTimeout(()=>{V=null,ee(_)},T-zn)))},()=>_&&ee(_)]}(V=>{const ee=V.loaded,Xe=V.lengthComputable?V.total:void 0,Rt=ee-T,Bt=_(Rt);T=ee,M({loaded:ee,total:Xe,progress:Xe?ee/Xe:void 0,bytes:Rt,rate:Bt||void 0,estimated:Bt&&Xe&&ee<=Xe?(Xe-ee)/Bt:void 0,event:V,lengthComputable:null!=Xe,[N?"download":"upload"]:!0})},h)},Hn=(M,N)=>{const h=null!=M;return[T=>N[0]({lengthComputable:h,total:M,loaded:T}),N[1]]},ii=M=>(...N)=>nt.asap(()=>M(...N)),In=rr.hasStandardBrowserEnv?function(){const N=rr.navigator&&/(msie|trident)/i.test(rr.navigator.userAgent),h=document.createElement("a");let T;function _(V){let ee=V;return N&&(h.setAttribute("href",ee),ee=h.href),h.setAttribute("href",ee),{href:h.href,protocol:h.protocol?h.protocol.replace(/:$/,""):"",host:h.host,search:h.search?h.search.replace(/^\?/,""):"",hash:h.hash?h.hash.replace(/^#/,""):"",hostname:h.hostname,port:h.port,pathname:"/"===h.pathname.charAt(0)?h.pathname:"/"+h.pathname}}return T=_(window.location.href),function(ee){const Xe=nt.isString(ee)?_(ee):ee;return Xe.protocol===T.protocol&&Xe.host===T.host}}():function(){return!0},$i=rr.hasStandardBrowserEnv?{write(M,N,h,T,_,V){const ee=[M+"="+encodeURIComponent(N)];nt.isNumber(h)&&ee.push("expires="+new Date(h).toGMTString()),nt.isString(T)&&ee.push("path="+T),nt.isString(_)&&ee.push("domain="+_),!0===V&&ee.push("secure"),document.cookie=ee.join("; ")},read(M){const N=document.cookie.match(new RegExp("(^|;\\s*)("+M+")=([^;]*)"));return N?decodeURIComponent(N[3]):null},remove(M){this.write(M,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ii(M,N){return M&&!function Ir(M){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(M)}(N)?function ho(M,N){return N?M.replace(/\/?\/$/,"")+"/"+N.replace(/^\/+/,""):M}(M,N):N}const xr=M=>M instanceof Er?{...M}:M;function fr(M,N){N=N||{};const h={};function T(Bt,Jt,zn){return nt.isPlainObject(Bt)&&nt.isPlainObject(Jt)?nt.merge.call({caseless:zn},Bt,Jt):nt.isPlainObject(Jt)?nt.merge({},Jt):nt.isArray(Jt)?Jt.slice():Jt}function _(Bt,Jt,zn){return nt.isUndefined(Jt)?nt.isUndefined(Bt)?void 0:T(void 0,Bt,zn):T(Bt,Jt,zn)}function V(Bt,Jt){if(!nt.isUndefined(Jt))return T(void 0,Jt)}function ee(Bt,Jt){return nt.isUndefined(Jt)?nt.isUndefined(Bt)?void 0:T(void 0,Bt):T(void 0,Jt)}function Xe(Bt,Jt,zn){return zn in N?T(Bt,Jt):zn in M?T(void 0,Bt):void 0}const Rt={url:V,method:V,data:V,baseURL:ee,transformRequest:ee,transformResponse:ee,paramsSerializer:ee,timeout:ee,timeoutMessage:ee,withCredentials:ee,withXSRFToken:ee,adapter:ee,responseType:ee,xsrfCookieName:ee,xsrfHeaderName:ee,onUploadProgress:ee,onDownloadProgress:ee,decompress:ee,maxContentLength:ee,maxBodyLength:ee,beforeRedirect:ee,transport:ee,httpAgent:ee,httpsAgent:ee,cancelToken:ee,socketPath:ee,responseEncoding:ee,validateStatus:Xe,headers:(Bt,Jt)=>_(xr(Bt),xr(Jt),!0)};return nt.forEach(Object.keys(Object.assign({},M,N)),function(Jt){const zn=Rt[Jt]||_,fi=zn(M[Jt],N[Jt],Jt);nt.isUndefined(fi)&&zn!==Xe||(h[Jt]=fi)}),h}const Kr=M=>{const N=fr({},M);let Rt,{data:h,withXSRFToken:T,xsrfHeaderName:_,xsrfCookieName:V,headers:ee,auth:Xe}=N;if(N.headers=ee=Er.from(ee),N.url=si(Ii(N.baseURL,N.url),M.params,M.paramsSerializer),Xe&&ee.set("Authorization","Basic "+btoa((Xe.username||"")+":"+(Xe.password?unescape(encodeURIComponent(Xe.password)):""))),nt.isFormData(h))if(rr.hasStandardBrowserEnv||rr.hasStandardBrowserWebWorkerEnv)ee.setContentType(void 0);else if(!1!==(Rt=ee.getContentType())){const[Bt,...Jt]=Rt?Rt.split(";").map(zn=>zn.trim()).filter(Boolean):[];ee.setContentType([Bt||"multipart/form-data",...Jt].join("; "))}if(rr.hasStandardBrowserEnv&&(T&&nt.isFunction(T)&&(T=T(N)),T||!1!==T&&In(N.url))){const Bt=_&&V&&$i.read(V);Bt&&ee.set(_,Bt)}return N},Po=typeof XMLHttpRequest<"u"&&function(M){return new Promise(function(h,T){const _=Kr(M);let V=_.data;const ee=Er.from(_.headers).normalize();let Jt,zn,fi,Ei,mi,{responseType:Xe,onUploadProgress:Rt,onDownloadProgress:Bt}=_;function nr(){Ei&&Ei(),mi&&mi(),_.cancelToken&&_.cancelToken.unsubscribe(Jt),_.signal&&_.signal.removeEventListener("abort",Jt)}let li=new XMLHttpRequest;function vo(){if(!li)return;const gr=Er.from("getAllResponseHeaders"in li&&li.getAllResponseHeaders());Lt(function(To){h(To),nr()},function(To){T(To),nr()},{data:Xe&&"text"!==Xe&&"json"!==Xe?li.response:li.responseText,status:li.status,statusText:li.statusText,headers:gr,config:M,request:li}),li=null}li.open(_.method.toUpperCase(),_.url,!0),li.timeout=_.timeout,"onloadend"in li?li.onloadend=vo:li.onreadystatechange=function(){!li||4!==li.readyState||0===li.status&&(!li.responseURL||0!==li.responseURL.indexOf("file:"))||setTimeout(vo)},li.onabort=function(){li&&(T(new lt("Request aborted",lt.ECONNABORTED,M,li)),li=null)},li.onerror=function(){T(new lt("Network Error",lt.ERR_NETWORK,M,li)),li=null},li.ontimeout=function(){let So=_.timeout?"timeout of "+_.timeout+"ms exceeded":"timeout exceeded";_.timeoutErrorMessage&&(So=_.timeoutErrorMessage),T(new lt(So,(_.transitional||tr).clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,M,li)),li=null},void 0===V&&ee.setContentType(null),"setRequestHeader"in li&&nt.forEach(ee.toJSON(),function(So,qo){li.setRequestHeader(qo,So)}),nt.isUndefined(_.withCredentials)||(li.withCredentials=!!_.withCredentials),Xe&&"json"!==Xe&&(li.responseType=_.responseType),Bt&&([fi,mi]=an(Bt,!0),li.addEventListener("progress",fi)),Rt&&li.upload&&([zn,Ei]=an(Rt),li.upload.addEventListener("progress",zn),li.upload.addEventListener("loadend",Ei)),(_.cancelToken||_.signal)&&(Jt=gr=>{li&&(T(!gr||gr.type?new dt(null,M,li):gr),li.abort(),li=null)},_.cancelToken&&_.cancelToken.subscribe(Jt),_.signal&&(_.signal.aborted?Jt():_.signal.addEventListener("abort",Jt)));const io=function Qt(M){const N=/^([-+\w]{1,25})(:?\/\/|:)/.exec(M);return N&&N[1]||""}(_.url);io&&-1===rr.protocols.indexOf(io)?T(new lt("Unsupported protocol "+io+":",lt.ERR_BAD_REQUEST,M)):li.send(V||null)})},zr=(M,N)=>{const{length:h}=M=M?M.filter(Boolean):[];if(N||h){let _,T=new AbortController;const V=function(Bt){if(!_){_=!0,Xe();const Jt=Bt instanceof Error?Bt:this.reason;T.abort(Jt instanceof lt?Jt:new dt(Jt instanceof Error?Jt.message:Jt))}};let ee=N&&setTimeout(()=>{ee=null,V(new lt(`timeout ${N} of ms exceeded`,lt.ETIMEDOUT))},N);const Xe=()=>{M&&(ee&&clearTimeout(ee),ee=null,M.forEach(Bt=>{Bt.unsubscribe?Bt.unsubscribe(V):Bt.removeEventListener("abort",V)}),M=null)};M.forEach(Bt=>Bt.addEventListener("abort",V));const{signal:Rt}=T;return Rt.unsubscribe=()=>nt.asap(Xe),Rt}};function Vi(M,N){this.v=M,this.k=N}function He(M){var N,h;function T(V,ee){try{var Xe=M[V](ee),Rt=Xe.value,Bt=Rt instanceof Vi;Promise.resolve(Bt?Rt.v:Rt).then(function(Jt){if(Bt){var zn="return"===V?"return":"next";if(!Rt.k||Jt.done)return T(zn,Jt);Jt=M[zn](Jt).value}_(Xe.done?"return":"normal",Jt)},function(Jt){T("throw",Jt)})}catch(Jt){_("throw",Jt)}}function _(V,ee){switch(V){case"return":N.resolve({value:ee,done:!0});break;case"throw":N.reject(ee);break;default:N.resolve({value:ee,done:!1})}(N=N.next)?T(N.key,N.arg):h=null}this._invoke=function(V,ee){return new Promise(function(Xe,Rt){var Bt={key:V,arg:ee,resolve:Xe,reject:Rt,next:null};h?h=h.next=Bt:(N=h=Bt,T(V,ee))})},"function"!=typeof M.return&&(this.return=void 0)}function st(M){return function(){return new He(M.apply(this,arguments))}}function wt(M){return new Vi(M,0)}function $t(M){var N={},h=!1;function T(_,V){return h=!0,{done:!1,value:new Vi(V=new Promise(function(ee){ee(M[_](V))}),1)}}return N[typeof Symbol<"u"&&Symbol.iterator||"@@iterator"]=function(){return this},N.next=function(_){return h?(h=!1,_):T("next",_)},"function"==typeof M.throw&&(N.throw=function(_){if(h)throw h=!1,_;return T("throw",_)}),"function"==typeof M.return&&(N.return=function(_){return h?(h=!1,_):T("return",_)}),N}function Gt(M){var N,h,T,_=2;for(typeof Symbol<"u"&&(h=Symbol.asyncIterator,T=Symbol.iterator);_--;){if(h&&null!=(N=M[h]))return N.call(M);if(T&&null!=(N=M[T]))return new un(N.call(M));h="@@asyncIterator",T="@@iterator"}throw new TypeError("Object is not async iterable")}function un(M){function N(h){if(Object(h)!==h)return Promise.reject(new TypeError(h+" is not an object."));var T=h.done;return Promise.resolve(h.value).then(function(_){return{value:_,done:T}})}return(un=function(T){this.s=T,this.n=T.next}).prototype={s:null,n:null,next:function(){return N(this.n.apply(this.s,arguments))},return:function(T){var _=this.s.return;return void 0===_?Promise.resolve({value:T,done:!0}):N(_.apply(this.s,arguments))},throw:function(T){var _=this.s.return;return void 0===_?Promise.reject(T):N(_.apply(this.s,arguments))}},new un(M)}He.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},He.prototype.next=function(M){return this._invoke("next",M)},He.prototype.throw=function(M){return this._invoke("throw",M)},He.prototype.return=function(M){return this._invoke("return",M)};const Ln=function*(M,N){let h=M.byteLength;if(!N||h<N)return void(yield M);let _,T=0;for(;T<h;)_=T+N,yield M.slice(T,_),T=_},Tn=function(){var M=st(function*(N,h){var V,T=!1,_=!1;try{for(var Xe,ee=Gt(Vn(N));T=!(Xe=yield wt(ee.next())).done;T=!1){const Rt=Xe.value;yield*$t(Gt(Ln(Rt,h)))}}catch(Rt){_=!0,V=Rt}finally{try{T&&null!=ee.return&&(yield wt(ee.return()))}finally{if(_)throw V}}});return function(h,T){return M.apply(this,arguments)}}(),Vn=function(){var M=st(function*(N){if(N[Symbol.asyncIterator])return void(yield*$t(Gt(N)));const h=N.getReader();try{for(;;){const{done:T,value:_}=yield wt(h.read());if(T)break;yield _}}finally{yield wt(h.cancel())}});return function(h){return M.apply(this,arguments)}}(),wn=(M,N,h,T)=>{const _=Tn(M,N);let ee,V=0,Xe=Rt=>{ee||(ee=!0,T&&T(Rt))};return new ReadableStream({pull:Rt=>(0,F.Z)(function*(){try{const{done:Bt,value:Jt}=yield _.next();if(Bt)return Xe(),void Rt.close();if(h){let fi=V+=Jt.byteLength;h(fi)}Rt.enqueue(new Uint8Array(Jt))}catch(Bt){throw Xe(Bt),Bt}})(),cancel:Rt=>(Xe(Rt),_.return())},{highWaterMark:2})},oi="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Gi=oi&&"function"==typeof ReadableStream,vi=oi&&("function"==typeof TextEncoder?(M=>N=>M.encode(N))(new TextEncoder):function(){var M=(0,F.Z)(function*(N){return new Uint8Array(yield new Response(N).arrayBuffer())});return function(N){return M.apply(this,arguments)}}()),gi=(M,...N)=>{try{return!!M(...N)}catch{return!1}},Sr=Gi&&gi(()=>{let M=!1;const N=new Request(rr.origin,{body:new ReadableStream,method:"POST",get duplex(){return M=!0,"half"}}).headers.has("Content-Type");return M&&!N}),or=Gi&&gi(()=>nt.isReadableStream(new Response("").body)),Cr={stream:or&&(M=>M.body)};oi&&(M=>{["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!Cr[N]&&(Cr[N]=nt.isFunction(M[N])?h=>h[N]():(h,T)=>{throw new lt(`Response type '${N}' is not supported`,lt.ERR_NOT_SUPPORT,T)})})})(new Response);const yi=function(){var M=(0,F.Z)(function*(N){return null==N?0:nt.isBlob(N)?N.size:nt.isSpecCompliantForm(N)?(yield new Request(rr.origin,{method:"POST",body:N}).arrayBuffer()).byteLength:nt.isArrayBufferView(N)||nt.isArrayBuffer(N)?N.byteLength:(nt.isURLSearchParams(N)&&(N+=""),nt.isString(N)?(yield vi(N)).byteLength:void 0)});return function(h){return M.apply(this,arguments)}}(),yr=function(){var M=(0,F.Z)(function*(N,h){return nt.toFiniteNumber(N.getContentLength())??yi(h)});return function(h,T){return M.apply(this,arguments)}}(),Li={http:null,xhr:Po,fetch:oi&&function(){var M=(0,F.Z)(function*(N){let{url:h,method:T,data:_,signal:V,cancelToken:ee,timeout:Xe,onDownloadProgress:Rt,onUploadProgress:Bt,responseType:Jt,headers:zn,withCredentials:fi="same-origin",fetchOptions:Ei}=Kr(N);Jt=Jt?(Jt+"").toLowerCase():"text";let nr,mi=zr([V,ee&&ee.toAbortSignal()],Xe);const li=mi&&mi.unsubscribe&&(()=>{mi.unsubscribe()});let vo;try{if(Bt&&Sr&&"get"!==T&&"head"!==T&&0!==(vo=yield yr(zn,_))){let To,ko=new Request(h,{method:"POST",body:_,duplex:"half"});if(nt.isFormData(_)&&(To=ko.headers.get("content-type"))&&zn.setContentType(To),ko.body){const[ds,Jo]=Hn(vo,an(ii(Bt)));_=wn(ko.body,65536,ds,Jo)}}nt.isString(fi)||(fi=fi?"include":"omit");const io="credentials"in Request.prototype;nr=new Request(h,{...Ei,signal:mi,method:T.toUpperCase(),headers:zn.normalize().toJSON(),body:_,duplex:"half",credentials:io?fi:void 0});let gr=yield fetch(nr);const So=or&&("stream"===Jt||"response"===Jt);if(or&&(Rt||So&&li)){const ko={};["status","statusText","headers"].forEach(as=>{ko[as]=gr[as]});const To=nt.toFiniteNumber(gr.headers.get("content-length")),[ds,Jo]=Rt&&Hn(To,an(ii(Rt),!0))||[];gr=new Response(wn(gr.body,65536,ds,()=>{Jo&&Jo(),li&&li()}),ko)}Jt=Jt||"text";let qo=yield Cr[nt.findKey(Cr,Jt)||"text"](gr,N);return!So&&li&&li(),yield new Promise((ko,To)=>{Lt(ko,To,{data:qo,headers:Er.from(gr.headers),status:gr.status,statusText:gr.statusText,config:N,request:nr})})}catch(io){throw li&&li(),io&&"TypeError"===io.name&&/fetch/i.test(io.message)?Object.assign(new lt("Network Error",lt.ERR_NETWORK,N,nr),{cause:io.cause||io}):lt.from(io,io&&io.code,N,nr)}});return function(N){return M.apply(this,arguments)}}()};nt.forEach(Li,(M,N)=>{if(M){try{Object.defineProperty(M,"name",{value:N})}catch{}Object.defineProperty(M,"adapterName",{value:N})}});const Ar=M=>`- ${M}`,Wr=M=>nt.isFunction(M)||null===M||!1===M,pr={getAdapter:M=>{M=nt.isArray(M)?M:[M];const{length:N}=M;let h,T;const _={};for(let V=0;V<N;V++){let ee;if(h=M[V],T=h,!Wr(h)&&(T=Li[(ee=String(h)).toLowerCase()],void 0===T))throw new lt(`Unknown adapter '${ee}'`);if(T)break;_[ee||"#"+V]=T}if(!T){const V=Object.entries(_).map(([Xe,Rt])=>`adapter ${Xe} `+(!1===Rt?"is not supported by the environment":"is not available in the build"));let ee=N?V.length>1?"since :\n"+V.map(Ar).join("\n"):" "+Ar(V[0]):"as no adapter specified";throw new lt("There is no suitable adapter to dispatch the request "+ee,"ERR_NOT_SUPPORT")}return T},adapters:Li};function so(M){if(M.cancelToken&&M.cancelToken.throwIfRequested(),M.signal&&M.signal.aborted)throw new dt(null,M)}function mo(M){return so(M),M.headers=Er.from(M.headers),M.data=oo.call(M,M.transformRequest),-1!==["post","put","patch"].indexOf(M.method)&&M.headers.setContentType("application/x-www-form-urlencoded",!1),pr.getAdapter(M.adapter||Nr.adapter)(M).then(function(T){return so(M),T.data=oo.call(M,M.transformResponse,T),T.headers=Er.from(T.headers),T},function(T){return Ye(T)||(so(M),T&&T.response&&(T.response.data=oo.call(M,M.transformResponse,T.response),T.response.headers=Er.from(T.response.headers))),Promise.reject(T)})}const yo="1.7.7",_o={};["object","boolean","number","function","string","symbol"].forEach((M,N)=>{_o[M]=function(T){return typeof T===M||"a"+(N<1?"n ":" ")+M}});const Jr={};_o.transitional=function(N,h,T){function _(V,ee){return"[Axios v"+yo+"] Transitional option '"+V+"'"+ee+(T?". "+T:"")}return(V,ee,Xe)=>{if(!1===N)throw new lt(_(ee," has been removed"+(h?" in "+h:"")),lt.ERR_DEPRECATED);return h&&!Jr[ee]&&(Jr[ee]=!0,console.warn(_(ee," has been deprecated since v"+h+" and will be removed in the near future"))),!N||N(V,ee,Xe)}};const bo={assertOptions:function Ti(M,N,h){if("object"!=typeof M)throw new lt("options must be an object",lt.ERR_BAD_OPTION_VALUE);const T=Object.keys(M);let _=T.length;for(;_-- >0;){const V=T[_],ee=N[V];if(ee){const Xe=M[V],Rt=void 0===Xe||ee(Xe,V,M);if(!0!==Rt)throw new lt("option "+V+" must be "+Rt,lt.ERR_BAD_OPTION_VALUE)}else if(!0!==h)throw new lt("Unknown option "+V,lt.ERR_BAD_OPTION)}},validators:_o},Dr=bo.validators;class co{constructor(N){this.defaults=N,this.interceptors={request:new Xi,response:new Xi}}request(N,h){var T=this;return(0,F.Z)(function*(){try{return yield T._request(N,h)}catch(_){if(_ instanceof Error){let V;Error.captureStackTrace?Error.captureStackTrace(V={}):V=new Error;const ee=V.stack?V.stack.replace(/^.+\n/,""):"";try{_.stack?ee&&!String(_.stack).endsWith(ee.replace(/^.+\n.+\n/,""))&&(_.stack+="\n"+ee):_.stack=ee}catch{}}throw _}})()}_request(N,h){"string"==typeof N?(h=h||{}).url=N:h=N||{},h=fr(this.defaults,h);const{transitional:T,paramsSerializer:_,headers:V}=h;void 0!==T&&bo.assertOptions(T,{silentJSONParsing:Dr.transitional(Dr.boolean),forcedJSONParsing:Dr.transitional(Dr.boolean),clarifyTimeoutError:Dr.transitional(Dr.boolean)},!1),null!=_&&(nt.isFunction(_)?h.paramsSerializer={serialize:_}:bo.assertOptions(_,{encode:Dr.function,serialize:Dr.function},!0)),h.method=(h.method||this.defaults.method||"get").toLowerCase();let ee=V&&nt.merge(V.common,V[h.method]);V&&nt.forEach(["delete","get","head","post","put","patch","common"],mi=>{delete V[mi]}),h.headers=Er.concat(ee,V);const Xe=[];let Rt=!0;this.interceptors.request.forEach(function(nr){"function"==typeof nr.runWhen&&!1===nr.runWhen(h)||(Rt=Rt&&nr.synchronous,Xe.unshift(nr.fulfilled,nr.rejected))});const Bt=[];this.interceptors.response.forEach(function(nr){Bt.push(nr.fulfilled,nr.rejected)});let Jt,fi,zn=0;if(!Rt){const mi=[mo.bind(this),void 0];for(mi.unshift.apply(mi,Xe),mi.push.apply(mi,Bt),fi=mi.length,Jt=Promise.resolve(h);zn<fi;)Jt=Jt.then(mi[zn++],mi[zn++]);return Jt}fi=Xe.length;let Ei=h;for(zn=0;zn<fi;){const mi=Xe[zn++],nr=Xe[zn++];try{Ei=mi(Ei)}catch(li){nr.call(this,li);break}}try{Jt=mo.call(this,Ei)}catch(mi){return Promise.reject(mi)}for(zn=0,fi=Bt.length;zn<fi;)Jt=Jt.then(Bt[zn++],Bt[zn++]);return Jt}getUri(N){return si(Ii((N=fr(this.defaults,N)).baseURL,N.url),N.params,N.paramsSerializer)}}nt.forEach(["delete","get","head","options"],function(N){co.prototype[N]=function(h,T){return this.request(fr(T||{},{method:N,url:h,data:(T||{}).data}))}}),nt.forEach(["post","put","patch"],function(N){function h(T){return function(V,ee,Xe){return this.request(fr(Xe||{},{method:N,headers:T?{"Content-Type":"multipart/form-data"}:{},url:V,data:ee}))}}co.prototype[N]=h(),co.prototype[N+"Form"]=h(!0)});const Yr=co;class Ao{constructor(N){if("function"!=typeof N)throw new TypeError("executor must be a function.");let h;this.promise=new Promise(function(V){h=V});const T=this;this.promise.then(_=>{if(!T._listeners)return;let V=T._listeners.length;for(;V-- >0;)T._listeners[V](_);T._listeners=null}),this.promise.then=_=>{let V;const ee=new Promise(Xe=>{T.subscribe(Xe),V=Xe}).then(_);return ee.cancel=function(){T.unsubscribe(V)},ee},N(function(V,ee,Xe){T.reason||(T.reason=new dt(V,ee,Xe),h(T.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(N){this.reason?N(this.reason):this._listeners?this._listeners.push(N):this._listeners=[N]}unsubscribe(N){if(!this._listeners)return;const h=this._listeners.indexOf(N);-1!==h&&this._listeners.splice(h,1)}toAbortSignal(){const N=new AbortController,h=T=>{N.abort(T)};return this.subscribe(h),N.signal.unsubscribe=()=>this.unsubscribe(h),N.signal}static source(){let N;return{token:new Ao(function(_){N=_}),cancel:N}}}const Lo=Ao,Bo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bo).forEach(([M,N])=>{Bo[N]=M});const Ho=Bo,Xr=function Uo(M){const N=new Yr(M),h=Q(Yr.prototype.request,N);return nt.extend(h,Yr.prototype,N,{allOwnKeys:!0}),nt.extend(h,N,null,{allOwnKeys:!0}),h.create=function(_){return Uo(fr(M,_))},h}(Nr);Xr.Axios=Yr,Xr.CanceledError=dt,Xr.CancelToken=Lo,Xr.isCancel=Ye,Xr.VERSION=yo,Xr.toFormData=bt,Xr.AxiosError=lt,Xr.Cancel=Xr.CanceledError,Xr.all=function(N){return Promise.all(N)},Xr.spread=function Pr(M){return function(h){return M.apply(null,h)}},Xr.isAxiosError=function zo(M){return nt.isObject(M)&&!0===M.isAxiosError},Xr.mergeConfig=fr,Xr.AxiosHeaders=Er,Xr.formToJSON=M=>go(nt.isHTMLForm(M)?new FormData(M):M),Xr.getAdapter=pr.getAdapter,Xr.HttpStatusCode=Ho,Xr.default=Xr;const Fo=Xr;var $o=A(3692);class Zr{constructor(){}static encode(N){return N?(0,window.btoa)(encodeURIComponent(N).replace(/%([0-9A-F]{2})/g,function(_,V){return String.fromCharCode(parseInt("0x"+V,16))})):null}static decode(N){if(!N)return null;const h=window.atob;return decodeURIComponent(h(N).split("").map(T=>"%"+("00"+T.charCodeAt(0).toString(16)).slice(-2)).join(""))}}class Ko{constructor(N,h){if(this.storageKey=h,this.version="0.1",this.storage=N||window.localStorage,!this.storage)throw new Error("fidj.LocalStorageFactory needs a storageService!")}set(N,h){this.checkKey(N=this.storageKey+N);const T=typeof h;if("undefined"===T)h="null";else if(null===h)h="null";else if("string"===T)h=JSON.stringify({string:h});else if("number"===T)h=JSON.stringify({number:h});else if("boolean"===T)h=JSON.stringify({bool:h});else{if("object"!==T)throw new TypeError("Value type "+T+" is invalid. It must be null, undefined, xml, string, number, boolean or object");h=JSON.stringify({json:h})}return this.storage.setItem(N,h),h}get(N,h){this.checkKey(N=this.storageKey+N);const T=this.storage.getItem(N);if(null!==T){if("null"===T)return null;const _=JSON.parse(T);return"string"in _?_.string:"number"in _?_.number.valueOf():"bool"in _?_.bool.valueOf():_.json}return h||null}remove(N){this.checkKey(N=this.storageKey+N);const h=null!==this.storage.getItem(N);return this.storage.removeItem(N),h}clear(){const N=this.storage.length>0;return this.storage.clear(),N}size(){return this.storage.length}foreach(N,h){const T=this.storage.length;for(let _=0;_<T;_++){const V=this.storage.key(_),ee=this.get(V);h?N.call(h,ee):N(ee)}return T}checkKey(N){if(!N||"string"!=typeof N)throw new TypeError("Key type must be string");return!0}}let Go=(()=>{class M{constructor(){}static encrypt(h,T){let _="";h=M.header+h;for(let V=0;V<h.length;V++)_+=String.fromCharCode(h[V].charCodeAt(0).toString(10)^M.keyCharAt(T,V));return _=Zr.encode(_),_}static decrypt(h,T,_){let V="";h=Zr.decode(h);for(let ee=0;ee<h.length;ee++)V+=String.fromCharCode(h[ee].charCodeAt(0).toString(10)^M.keyCharAt(T,ee));return _||M.header===V.substring(0,M.header.length)?(_||(V=V.substring(M.header.length)),V):null}static keyCharAt(h,T){return h[Math.floor(T%h.length)].charCodeAt(0).toString(10)}}return M.header="artemis-lotsum",M})();var qi=(()=>(function(M){M[M.INFO=1]="INFO",M[M.WARN=2]="WARN",M[M.ERROR=3]="ERROR",M[M.NONE=4]="NONE"}(qi||(qi={})),qi))();let z=class{constructor(N,h){this.code=N,this.reason=h}equals(N){return this.code===N.code&&this.reason===N.reason}toString(){const N="string"==typeof this.reason?this.reason:JSON.stringify(this.reason);return this.code+" - "+N}},we=(()=>{class M{constructor(){}}return M.\u0275fac=function(h){return new(h||M)},M.\u0275mod=q.oAB({type:M}),M.\u0275inj=q.cJS({imports:[$.ez]}),M})();class Qe{constructor(N,h,T){this.id=N,this.type=h,this.data=T}}class ut{constructor(N,h,T,_){this.username=N,this.accessToken=h,this.idToken=T,this.refreshToken=_}}class Dt{constructor(N,h,T,_){this.id=N,this.username=h,this.roles=T}}var Ft=(()=>(function(M){M[M.UNKNOWN=0]="UNKNOWN",M[M.TIMEOUT=1]="TIMEOUT",M[M.STATUS=2]="STATUS"}(Ft||(Ft={})),Ft))();class jt{constructor(){this.xhr=Fo}static formatResponseData(N){let h=N;for(;h&&h.data;)h=h.data;try{h=JSON.parse(h+"")}catch{}return h}static formatError(N){const h={reason:Ft.UNKNOWN,status:-1,code:-1,message:""};return N.status&&(h.reason=Ft.STATUS,h.status=parseInt(N.status,10),h.code=parseInt(N.status,10)),N.response?(h.message=N.response,N.response.status?(h.reason=Ft.STATUS,h.status=parseInt(N.response.status,10),h.code=parseInt(N.response.status,10)):null===N.response.status&&(h.reason=Ft.TIMEOUT,h.status=408,h.code=408)):N.request?h.message=N.request:N.message&&(h.message=N.message),h}post(N){const h={method:"POST",url:N.url,data:JSON.stringify(N.data)};N.headers&&(h.headers=N.headers);const T={headers:h.headers};return N.timeout&&(T.timeout=N.timeout),this.xhr.post(h.url,h.data,T).then(_=>_.status&&(parseInt(_.status,10)<200||parseInt(_.status,10)>=300)?Promise.reject(jt.formatError(_)):Promise.resolve(jt.formatResponseData(_))).catch(_=>Promise.reject(jt.formatError(_)))}put(N){const h={method:"PUT",url:N.url,data:JSON.stringify(N.data)};N.headers&&(h.headers=N.headers);const T={headers:h.headers};return N.timeout&&(T.timeout=N.timeout),this.xhr.put(h.url,h.data,T).then(_=>_.status&&(parseInt(_.status,10)<200||parseInt(_.status,10)>=300)?Promise.reject(jt.formatError(_)):Promise.resolve(jt.formatResponseData(_))).catch(_=>Promise.reject(jt.formatError(_)))}delete(N){const h={method:"DELETE",url:N.url,data:JSON.stringify(N.data)};N.headers&&(h.headers=N.headers);const T={headers:h.headers};return N.timeout&&(T.timeout=N.timeout),this.xhr.delete(h.url,T).then(_=>_.status&&(parseInt(_.status,10)<200||parseInt(_.status,10)>=300)?Promise.reject(jt.formatError(_)):Promise.resolve(jt.formatResponseData(_))).catch(_=>Promise.reject(jt.formatError(_)))}get(N){const h={method:"GET",url:N.url};N.data&&(h.data=N.data),N.headers&&(h.headers=N.headers);const T={headers:h.headers};return N.timeout&&(T.timeout=N.timeout),this.xhr.get(h.url,T).then(_=>_.status&&(parseInt(_.status,10)<200||parseInt(_.status,10)>=300)?Promise.reject(jt.formatError(_)):Promise.resolve(jt.formatResponseData(_))).catch(_=>Promise.reject(jt.formatError(_)))}}class en{constructor(N,h,T,_){this.appId=N,this.URI=h,this.storage=T,this.sdk=_;let V=this.storage.get(en._clientUuid)||"uuid-"+Math.random(),ee="_clientInfo";typeof window<"u"&&window.navigator&&(ee=window.navigator.appName+"@"+window.navigator.appVersion+"-"+window.navigator.userAgent),typeof window<"u"&&window.device&&window.device.uuid&&(V=window.device.uuid),this.setClientUuid(V),this.setClientInfo(ee),this.clientId=this.storage.get(en._clientId),en.refreshCount=this.storage.get(en._refreshCount)||en.refreshCountInitial}setClientId(N){this.clientId=""+N,this.storage.set(en._clientId,this.clientId)}setClientUuid(N){this.clientUuid=""+N,this.storage.set(en._clientUuid,this.clientUuid)}setClientInfo(N){this.clientInfo=""+N}login(N,h,T){var _=this;return(0,F.Z)(function*(){if(!_.URI)return console.error("no api uri"),Promise.reject({code:408,reason:"no-api-uri"});const V=_.URI+"/users",ee={name:N,username:N,email:N,password:h};yield(new jt).post({url:V,data:ee,headers:{"Content-Type":"application/json",Accept:"application/json"}}),_.setClientId(N);const Rt=_.URI+"/apps/"+_.appId+"/tokens",Bt={grant_type:"access_token",client_udid:_.clientUuid,client_info:_.clientInfo,scope:JSON.stringify(_.sdk)},Jt=(yield(new jt).post({url:Rt,data:Bt,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Basic "+Zr.encode(N+":"+h)}})).token;Bt.grant_type="id_token";const zn=(yield(new jt).post({url:Rt,data:Bt,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+Jt.data}})).token;Bt.grant_type="refresh_token";const fi=(yield(new jt).post({url:Rt,data:Bt,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+Jt.data}})).token;return new ut(N,Jt,zn,fi)})()}reAuthenticate(N){var h=this;return(0,F.Z)(function*(){if(!h.URI)return console.error("no api uri"),Promise.reject({code:408,reason:"no-api-uri"});const T=h.URI+"/apps/"+h.appId+"/tokens",_={grant_type:"refresh_token",client_udid:h.clientUuid,client_info:h.clientInfo,scope:JSON.stringify(h.sdk),refresh_token:N,refreshCount:en.refreshCount},V=yield(new jt).post({url:T,data:_,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+N}});return en.refreshCount++,h.storage.set(en._refreshCount,en.refreshCount),V})()}logout(N){if(!this.URI)return console.error("no api uri"),Promise.reject({code:408,reason:"no-api-uri"});if(this.storage.remove(en._clientId),this.storage.remove(en._refreshCount),en.refreshCount=en.refreshCountInitial,!N||!this.clientId)return Promise.resolve();const h=this.URI+"/apps/"+this.appId+"/tokens";return(new jt).delete({url:h,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+N}})}isReady(){return!!this.URI}}en.refreshCountInitial=1,en.refreshCount=en.refreshCountInitial,en._clientUuid="v2.clientUuid",en._clientId="v2.clientId",en._refreshCount="v2.refreshCount";let Mn=(()=>{class M{constructor(h,T,_){this._sdk=h,this._storage=T,this._logger=_,this.client=null,this.user=null,this.cryptoSalt=this._storage.get(M._cryptoSalt)||null,this.cryptoSaltNext=this._storage.get(M._cryptoSaltNext)||null,this.accessToken=this._storage.get(M._accessToken)||null,this.accessTokenPrevious=this._storage.get("v2.accessTokenPrevious")||null,this.idToken=this._storage.get(M._idToken)||null,this.refreshToken=this._storage.get(M._refreshToken)||null,this.states=this._storage.get(M._states)||{},this.apis=[]}isReady(){return!!this.client&&this.client.isReady()}destroy(h){var T=this;return(0,F.Z)(function*(){T._storage.remove(M._accessToken),T._storage.remove(M._idToken),T._storage.remove(M._refreshToken),T._storage.remove(M._states),T.accessToken&&(T.accessTokenPrevious=T.accessToken,T._storage.set(M._accessTokenPrevious,T.accessTokenPrevious)),h&&(T._storage.remove(M._cryptoSalt),T._storage.remove(M._cryptoSaltNext),T._storage.remove(M._accessTokenPrevious)),T.user=null,T.client&&(yield T.client.logout()),T.accessToken=null,T.idToken=null,T.refreshToken=null,T.states={}})()}setClient(h){this.client=h}setUser(h){this.user=h,this.client&&this.user.id&&this.client.setClientId(this.user.id)}getUser(){return this.user}getClient(){return this.client}setCryptoSalt(h){this.cryptoSalt!==h&&this.cryptoSaltNext!==h&&(this.cryptoSaltNext=h,this._storage.set(M._cryptoSaltNext,this.cryptoSaltNext)),this.cryptoSalt||this.setCryptoSaltAsVerified()}setCryptoSaltAsVerified(){this.cryptoSaltNext&&(this.cryptoSalt=this.cryptoSaltNext,this._storage.set(M._cryptoSalt,this.cryptoSalt)),this.cryptoSaltNext=null,this._storage.remove(M._cryptoSaltNext)}encrypt(h){return h="string"!=typeof h?JSON.stringify(h):JSON.stringify({string:h}),this.fidjCrypto&&this.cryptoSalt?Go.encrypt(h,this.cryptoSalt):h}decrypt(h){let T=null;try{this.fidjCrypto&&this.cryptoSaltNext&&(T=Go.decrypt(h,this.cryptoSaltNext),T=JSON.parse(T))}catch{T=null}try{!T&&this.fidjCrypto&&this.cryptoSalt&&(T=Go.decrypt(h,this.cryptoSalt),T=JSON.parse(T))}catch{T=null}try{!T&&this.fidjCrypto&&this.cryptoSalt&&(T=Go.decrypt(h,this.cryptoSalt,!0),T=JSON.parse(T))}catch{T=null}try{T||(T=JSON.parse(h)),T&&T.string&&(T=T.string)}catch{T=null}return T}isLogin(){let h=!0;try{const T=this.refreshToken.split(".")[1],_=JSON.parse(Zr.decode(T));h=(new Date).getTime()/1e3>=_.exp}catch{}return!h}logout(){var h=this;return(0,F.Z)(function*(){return h.getClient().logout(h.refreshToken)})()}getClientId(){return this.client?this.client.clientId:null}getIdToken(){var h=this;return(0,F.Z)(function*(){return h.idToken})()}getIdPayload(h){var T=this;return(0,F.Z)(function*(){const _=yield T.getIdToken();try{let V;if(_&&(V=_.split(".")[1]),V)return Zr.decode(V)}catch(V){T._logger.log("fidj.connection.getIdPayload pb: ",h,V)}return h?("string"!=typeof h&&(h=JSON.stringify(h)),h):null})()}getAccessPayload(h){var T=this;return(0,F.Z)(function*(){h&&"string"!=typeof h&&(h=JSON.stringify(h));try{const _=T.accessToken.split(".")[1];if(_)return Zr.decode(_)}catch{}return h||null})()}getPreviousAccessPayload(h){h&&"string"!=typeof h&&(h=JSON.stringify(h));try{const T=this.accessTokenPrevious.split(".")[1];if(T)return Zr.decode(T)}catch{}return h||null}refreshConnection(){var h=this;return(0,F.Z)(function*(){if(h._storage.set(M._states,h.states),h.accessToken){const Rt=h.accessToken.split(".")[1],Bt=Zr.decode(Rt),Jt=(new Date).getTime()/1e3<JSON.parse(Bt).exp;if(h._logger.log("fidj.connection.connection.refreshConnection : token not expired ? ",Jt),Jt)return Promise.resolve(h.getUser())}if(h.refreshToken){const Rt=h.refreshToken.split(".")[1],Bt=Zr.decode(Rt),Jt=(new Date).getTime()/1e3>=JSON.parse(Bt).exp;h._logger.log("fidj.connection.connection.refreshConnection : refreshToken not expired ? ",Jt),Jt&&h._storage.remove(M._refreshToken)}if(h.accessTokenPrevious=h.accessToken,h._storage.set("v2.accessTokenPrevious",h.accessTokenPrevious),h._storage.remove(M._accessToken),h._storage.remove(M._idToken),h.accessToken=null,h.idToken=null,h._logger.log("fidj.connection.connection.refreshConnection : refresh authentication."),!h.getClient())throw new z(400,"Need an initialized client.");const _=yield h.getClient().reAuthenticate(h.refreshToken),V=new Qe(h.getClientId(),"idToken",h.idToken),ee=new Qe(h.getClientId(),"accessToken",h.accessToken),Xe=new ut(h.getClientId(),V,ee,_);return yield h.setConnection(Xe),h.getUser()})()}setConnection(h){var T=this;return(0,F.Z)(function*(){if(h.accessToken){T.accessToken=h.accessToken.data,T._storage.set(M._accessToken,T.accessToken);const V=JSON.parse(yield T.getAccessPayload({salt:""})).salt;V&&T.setCryptoSalt(V)}h.idToken&&(T.idToken=h.idToken.data,T._storage.set(M._idToken,T.idToken)),h.refreshToken&&(T.refreshToken=h.refreshToken.data,T._storage.set(M._refreshToken,T.refreshToken)),T._storage.set(M._states,T.states);const _=new Dt(h.username,h.username,JSON.parse(yield T.getIdPayload({roles:[]})).roles,JSON.parse(yield T.getIdPayload({message:""})).message);T.setUser(_)})()}setConnectionOffline(h){var T=this;return(0,F.Z)(function*(){h.accessToken&&(T.accessToken=h.accessToken,T._storage.set(M._accessToken,T.accessToken)),h.idToken&&(T.idToken=h.idToken,T._storage.set(M._idToken,T.idToken)),h.refreshToken&&(T.refreshToken=h.refreshToken,T._storage.set(M._refreshToken,T.refreshToken)),T.setUser(new Dt("demo","demo",JSON.parse(yield T.getIdPayload({roles:[]})).roles,JSON.parse(yield T.getIdPayload({message:""})).message))})()}getApiEndpoints(h){var T=this;return(0,F.Z)(function*(){let _=[{key:"fidj.default",url:"https://api.fidj.ovh/v3",blocked:!1}],V=[];if(T._sdk.prod||(_=[{key:"fidj.default",url:"http://localhost:3201/v3",blocked:!1},{key:"fidj.default",url:"https://sandbox.api.fidj.ovh/v3",blocked:!1}]),T.accessToken){const Xe=yield T.getAccessPayload({apis:[]}),Rt=JSON.parse(Xe).apis;Rt&&Rt.length&&(_=[],Rt.forEach(Bt=>{Bt.url&&_.push(Bt)}))}if(T.accessTokenPrevious){const Xe=JSON.parse(T.getPreviousAccessPayload({apis:[]})).apis;Xe&&Xe.length&&Xe.forEach(Rt=>{Rt.url&&0===_.filter(Bt=>Bt.url===Rt.url).length&&_.push(Rt)})}T._logger.log("fidj.sdk.connection.getApiEndpoints : ",_);let ee=!0;if(T.states&&Object.keys(T.states).length)for(let Xe=0;Xe<_.length&&ee;Xe++)T.states[_[Xe].url]||(ee=!1);else ee=!1;if(h&&h.filter)if(ee&&"theBestOne"===h.filter)for(let Xe=0;Xe<_.length&&0===V.length;Xe++){const Rt=_[Xe];T.states[Rt.url]&&T.states[Rt.url].state&&V.push(Rt)}else if(ee&&"theBestOldOne"===h.filter){let Xe;for(let Rt=0;Rt<_.length;Rt++){const Bt=_[Rt];T.states[Bt.url]&&T.states[Bt.url].lastTimeWasOk&&(!Xe||T.states[Bt.url].lastTimeWasOk>T.states[Xe.url].lastTimeWasOk)&&(Xe=Bt)}Xe&&V.push(Xe)}else _.length&&V.push(_[0]);else V=_;return V})()}getDBs(h){var T=this;return(0,F.Z)(function*(){if(!T.accessToken)return[];const _=Math.random()%2;let V=JSON.parse(yield T.getAccessPayload({dbs:[]})).dbs||[];0===_?V=V.sort():1===_&&(V=V.reverse());let ee=[],Xe=!0;if(T.states&&Object.keys(T.states).length)for(let Rt=0;Rt<V.length&&Xe;Rt++)T.states[V[Rt].url]||(Xe=!1);else Xe=!1;if(Xe&&h&&"theBestOne"===h.filter)for(let Rt=0;Rt<V.length&&0===ee.length;Rt++){const Bt=V[Rt];T.states[Bt.url]&&T.states[Bt.url].state&&ee.push(Bt)}else if(Xe&&h&&"theBestOnes"===h.filter)for(let Rt=0;Rt<V.length;Rt++){const Bt=V[Rt];T.states[Bt.url]&&T.states[Bt.url].state&&ee.push(Bt)}else h&&"theBestOne"===h.filter&&V.length?ee.push(V[0]):ee=V;return ee})()}verifyApiState(h,T){var _=this;return(0,F.Z)(function*(){try{_._logger.log("fidj.sdk.connection.verifyApiState : ",h,T);const V=yield(new jt).get({url:T+"/status?isOk="+_._sdk.version,headers:{"Content-Type":"application/json",Accept:"application/json"}});let ee=!1;V&&V.isOk&&(ee=!0),_.states[T]={state:ee,time:h,lastTimeWasOk:h},_._logger.log("fidj.sdk.connection.verifyApiState > states : ",_.states)}catch(V){let ee=0;_.states[T]&&(ee=_.states[T].lastTimeWasOk),_.states[T]={state:!1,time:h,lastTimeWasOk:ee},_._logger.log("fidj.sdk.connection.verifyApiState > catch pb  - states : ",V,_.states)}})()}verifyDbState(h,T){var _=this;return(0,F.Z)(function*(){try{yield(new jt).get({url:T,headers:{"Content-Type":"application/json",Accept:"application/json"}}),_.states[T]={state:!0,time:h,lastTimeWasOk:h}}catch{let ee=0;_.states[T]&&(ee=_.states[T].lastTimeWasOk),_.states[T]={state:!1,time:h,lastTimeWasOk:ee}}})()}verifyConnectionStates(){var h=this;return(0,F.Z)(function*(){const T=(new Date).getTime(),_=[];return h.apis=yield h.getApiEndpoints(),h.apis.forEach(ee=>{let Xe=ee.url;Xe||(Xe=ee.toString()),_.push(h.verifyApiState(T,Xe))}),(yield h.getDBs()).forEach(ee=>{let Xe=ee.url;Xe||(Xe=ee.toString()),_.push(h.verifyDbState(T,Xe))}),Promise.all(_)})()}}return M._accessToken="v2.accessToken",M._accessTokenPrevious="v2.accessTokenPrevious",M._idToken="v2.idToken",M._refreshToken="v2.refreshToken",M._states="v2.states",M._cryptoSalt="v2.cryptoSalt",M._cryptoSaltNext="v2.cryptoSalt.next",M})();class xi{constructor(){this.db=null,this.dbRecordCount=0,this.dbLastSync=null,this.remoteDb=null,this.dbs=[]}isReady(){return!!this.db}create(N,h){return!h&&this.db||(this.dbRecordCount=0,this.dbLastSync=null,this.db=null,N=N||"default"),Promise.resolve(this.db)}destroy(){var N=this;return(0,F.Z)(function*(){return N.db?N.db&&!N.db.destroy?Promise.reject(new z(408,"Need a valid db")):new Promise((h,T)=>{N.db.destroy((_,V)=>{_?T(new z(500,_)):(N.dbRecordCount=0,N.dbLastSync=null,N.db=null,h())})}):(N.dbRecordCount=0,void(N.dbLastSync=null))})()}setRemote(N){this.dbs=N}sync(N){return this.db?this.dbs&&this.dbs.length?new Promise((h,T)=>{try{return}catch(_){T(new z(500,_))}}):Promise.reject(new z(408,"need a remote db")):Promise.reject(new z(408,"need db"))}put(N,h,T,_,V,ee){if(!this.db)return Promise.reject(new z(408,"need db"));if(!(N&&h&&T&&_&&V))return Promise.reject(new z(400,"need formated data"));const Xe=JSON.parse(JSON.stringify(N)),Rt={_id:h,fidjUserId:T,fidjOrgId:_,fidjAppVersion:V};Xe._rev&&(Rt._rev=""+Xe._rev),delete Xe._id,delete Xe._rev,delete Xe.fidjUserId,delete Xe.fidjOrgId,delete Xe.fidjAppVersion,delete Xe.fidjData;let Bt=xi.write(xi.value(Xe));return ee?(Bt=ee.obj[ee.method](Bt),Rt.fidjDacr=Bt):Rt.fidjData=Bt,new Promise((Jt,zn)=>{this.db.put(Rt,(fi,Ei)=>{Ei&&Ei.ok&&Ei.id&&Ei.rev?(this.dbRecordCount++,"object"==typeof N?(N._rev=Ei.rev,N._id=Ei.id,Jt(N)):Jt(Ei.id)):zn(new z(500,fi))})})}remove(N){return this.db?new Promise((h,T)=>{this.db.get(N).then(_=>(_._deleted=!0,this.db.put(_))).then(_=>{h()}).catch(_=>{T(_)})}):Promise.reject(new z(408,"need db"))}get(N,h){return this.db?new Promise((T,_)=>{this.db.get(N).then(V=>{if(V&&(V.fidjDacr||V.fidjData)){let ee=V.fidjDacr;h&&ee?ee=h.obj[h.method](ee):V.fidjData&&(ee=JSON.parse(V.fidjData));const Xe=xi.extractJson(ee);Xe?(Xe._id=V._id,Xe._rev=V._rev,T(JSON.parse(JSON.stringify(Xe)))):(this.remove(V._id),_(new z(400,"Bad encoding")))}else _(new z(400,"No data found"))}).catch(V=>_(new z(500,V)))}):Promise.reject(new z(408,"Need db"))}getAll(N){return this.db&&this.db.allDocs?new Promise((h,T)=>{this.db.allDocs({include_docs:!0,descending:!0}).then(_=>{const V=[];_.rows.forEach(ee=>{if(ee&&ee.doc._id&&(ee.doc.fidjDacr||ee.doc.fidjData)){let Xe=ee.doc.fidjDacr;N&&Xe?Xe=N.obj[N.method](Xe):ee.doc.fidjData&&(Xe=JSON.parse(ee.doc.fidjData));const Rt=xi.extractJson(Xe);Rt?(Rt._id=ee.doc._id,Rt._rev=ee.doc._rev,V.push(JSON.parse(JSON.stringify(Rt)))):(console.error("Bad encoding : delete row"),this.remove(ee.doc._id))}else console.error("Bad encoding")}),h(V)}).catch(_=>T(new z(400,_)))}):Promise.reject(new z(408,"Need a valid db"))}isEmpty(){return this.db&&this.db.allDocs?new Promise((N,h)=>{this.db.allDocs({}).then(T=>{T?(this.dbRecordCount=T.total_rows,N(!(T.total_rows&&T.total_rows>0))):h(new z(400,"No response"))}).catch(T=>h(new z(400,T)))}):Promise.reject(new z(408,"No db"))}info(){return this.db?this.db.info():Promise.reject(new z(408,"No db"))}static write(N){let h="null";const T=typeof N;return"undefined"===T||null===h?h="null":"string"===T?h=JSON.stringify({string:N}):"number"===T?h=JSON.stringify({number:N}):"boolean"===T?h=JSON.stringify({bool:N}):"object"===T&&(h=JSON.stringify({json:N})),h}static value(N){let h=N;return"object"!=typeof N||("string"in N?h=N.string:"number"in N?h=N.number.valueOf():"bool"in N?h=N.bool.valueOf():"json"in N&&(h=N.json,"object"!=typeof h&&(h=JSON.parse(h)))),h}static extractJson(N){let h=N;return N?("object"==typeof N&&"json"in N&&(h=N.json),"string"==typeof h&&(h=JSON.parse(h)),"object"==typeof h&&"json"in h&&(h=h.json),"object"!=typeof h&&(h=null),h):null}}class Zn{constructor(N){this.level=N,N||(this.level=qi.ERROR),typeof console>"u"&&(this.level=qi.NONE)}log(N,h){this.level===qi.INFO&&console.log(N,h)}warn(N,h){(this.level===qi.INFO||this.level===qi.WARN)&&console.warn(N,h)}error(N,h){(this.level===qi.INFO||this.level===qi.WARN||this.level===qi.ERROR)&&console.error(N,h)}setLevel(N){this.level=N}}let ve=(()=>{class M{constructor(h,T,_){let V;this.sdk={org:"fidj",version:"3.3.7",prod:!1,useDB:!0},T&&(this.promise=T),this.logger=h||new Zn,_&&_.logLevel&&this.logger.setLevel(_.logLevel),this.logger.log("fidj.sdk.service : constructor"),typeof window<"u"?V=window.localStorage:typeof global<"u"&&(A.e(4160).then(A.t.bind(A,4160,19)),V=global.localStorage),this.storage=new Ko(V,"fidj."),this.session=new xi,this.connection=new Mn(this.sdk,this.storage,this.logger)}fidjInit(h,T){var _=this;return(0,F.Z)(function*(){if(_.logger.setLevel(T&&T.logLevel?T.logLevel:qi.NONE),_.logger.log("fidj.sdk.service.fidjInit : ",T),!h)return _.logger.error("fidj.sdk.service.fidjInit : bad init"),_.promise.reject(new z(400,"Need a fidjId"));let V,ee;_.sdk.prod=!T||T.prod,_.sdk.useDB=!!T&&T.useDB,_.connection.fidjId=h,_.connection.fidjVersion=_.sdk.version,_.connection.fidjCrypto=!(!T||!T.hasOwnProperty("crypto"))&&T.crypto;try{yield _.connection.verifyConnectionStates(),V=yield _.connection.getApiEndpoints({filter:"theBestOne"}),ee=yield _.connection.getApiEndpoints({filter:"theBestOldOne"})}catch(Jt){throw _.logger.error("fidj.sdk.service.fidjInit: ",Jt),new z(500,Jt.toString())}if(!V||!ee||0===V.length&&0===ee.length)throw new z(404,"Need one connection - or too old SDK version (check update)");let Xe=V[0],Rt=ee[0];const Bt=_.fidjIsLogin();_.logger.log("fidj.sdk.service.fidjInit > verifyConnectionStates : ",Xe,Rt,Bt),_.connection.setClient(new en(_.connection.fidjId,Xe?Xe.url:Rt.url,_.storage,_.sdk))})()}fidjLogin(h,T){var _=this;return(0,F.Z)(function*(){if(_.logger.log("fidj.sdk.service.fidjLogin"),!_.connection.isReady())throw new z(404,"Need an initialized FidjService");try{yield _._removeAll(),yield _.connection.verifyConnectionStates(),yield _._createSession(_.connection.fidjId);const V=yield _._loginInternal(h,T);yield _.connection.setConnection(V)}catch(V){throw new z(500,V.toString())}if(!_.sdk.useDB)return _.connection.getUser();try{yield _.session.sync(_.connection.getClientId())}catch(V){_.logger.warn("fidj.sdk.service.fidjLogin: sync -not blocking- issue  ",V.toString())}return _.connection.getUser()})()}fidjLoginInDemoMode(h){var T=this;return(0,F.Z)(function*(){const _=T;if(!h||!h.accessToken){const V=new Date;V.setDate(V.getDate()+1);const ee=V.getTime(),Xe=Zr.encode(JSON.stringify({roles:[],message:"demo",apis:[],endpoints:[],dbs:[],exp:ee})),Rt=Zr.encode(JSON.stringify({})),Bt=Rt+"."+Xe+"."+Rt;h={accessToken:Bt,idToken:Bt,refreshToken:Bt}}return new _.promise((V,ee)=>{_._removeAll().then(()=>_._createSession(_.connection.fidjId)).then((0,F.Z)(function*(){yield _.connection.setConnectionOffline(h),V(_.connection.getUser())})).catch(Xe=>{_.logger.error("fidj.sdk.service.fidjLoginInDemoMode error: ",Xe),ee(Xe)})})})()}fidjIsLogin(){return this.connection.isLogin()}fidjGetEndpoints(h){var T=this;return(0,F.Z)(function*(){h||(h={showBlocked:!1});const _=yield T.connection.getAccessPayload({endpoints:[]});let V=JSON.parse(_).endpoints;return V&&Array.isArray(V)?(V=V.filter(ee=>{let Xe=!0;return Xe&&h.key&&(Xe=ee.key===h.key),Xe&&!h.showBlocked&&(Xe=!ee.blocked),Xe}),V):[]})()}fidjRoles(){var h=this;return(0,F.Z)(function*(){return JSON.parse(yield h.connection.getIdPayload({roles:[]})).roles})()}fidjMessage(){var h=this;return(0,F.Z)(function*(){return JSON.parse(yield h.connection.getIdPayload({message:""})).message})()}fidjLogout(h){var T=this;return(0,F.Z)(function*(){const _=T;return _.connection.getClient()||h?_.connection.logout().then(()=>_._removeAll()).catch(()=>_._removeAll()).then(()=>T.session.create(_.connection.fidjId,!0)):_._removeAll().then(()=>T.session.create(_.connection.fidjId,!0))})()}fidjSync(h,T){var _=this;return(0,F.Z)(function*(){const V=_;if(V.logger.log("fidj.sdk.service.fidjSync"),!V.sdk.useDB)return V.logger.log("fidj.sdk.service.fidjSync: you ar not using DB - no sync available."),Promise.resolve();const ee=null===V.session.dbLastSync;return new V.promise((Xe,Rt)=>{V._createSession(V.connection.fidjId).then(()=>V.session.sync(V.connection.getClientId())).then(()=>(V.logger.log("fidj.sdk.service.fidjSync resolved"),V.session.isEmpty())).catch(Bt=>(V.logger.warn("fidj.sdk.service.fidjSync warn: ",Bt),V.session.isEmpty())).then(Bt=>(V.logger.log("fidj.sdk.service.fidjSync isEmpty : ",Bt,ee),new V.promise((Jt,zn)=>{if(Bt&&ee&&h){const fi=h(T);fi&&fi.catch instanceof Function&&fi.then(Jt).catch(Rt),"string"==typeof fi&&V.logger.log(fi)}Jt(null)}))).then(Bt=>(V.logger.log("fidj.sdk.service.fidjSync fnInitFirstData resolved: ",Bt),V.session.dbLastSync=(new Date).getTime(),V.session.info())).then(Bt=>(V.session.dbRecordCount=0,Bt&&Bt.doc_count&&(V.session.dbRecordCount=Bt.doc_count),V.logger.log("fidj.sdk.service.fidjSync _dbRecordCount : "+V.session.dbRecordCount),V.connection.refreshConnection())).then(Bt=>{V.logger.log("fidj.sdk.service.fidjSync refreshConnection done : ",Bt),Xe()}).catch(Bt=>{if(V.logger.warn("fidj.sdk.service.fidjSync refreshConnection failed : ",Bt),!Bt||403!==Bt.code&&410!==Bt.code)if(Bt&&Bt.code)Xe();else{const Jt="Error during synchronisation: "+Bt.toString();V.logger.error(Jt),Rt({code:500,reason:Jt})}else _.fidjLogout().then(()=>{Rt({code:403,reason:"Synchronization unauthorized : need to login again."})}).catch(()=>{Rt({code:403,reason:"Synchronization unauthorized : need to login again.."})})})})})()}fidjPutInDb(h){var T=this;return(0,F.Z)(function*(){const _=T;if(_.logger.log("fidj.sdk.service.fidjPutInDb: ",h),!_.sdk.useDB)return _.logger.log("fidj.sdk.service.fidjPutInDb: you are not using DB - no put available."),Promise.resolve("NA");if(!_.connection.getClientId())return _.promise.reject(new z(401,"DB put impossible. Need a user logged in."));if(!_.session.isReady())return _.promise.reject(new z(400,"Need to be synchronised."));let V,ee;return h&&"object"==typeof h&&Object.keys(h).indexOf("_id")&&(V=h._id),V||(V=_._generateObjectUniqueId(_.connection.fidjId)),_.connection.fidjCrypto&&(ee={obj:_.connection,method:"encrypt"}),_.session.put(h,V,_.connection.getClientId(),_.sdk.org,_.connection.fidjVersion,ee)})()}fidjRemoveInDb(h){var T=this;return(0,F.Z)(function*(){const _=T;return _.logger.log("fidj.sdk.service.fidjRemoveInDb ",h),_.sdk.useDB?_.session.isReady()?h&&"string"==typeof h?_.session.remove(h):_.promise.reject(new z(400,"DB remove impossible. Need the data._id.")):_.promise.reject(new z(400,"Need to be synchronised.")):(_.logger.log("fidj.sdk.service.fidjRemoveInDb: you are not using DB - no remove available."),Promise.resolve())})()}fidjFindInDb(h){var T=this;return(0,F.Z)(function*(){const _=T;if(!_.sdk.useDB)return _.logger.log("fidj.sdk.service.fidjFindInDb: you are not using DB - no find available."),Promise.resolve();if(!_.connection.getClientId())return _.promise.reject(new z(401,"Find pb : need a user logged in."));if(!_.session.isReady())return _.promise.reject(new z(400," Need to be synchronised."));let V;return _.connection.fidjCrypto&&(V={obj:_.connection,method:"decrypt"}),_.session.get(h,V)})()}fidjFindAllInDb(){var h=this;return(0,F.Z)(function*(){const T=h;if(!T.sdk.useDB)return T.logger.log("fidj.sdk.service.fidjFindAllInDb: you are not using DB - no find available."),Promise.resolve([]);if(!T.connection.getClientId())return T.promise.reject(new z(401,"Need a user logged in."));if(!T.session.isReady())return T.promise.reject(new z(400,"Need to be synchronised."));let _;return T.connection.fidjCrypto&&(_={obj:T.connection,method:"decrypt"}),T.session.getAll(_).then(V=>(T.connection.setCryptoSaltAsVerified(),T.promise.resolve(V)))})()}fidjSendOnEndpoint(h){var T=this;return(0,F.Z)(function*(){const _=h.key?{key:h.key}:null,V=yield T.fidjGetEndpoints(_);if(!(h.defaultKeyUrl||V&&1===V.length))throw new z(400,"fidj.sdk.service.fidjSendOnEndpoint : endpoint does not exist.");let ee=V&&1===V.length?V[0].url:h.defaultKeyUrl;h.relativePath&&(ee=$o(ee,h.relativePath));const Xe=yield T.connection.getIdToken();let Rt;const Bt=new jt;switch(h.verb){case"POST":Rt=Bt.post({url:ee,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+Xe},data:h.data?h.data:{},timeout:h.timeout});break;case"PUT":Rt=Bt.put({url:ee,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+Xe},data:h.data?h.data:{},timeout:h.timeout});break;case"DELETE":Rt=Bt.delete({url:ee,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+Xe},timeout:h.timeout});break;default:Rt=Bt.get({url:ee,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+Xe},timeout:h.timeout})}return Rt})()}fidjForgotPasswordRequest(h){var T=this;return(0,F.Z)(function*(){const _=yield T.connection.getApiEndpoints({filter:"theBestOne"});if(!_||1!==_.length)throw new z(400,"fidj.sdk.service.fidjForgotPasswordRequest : api endpoint does not exist.");yield(new jt).post({url:_[0].url+"/me/forgot",headers:{"Content-Type":"application/json",Accept:"application/json"},data:{email:h}})})()}fidjGetIdToken(){var h=this;return(0,F.Z)(function*(){return h.connection.getIdToken()})()}_loginInternal(h,T,_){var V=this;return(0,F.Z)(function*(){if(V.logger.log("fidj.sdk.service._loginInternal"),!V.connection.isReady())throw new z(403,"Need an initialized FidjService");let ee;yield V.connection.logout();try{ee=V.connection.getClient().login(h,T,_)}catch{ee=yield V.connection.getClient().login(h,T,_)}return ee})()}_removeAll(){var h=this;return(0,F.Z)(function*(){yield h.connection.destroy(),yield h.session.destroy()})()}_createSession(h){var T=this;return(0,F.Z)(function*(){const _=yield T.connection.getDBs({filter:"theBestOnes"});return(!_||0===_.length)&&T.logger.warn("Seems that you are in Demo mode or using Node (no remote DB)."),T.session.setRemote(_),T.session.create(h)})()}_testPromise(h){var T=this;return(0,F.Z)(function*(){return h?T.promise.resolve("test promise ok "+h):new T.promise((_,V)=>{_("test promise ok")})})()}_generateObjectUniqueId(h,T,_){const V=new Date,ee=""+V.getFullYear()+V.getMonth()+V.getDate()+V.getHours()+V.getMinutes(),Xe=++M._srvDataUniqId;let Rt="";return h&&h.charAt(0)&&(Rt+=h.charAt(0)+""),T&&T.length>3&&(Rt+=T.substring(0,4)),_&&_.length>3&&(Rt+=_.substring(0,4)),Rt+=ee+""+Xe,Rt}}return M._srvDataUniqId=0,M})(),fe=(()=>{class M{constructor(){this.logger=new Zn(qi.ERROR),this.promise=Promise,this.fidjService=null}init(h,T){var _=this;return(0,F.Z)(function*(){return _.fidjService||(_.fidjService=new ve(_.logger,_.promise)),_.fidjService.fidjInit(h,T)})()}login(h,T){var _=this;return(0,F.Z)(function*(){return _.fidjService?_.fidjService.fidjLogin(h,T):_.promise.reject(new z(303,"fidj.sdk.angular.login : not initialized."))})()}loginAsDemo(h){var T=this;return(0,F.Z)(function*(){return T.fidjService?T.fidjService.fidjLoginInDemoMode(h):T.promise.reject(new z(303,"fidj.sdk.angular.loginAsDemo : not initialized."))})()}isLoggedIn(){return!!this.fidjService&&this.fidjService.fidjIsLogin()}getRoles(){var h=this;return(0,F.Z)(function*(){return h.fidjService?yield h.fidjService.fidjRoles():[]})()}getEndpoints(){var h=this;return(0,F.Z)(function*(){return h.fidjService?h.fidjService.fidjGetEndpoints():[]})()}sendOnEndpoint(h){var T=this;return(0,F.Z)(function*(){return T.fidjService?T.fidjService.fidjSendOnEndpoint(h):T.promise.reject(new z(303,"fidj.sdk.angular.loginAsDemo : not initialized."))})()}forgotPasswordRequest(h){var T=this;return(0,F.Z)(function*(){return T.fidjService?T.fidjService.fidjForgotPasswordRequest(h):T.promise.reject(new z(303,"fidj.sdk.angular.loginAsDemo : not initialized."))})()}getIdToken(){var h=this;return(0,F.Z)(function*(){if(h.fidjService)return h.fidjService.fidjGetIdToken()})()}getMessage(){var h=this;return(0,F.Z)(function*(){return h.fidjService?h.fidjService.fidjMessage():""})()}logout(h){var T=this;return(0,F.Z)(function*(){return h||!T.fidjService?T.promise.reject(new z(303,"fidj.sdk.angular.logout : not initialized.")):T.fidjService.fidjLogout(h)})()}sync(h){var T=this;return(0,F.Z)(function*(){return T.fidjService?T.fidjService.fidjSync(h,T):T.promise.reject(new z(401,"fidj.sdk.angular.sync : not initialized."))})()}put(h){var T=this;return(0,F.Z)(function*(){return T.fidjService?T.fidjService.fidjPutInDb(h):T.promise.reject(new z(401,"fidj.sdk.angular.put : not initialized."))})()}remove(h){var T=this;return(0,F.Z)(function*(){return T.fidjService?T.fidjService.fidjRemoveInDb(h):T.promise.reject(new z(401,"fidj.sdk.angular.remove : not initialized."))})()}find(h){var T=this;return(0,F.Z)(function*(){return T.fidjService?T.fidjService.fidjFindInDb(h):T.promise.reject(new z(401,"fidj.sdk.angular.find : not initialized."))})()}findAll(){var h=this;return(0,F.Z)(function*(){return h.fidjService?h.fidjService.fidjFindAllInDb():h.promise.reject(new z(401,"fidj.sdk.angular.findAll : not initialized."))})()}}return M.\u0275fac=function(h){return new(h||M)},M.\u0275prov=q.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})()},5861:(Ct,H,A)=>{"use strict";function r(q,$,Q,Y,Z,G,J){try{var ue=q[G](J),oe=ue.value}catch(ce){return void Q(ce)}ue.done?$(oe):Promise.resolve(oe).then(Y,Z)}function F(q){return function(){var $=this,Q=arguments;return new Promise(function(Y,Z){var G=q.apply($,Q);function J(oe){r(G,Y,Z,J,ue,"next",oe)}function ue(oe){r(G,Y,Z,J,ue,"throw",oe)}J(void 0)})}}A.d(H,{Z:()=>F})},7582:(Ct,H,A)=>{"use strict";function Q(Ce,Ue,Me,Fe){var Mt,mt=arguments.length,_t=mt<3?Ue:null===Fe?Fe=Object.getOwnPropertyDescriptor(Ue,Me):Fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_t=Reflect.decorate(Ce,Ue,Me,Fe);else for(var cn=Ce.length-1;cn>=0;cn--)(Mt=Ce[cn])&&(_t=(mt<3?Mt(_t):mt>3?Mt(Ue,Me,_t):Mt(Ue,Me))||_t);return mt>3&&_t&&Object.defineProperty(Ue,Me,_t),_t}function ce(Ce,Ue,Me,Fe){return new(Me||(Me=Promise))(function(_t,Mt){function cn(Et){try{on(Fe.next(Et))}catch(at){Mt(at)}}function En(Et){try{on(Fe.throw(Et))}catch(at){Mt(at)}}function on(Et){Et.done?_t(Et.value):function mt(_t){return _t instanceof Me?_t:new Me(function(Mt){Mt(_t)})}(Et.value).then(cn,En)}on((Fe=Fe.apply(Ce,Ue||[])).next())})}function tt(Ce){return this instanceof tt?(this.v=Ce,this):new tt(Ce)}function Ae(Ce,Ue,Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var mt,Fe=Me.apply(Ce,Ue||[]),_t=[];return mt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),cn("next"),cn("throw"),cn("return",function Mt(Wt){return function(mn){return Promise.resolve(mn).then(Wt,at)}}),mt[Symbol.asyncIterator]=function(){return this},mt;function cn(Wt,mn){Fe[Wt]&&(mt[Wt]=function(Cn){return new Promise(function(_n,ui){_t.push([Wt,Cn,_n,ui])>1||En(Wt,Cn)})},mn&&(mt[Wt]=mn(mt[Wt])))}function En(Wt,mn){try{!function on(Wt){Wt.value instanceof tt?Promise.resolve(Wt.value.v).then(Et,at):tn(_t[0][2],Wt)}(Fe[Wt](mn))}catch(Cn){tn(_t[0][3],Cn)}}function Et(Wt){En("next",Wt)}function at(Wt){En("throw",Wt)}function tn(Wt,mn){Wt(mn),_t.shift(),_t.length&&En(_t[0][0],_t[0][1])}}function Le(Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,Ue=Ce[Symbol.asyncIterator];return Ue?Ue.call(Ce):(Ce=function xe(Ce){var Ue="function"==typeof Symbol&&Symbol.iterator,Me=Ue&&Ce[Ue],Fe=0;if(Me)return Me.call(Ce);if(Ce&&"number"==typeof Ce.length)return{next:function(){return Ce&&Fe>=Ce.length&&(Ce=void 0),{value:Ce&&Ce[Fe++],done:!Ce}}};throw new TypeError(Ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ce),Me={},Fe("next"),Fe("throw"),Fe("return"),Me[Symbol.asyncIterator]=function(){return this},Me);function Fe(_t){Me[_t]=Ce[_t]&&function(Mt){return new Promise(function(cn,En){!function mt(_t,Mt,cn,En){Promise.resolve(En).then(function(on){_t({value:on,done:cn})},Mt)}(cn,En,(Mt=Ce[_t](Mt)).done,Mt.value)})}}}A.d(H,{FC:()=>Ae,KL:()=>Le,gn:()=>Q,mG:()=>ce,qq:()=>tt}),"function"==typeof SuppressedError&&SuppressedError}},Ct=>{Ct(Ct.s=24)}]);