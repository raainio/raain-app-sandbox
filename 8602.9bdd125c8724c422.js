"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8602],{8602:(O,f,c)=>{c.r(f),c.d(f,{HomePageModule:()=>Y});var m=c(6895),h=c(433),r=c(4556),g=c(1407),_=c(5861),i=c(8256);let u=(()=>{const e=class{constructor(s,o){this.modalController=s,this.navParams=o}dismiss(){this.modalController.dismiss()}add(s,o,a){this.modalController.dismiss()}};let n=e;return e.\u0275fac=function(o){return new(o||e)(i.Y36(r.IN),i.Y36(r.X1))},e.\u0275cmp=i.Xpm({type:e,selectors:[["modal-page"]],inputs:{value:"value"},decls:6,vars:0,consts:[["padding",""]],template:function(o,a){1&o&&(i.TgZ(0,"ion-content",0)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),i._uU(4,"Connect your RadarToRain instance"),i.qZA()(),i._UZ(5,"ion-card-content"),i.qZA()())},dependencies:[r.PM,r.FN,r.Zi,r.Dq,r.W2],encapsulation:2}),n})();var Z=c(4948),p=c(8525),l=c(7227);function A(n,e){if(1&n&&(i.TgZ(0,"ion-badge",11),i._uU(1),i.ALo(2,"haveNotBeenRed"),i.qZA()),2&n){const t=i.oxw();i.xp6(1),i.hij("",i.lcZ(2,1,t.data.events).length," ")}}function x(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"ion-card",12)(1,"ion-card-header")(2,"ion-card-title"),i._uU(3,"Welcome !"),i.qZA(),i.TgZ(4,"ion-card-subtitle"),i._uU(5,"You are in a demo mode. Please contact our "),i.TgZ(6,"a",13),i._uU(7,"sales team @radartorain"),i.qZA(),i._uU(8," to go further. "),i.qZA()(),i.TgZ(9,"ion-card-content")(10,"p"),i._uU(11,"Manage here your radar information status, AI dashboard, rain comparison status."),i.qZA()(),i.TgZ(12,"ion-button",14),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return i.KtG(o.closeInfo("welcome-card"))}),i._uU(13,"Got it"),i.qZA()()}}function T(n,e){1&n&&i._UZ(0,"ion-icon",21)}function y(n,e){1&n&&i._UZ(0,"ion-icon",22)}function I(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"ion-item-sliding")(1,"ion-item",3),i.NdJ("click",function(){const a=i.CHM(t).$implicit,d=i.oxw(2);return i.KtG(d.clickOnRain(a))}),i.YNc(2,T,1,0,"ion-icon",16),i.ALo(3,"hasGoodQuality"),i.YNc(4,y,1,0,"ion-icon",17),i.ALo(5,"hasGoodQuality"),i._uU(6),i._UZ(7,"ion-progress-bar",18),i.ALo(8,"progressBuffer"),i.ALo(9,"progressValue"),i._UZ(10,"ion-icon",19)(11,"ion-icon",20),i.qZA()()}if(2&n){const t=e.$implicit;i.xp6(2),i.Q6J("ngIf",i.lcZ(3,5,t)),i.xp6(2),i.Q6J("ngIf",!i.lcZ(5,7,t)),i.xp6(2),i.hij(" ",t.name," "),i.xp6(1),i.s9C("buffer",i.lcZ(8,9,t)),i.s9C("value",i.lcZ(9,11,t))}}function P(n,e){if(1&n&&(i.TgZ(0,"ion-list"),i.YNc(1,I,12,13,"ion-item-sliding",15),i.ALo(2,"areReady"),i.qZA()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,1,t.rains))}}function v(n,e){1&n&&i._UZ(0,"ion-icon",21)}function U(n,e){1&n&&i._UZ(0,"ion-icon",22)}function N(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"ion-item-sliding")(1,"ion-item",3),i.NdJ("click",function(){const a=i.CHM(t).$implicit,d=i.oxw(2);return i.KtG(d.clickOnRain(a))}),i.YNc(2,v,1,0,"ion-icon",16),i.ALo(3,"hasGoodQuality"),i.YNc(4,U,1,0,"ion-icon",17),i.ALo(5,"hasGoodQuality"),i._uU(6),i._UZ(7,"ion-progress-bar",18),i.ALo(8,"progressBuffer"),i.ALo(9,"progressValue"),i._UZ(10,"ion-icon",23),i.qZA()()}if(2&n){const t=e.$implicit;i.xp6(2),i.Q6J("ngIf",i.lcZ(3,5,t)),i.xp6(2),i.Q6J("ngIf",!i.lcZ(5,7,t)),i.xp6(2),i.hij(" ",t.name," "),i.xp6(1),i.s9C("buffer",i.lcZ(8,9,t)),i.s9C("value",i.lcZ(9,11,t))}}function w(n,e){1&n&&i._UZ(0,"ion-icon",21)}function C(n,e){1&n&&i._UZ(0,"ion-icon",22)}function H(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"ion-item-sliding")(1,"ion-item",3),i.NdJ("click",function(){const a=i.CHM(t).$implicit,d=i.oxw(2);return i.KtG(d.clickOnRain(a))}),i.YNc(2,w,1,0,"ion-icon",16),i.ALo(3,"hasGoodQuality"),i.YNc(4,C,1,0,"ion-icon",17),i.ALo(5,"hasGoodQuality"),i._uU(6),i._UZ(7,"ion-icon",24),i.qZA()()}if(2&n){const t=e.$implicit;i.xp6(2),i.Q6J("ngIf",i.lcZ(3,3,t)),i.xp6(2),i.Q6J("ngIf",!i.lcZ(5,5,t)),i.xp6(2),i.hij(" ",t.name," ")}}function J(n,e){if(1&n&&(i.TgZ(0,"ion-list"),i.YNc(1,N,11,13,"ion-item-sliding",15),i.ALo(2,"areInProgress"),i.YNc(3,H,8,7,"ion-item-sliding",15),i.ALo(4,"areStopped"),i.qZA()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",i.lcZ(2,2,t.rains)),i.xp6(2),i.Q6J("ngForOf",i.lcZ(4,4,t.rains))}}function q(n,e){if(1&n&&(i.TgZ(0,"ion-item-sliding")(1,"ion-item"),i._uU(2),i.qZA()()),2&n){const t=e.$implicit;i.xp6(2),i.AsE(" ",t.id," - ",t.name," ")}}function Q(n,e){if(1&n&&(i.TgZ(0,"ion-list"),i.YNc(1,q,3,2,"ion-item-sliding",15),i.qZA()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngForOf",t.radars)}}let R=(()=>{const e=class{constructor(s,o,a){this.router=s,this.modalController=o,this.profile=a,this.refreshInProgress=!1,this.homeInfoAlreadyViewed={},this.rains=[],this.radars=[],this.appVersion=Z.i,this.refresh()}ngAfterViewInit(){}closeInfo(s){var o=this;return(0,_.Z)(function*(){o.homeInfoAlreadyViewed[s]=!0,o.sessionData&&o.sessionData.infos&&(o.sessionData.infos.homeInfoAlreadyViewed=o.homeInfoAlreadyViewed,yield o.profile.storeAll())})()}clickOnNotifications(){var s=this;return(0,_.Z)(function*(){return s.router.navigate(["/events"])})()}clickOnRain(s){var o=this;return(0,_.Z)(function*(){return o.router.navigate(["/rains",s.id])})()}presentModal(){var s=this;return(0,_.Z)(function*(){const o=yield s.modalController.create({component:u,componentProps:{value:123}});yield o.present(),yield o.onDidDismiss()})()}refresh(s){var o=this;return(0,_.Z)(function*(){o.refreshInProgress=!0;try{o.sessionData=yield o.profile.refreshProfile(),o.sessionData.infos.homeInfoAlreadyViewed&&(o.homeInfoAlreadyViewed=o.sessionData.infos.homeInfoAlreadyViewed),o.rains=yield o.profile.getRains(o.profile.asTeamId),o.radars=yield o.profile.getLonelyRadars(o.rains)}catch(a){console.error("refresh pb:",a)}if(s&&s.target.complete(),o.refreshInProgress=!1,!o.profile.isLoggedIn())return o.router.navigate(["/login"])})()}};let n=e;return e.\u0275fac=function(o){return new(o||e)(i.Y36(g.F0),i.Y36(r.IN),i.Y36(p.H3))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-home"]],decls:36,vars:9,consts:[["slot","start"],["src","assets/icon/favicon.ico",2,"height","30px","padding-left","20px"],["slot","primary"],[3,"click"],["name","notifications-outline","slot","icon-only"],["color","danger",4,"ngIf"],[3,"hidden"],["type","indeterminate"],["slot","fixed",3,"ionRefresh"],["class","welcome-card",4,"ngIf"],[4,"ngIf"],["color","danger"],[1,"welcome-card"],["href","mailto:sales@r2r"],["fill","outline",3,"click"],[4,"ngFor","ngForOf"],["color","success","name","radio-button-off","slot","start",4,"ngIf"],["color","warning","name","radio-button-off","slot","start",4,"ngIf"],["color","primary",3,"buffer","value"],["color","primary","name","cloud-done","slot","end"],["color","primary","name","arrow-right","slot","end"],["color","success","name","radio-button-off","slot","start"],["color","warning","name","radio-button-off","slot","start"],["name","cloud-upload","slot","end"],["name","cloud-outline","slot","end"]],template:function(o,a){1&o&&(i.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),i._UZ(3,"ion-menu-button")(4,"ion-img",1),i.qZA(),i.TgZ(5,"ion-title"),i._uU(6," Dashboard "),i.qZA(),i.TgZ(7,"ion-buttons",2)(8,"ion-button",3),i.NdJ("click",function(){return a.clickOnNotifications()}),i._UZ(9,"ion-icon",4),i.qZA(),i.YNc(10,A,3,3,"ion-badge",5),i.ALo(11,"haveNotBeenRed"),i.qZA()(),i.TgZ(12,"div",6),i._UZ(13,"ion-progress-bar",7),i.qZA()(),i.TgZ(14,"ion-content")(15,"ion-refresher",8),i.NdJ("ionRefresh",function(b){return a.refresh(b)}),i._UZ(16,"ion-refresher-content"),i.qZA(),i.YNc(17,x,14,0,"ion-card",9),i.TgZ(18,"ion-card")(19,"ion-card-header")(20,"ion-card-title"),i._uU(21,"Ready"),i.qZA()(),i.YNc(22,P,3,3,"ion-list",10),i.qZA(),i.TgZ(23,"ion-card")(24,"ion-card-header")(25,"ion-card-title"),i._uU(26,"In progress"),i.qZA()(),i.YNc(27,J,5,6,"ion-list",10),i.qZA(),i.TgZ(28,"ion-card")(29,"ion-card-header")(30,"ion-card-title"),i._uU(31,"Radars available for rains computations"),i.qZA()(),i.YNc(32,Q,2,1,"ion-list",10),i.qZA(),i.TgZ(33,"ion-card")(34,"h5"),i._uU(35),i.qZA()()()),2&o&&(i.xp6(10),i.Q6J("ngIf",a.data&&i.lcZ(11,7,a.data.events).length),i.xp6(2),i.Q6J("hidden",!a.refreshInProgress),i.xp6(5),i.Q6J("ngIf",!a.homeInfoAlreadyViewed.hasOwnProperty("welcome-card")),i.xp6(5),i.Q6J("ngIf",a.rains),i.xp6(5),i.Q6J("ngIf",a.rains),i.xp6(5),i.Q6J("ngIf",a.radars),i.xp6(3),i.Oqu(a.appVersion))},dependencies:[m.sg,m.O5,r.yp,r.YG,r.Sm,r.PM,r.FN,r.Zi,r.tO,r.Dq,r.W2,r.Gu,r.gu,r.Xz,r.Ie,r.td,r.q_,r.fG,r.X7,r.nJ,r.Wo,r.wd,r.sr,l.UD,l.lB,l.vc,l.UA,l.$j,l.XW,l.pt],styles:[".welcome-card[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{max-height:35vh;overflow:hidden}.card-perf-bar[_ngcontent-%COMP%]{height:220px;min-width:180px}.card-perf-lines[_ngcontent-%COMP%]{min-width:250px}"]}),n})(),Y=(()=>{const e=class{};let n=e;return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[m.ez,h.u5,r.Pc,p.m8,g.Bz.forChild([{path:"",component:R},{path:"new-instance",component:u}])]}),n})()}}]);